(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{1152:function(e,t,a){},1171:function(e,t){},1173:function(e,t){},1183:function(e,t){},1185:function(e,t){},1211:function(e,t){},1213:function(e,t){},1214:function(e,t){},1219:function(e,t){},1221:function(e,t){},1227:function(e,t){},1229:function(e,t){},1248:function(e,t){},1260:function(e,t){},1263:function(e,t){},1433:function(e,t){},2258:function(e,t){},2321:function(e,t,a){},2322:function(e,t,a){},2333:function(e,t,a){"use strict";a.r(t);a(943),a(952),a(401);var o=a(0),s=a.n(o),n=a(50),r=a.n(n),i=a(12),l=a(176),c=a(905),m=a(2),d="logged_user_ip_address";function p(){var e={};return console.log("CUSTOM_NODE_ENV","develop"),console.log("REACT_APP_ETHNICITY_ID","296"),console.log("AWS_BUCKET","devpactstercdn"),e.backend_url="https://devapi.beamfeelgood.com",e.frontend_url="https://dev.beamfeelgood.com",e.facebook_key="945555309365361",e.tracking_id="UA-146829569-1",e.s3_url="https://devpactstercdn.s3-eu-west-1.amazonaws.com",e}var u=p().frontend_url,h=p().backend_url,g=p().facebook_key,f=(p().backend_url,p().tracking_id,p().s3_url),b="https://pactstercdn.s3-eu-west-1.amazonaws.com",v="https://pactstercdn.s3.eu-west-1.amazonaws.com",E=["on-demand","instructor","liveclasses","liveClasses","Instructor","groups","group","teensonbeam"],y=["group"],_=["cystic fibrosis","kidney disease","prostate cancer","asthma kids","cystic fibrosis youth"],k="cystic fibrosis",N="kidney disease",w=f+"/api/img",C=f+"/web/images",x=w+"/workout/",S=w+"/instructor/",O=w+"/profile/",L=w+"/group/",D=C+"/",M=w+"/post/",I=w+"/program/",j=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],T=[{id:"1",value:"January",short:"Jan"},{id:"2",value:"February",short:"Feb"},{id:"3",value:"March",short:"Mar"},{id:"4",value:"April",short:"Apr"},{id:"5",value:"May",short:"May"},{id:"6",value:"June",short:"Jun"},{id:"7",value:"July",short:"Jul"},{id:"8",value:"August",short:"Aug"},{id:"9",value:"September",short:"Sep"},{id:"10",value:"October",short:"Oct"},{id:"11",value:"November",short:"Nov"},{id:"12",value:"December",short:"Dec"}],F=(new Date).getFullYear()-1,P=["menopause","postnatal"],U=["cystic fibrosis","Menopause","Postnatal","kidney disease","prostate cancer","asthma kids","cystic fibrosis youth"],R=["cond_cystic-fibrosis-youth","cond_general","cond_prostate-cancer","cond_kidney-disease","cond_menopause","cond_postnatal","cond_cystic-fibrosis"],W=["on-demand","instructor","liveclasses","liveClasses","Instructor","groups","group"],A=["on-demand","programs","liveclasses","liveClasses","groups","group"],B=["cystic fibrosis","kidney disease","prostate cancer","asthama kids"],q=["on-demand","instructor","liveclasses","liveClasses","Instructor"],Y=["","Male","Female","Neither"],G={"Living with condition":"LivingWithCondition","A medical or exercise professional":"MedicalExerciseProf","A caregiver to someone with a health condition":"Caregiver",Other:"Other"},V={"cystic fibrosis":"CysticFibrosis","asthma kids":"AsthmaKids",Postnatal:"Postnatal",Menopause:"Menopause","kidney disease":"KidneyDisease","prostate cancer":"ProstateCancer","Research Studies: REGAIN":"ResearchRegain","Research Studies: PULSE":"ResearchPulse","Research Studies: SPHERe":"ResearchSphere","Research Studies: CREATE-C":"ResearchCreateC","Research Studies: iREHAB":"ResearchiREHAB"},H=["Postnatal","asthma kids","Menopause"],z=["Duration","Difficulty","Instructor","Newest first","Highest rated","Most viewed"],K=[1,2,3,4,5,6,7,8,9,10],J=[1,2,3,4,5,6,7,8,9,10],Q=["research studies: regain"],Z=["Injured","Unwell","Admitted to hospital (unplanned)"],X=[{id:0,value:"No exertion at all",class:"cl",roundClass:"c"},{id:.5,value:"Very, very slight (just noticable)",class:"cl0",roundClass:"c"},{id:1,value:"Very slight",class:"cl1",roundClass:"c1"},{id:2,value:"Slight",class:"cl2",roundClass:"c2"},{id:3,value:"Moderate",class:"cl3",roundClass:"c3"},{id:4,value:"Somewhat severe",class:"cl4",roundClass:"c4"},{id:5,value:"Severe",class:"cl5",roundClass:"c5"},{id:6,value:"",class:"cl6",roundClass:"c6"},{id:7,value:"Very severe",class:"cl7",roundClass:"c7"},{id:8,value:"",class:"cl8",roundClass:"c8"},{id:9,value:"Very, very severe (almost maximal)",class:"cl9",roundClass:"c9"},{id:10,value:"Maximal",class:"cl10",roundClass:"c10"}],$=[{id:6,value:"No exertion at all",class:"cl",roundClass:"c"},{id:7,value:"Extremely light",class:"cl0",roundClass:"c"},{id:8,value:"",class:"cl1",roundClass:"c1"},{id:9,value:"Very light",class:"cl2",roundClass:"c2"},{id:10,value:"",class:"cl3",roundClass:"c3"},{id:11,value:"Light",class:"cl4",roundClass:"c4"},{id:12,value:"",class:"cl11",roundClass:"c11"},{id:13,value:"Somewhat hard",class:"cl12",roundClass:"c12"},{id:14,value:"",class:"cl13",roundClass:"c12"},{id:15,value:"Hard(heavy)",class:"cl5",roundClass:"c5"},{id:16,value:"",class:"cl6",roundClass:"c6"},{id:17,value:"Very hard",class:"cl7",roundClass:"c7"},{id:18,value:"",class:"cl8",roundClass:"c8"},{id:19,value:"Extremely hard",class:"cl9",roundClass:"c9"},{id:20,value:"Maximum exertion",class:"cl10",roundClass:"c10"}],ee=[5,4,3,2,1],te=["bad","good","excellent"],ae=["231"],oe=["","self","other","both"],se=["","Living with condition","A caregiver to someone with a health condition","A medical or exercise professional","Other"],ne=["","Parent/guardian","Partner","Other family member","Friend","Professional caregiver","Other"],re=["","Physiotherapist or physical therapist","Respiratory therapist","Exercise physiologist","Doctor","Nurse","Fitness professional/personal trainer","Other"],ie=["NHS","Private","Other"],le={None:"Not limited by breathlessness, not required oral or IV antibiotics over the past 12months, CF doesn't interfere with everyday life",Occasional:"Occasionally limited by breathlessness, oral antibiotics and/or minimum of 1 course of IVs over the past 12months, CF related symptoms interfere a little with everyday life",Moderate:"Moderate-severely breathless, may require oxygen overnight, and/or on exertion, and/or at rest, CF related symptoms limit participation in everyday activities such as housework",TransplantReferral:"I\u2019ve been referred for lung transplant",TransplantReceived:"I\u2019ve received a lung transplant"},ce=["all","news","cystic fibrosis","Postnatal","asthma kids","Menopause","kidney disease","prostate cancer","cystic fibrosis youth","Help"],me=["all","news","Help"],de={USD:"$",GBP:"\xa3",AUD:"$AUD"},pe="https://docs.google.com/forms/d/e/1FAIpQLScIA8M2bK97KmzlU3tPDZa5waUfE6UB7pxqKP0JIKRpxw5pRA/viewform?usp=sf_link",ue="https://docs.google.com/forms/d/e/1FAIpQLSekWssdjwRJSGPV5ssCOoJnS8nAjOYSmVjQ9PP_ariVHLB5XA/viewform?usp=sf_link",he=["Beam Team","Study Leader","Group Leader","Group Admin","Group Member","User"],ge=["Group Leader","Group Admin","Group Member","User"],fe=["Group Admin","Group Member","User"],be=["Group Member","User"],ve=["User"],Ee=["Default","Newest first","Oldest first"],ye=" | Beam",_e=u+"/images/health_blog1.png",ke=u+"/images/aboutclass-banner.png",Ne="Experience the feel-good energy of a live class wherever you are. Real-time, interactive, online classes give you the accountability and support that you may need to get moving more.",we=u+"/images/live_classes.png",Ce="Characters exercising in hospital room with instructor",xe=u+"/images/health_blog1.png",Se=u+"/images/blog_img_04.png",Oe=u+"/images/live_classes.png",Le="Programs on Beam are collections of classes designed to help you reach a specific goal.",De=u+"/images/afterlog.png",Me=u+"/images/no-profile-pic.png",Ie=u+"/images/small_banner_img.png",je=u+"/images/small_banner_img.png",Te=u+"/images/small_banner_img.png",Fe=u+"/images/small_banner_img.png",Pe=u+"/images/thanks.png",Ue=u+"/images/aboutclass-banner.png",Re=u+"/images/no-profile-pic.png",We=u+"/images/Asset-4.png",Ae=u+"/images/health_blog1.png",Be=u+"/images/bottom.png",qe="We know they're not an easy read, but we've gotta have 'em. Here are the terms and conditions of using Beam.",Ye=u+"/images/help_bg.png",Ge=u+"/images/help_bg.png",Ve="Your personal class schedule on Beam shows you on an easy-to-view calendar what sessions you have coming up, so you never miss out on a dose of feel-good.",He=u+"/images/Dash_bg.png",ze="Your personal record of all of the classes that you've completed on Beam. Every minute matters and we want to acknowledge every session that's made you feel good.",Ke=u+"/images/Dash_bg.png",Je=u+"/images/Dash_bg.png",Qe=u+"/images/Dash_bg.png",Ze=u+"/images/banner_accounts.png",Xe=u+"/images/banner_accounts.png",$e=u+"/images/banner_accounts.png";function et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(localStorage.getItem("userAuthToken")){var t=JSON.parse(localStorage.getItem("userAuthToken"));return{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:t.token},body:JSON.stringify(e)}}if(localStorage.getItem("user")){var a=JSON.parse(localStorage.getItem("user"));return{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:a.token},body:JSON.stringify(e)}}return{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(e)}}function tt(){if(localStorage.getItem("userAuthToken")){var e=JSON.parse(localStorage.getItem("userAuthToken"));return{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:e.token},dataType:"json"}}if(localStorage.getItem("user")){var t=JSON.parse(localStorage.getItem("user"));return{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:t.token},dataType:"json"}}return{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8"},dataType:"json"}}var at=a(6),ot=a(41),st=a.n(ot),nt=a(75);function rt(){var e=!(!localStorage.getItem("user")&&!localStorage.getItem("userAuthToken"));return function(t,a){t({type:"check_isauth",payload:e})}}function it(){return function(e,t){var a=localStorage.getItem("firstTimeUser");localStorage.clear(),localStorage.setItem("firstTimeUser",a),rt(),e({type:"login_process",payload:!1})}}function lt(e){return function(t,a){t({type:"set_condition",payload:e})}}function ct(e){return function(t,a){t({type:"set_menu_condition",payload:e})}}function mt(e){return function(){var t=Object(nt.a)(st.a.mark((function t(a,o){var s;return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=et({facebookId:e.id}),a({type:"login_process",payload:!0}),t.abrupt("return",fetch(h+"/api/login",s).then((function(e){return go(e,a)})).then((function(e){return e.isPactsterUser||(a({type:"login_process",payload:!1}),a({type:"login_success",payload:e}),a({type:"set_condition",payload:k}),e.authdata=window.btoa(e.id),localStorage.setItem("user",JSON.stringify(e))),e})));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}function dt(){return console.log("updateUserChallengeTag"),function(e,t){var a=tt();return fetch(h+"/api/updateUserTag",a).then((function(t){return go(t,e)})).then((function(t){return e({type:"set_challenge_tag",payload:!(!t.foundTags||!t.foundTags.TagId)}),t}))}}function pt(e){return function(t,a){t({type:"login_model_open",payload:e})}}function ut(e){return function(t,a){t({type:"forgot_model_open",payload:e})}}function ht(){return function(e,t){e({type:"start_loader"})}}function gt(){return function(e,t){e({type:"stop_loader"})}}function ft(){return function(e,t){var a=tt();return fetch(h+"/api/notification",a).then((function(t){return go(t,e)})).then((function(t){return e({type:"update_notification_msg",payload:t}),t}))}}function bt(e){return function(t,a){var o=tt();return fetch(h+"/api/getFooter?conditionName="+e,o).then((function(e){return go(e,t)})).then((function(e){return console.log("getFooter",JSON.parse(e.data)),t({type:"get_footer",payload:JSON.parse(e.data)}),e}))}}function vt(){return function(e,t){var a=tt();return fetch(h+"/api/getFeatures",a).then((function(t){return go(t,e)})).then((function(t){return console.log("getFeatures",JSON.parse(t.data)),e({type:"get_features",payload:JSON.parse(t.data)}),t}))}}function Et(e){return function(t,a){t({type:"is_open_policy",payload:e})}}function yt(){return function(e,t){var a=tt();return fetch(h+"/api/faq",a).then((function(t){return go(t,e)})).then((function(t){return e({type:"set_faq_data",payload:t.list.faq}),t}))}}function _t(){return function(e,t){var a=tt();return fetch(h+"/api/URLRouting",a).then((function(t){return go(t,e)})).then((function(t){return e({type:"url_routing",payload:t.data}),t}))}}function kt(e){return function(t,a){t({type:"is_open_clinic",payload:e})}}a(1148).polyfill(),a(1149);var Nt=a(618);function wt(){return function(e,t){e({type:"register_next_step"})}}function Ct(e,t){return function(a,o){a({type:"register_set_step",payload:{step:e,type:t}})}}function xt(){return function(e,t){e({type:"register_prev_step"})}}function St(e){return function(t,a){t({type:"register_goto_step",payload:e})}}function Ot(e){return function(t,a){t({type:"registerform_update",payload:e})}}function Lt(){return function(e,t){var a=tt();return fetch(h+"/api/country",a).then((function(t){return go(t,e)})).then((function(t){return e({type:"update_countrieslist",payload:t.country}),t}))}}function Dt(e){return function(t,a){var o=tt();return fetch(h+"/api/region?countryId="+e,o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function Mt(){return console.log("healthCondition"),function(e,t){var a=tt();return console.log("healthCondition-step1",a),fetch(h+"/api/healthCondition",a).then((function(t){return go(t,e)})).then((function(t){return console.log("healthCondition response",t),e({type:"update_healthcondition",payload:t.condition?t.condition:[]}),t}))}}function It(e){return function(t,a){var o=tt(),s=e;return console.log("pageId",s),fetch(h+"/api/blog/dynamicPage/"+s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function jt(){return function(e,t){var a=tt();return fetch(h+"/api/hearAbout",a).then((function(t){return go(t,e)})).then((function(t){return e({type:"update_hearabout",payload:t.hearddata?t.hearddata:[]}),t}))}}function Tt(e,t){return function(a,o){var s=tt();return fetch(h+"/api/clinics?countryId="+e+"&conditionId="+t,s).then((function(e){return go(e,a)})).then((function(e){return a({type:"update_clinic",payload:e.clinics}),e}))}}function Ft(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(a,o){var s=tt(),n=h+"/api/plan/promo?code="+e;return t&&(n=h+"/api/plan/promo?code="+e+"&conditionId="+t),fetch(n,s).then((function(e){return go(e,a)})).then((function(e){return a({type:"update_promocodedata",payload:e.plans}),e}))}}function Pt(){return function(e,t){tt();return fetch(h+"/api/getConditionRelationships").then((function(t){return go(t,e)})).then((function(t){return e({type:"update_condition_relationships",payload:t.relations}),t}))}}function Ut(e){return function(t,a){var o=et(e);return fetch(h+"/api/checkUserExist",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function Rt(e){return function(t,a){tt();return fetch(h+"/api/plans?countryCode="+e).then((function(e){return go(e,t)})).then((function(e){return t({type:"update_membership_plans",payload:e}),e}))}}function Wt(e){console.log("registerNewUser",e);var t=[];e.shareKRUK&&t.push("shareKRUK"),e.emailKRUK&&t.push("emailKRUK");var a=e.health_condition.length>1?k:e.health_condition.length>0?e.health_condition[0].tag:k,o=/\s/.test(a)?_o.replaceChar(a.trim(),!1):a;console.log("finalcondition",o);for(var s=0;s<e.health_condition.length;s++){var n=e.health_condition[s].id;if(e.conditional_clinic.filter((function(e){return e.conditionId===n})).map((function(e,t){return t})).length<=0){var r={conditionId:n,clinicId:""};e.conditional_clinic.push(r)}}return function(a,o){var s,n={userid:e.userid,email:e.email,password:e.password,name:e.firstname,lastname:e.lastname,zoneName:Nt.tz.guess(!0),facebookId:e.facebookId,facebookAccessToken:e.facebookAccessToken,facebookPicture:e.facebookPicture,nickname:e.username,permission_newFeatures:e.is_newfeature_updates?1:0,permission_research:e.is_research_opportunities?1:0,terms:e.terms?1:0,gender:e.gender,country:e.country,region:e.region,promo:e.promocode,usage:e.purpose?oe[parseInt(e.purpose)]:null,dob:e.dob_year+"-"+e.dob_month+"-"+e.dob_day,howHeard:null,source:e.know_via?e.know_via:null,planId:e.membershipPlan.id?e.membershipPlan.id:null,conditionId:e.health_condition.length>0?e.health_condition.map((function(e){return e.id})):null,condition_relationship:e.profession?se[parseInt(e.profession)]:null,caregiver_type:e.healthcondition_livewith?ne[parseInt(e.healthcondition_livewith)]:null,clinician_type:e.midicalcondition_livewith?re[parseInt(e.midicalcondition_livewith)]:null,number:e.card_number,exp_month:e.card_exp_month,exp_year:e.card_exp_year,cvc:e.card_security_code,conditions:e.conditional_clinic,usUser:e.usUser,krUser:e.krUser,tags:t,ethnicity:e.ethnicity,comorbidities:e.comorbidities,kidney_care_provider:e.kidney_care_provider,referee:e.referee,beamchallenging:e.beamchallenging,research:e.research,research_groupname:e.research_groupname,research_condition:e.research_condition,research_share:e.research_share,condition_professions:e.condition_professions,cancer_treatment:e.cancer_treatment,cancer_comordities:e.cancer_comordities,condition_membership:e.condition_membership,isKBResearcheUser:e.isKBResearcheUser,tagCode:e.tagCode,movement_prefs:e.movement_prefs,cf_comordities:e.cf_comordities,cf_disease_severity:e.cf_disease_severity,kd_other_clinic:e.other_clinic},r=et(n);return s=e.ispackster&&n.userid>0?h+"/api/user/update":h+"/api/signup",fetch(s,r).then((function(e){return go(e,a)})).then((function(e){return e}))}}function At(e){return function(t,a){var o=et(e);return fetch(h+"/api/getConditionBasedInstructor",o).then((function(e){return go(e,t)})).then((function(e){return t({type:"register_get_instructor",payload:e}),e}))}}function Bt(e){return function(t,a){t({type:"register_set_condition_index",payload:e})}}function qt(e){return function(t,a){var o=tt();return fetch(h+"/api/getTagsByType?type="+e,o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function Yt(){return function(e,t){var a=tt();return fetch(h+"/api/license",a).then((function(t){return go(t,e)})).then((function(t){return e({type:"update_license_list",payload:t.license}),t}))}}function Gt(e){return function(t,a){tt();return fetch(h+"/api/plans/country?countryId="+e).then((function(e){return go(e,t)})).then((function(e){return t({type:"update_country_plans",payload:e.plans}),e}))}}function Vt(e){return function(t,a){var o=tt();return fetch(h+"/api/getConditionTagCode?conditionId="+e,o).then((function(e){return go(e,t)})).then((function(e){return t({type:"check_condition_code",payload:e.tagCode}),e}))}}function Ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(a,o){var s=tt(),n=h+"/api/checkTagCodes?code="+e;return t&&(n=h+"/api/checkTagCodes?code="+e+"&conditionId="+t),fetch(n,s).then((function(e){return go(e,a)})).then((function(e){return e}))}}function zt(e){return function(t,a){t({type:"set_page_title",payload:e})}}function Kt(e){return function(e,t){var a=tt();return fetch(h+"/api/getOnboardingTags",a).then((function(t){return go(t,e)})).then((function(e){return e}))}}function Jt(e){return function(t,a){t({type:"set_new_user",payload:e})}}function Qt(e){return function(t,a){t({type:"push_history",payload:e})}}function Zt(){return function(e,t){e({type:"clear_workout_list"})}}function Xt(){return function(e,t){e({type:"clear_workout_detail"})}}function $t(e,t){return t=t?_o.replaceChar(t,!0):t,function(a,o){var s=tt();return fetch(h+"/api/ondemand/getDetail/"+e+"/"+t,s).then((function(e){return go(e,a)})).then((function(e){return e&&a({type:"workout_detail",payload:e.onDemandVideo}),e}))}}function ea(){return function(e,t){var a=tt();return fetch(h+"/api/account/hasMembership",a).then((function(t){return go(t,e)})).then((function(e){return e}))}}function ta(e){return function(t,a){var o=et(e);return fetch(h+"/api/ondemand/startVideo",o).then((function(e){return go(e,t)})).then((function(e){return t({type:"clear_after_state"}),e}))}}function aa(e){return function(t,a){var o=et(e);return fetch(h+"/api/ondemand/checkCron",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function oa(e){return function(t,a){var o=et(e);return fetch(h+"/api/ondemand/saveTimeSpent",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function sa(e,t){return function(a,o){var s=et(e);return fetch(h+"/api/ondemand/"+t+"/list",s).then((function(e){return go(e,a)})).then((function(e){return e&&a({type:"workout_list",payload:e.data?e.data.list:[]}),e}))}}function na(e,t){return function(a,o){var s=et(e);return fetch(h+"/api/ondemand/unSave",s).then((function(e){return go(e,a)})).then((function(o){switch(t){case"ondemand_list":a({type:"ondemand_workout_unsave",payload:e});break;case"ondemand_detail":a({type:"ondemand_detail_savevideo",payload:e,flag:!1});break;case"instructor_detail":a({type:"instructor_detail_savevideo",payload:e,flag:!1});break;case"ondemand_detail_sub":a({type:"ondemand_detail_sub_savevideo",payload:e,flag:!1});break;case"liveclass_detail_sub":a({type:"liveclass_detail_sub_savevideo",payload:e,flag:!1});break;case"group_ondemand":a({type:"group_ondemand_workout_unsave",payload:e})}return o}))}}function ra(){return function(e,t){e({type:"clear_group_ondemand_list"})}}function ia(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a,o){a({type:"schedule_model_open",payload:e,payloadData:t})}}function la(e){return function(t,a){var o=et(e);return fetch(h+"/api/ondemand/workoutschedule",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function ca(e){return function(t,a){t({type:"update_after_state",payload:e})}}function ma(e){return function(t,a){t({type:"set_goback",payload:e})}}function da(e,t){return function(a,o){var s=tt();return fetch(h+"/api/ondemand/getTags?type="+e+"&workoutId="+t,s).then((function(e){return go(e,a)})).then((function(e){return e}))}}function pa(e,t,a,o){return function(s,n){var r=tt();if(null==a)var i=h+"/api/ondemand/getInstructor?id="+e+"&tag_conditions="+t+"&conditionName="+o;else i=h+"/api/ondemand/getInstructor/"+a+"?id="+e+"&tag_conditions="+t+"&conditionName="+o;return fetch(i,r).then((function(e){return go(e,s)})).then((function(e){return e}))}}function ua(e,t){return function(a,o){var s=tt();return fetch(h+"/api/ondemand/getRecordingOf?instructorId="+e+"&workoutId="+t,s).then((function(e){return go(e,a)})).then((function(e){return e}))}}function ha(e){return console.log("ondemandCMSModelOpen",e),function(t,a){t({type:"ondemand_cms_model_open",payload:e})}}function ga(e){return function(t,a){var o=et(e);return fetch(h+"/api/ondemand/createTag",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function fa(e){return function(t,a){var o=et(e);return fetch(h+"/api/ondemand/removeTag",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function ba(e){return function(t,a){t({type:"image_crop_model_open",payload:e})}}function va(e){return function(t,a){t({type:"set_after_popup",payload:e})}}function Ea(e){return function(t,a){t({type:"set_enable_video",payload:e})}}function ya(e){return function(t,a){t({type:"set_before_popup",payload:e})}}function _a(e){return function(t,a){t({type:"set_post_poll_modal",payload:e})}}function ka(e){return function(t,a){t({type:"set_research_modal",payload:e})}}function Na(e){return function(t,a){t({type:"set_safety_modal",payload:e})}}function wa(e){return function(t,a){t({type:"set_survey_modal",payload:e})}}function Ca(e){return function(t,a){t({type:"set_warning_modal",payload:e})}}function xa(e){return function(t,a){t({type:"set_condition_modal",payload:e})}}function Sa(e){return function(t,a){t({type:"set_play_ondemand_modal",payload:e})}}function Oa(e){return function(t,a){var o=tt();return fetch(h+"/api/instructors/"+e,o).then((function(e){return go(e,t)})).then((function(e){var a=e.instructors?e.instructors:{};return a.group=e.group?e.group:[],t({type:"instructor_detail",payload:a}),e}))}}function La(e,t){return function(a,o){var s=et(e);return fetch(h+"/api/instructors/"+t,s).then((function(e){return go(e,a)})).then((function(e){return e&&a({type:"instructor_list",payload:e.list&&e.list.instructors?e.list.instructors:[]}),e}))}}function Da(e,t,a){return function(o,s){var n=tt();return fetch(h+"/api/instructors/getBeamUser?id="+e+"&tag_conditions="+t+"&name="+a,n).then((function(e){return go(e,o)})).then((function(e){return e}))}}function Ma(e,t){return function(a,o){var s=tt();return fetch(h+"/api/instructors/get/Tags?type="+e+"&instructorId="+t,s).then((function(e){return go(e,a)})).then((function(e){return e}))}}function Ia(e){return function(t,a){var o,s=tt(),n=(new Date).getTimezoneOffset();return o=e.dateChosen?h+"/api/liveclass/"+e.condition+"/"+e.dateChosen+"?offset="+e.offset+"&limit="+e.limit+"&zone="+n:h+"/api/liveclass/"+e.condition+"?offset="+e.offset+"&limit="+e.limit+"&zone="+n+"&filter="+e.filter,fetch(o,s).then((function(e){return go(e,t)})).then((function(e){return e&&t({type:"liveclass_prismic_param",payload:e.list.prismic_params}),e}))}}function ja(e){return function(t,a){var o=et(e);return fetch(h+"/api/liveclass/join",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function Ta(e){return function(t,a){var o=et(e);return fetch(h+"/api/liveclass/cancel",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function Fa(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t=t?_o.replaceChar(t,!0):t,function(s,n){var r=tt();return fetch(h+"/api/liveclass/details/"+t+"/"+e+"/"+a+"/"+o,r).then((function(e){return go(e,s)})).then((function(e){return e&&s({type:"liveclass_detail",payload:e.list}),e}))}}function Pa(e){return function(t,a){var o=et(e);return fetch(h+"/api/liveclass/addNotes",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function Ua(e){return function(t,a){var o=et(e);return fetch(h+"/api/liveclass/deleteNotes",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function Ra(){return function(e,t){e({type:"clear_liveclass_detail"})}}function Wa(e){return function(t,a){t({type:"set_poll_modal",payload:e})}}function Aa(e){return function(t,a){var o=tt(),s=h+"/api/liveclass/get/attendeeList/"+e.roomId;return fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function Ba(e){return function(t,a){t({type:"logged_userdata_update",payload:e})}}function qa(e){return function(t,a){var o,s=tt(),n=(new Date).getTimezoneOffset();return o=e.dateChosen?h+"/api/account/dashboard/schedule/"+e.condition+"/"+e.dateChosen+"?offset="+e.offset+"&limit="+e.limit+"&zone="+n:h+"/api/account/dashboard/schedule/"+e.condition+"?offset="+e.offset+"&limit="+e.limit+"&zone="+n,fetch(o,s).then((function(e){return go(e,t)})).then((function(e){return e}))}}function Ya(e){return function(t,a){var o,s=tt();return o=e.dateChosen?h+"/api/account/dashboard/history/"+e.condition+"/"+e.dateChosen+"?offset="+e.offset+"&limit="+e.limit:h+"/api/account/dashboard/history/"+e.condition+"?offset="+e.offset+"&limit="+e.limit,fetch(o,s).then((function(e){return go(e,t)})).then((function(e){return e}))}}function Ga(e){return function(t,a){t({type:"set_slider_value",payload:e})}}function Va(e){return function(t,a){return t({type:"set_date_value",payload:e}),e}}function Ha(e){return function(t,a){return t({type:"set_time_value",payload:e}),e}}function za(){return console.log("setDatepickerValue-"),function(e,t){return e({type:"set_datepicker_value"}),1009}}function Ka(e,t){return function(a,o){var s,n=tt();return s=e.search&&""!==e.search?h+"/api/groups/"+t+"?limit="+e.limit+"&offset="+e.offset+"&search="+e.search:h+"/api/groups/"+t+"?limit="+e.limit+"&offset="+e.offset,fetch(s,n).then((function(e){return go(e,a)})).then((function(e){return e}))}}function Ja(e,t){return function(a,o){var s=et(e);return fetch(h+"/api/groups/joinrequest/"+t,s).then((function(e){return go(e,a)})).then((function(e){return e}))}}function Qa(e){return function(t,a){var o=tt();return fetch(h+"/api/groups/joingroup/"+e,o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function Za(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a,o){a({type:"group_join_modal_open",payload:e,payloadData:t})}}function Xa(e){return console.log("groupCMSOpen",e),function(t,a){t({type:"group_cms_model_open",payload:e})}}function $a(e){return function(t,a){var o=tt(),s=h+"/api/groups/about/"+e.group;return fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e&&t({type:"group_about_details",payload:e&&e.groups?e.groups:[]}),e}))}}function eo(e){return function(t,a){var o,s=tt(),n=(new Date).getTimezoneOffset();return o=e.dateChosen?h+"/api/groups/workout/"+e.condition+"/"+e.group+"/"+e.dateChosen+"?zone="+n:h+"/api/groups/workout/"+e.condition+"/"+e.group+"?zone="+n,fetch(o,s).then((function(e){return go(e,t)})).then((function(e){return e}))}}function to(e){return function(t,a){var o=et(e),s=h+"/api/groups/ondemand/"+e.condition+"/"+e.group;return fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e&&t({type:"group_ondemand_list",payload:e&&e.list?e.list:[]}),e}))}}function ao(){return function(e,t){var a=tt();return fetch(h+"/api/account/userDetails",a).then((function(t){return go(t,e)})).then((function(t){console.log("responseacc",t),e({type:"logged_userdata",payload:t.user?t.user:{},membershipData:{hasmembership:t.hasmembership,accounttype:t.accounttype,countryCode:t.countryCode,country:t.country,userPlanDetails:t.userPlanDetails},isTeensOnBeam:t.isTeensOnBeam});var a=t.user&&t.user.UserConditions?t.user.UserConditions:{};t.user.isTeensOnBeam=t.isTeensOnBeam?t.isTeensOnBeam:"";var o=0==a.length||a.length>1?k:a[0].Tag.tag;(t.user.isStudyUser||t.user.isStudyInstructor||t.user.isStudyLeader||t.user.isGroupLeader)&&(o=a.length?a[0].Tag.tag:""),e({type:"set_initial_condition",payload:o}),localStorage.setItem("country",t.countryCode),localStorage.setItem("userDetails",JSON.stringify(t.user)),function(e,t){fetch(h+"/api/plans?countryCode="+e).then((function(e){return go(e,t)})).then((function(e){t({type:"update_membership_plans",payload:e})}))}(t.countryCode,e)}))}}function oo(e){return function(t,a){var o=et(e);return fetch(h+"/api/account/myConditions",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function so(e){return function(t,a){var o=et(e);return fetch(h+"/api/changePlan",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function no(e,t){console.log("setExploreConditions",e,t),console.log("setExploreConditions-hc",t);var a={myConditions:e,healthConditions:t};return function(e,t){e({type:"set_explore_condition",payload:a})}}function ro(e){return function(t,a){var o=et(e);return fetch(h+"/api/account/updateUserTags",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function io(e){return function(t,a){var o=tt();return fetch(h+"/api/blog/about/recent/blogs?cat="+e,o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function lo(e,t){return function(a,o){var s,n=et(e);return s=t?h+"/api/blog/unSave":h+"/api/blog/addSave",fetch(s,n).then((function(e){return go(e,a)})).then((function(e){return e}))}}function co(e){return console.log("get-pro-api",e),function(t,a){var o=tt();return fetch(h+"/api/programmes/"+e.condition+"?offset="+e.offset+"&limit="+e.limit+"&programType="+e.programType+"&sortby="+e.sortby+"&isShowAll="+e.isShowAll,o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function mo(e){return function(t,a){var o=tt();return fetch(h+"/api/programmes/detail/"+e.programId,o).then((function(e){return go(e,t)})).then((function(e){return t({type:"program_detail",payload:e.programmeDetail}),e}))}}function po(e){return function(t,a){var o=tt(),s=h+"/api/programmes/workouts/"+e.programId;return e.userProgramId&&(s=s+"/"+e.userProgramId),fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function uo(e){return function(t,a){var o=et(e);return fetch(h+"/api/programmes/joinProgram",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}function ho(e){return function(t,a){t({type:"program_detail",payload:e})}}var go=function(e,t){return e.text().then((function(a){if(console.log("handleResponse",e.status),!e.ok&&401==e.status)return console.log("vijiif"),localStorage.clear(),t({type:"check_isauth",payload:!1}),t({type:"login_process",payload:!1}),at.b.error("Token expired. Please login again."),Promise.reject();var o="";if(401!==e.status&&(o=a&&JSON.parse(a)),!e.ok||o&&(!1===o.status||!1===o.success)){console.log("elseif");var s=o&&o.message||e.statusText;return Promise.reject(s)}return console.log("else"),o}))},fo=a(11),bo=a.n(fo),vo=a(15),Eo=a.n(vo),yo=a(618),_o={sendFeedback:function(e){var t={type:e.type,email:e.email,message:e.message,phone:e.phone,message_type:"test"};t.name=e.firstname+" "+e.lastname;var a=et(t);return fetch(h+"/api/contact/send",a).then(go).then((function(e){return e}))},returnLabelData:function(e,t){var a="";if(t){t.map((function(t){t.Tag&&t.Tag.type===e&&(a+=t.Tag.tag+", ")})),a=(a=a.trim()).substring(0,a.length-1)}return a=a&&""!=a?a:"None"},getDayNameFromDate:function(e){bo()(e,"YYYY-MM-DD");var t=bo()(e).format("dddd"),a=bo()(e).format("MMMM"),o=bo()(e).format("DD");return t+" "+a+" "+(o=o)},getWeekDays:function(e,t){var a=[],o=bo()(e),s=bo()(t);for(;o<=s;)a.push(bo()(o).format("YYYY-MM-DD")),o=bo()(o).add(1,"days");return a},dateDiff:function(e){var t=0;if(new Date<=new Date(e)){var a=new Date,o=new Date(e),s=Math.abs(o.getTime()-a.getTime());t=Math.ceil(s/864e5)}return t},bindUsername:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";e&&(t=e.nickname&&e.nickname.trim()&&"null"!==e.nickname.trim()?e.nickname:e.name&&e.lastName?e.name+" "+e.lastName:"");return t},addMintues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=new Date(e);return a.setMinutes(a.getMinutes()+t),a},localTimeZone:function(){var e=yo.tz.guess();return yo.tz(e).zoneAbbr()},cysticFibro:function(){return{id:104,title:"Pre-physio yoga stretch for better chest clearance",videoUrl:"/_/video/workouts/Pamela_Scarborough_Seated_Yoga2.mp4",shortDescription:"A short, seated sequence for cystic fibrosis to prepare you for an effective airway clearance session.",description:'<p>This short seated yoga sequence has been designed to practice before your chest physio session. By helping to improve your posture, spine and chest wall mobility, and breathing pattern, it has the potential to improve your airway clearance.</p>\r\n\r\n<p>Exercises:\r\n<ul>\r\n<li>Sitting in chair</li>\r\n<li>Upper back stretch</li>\r\n<li>Cowface arms</li>\r\n<li>Mountain arms</li>\r\n<li>Seated side flexion</li>\r\n<li>Spinal twist</li>\r\n<li>Seated backbend/pec stretch</li>\r\n</ul>\r\n</p>\r\n<p>Pamela\'s tips for this session:<br>\r\n"In your relaxed sitting position, try and take a deep breath in... Now, sit up straight and take a deep breath in - you should feel you have greater capacity to breathe in deeply as your chest is more open. This practice is to help you get a better seated posture and more mobility through your spine and ribcage before you commence your airway clearance to help chest wall biomechanics."</p>\r\n\r\n<p>This session is suitable for:<br>\r\nAnyone who can sit unsupported</p>\r\n\r\n<p>Benefits of this session include:\r\n<ul>\r\n<li>Airway clearance</li>\r\n<li>Posture</li>\r\n<li>Mobility and flexibility</li>\r\n<li>Breathing control</li>\r\n</ul>\r\n</p>\r\n\r\n<p>Equipment required:\r\n<ul><li>Chair</li>\r\n<li>Strap, belt or towel</li>\r\n</ul>\r\n</p>',length:6,Instructor:{id:16,bio:"<p>Pamela is a physiotherapist, yoga teacher and co-founder of Pactster. Since qualifying as a physiotherapist in 2001, she has spent over 15 years working as a physiotherapist in the NHS, predominantly working with adults with cystic fibrosis. Pamela is passionate about the role of exercise in improving both physical and emotional well-being, and looking at ways to help people manage treatments more effectively so they can live their best life.</p> \r <p>\r Having personally benefited from a regular yoga practice, Pamela trained as a yoga teacher to share the practice and benefits with people with CF directly. Pamela researched 'Yoga for Thoracic Kyphosis and Low Back Pain in adults with CF' for her Masters dissertation, has gone on to present internationally on 'Yoga and CF' and co-authored the 'Complementary therapies' chapter in the UK 'Standards of Care and Good Clinical Practice for the Physiotherapy Management of Cystic Fibrosis'. Here on Pactster, Pamela has created tailored yoga classes to benefit the CF community. Her practice is alignment focused and is specifically sims to improve breathing pattern, relaxation, posture and continence.</p>\r <p>\r As well as through her yoga practice, Pamela keeps active by running after her two young children, enjoying running and HIIT workouts at the gym, and enjoying an adventurous outdoor lifestyle in Australia where she now resides.</p>\r  ",img:"PamelaScarborough.png",User:{id:145,name:"Pamela",lastName:"Scarborough",nickname:""}}}},postantal:function(){return{id:41,title:"Foundation to Fitness: Stretch and Relax",videoUrl:"/_/video/workouts/Amanda-Savage-Stretch.mp4",videoImg:"",shortDescription:"This routine will lead you through some gorgeous Pilates stretching exercises ending with a few minutes of guided relaxation.",description:"<p>Welcome to this stretch and relax Pilates sequence.</p>\n\n<p>If your body is feeling sore, or you had a bad night, or you are feeling exhausted or a bit under the weather you may not be in the mood for a full on exercise routine.  But don\u2019t underestimate the power of taking 10 minutes to stretch out, loosen your spine, stretch your limbs and have a breathing space.</p>\n\n<p>This routine will lead you through some gorgeous Pilates stretching exercises ending with a few minutes of guided relaxation.  </p>\n\n<p>I promise at the end of it you will feel re-energised and ready to face the rest of your day.</p>",length:15,Instructor:{id:9,bio:'<p>Amanda Savage is a women\'s health physiotherapist, working for over 20 years with antenatal and postnatal women, helping to sort out problems with pelvic floors, abdominal muscles and back pain.  She is also an experienced Pilates Instructor, teaching popular classes 2 nights a week.  She recently launched Supported Mums a website that provides new mothers with advice about improving pelvic floor and abdominal support (<a href="http://supportedmums.com" target="_blank">www.supportedmums.com</a>).</p>\r\n\r\n<p>"I believe that if your body is in a good place you will cope better with the physical and emotional demands of motherhood.  My mission is to encourage you to take time to care for yourself, with effective safe exercises for your back, abdominals and pelvic floor.  With the right exercises you can quickly feel truly supported again."</p>\r\n\r\n<p>In the <b>New Mother Foundations</b> Amanda guides you through gentle, safe and effective exercises, commonly taught by physiotherapists on the postnatal wards.  These exercises will carry you from returning home through the first 6 weeks postnatal.  </p>\r\n\r\n<p>The <b>Foundation to Fitness</b> series has been designed by Amanda to bring you pilates-based exercise sequences with emphasis on abdominal and pelvic floor techniques.  Great foundations will ensure that you get the best results as you progress to following all the other postnatal exercise programs on Pactster.</p>\r\n\r\n<p><img src="/_/img/qualifications/POGP.png" height="80px"></p>',img:"amandasavage.png",User:{id:635,name:"Amanda",lastName:"Savage",nickname:""}}}},returnDays:function(e){var t=new Date(e),a=new Date,o=Math.abs(a.getTime()-t.getTime());return Math.ceil(o/864e5)},returnUnderLineLabelData:function(e,t){var a="";if(t){t.map((function(t){t.Tag&&t.Tag.type===e?a+="<u>"+t.Tag.tag+"</u> , ":a+=t.Tag.tag+", "})),a=(a=a.trim()).substring(0,a.length-1)}return a=a&&""!=a?a:"None"},condition_implode:function(e){return e.replace(/ /g,"-")},condition_explode:function(e){return e.replace(/-/g," ")},returnTag:function(e,t,a){var o="";if(t){t.filter((function(e){return e.workoutId.toString()===a.toString()})).map((function(t){t.Tag&&t.Tag.type===e&&(o+=t.Tag.tag+", ")})),o=(o=o.trim()).substring(0,o.length-1)}return o=o&&""!=o?o:"None"},returnTagName:function(e,t,a){var o="";if(a){a.map((function(a){a.Tag&&a.Tag.type===e&&a.Tag.tag==t&&(o=a.Tag.tag)}))}return o=o&&""!=o?o:""},checkValidVideoURL:function(e){if(console.log("includes-url"),ko(e)){if(e.includes("s3."))var t=v;else if(e.includes("s3-"))t=b;return console.log("includes-is_url"),!e.includes(t)||(console.log("includes-viji"),!(null!=e.match(/\.(mp4|mov)$/)))}return!0},checkSocialUrl:function(e,t){switch(t){case"twitter":return!(null!=e.match(/http(?:s)?:\/\/(?:www\.)?twitter\.com\//));case"facebook":return!(null!=e.match(/http(?:s)?:\/\/(?:www\.)?facebook\.com\//));case"instagram":return!(null!=e.match(/http(?:s)?:\/\/(?:www\.)?instagram\.com\//));case"linkedin":return!(null!=e.match(/http(?:s)?:\/\/(?:www\.)?linkedin\.com\//));case"tiktok":return!(null!=e.match(/http(?:s)?:\/\/(?:www\.)?tiktok\.com\//));case"web":return!(null!=e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g))}},checkImageCrop:function(e,t){return e.target.src=D+t},removeHtml:function(e){return e.replace(/(<([^>]+)>)/gi,"")},imageError:function(e,t){return e.target.src=D+t},localTimeZoneName:function(){return yo.tz.guess()},kFormatter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:999;if(isNaN(e))return e;if(9999==t){if(e<9999)return e}else{if(e<999)return e;if(e<9999&&e>999)return Math.sign(e)*(Math.abs(e)/1e3).toFixed(1)+"k"}if(e<1e6)return Math.sign(e)*(Math.abs(e)/1e3).toFixed(1)+"k";if(e<1e7)return Math.sign(e)*(Math.abs(e)/1e6).toFixed(1)+"m";if(e<1e9)return Math.sign(e)*(Math.abs(e)/1e6).toFixed(1)+"m";if(e<1e12)return Math.sign(e)*(Math.abs(e)/1e9).toFixed(1)+"b";return"1t+"},localTimeZoneOffset:function(e){return yo.tz(e).format("Z")},returnUserTags:function(e,t,a){console.log("userTagsData",a),console.log("userTagsData-t",t),console.log("userTagsData-l",e);var o="";if(a){a.map((function(a){console.log("item",a),a.type===e&&a.tag==t&&(o=a.tag)}))}return o=o&&""!=o?o:""},removeTimestampFilename:function(e){var t=e.lastIndexOf("-"),a=e;if(t>-1){var o=e.substr(t+1).split(".");a=e.substr(0,t)+"."+o[1]}return a},checkRegisterSpecificCondition:function(e,t){var a;return a=e.filter((function(e){return console.log("condParam",t),console.log("item.tag",e.tag),e.tag==t})),console.log("KR_Cond_temp",a),a},mailPatternCheck:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},calculateAge:function(e){console.log("calculateAge",e);var t=e.split("-"),a=new Date(t[2],t[1]-1,t[0]),o=new Date,s=a;console.log("birthDate",s);var n=o.getFullYear()-s.getFullYear(),r=o.getMonth()-s.getMonth();(r<0||0===r&&o.getDate()<s.getDate())&&n--;return n},formatDateFromString:function(e){console.log("formatDateFromString "+e);var t=new Date(e),a=""+(t.getMonth()+1),o=""+t.getDate(),s=t.getFullYear();a.length<2&&(a="0"+a);o.length<2&&(o="0"+o);return[s,a,o].join("/")},formatTimeFromSelector:function(e){console.log("formatTimeFromSelector",e);var t="";if(e){var a=e.split(" "),o=a[0].split(":"),s=o[0],n=o[1];"PM"===a[1]?(s=parseInt(s),24===(s+=12)&&(s="12"),(s=s.toString()).length<2&&(s="0"+s)):"AM"==a[1]&&"12"==s&&(s="00"),t=s+":"+n+":00"}return t},replaceChar:No,checkUserHasMembership:function(e,t){if(e){var a=this.returnCurrentPlan(e,t);if(console.log("currentConditionPlan",a),a.length){var o=a[0],s=bo()().format("YYYY-MM-DD"),n=bo()(o.trialEnds).utc().format("YYYY-MM-DD");if(console.log("checkUserHasMembership-item",o),o.subcriptionId&&o.subcriptionId.includes("sub_")){var r=bo()(o.cancellationDate).utc().format("YYYY-MM-DD");return console.log("checkUserHasMembership-cancelDate",r),null==o.cancellationDate||o.cancellationDate&&r<s&&n>=s?1:(o.cancellationDate,0)}return n>=s?1:0}}return 2},returnCurrentPlan:function(e,t,a){if(console.log("returnCurrentPlan-authData",e),console.log("returnCurrentPlan-condition=",t),console.log("returnCurrentPlan-newp=",a),Object.keys(e).length){return Eo.a.filter(e.membershipData.userPlanDetails,(function(e){if(console.log("returnCurrentPlan-replaceChar==>",No(t,!0)),e.Tag){var a=e.Tag.tag.toLowerCase(),o=t.toLowerCase();return console.log("conditionCases==>",o),console.log("tagCases==>",a),console.log("list.Tag.tag==>condcheck",a===No(o,!0)),a===No(o,!0)}return[]}))}return[]},returnCurrency:function(e){var t="$";if(Object.keys(e).length)return de[e.Country.currency]?t=de[e.Country.currency]:e.Country.currency&&(t=e.Country.currency),t;return t},checkMembershipCases:function(e,t){var a=this.returnCurrentPlan(e,t),o="You don't have a valid membership to view this class.",s=bo()().format("YYYY-MM-DD");if(a.length){var n=a[0],r=bo()(n.trialEnds).utc().format("YYYY-MM-DD"),i=n.Tag?n.Tag.tag:"";if(console.log("checkMembershipCases",n),n.licenseId&&r<s)o="Your FREE Beam membership courtesy of "+n.License.Organisation.organisationName+" expired on "+bo()(r).format("Do MMMM YYYY")+".",t.toLowerCase().includes("research")||(o=o+" To continue using Beam "+i+" you need to upgrade your membership."),!1;else if(n.promoId&&r<s)o="Your FREE Beam membership",n.Promo.courtesyName&&(o=o+" courtesy of "+n.Promo.courtesyName),o=o+" expired on "+bo()(r).format("Do MMMM YYYY")+".",t.toLowerCase().includes("research")||(o=o+" To continue using Beam "+i+" you need to upgrade your membership."),!1;else if(!n.promoId&&!n.licenseId&&(n.subcriptionId&&!n.subcriptionId.includes("sub_")||!n.subcriptionId)&&r<s)o="Your free trial period ended on "+bo()(r).format("Do MMMM YYYY")+".",t.toLowerCase().includes("research")||(o=o+" To continue using Beam "+i+" you need to upgrade your membership."),!1;else if(n.subcriptionId&&n.subcriptionId.includes("sub_")&&n.customerId&&n.cancellationDate&&r<s){var l=bo()(n.cancellationDate).utc().format("YYYY-MM-DD");o="Your membership was cancelled on "+bo()(l).format("Do MMMM YYYY")+".",t.toLowerCase().includes("research")||(o=o+" To continue using Beam "+i+" you need to upgrade your membership."),!1}return o}return o},getColor:function(e){var t=R.indexOf("cond_"+e);return t>-1?R[t]:R[0]},replaceValidBucketURL:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.includes("s3."))var a=t?v+"/_/video/workouts/":v;else if(e.includes("s3-"))a=t?b+"/_/video/workouts/":b;return e.replace(a,"")},decodeUrl:function(e){if(e)return e.replace(/ /g,"%20")},returnTagId:function(e,t){var a=[];t&&t.map((function(t){if(t.type===e){var o=t.id.toString();a.push(o)}}));return a},returnListOfTag:function(e,t,a){var o="";if(t){t.filter((function(e){return e.workoutId.toString()===a.toString()})).map((function(t){o="discipline"==e?t.disciplineTag:t.levelTag}))}return o=o&&""!=o?o:"None"},returnTagCheck:function(e,t,a,o){var s="";if(o){o.filter((function(e){return e.workoutId.toString()===a.toString()})).map((function(a){a.Tag&&a.Tag.type===t&&a.Tag.tag==e&&(s=a.Tag.tag)}))}return s=s&&""!=s?s:""},toCapitalize:function(e){return(e=e.toLowerCase()).charAt(0).toUpperCase()+e.slice(1)},toUpperEachWord:function(e){for(var t=e.toLowerCase().split(" "),a=0;a<t.length;a++)t[a]=t[a].charAt(0).toUpperCase()+t[a].substring(1);return t.join(" ")}};function ko(e){var t=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return console.log("Is_URL",t.test(e)),!!t.test(e)}function No(e,t,a){var o=e;return e.includes("-")&&!o.toLowerCase().includes("create")&&t?e.replace(/-/g," "):e.replace(/ /g," ")}var wo={sending_data:!1,is_auth:!(!localStorage.getItem("user")&&!localStorage.getItem("userAuthToken")),condition:k,initial_condition:"",menu_condition:"",user_data:{},challenge_tag:!0},Co={is_loginModelOpen:!1,is_forgotModelOpen:!1,loader_state:!1,logged_userData:{},notification_data:{notification:[],userDetails:[]},close_banner:!1,close_banner_kd:!1,is_create_mode:!1,is_group_mode:!1,close_banner_pc:!1,footer_content:[],features_list:[],beamer_filter:"",is_menu_has_data:!0,is_policy_open:!1,module_data:[],faq_data:[],url_conditon:[],is_clinic_model_open:!1,is_clinic_popup_respond:!1};function xo(e){var t=[];e&&e.UserConditions&&e.UserConditions.map((function(e){"condition"===e.Tag.type&&t.push(e.conditionId)}));return t}function So(e){var t="",a=Y[e.gender],o=e.country?e.Country.countryName:"";return void 0!=a&&(t=a),o&&(o=_o.toUpperEachWord(o).replace(/ /g,""),t=(t=t+";"+o)+";"+o+a),e.UserConditions.map((function(a){t&&(t=(t=(t=(t=t+";"+V[a.Tag.tag])+";"+V[a.Tag.tag]+Y[e.gender])+";"+o+V[a.Tag.tag])+";"+o+V[a.Tag.tag]+Y[e.gender],void 0!=G[a.conditionRelationship]&&(t=(t=(t=(t=(t=(t=(t=(t=t+";"+G[a.conditionRelationship])+";"+V[a.Tag.tag]+G[a.conditionRelationship])+";"+G[a.conditionRelationship]+Y[e.gender])+";"+V[a.Tag.tag]+G[a.conditionRelationship]+Y[e.gender])+";"+o+G[a.conditionRelationship])+";"+o+V[a.Tag.tag]+G[a.conditionRelationship])+";"+o+G[a.conditionRelationship]+Y[e.gender])+";"+o+V[a.Tag.tag]+G[a.conditionRelationship]+Y[e.gender]))})),console.log("Beamer_Relationship",t),t}var Oo={sending_data:!1,is_auth:!1,user_data:{},step:0,condition_index:0,clinic_direction:"forward",countries_list:[],healthcondition_list:[],warning_banner_text:[],heard_from:[],clinic_list:[],promo_plans:[],conditionRelationshipList:[],registerFormValues:{ispackster:!1,userid:0,terms:!1,firstname:"",lastname:"",username:"",email:"",password:"",confirm_password:"",gender:"",profession:"",midicalcondition_livewith:"",country:"",health_condition:[],region:"",clinic_status:"",conditional_clinic:[],healthcondition_livewith:"",purpose:"",is_newfeature_updates:!1,is_research_opportunities:!1,dob_day:"",dob_month:"",dob_year:"",know_via:"",promocode:"",card_name:"",card_number:"",card_exp_year:"",card_exp_month:"",card_security_code:"",card_zipcode:"",membershipPlan:{},facebookAccessToken:"",facebookId:"",facebookPicture:"",age:0,usUser:!1,krUser:!1,shareKRUK:!1,emailKRUK:!1,ethnicity:"",comorbidities:[],kidney_care_provider:[],is_clinic_found:!1,referee:"",beamchallenging:"",condition_professions:[],cancer_treatment:[],cancer_comordities:[],research:!1,research_groupname:"",research_condition:"",research_share:"",isKBResearcheUser:!1,condition_membership:[],eligible_license:{},tagCode:{},movement_prefs:[],cf_comordities:[],cf_disease_severity:[]},membershipPlan:[],instructorList:[],licenseList:[],countryPlans:{},isConditionHasCode:!1,isLoading:!1,page_title:"Choose your membership plan",is_new_user:!1},Lo=a(13),Do=(a(162),{liveclass_detail_data:{},workout_detail_data:{workout:{title:"",videoUrl:"",length:"",description:""}},schedule_model_open:!1,schedule_model_data:{},workout_list:[],group_ondemand_list:[],AfterModelState:{step:1,rating:0,comment:""},offset:0,isGoback:!1,currentPosition:0,schedule_model_type:"",prevPath:"",is_cms_model:!1,cms_model_type:"",is_image_crop_open:!1,cropped_image:"",cropped_file:"",workout_list_tags:[],workout_list_level:[],fileData:"",openAfterModel:!1,enable_video:!1,openBeforeModel:!1,openPostPollModel:!1,openResearchModel:!1,openSafetyModel:!1,openSurveyModel:!1,openWarningModal:!1,openConditionModalOpen:!1,openPlayOndemand:!1,get_program_detail:[]}),Mo={instructor_list:[],instructor_detail:{title:"",img:"",speciality:"",movement:"",qualifications:"",feelGoodFormula:"",location:"",bio:"",twitterLink:"",instagramLink:"",facebookLink:"",webLink:"",tiktokLink:"",linkedinLink:"",isLive:0},is_cms_model:!1},Io={ip_data:{},explore_conditions:{}},jo={liveclass_detail_data:{liveClasses:{liveclass:{description:""},Polls:{}}},liveclass_prismic_data:{},is_poll_modal_open:!1,liveclass_filter_instructor:0},To={is_join_modal:!1,group_details:[],is_group_admin:!1,is_group_leader:!1,is_group_cms_open:!1,group_about_details:[]},Fo={sliderValue:"",selectedDate:new Date,selectedTime:"",datePickerValue:"",all_activity_list:[],json_form_data:{},program_list:{}},Po={program_detail:[],active_slider:0,active_type:"core"},Uo=Object(l.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login_process":return Object(m.a)(Object(m.a)({},e),{},{sending_data:t.payload});case"login_success":return Object(m.a)(Object(m.a)({},e),{},{user_data:t.payload});case"login_fail":return Object(m.a)(Object(m.a)({},e),{},{sending_data:!1});case"check_isauth":return console.log("CHECK_ISAUTH",t.payload),Object(m.a)(Object(m.a)({},e),{},{is_auth:t.payload});case"set_condition":return Object(m.a)(Object(m.a)({},e),{},{condition:t.payload.trim()});case"set_initial_condition":return Object(m.a)(Object(m.a)({},e),{},{initial_condition:_o.replaceChar(t.payload.trim(),!1)});case"set_menu_condition":return Object(m.a)(Object(m.a)({},e),{},{menu_condition:t.payload.trim()});case"set_challenge_tag":return Object(m.a)(Object(m.a)({},e),{},{challenge_tag:!!t.payload});default:return e}},header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login_model_open":return Object(m.a)(Object(m.a)({},e),{},{is_loginModelOpen:t.payload});case"change_cms_mode":return console.log("CHANGE_CMS_MODE",t.payload),localStorage.setItem("isCreateMode",JSON.stringify(t.payload)),Object(m.a)(Object(m.a)({},e),{},{is_create_mode:t.payload});case"change_group_cms_mode":return Object(m.a)(Object(m.a)({},e),{},{is_group_mode:t.payload,is_create_mode:t.payload});case"forgot_model_open":return Object(m.a)(Object(m.a)({},e),{},{is_forgotModelOpen:t.payload});case"start_loader":return Object(m.a)(Object(m.a)({},e),{},{loader_state:!0});case"stop_loader":return Object(m.a)(Object(m.a)({},e),{},{loader_state:!1});case"cancel_banner":return Object(m.a)(Object(m.a)({},e),{},{close_banner:!0});case"cancel_banner_kd":return Object(m.a)(Object(m.a)({},e),{},{close_banner_kd:!0});case"cancel_banner_pc":return Object(m.a)(Object(m.a)({},e),{},{close_banner_pc:!0});case"logged_userdata":var a=t.payload;a.conditionList=xo(a),a.membershipData=t.membershipData;var o=So(a);return Object(m.a)(Object(m.a)({},e),{},{logged_userData:a,beamer_filter:o});case"logged_userdata_update":console.log("LOGGED_USERDATA_UPDATE",t.payload);var s=Object(m.a)(Object(m.a)({},e.logged_userData),t.payload);return localStorage.setItem("userDetails",JSON.stringify(s)),Object(m.a)(Object(m.a)({},e),{},{logged_userData:s});case"update_notification_msg":var n=t.payload,r=n.notifcation?n.notifcation:[],i=n.userDetails?n.userDetails:[];return Object(m.a)(Object(m.a)({},e),{},{notification_data:{notification:r,userDetails:i}});case"custom_notification_update":return Object(m.a)(Object(m.a)({},e),{},{notification_data:Object(m.a)(Object(m.a)({},e.notification_data),t.payload)});case"get_footer":return console.log("GET_FOOTER",t.payload),Object(m.a)(Object(m.a)({},e),{},{footer_content:t.payload.length?t.payload[0]:{}});case"get_features":return Object(m.a)(Object(m.a)({},e),{},{features_list:t.payload?t.payload:{}});case"check_menu_has_data":return console.log("CHECK_MENU_HAS_DATA",t.payload),Object(m.a)(Object(m.a)({},e),{},{is_menu_has_data:!!t.payload});case"is_open_policy":return Object(m.a)(Object(m.a)({},e),{},{is_policy_open:t.payload});case"set_module_data_count":return Object(m.a)(Object(m.a)({},e),{},{module_data:t.payload});case"set_faq_data":return Object(m.a)(Object(m.a)({},e),{},{faq_data:t.payload});case"url_routing":console.log("action url_condition",t.payload);var l=[];return t.payload.forEach((function(e){e.value=JSON.parse(e.value),l.push(e)})),localStorage.setItem("url_alias_condition",JSON.stringify(l)),Object(m.a)(Object(m.a)({},e),{},{url_condition:l});case"is_open_clinic":return Object(m.a)(Object(m.a)({},e),{},{is_clinic_model_open:t.payload});case"set_clinic_popup_respond":return Object(m.a)(Object(m.a)({},e),{},{is_clinic_popup_respond:t.payload});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"reset_register":console.log("RESET_REGISTER.registerFormValues");var a={ispackster:!1,userid:0,terms:!1,firstname:"",lastname:"",username:"",email:"",password:"",confirm_password:"",gender:"",profession:"",midicalcondition_livewith:"",country:"",health_condition:[],region:"",clinic_status:"",conditional_clinic:[],healthcondition_livewith:"",purpose:"",is_newfeature_updates:!1,is_research_opportunities:!1,dob_day:"",dob_month:"",dob_year:"",know_via:"",promocode:"",card_name:"",card_number:"",card_exp_year:"",card_exp_month:"",card_security_code:"",card_zipcode:"",membershipPlan:{},facebookAccessToken:"",facebookId:"",facebookPicture:"",age:0,usUser:!1,krUser:!1,shareKRUK:!1,emailKRUK:!1,ethnicity:"",comorbidities:[],kidney_care_provider:[],is_clinic_found:!1,referee:"",beamchallenging:"",condition_professions:[],cancer_treatment:[],cancer_comordities:[],research:!1,research_groupname:"",research_condition:"",research_share:"",isKBResearcheUser:!1,condition_membership:[],eligible_license:{},tagCode:{},movement_prefs:[],cf_comordities:[]};return Object(m.a)(Object(m.a)({},e),{},{step:0,clinic_direction:"forward",registerFormValues:a});case"packster_goto_register":var o=(c=t.facebookData).picture&&c.picture.data&&c.picture.data.url?c.picture.data.url:"",s=c.name?c.name:"",n=c.username?c.username:"",r=(c.email&&c.email,c.accessToken?c.accessToken:""),i=c.id?c.id:"";return Object(m.a)(Object(m.a)({},e),{},{step:3,clinic_direction:"forward",registerFormValues:{ispackster:!0,memberObj:t.memberObj,userid:t.payload,terms:!1,firstname:s,lastname:"",username:n,email:"",password:"",confirm_password:"",gender:"",profession:"",midicalcondition_livewith:"",country:"",health_condition:[],region:"",clinic_status:"",conditional_clinic:[],healthcondition_livewith:"",purpose:"",is_newfeature_updates:!1,is_research_opportunities:!1,dob_day:"",dob_month:"",dob_year:"",know_via:"",promocode:"",card_name:"",card_number:"",card_exp_year:"",card_exp_month:"",card_security_code:"",card_zipcode:"",membershipPlan:{},facebookAccessToken:r,facebookId:i,facebookPicture:o}});case"register_process":return Object(m.a)(Object(m.a)({},e),{},{sending_data:t.payload});case"register_success":return Object(m.a)(Object(m.a)({},e),{},{user_data:t.payload});case"register_fail":return Object(m.a)(Object(m.a)({},e),{},{sending_data:!1});case"register_next_step":return Object(m.a)(Object(m.a)({},e),{},{step:e.step+1,clinic_direction:"forward"});case"register_set_step":return Object(m.a)(Object(m.a)({},e),{},{step:t.payload.step,clinic_direction:t.payload.type});case"register_prev_step":return Object(m.a)(Object(m.a)({},e),{},{step:e.step-1==12?e.step-2:e.step-1,clinic_direction:"backward"});case"inner_register_next_step":return Object(m.a)(Object(m.a)({},e),{},{clinic_direction:"forward"});case"inner_register_prev_step":return Object(m.a)(Object(m.a)({},e),{},{clinic_direction:"backward"});case"register_goto_step":return Object(m.a)(Object(m.a)({},e),{},{step:t.payload});case"registerform_update":return Object(m.a)(Object(m.a)({},e),{},{registerFormValues:t.payload});case"update_countrieslist":return Object(m.a)(Object(m.a)({},e),{},{countries_list:t.payload});case"update_healthcondition":return Object(m.a)(Object(m.a)({},e),{},{healthcondition_list:t.payload});case"update_warning_banner":return Object(m.a)(Object(m.a)({},e),{},{warning_banner_text:t.payload});case"update_hearabout":return Object(m.a)(Object(m.a)({},e),{},{heard_from:t.payload});case"update_clinic":var l=t.payload;return l.sort((function(e,t){return e.clinicName<t.clinicName?-1:e.clinicName>t.clinicName?1:0})),Object(m.a)(Object(m.a)({},e),{},{clinic_list:l});case"update_promocodedata":return Object(m.a)(Object(m.a)({},e),{},{promo_plans:t.payload});case"assign_facebook_values":var c;o=(c=t.payload).picture&&c.picture.data&&c.picture.data.url?c.picture.data.url:"";return Object(m.a)(Object(m.a)({},e),{},{registerFormValues:Object(m.a)(Object(m.a)({},e.registerFormValues),{},{firstname:c.first_name,lastname:c.last_name,email:c.email,facebookAccessToken:c.accessToken,facebookId:c.id,facebookPicture:o})});case"update_condition_relationships":return Object(m.a)(Object(m.a)({},e),{},{conditionRelationshipList:t.payload});case"update_membership_plans":return Object(m.a)(Object(m.a)({},e),{},{membershipPlan:t.payload.plans});case"register_get_instructor":return Object(m.a)(Object(m.a)({},e),{},{instructorList:t.payload.instructors});case"register_set_condition_index":return Object(m.a)(Object(m.a)({},e),{},{condition_index:t.payload});case"update_license_list":return Object(m.a)(Object(m.a)({},e),{},{licenseList:t.payload});case"update_country_plans":return Object(m.a)(Object(m.a)({},e),{},{countryPlans:t.payload});case"clear_registerform":console.log("INITIAL_STATE.registerFormValues",Oo);a={ispackster:!1,userid:0,terms:!1,firstname:"",lastname:"",username:"",email:"",password:"",confirm_password:"",gender:"",profession:"",midicalcondition_livewith:"",country:"",health_condition:[],region:"",clinic_status:"",conditional_clinic:[],healthcondition_livewith:"",purpose:"",is_newfeature_updates:!1,is_research_opportunities:!1,dob_day:"",dob_month:"",dob_year:"",know_via:"",promocode:"",card_name:"",card_number:"",card_exp_year:"",card_exp_month:"",card_security_code:"",card_zipcode:"",membershipPlan:{},facebookAccessToken:"",facebookId:"",facebookPicture:"",age:0,usUser:!1,krUser:!1,shareKRUK:!1,emailKRUK:!1,ethnicity:"",comorbidities:[],kidney_care_provider:[],is_clinic_found:!1,referee:"",beamchallenging:"",condition_professions:[],cancer_treatment:[],cancer_comordities:[],research:!1,research_groupname:"",research_condition:"",research_share:"",isKBResearcheUser:!1,condition_membership:[],eligible_license:{},tagCode:{},movement_prefs:[],cf_comordities:[]};return Object(m.a)(Object(m.a)({},e),{},{registerFormValues:a});case"check_condition_code":return console.log("CHECK_CONDITION_CODE",t.payload.length),Object(m.a)(Object(m.a)({},e),{},{isConditionHasCode:!!t.payload.length});case"set_loading":return Object(m.a)(Object(m.a)({},e),{},{isLoading:t.payload});case"set_page_title":return console.log("SET_PAGE_TITLE",t.payload),Object(m.a)(Object(m.a)({},e),{},{page_title:t.payload});case"set_new_user":return Object(m.a)(Object(m.a)({},e),{},{is_new_user:t.payload});default:return e}},workout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"clear_workout_list":return Object(m.a)(Object(m.a)({},e),{},{workout_list:[],workout_list_level:[],workout_list_tags:[]});case"clear_workout_detail":return Object(m.a)(Object(m.a)({},e),{},{workout_detail_data:{workout:{title:"",videoUrl:"",length:"",description:""}}});case"workout_detail":return Object(m.a)(Object(m.a)({},e),{},{workout_detail_data:t.payload});case"workout_list":var a=Object(Lo.a)(e.workout_list),o=Object(Lo.a)(e.workout_list_tags),s=Object(Lo.a)(e.workout_list_level);return t.payload&&(a=[].concat(Object(Lo.a)(e.workout_list),Object(Lo.a)(t.payload.workout)),o=[].concat(Object(Lo.a)(e.workout_list_tags),Object(Lo.a)(t.payload.tags)),s=[].concat(Object(Lo.a)(e.workout_list_level),Object(Lo.a)(t.payload.tags))),Object(m.a)(Object(m.a)({},e),{},{workout_list:a,workout_list_tags:o,workout_list_level:s});case"ondemand_workout_save":var n=(l=Object(Lo.a)(e.workout_list)).findIndex((function(e){return e.id===t.payload.workoutId}));return l[n].WorkoutSaves=[{workoutId:t.payload.workoutId}],Object(m.a)(Object(m.a)({},e),{},{workout_list:l});case"ondemand_workout_unsave":n=(l=Object(Lo.a)(e.workout_list)).findIndex((function(e){return e.id===t.payload.workoutId}));return l[n].WorkoutSaves=[],Object(m.a)(Object(m.a)({},e),{},{workout_list:l});case"ondemand_detail_savevideo":var r=Object(m.a)({},e.workout_detail_data);return t.flag?r.workout.WorkoutSaves=[{workoutId:t.payload.workoutId}]:r.workout.WorkoutSaves=[],Object(m.a)(Object(m.a)({},e),{},{workout_detail_data:r});case"ondemand_detail_sub_savevideo":n=(r=Object(m.a)({},e.workout_detail_data)).likeMore.findIndex((function(e){return e.id===t.payload.workoutId}));return t.flag?r.likeMore[n].WorkoutSaves=[{workoutId:t.payload.workoutId}]:r.likeMore[n].WorkoutSaves=[],Object(m.a)(Object(m.a)({},e),{},{workout_detail_data:r});case"liveclass_detail_sub_savevideo":n=(r=Object(m.a)({},e.liveclass_detail_data.liveClasses)).likeMore.findIndex((function(e){return e.id===t.payload.workoutId}));return t.flag?r.likeMore[n].WorkoutSaves=[{workoutId:t.payload.workoutId}]:r.likeMore[n].WorkoutSaves=[],Object(m.a)(Object(m.a)({},e),{},{workout_detail_data:r});case"liveclass_detail":return Object(m.a)(Object(m.a)({},e),{},{liveclass_detail_data:t.payload});case"schedule_model_open":return Object(m.a)(Object(m.a)({},e),{},{schedule_model_open:t.payload,schedule_model_data:t.payloadData});case"schedule_model_type":return Object(m.a)(Object(m.a)({},e),{},{schedule_model_type:t.payload});case"update-schedule_model_open":var i=Object(m.a)({},e.schedule_model_data);return i.scheduledFor=t.payload,Object(m.a)(Object(m.a)({},e),{},{schedule_model_data:i});case"clear_after_state":return Object(m.a)(Object(m.a)({},e),{},{AfterModelState:{step:1,rating:0,comment:""}});case"update_after_state":return Object(m.a)(Object(m.a)({},e),{},{AfterModelState:Object(m.a)(Object(m.a)({},e.AfterModelState),t.payload)});case"update_offset":return console.log("UPDATE_OFFSET",t.payload),Object(m.a)(Object(m.a)({},e),{},{offset:t.payload});case"set_goback":return Object(m.a)(Object(m.a)({},e),{},{isGoback:t.payload});case"set_current_position":return Object(m.a)(Object(m.a)({},e),{},{currentPosition:t.payload});case"push_history":return Object(m.a)(Object(m.a)({},e),{},{prevPath:t.payload});case"clear_group_ondemand_list":return Object(m.a)(Object(m.a)({},e),{},{group_ondemand_list:[]});case"group_ondemand_list":a=[].concat(Object(Lo.a)(e.group_ondemand_list),Object(Lo.a)(t.payload));return Object(m.a)(Object(m.a)({},e),{},{group_ondemand_list:a});case"group_ondemand_workout_save":n=(l=Object(Lo.a)(e.group_ondemand_list)).findIndex((function(e){return e.id===t.payload.workoutId}));return l[n].WorkoutSaves=[{workoutId:t.payload.workoutId}],Object(m.a)(Object(m.a)({},e),{},{group_ondemand_list:l});case"group_ondemand_workout_unsave":var l;n=(l=Object(Lo.a)(e.group_ondemand_list)).findIndex((function(e){return e.id===t.payload.workoutId}));return l[n].WorkoutSaves=[],Object(m.a)(Object(m.a)({},e),{},{group_ondemand_list:l});case"ondemand_cms_model_open":return Object(m.a)(Object(m.a)({},e),{},{is_cms_model:t.payload.open,cms_model_type:t.payload.type});case"image_crop_model_open":return Object(m.a)(Object(m.a)({},e),{},{is_image_crop_open:t.payload});case"set_cropped_image":return Object(m.a)(Object(m.a)({},e),{},{cropped_image:t.payload.croppedImageUrl,cropped_file:t.payload.blobFile});case"set_file_data":return console.log("SET_FILE_DATA",t.payload),Object(m.a)(Object(m.a)({},e),{},{fileData:t.payload});case"set_after_popup":return console.log("SET_AFTER_POPUP",t.payload),Object(m.a)(Object(m.a)({},e),{},{openAfterModel:t.payload});case"set_enable_video":return console.log("SET_ENABLE_VIDEO",t.payload),Object(m.a)(Object(m.a)({},e),{},{enable_video:t.payload});case"set_end_video":return console.log("SET_END_VIDEO",t.payload),Object(m.a)(Object(m.a)({},e),{},{end_video:t.payload});case"set_before_popup":return console.log("SET_BEFORE_POPUP",t.payload),Object(m.a)(Object(m.a)({},e),{},{openBeforeModel:t.payload});case"set_post_poll_modal":return console.log("SET_POST_POLL_MODAL",t.payload),Object(m.a)(Object(m.a)({},e),{},{openPostPollModel:t.payload});case"set_research_modal":return console.log("SET_RESEARCH_MODAL",t.payload),Object(m.a)(Object(m.a)({},e),{},{openResearchModel:t.payload});case"set_safety_modal":return console.log("SET_SAFETY_MODAL",t.payload),Object(m.a)(Object(m.a)({},e),{},{openSafetyModel:t.payload});case"set_survey_modal":return console.log("SET_SURVEY_MODAL",t.payload),Object(m.a)(Object(m.a)({},e),{},{openSurveyModel:t.payload});case"set_warning_modal":return console.log("SET_WARNING_MODAL",t.payload),Object(m.a)(Object(m.a)({},e),{},{openWarningModal:t.payload});case"set_condition_modal":return console.log("SET_CONDITION_MODAL",t.payload),Object(m.a)(Object(m.a)({},e),{},{openConditionModalOpen:t.payload});case"set_play_ondemand_modal":return console.log("SET_PLAY_ONDEMAND_MODAL",t.payload),Object(m.a)(Object(m.a)({},e),{},{openPlayOndemand:t.payload});case"update_workout_detail":var c=Object(m.a)({},e.workout_detail_data);return console.log("temp_data",c),c=Object(m.a)(Object(m.a)({},e.workout_detail_data),t.payload),console.log("temp_data1",c),Object(m.a)(Object(m.a)({},e),{},{workout_detail_data:c});default:return e}},programme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Po,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"program_detail":return Object(m.a)(Object(m.a)({},e),{},{program_detail:t.payload});case"set_program_active_slider":return Object(m.a)(Object(m.a)({},e),{},{active_slider:t.payload});case"set_program_active_type":return Object(m.a)(Object(m.a)({},e),{},{active_type:t.payload});default:return e}},instructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"instructor_list":return Object(m.a)(Object(m.a)({},e),{},{instructor_list:t.payload});case"clear_instructor_list":return Object(m.a)(Object(m.a)({},e),{},{instructor_list:[]});case"instructor_detail":return Object(m.a)(Object(m.a)({},e),{},{instructor_detail:t.payload});case"clear_instructor_detail":return Object(m.a)(Object(m.a)({},e),{},{instructor_detail:{title:"",img:"",speciality:"",movement:"",qualifications:"",feelGoodFormula:"",location:"",bio:"",twitterLink:"",instagramLink:"",facebookLink:"",webLink:"",tiktokLink:"",linkedinLink:"",hasProfile:1,isLive:0}});case"instructor_detail_savevideo":var a=Object(m.a)({},e.instructor_detail),o=a.Workouts.findIndex((function(e){return e.id===t.payload.workoutId}));return t.flag?a.Workouts[o].WorkoutSaves=[{workoutId:t.payload.workoutId}]:a.Workouts[o].WorkoutSaves=[],Object(m.a)(Object(m.a)({},e),{},{instructor_detail:a});default:return e}},accountinfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(m.a)(Object(m.a)({},e),{},{ip_data:t.payload});case"set_explore_condition":var a=Eo.a.keyBy(t.payload.myConditions,(function(e){return e.conditionId})),o=Eo.a.filter(t.payload.healthConditions,(function(e){return console.log("SET_EXPLORE_CONDITION",e),console.log("SET_EXPLORE_CONDITION-lookup",a),void 0==a[e.id]}));return console.log("SET_EXPLORE_CONDITION-result",o),Object(m.a)(Object(m.a)({},e),{},{explore_conditions:o});default:return e}},liveclass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"liveclass_detail":return Object(m.a)(Object(m.a)({},e),{},{liveclass_detail_data:t.payload});case"liveclass_detail_sub_savevideo":var a=Object(m.a)({},e.liveclass_detail_data.liveClasses),o=a.likeMore.findIndex((function(e){return e.id===t.payload.workoutId}));return t.flag?a.likeMore[o].WorkoutSaves=[{workoutId:t.payload.workoutId}]:a.likeMore[o].WorkoutSaves=[],Object(m.a)(Object(m.a)({},e),{},{workout_detail_data:a});case"clear_liveclass_detail":return Object(m.a)(Object(m.a)({},e),{},{liveclass_detail_data:{liveClasses:{liveclass:{description:""},Polls:{}}}});case"liveclass_prismic_param":return Object(m.a)(Object(m.a)({},e),{},{liveclass_prismic_data:t.payload});case"liveclass_filter_instructor":return Object(m.a)(Object(m.a)({},e),{},{liveclass_filter_instructor:t.payload});case"set_poll_modal":return Object(m.a)(Object(m.a)({},e),{},{is_poll_modal_open:t.payload});case"update_poll_values":console.log("UPDATE_POLL_VALUES",t.payload);var s=Object(m.a)({},e.liveclass_detail_data);return s.liveClasses.liveclass.Polls=t.payload,Object(m.a)(Object(m.a)({},e),{},{liveclass_detail_data:s});default:return e}},group:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:To,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"group_join_modal_open":return Object(m.a)(Object(m.a)({},e),{},{is_join_modal:t.payload,group_details:t.payloadData});case"group_is_admin":return Object(m.a)(Object(m.a)({},e),{},{is_group_admin:t.payload});case"group_is_leader":return Object(m.a)(Object(m.a)({},e),{},{is_group_leader:t.payload});case"group_cms_model_open":return Object(m.a)(Object(m.a)({},e),{},{is_group_cms_open:t.payload});case"group_about_details":return Object(m.a)(Object(m.a)({},e),{},{group_about_details:t.payload});case"clear_group_about_details":return Object(m.a)(Object(m.a)({},e),{},{group_about_details:[]});default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set_slider_value":return Object(m.a)(Object(m.a)({},e),{},{sliderValue:t.payload});case"set_date_value":return Object(m.a)(Object(m.a)({},e),{},{selectedDate:t.payload});case"set_time_value":return console.log("SET_TIME_VALUE",t.payload),Object(m.a)(Object(m.a)({},e),{},{selectedTime:t.payload});case"set_datepicker_value":var a=Object(m.a)({},e);console.log("SET_DATEPICKER_VALUE",a);var o=a.selectedDate,s=a.selectedTime,n=_o.formatDateFromString(o)+" "+_o.formatTimeFromSelector(s),r=new Date(n),i=new Date(r).toISOString();return Object(m.a)(Object(m.a)({},e),{},{datePickerValue:i});case"clear_activity_list":return Object(m.a)(Object(m.a)({},e),{},{all_activity_list:[],sliderValue:""});case"set_activity_list":var l=[].concat(Object(Lo.a)(e.all_activity_list),Object(Lo.a)(t.payload));return Object(m.a)(Object(m.a)({},e),{},{all_activity_list:l});case"update_json_schema_form_data":return Object(m.a)(Object(m.a)({},e),{},{json_form_data:t.payload});case"get_user_programs":return Object(m.a)(Object(m.a)({},e),{},{program_list:t.payload});case"update_user_programs":console.log("UPDATE_USER_PROGRAMS",t.payload);var c=Object(m.a)(Object(m.a)({},e.program_list),t.payload);return Object(m.a)(Object(m.a)({},e),{},{program_list:c});default:return e}}}),Ro=(a(1152),a(7)),Wo=a(8),Ao=a(10),Bo=a(9),qo=a(44),Yo=a(112),Go=a(4);function Vo(e,t,a,o,n){return console.log("RenderPages"),t&&t.isStudyUser&&o?s.a.createElement(qo.b,{to:{pathname:"/home",state:{from:a.location,isRestrictedPage:!0}}}):!t||t.isStudyUser||t.isStudyLeader||t.isGroupLeader||t.isStudyUser||t.isStudyInstructor||!n||!n.toLowerCase().includes("research")?s.a.createElement(e,a):s.a.createElement(qo.b,{to:{pathname:"/home",state:{from:a.location,isBeamRestrictedPage:!0}}})}function Ho(e,t){var a=t.location.pathname,o=JSON.parse(localStorage.getItem("url_alias_condition")),s=t.match;o&&o.forEach((function(o){e in o.value&&(console.log("condi",e),console.log("condi-val.value",o.value[e]),a=t.location.pathname.replace(e,o.value[e]),e=o.value[e],!!e)})),void 0!=s.params.condition&&(s.params.condition=e,s.url=a,t.match=s,t.location.pathname=a);var n=_o.replaceChar(e,!1);Go.Cookies.set("condition",n)}var zo=function(e){var t=e.component,a=Object(Yo.a)(e,["component"]);return s.a.createElement(qo.c,Object.assign({},a,{render:function(e){var a=e.match.params,o=a.type,n=a.condition;(o||n)&&Ho(o||n,e);return localStorage.getItem("user")||localStorage.getItem("userAuthToken")||e.splittedToken?s.a.createElement(t,e):s.a.createElement(qo.b,{to:{pathname:"/home",state:{from:e.location}}})}}))},Ko=function(e){var t=e.component,a=Object(Yo.a)(e,["component"]);return s.a.createElement(qo.c,Object.assign({},a,{render:function(e){return localStorage.getItem("user")||localStorage.getItem("userAuthToken")?s.a.createElement(qo.b,{to:{pathname:"/home",state:{from:e.location}}}):s.a.createElement(t,e)}}))},Jo=function(e){var t=e.component,a=Object(Yo.a)(e,["component"]);return s.a.createElement(qo.c,Object.assign({},a,{render:function(e){var a=e.match.params.condition;e.match.params.type&&2==e.match.params.type.length&&(a=e.match.params.type);var o=e.location.pathname.split("/");console.log("parts",o[1]);var s=!!q.find((function(e){return o[1].includes(e)})),n=JSON.parse(localStorage.getItem("userDetails"));return console.log("my-condition",a),a?(Ho(a,e),Vo(t,n,e,s,a)):Vo(t,n,e,s,a)}}))},Qo=a(3),Zo=a(21),Xo=a(60),$o=a.n(Xo),es=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(){return Object(Ro.a)(this,a),t.call(this)}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){"undefined"==typeof Go.Cookies.get("closeBanner")&&(Go.Cookies.get("CookieControl")&&Object.keys(JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies).length>0&&"accepted"==JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies.preferences||"undefined"==typeof Go.Cookies.get("CookieControl"))&&Go.Cookies.set("closeBanner",!1),"undefined"==typeof Go.Cookies.get("closeBannerKD")&&(Go.Cookies.get("CookieControl")&&Object.keys(JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies).length>0&&"accepted"==JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies.preferences||"undefined"==typeof Go.Cookies.get("CookieControl"))&&Go.Cookies.set("closeBannerKD",!1),console.log("closeBannerPC",Go.Cookies.get("closeBannerPC")),"undefined"==typeof Go.Cookies.get("closeBannerPC")&&(Go.Cookies.get("CookieControl")&&Object.keys(JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies).length>0&&"accepted"==JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies.preferences||"undefined"==typeof Go.Cookies.get("CookieControl"))&&Go.Cookies.set("closeBannerPC",!1)}},{key:"sweetThanks",value:function(e){"cf"==e?(Go.Cookies.get("CookieControl")&&Object.keys(JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies).length>0&&"accepted"==JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies.preferences&&Go.Cookies.set("closeBanner",!0),this.props.cancelBanner()):"kd"==e?(Go.Cookies.get("CookieControl")&&Object.keys(JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies).length>0&&"accepted"==JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies.preferences&&Go.Cookies.set("closeBannerKD",!0),this.props.cancelBanner()):"pc"==e&&(Go.Cookies.get("CookieControl")&&Object.keys(JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies).length>0&&"accepted"==JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies.preferences&&Go.Cookies.set("closeBannerPC",!0),this.props.cancelBanner())}},{key:"renderCFFBanner",value:function(e,t){var a=this;return s.a.createElement("div",null,"web"==e&&s.a.createElement("section",{id:"section6",className:"section6-bg navbar-collapse"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"float-left cff_banner_img"},s.a.createElement("div",{className:"cff_image"},s.a.createElement("img",{src:D+"partner_CFF.png",className:""}))),s.a.createElement("div",{className:"w-65 cff_adults float-left ml-4"},s.a.createElement("p",{className:"text-white font-18 font-semibold mb-0 "},"Adults with cystic fibrosis in the USA!"),s.a.createElement("p",{className:"text-white font-16 font-qmedium mb-0"},"Enjoy your gift of Beam membership until December 31st 2022, thanks to the CF Foundation. No promo code needed. ")),s.a.createElement("div",{className:"cff_buttons mt-3"},s.a.createElement(Qo.b,{to:"/blogs/how-do-i-claim-free-membership",className:"btn btn-orange-inverse btn-banner float-right"},"Learn more"),s.a.createElement("button",{className:"btn btn-white-inverse btn-banner float-right mr-3 ml-3",onClick:function(){a.sweetThanks("cf")}},"Sweet! Thanks!"))))),"mobile"==e&&s.a.createElement("section",{id:"section6",className:"section6-bg mobile-condition-dd"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"float-left cff_banner_img"},s.a.createElement("div",{className:"cff_image"},s.a.createElement("img",{src:D+"partner_CFF.png",className:""}))),s.a.createElement("div",{className:"cff_adults"},s.a.createElement("p",{className:"text-white font-14 font-semibold mb-0 "},"Adults with cystic fibrosis in the USA!"),s.a.createElement("p",{className:"text-white font-14 font-qmedium mb-0"},"Enjoy your gift of Beam membership until 31st December 2022 thanks to the CF Foundation."),s.a.createElement("div",{className:"cff_buttons mt-3"},s.a.createElement("button",{className:"btn btn-white-inverse btn-banner float-left font-book mr-3",onClick:function(){a.sweetThanks("cf")}},"Thanks!"),s.a.createElement(Qo.b,{to:"blogs/how-do-i-claim-free-membership",className:"btn btn-orange-inverse btn-banner float-left"},"Learn more")))))))}},{key:"renderKDBanner",value:function(e,t){var a=this;return s.a.createElement("div",null,"web"==e&&s.a.createElement("section",{id:"section6",className:"section6-bg navbar-collapse"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"w-65 cff_adults float-left ml-4"},s.a.createElement("p",{className:"text-white font-18 font-semibold mb-0 "},"Beam Kidney Disease is free until 31st May 2022, thanks to Kidney Research UK, Kidney Care UK, National Kidney Federation and UK Kidney Association!"),s.a.createElement("p",{className:"text-white font-16 font-qmedium mb-0"},"No promo code needed - just click \u201cGet Started\u201d above. ")),s.a.createElement("div",{className:"cff_buttons mt-3"},s.a.createElement(Qo.b,{to:"/blogs/kidney-beam-is-here",className:"btn btn-orange-inverse btn-banner float-right"},"Learn more"),s.a.createElement("button",{className:"btn btn-white-inverse btn-banner float-right mr-3 ml-3",onClick:function(){a.sweetThanks("kd")}},"Sweet! Thanks!"))))),"mobile"==e&&s.a.createElement("section",{id:"section6",className:"section6-bg mobile-condition-dd"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"float-left p-1"}),s.a.createElement("div",{className:"cff_adults"},s.a.createElement("p",{className:"text-white font-14 font-semibold mb-0 "},"Beam Kidney Disease is free until 31st May, thanks to Kidney Research UK, Kidney Care UK, National Kidney Federation and UK Kidney Association!"),s.a.createElement("p",{className:"text-white font-14 font-qmedium mb-0"},"No promo code needed - just click \u201cGet Started\u201d above."),s.a.createElement("div",{className:"cff_buttons mt-3"},s.a.createElement("button",{className:"btn btn-white-inverse btn-banner float-left font-book mr-3",onClick:function(){a.sweetThanks("kd")}},"Thanks!"),s.a.createElement(Qo.b,{to:"blogs/kidney-beam-is-here",className:"btn btn-orange-inverse btn-banner float-left"},"Learn more")))))))}},{key:"renderPCBanner",value:function(e,t){var a=this;return console.log("renderPCBanner"),s.a.createElement("div",null,"web"==e&&s.a.createElement("section",{id:"section6",className:"section6-bg navbar-collapse"},s.a.createElement("div",{className:"col-md-12 pc-banner"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"float-left cff_banner_img w-20"},s.a.createElement("div",{className:"cff_image text-center cancer-banner w-100"},s.a.createElement("img",{src:D+"logos/RM-logo.png",className:"w-80"}))),s.a.createElement("div",{className:"w-45 cff_adults float-left pl-4"},s.a.createElement("p",{className:"text-white font-18 font-semibold mb-0 align-self-center "},"Are you a patient of the Royal Marsden?"),s.a.createElement("p",{className:"text-white font-16 font-qmedium mb-0 align-self-center"},"Click the button to go to your exclusive group. ")),s.a.createElement("div",{className:"cff_buttons align-self-center"},s.a.createElement(Qo.b,{className:"btn btn-orange-inverse btn-banner float-right m-t-0",to:"/group/about/Royal Marsden/"+"prostate cancer".replace(" ","-")},"Go to your group"),s.a.createElement("button",{className:"btn btn-white-inverse btn-banner float-right mr-3 ml-3 m-t-0",onClick:function(){a.sweetThanks("pc")}},"Sweet! Thanks!"))))),"mobile"==e&&s.a.createElement("section",{id:"section6",className:"section6-bg mobile-condition-dd"},s.a.createElement("div",{className:"col-md-12 pc-banner"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"float-left cff_banner_img"},s.a.createElement("div",{className:"cff_image text-center cancer-banner"},s.a.createElement("img",{src:D+"logos/RM-logo.png",className:"w-80"}))),s.a.createElement("div",{className:"cff_adults "},s.a.createElement("p",{className:"text-white font-14 font-semibold mb-0 "},"Are you a patient of the Royal Marsden?"),s.a.createElement("p",{className:"text-white font-14 font-qmedium mb-0"},"Click the button to go to your exclusive group."),s.a.createElement("div",{className:"cff_buttons mt-3"},s.a.createElement("button",{className:"btn btn-white-inverse btn-banner float-left font-book mr-3",onClick:function(){a.sweetThanks("pc")}},"Thanks!"),s.a.createElement(Qo.b,{className:"btn btn-orange-inverse btn-banner float-left",to:"/group/about/Royal Marsden/"+"prostate cancer".replace(" ","-")},"Go to your group")))))))}},{key:"render",value:function(){var e=window.location.href;e=-1!=(e=-1!=e.indexOf("/home")?"/home":"").indexOf("/reset")?"/home":e;var t=this.props,a=t.type,o=t.condition;return console.log("cffbanner",o),console.log("cffbanner-cnd",o.includes(k.split(" ")[0])),s.a.createElement(s.a.Fragment,null,o.includes(k.split(" ")[0])&&("undefined"==typeof Go.Cookies.get("closeBanner")||"false"===Go.Cookies.get("closeBanner"))&&0==this.props.close_banner&&this.renderCFFBanner(a,e),!1,o.includes("prostate cancer".split(" ")[0])&&("undefined"==typeof Go.Cookies.get("closeBannerPC")||"false"===Go.Cookies.get("closeBannerPC"))&&0==this.props.close_banner_pc&&this.renderPCBanner(a,e))}}]),a}(s.a.Component),ts={cancelBanner:function(){return function(e,t){e({type:"cancel_banner"})}},cancelBannerKD:function(){return function(e,t){e({type:"cancel_banner_kd"})}},cancelBannerPC:function(){return function(e,t){e({type:"cancel_banner_pc"})}}},as=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,close_banner:e.header.close_banner,close_banner_kd:e.header.close_banner_kd,close_banner_pc:e.header.close_banner_pc}}),ts)(es),os=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).returnPartnershipUrl=function(){var e="undefined"!=typeof Go.Cookies.get("condition")?Go.Cookies.get("condition"):k;return H.includes(e)?"partnerships/"+k:"/partnerships/"+e},o.state={videoUrl:"https://vimeo.com/359842015",firstTime:1},o.conditonClassList=Object(Lo.a)(R),o.returnClass=o.conditonClassList.reverse(),o}return Object(Wo.a)(a,[{key:"componentWillReceiveProps",value:function(){this.conditonClassList=Object(Lo.a)(R)}},{key:"componentDidMount",value:function(){console.log("home-this.props",this.props);var e=this.props.match&&this.props.match.params.beamchallenging&&this.props.match.params.beamchallenging.includes("keepbeaming-signup")?"keepbeaming-signup":"";localStorage.setItem("beamchallenging",e),localStorage.getItem("beamchallenging")&&!this.props.is_auth&&(console.log("test*********"),this.props.loginModelOpen(!0));var t=!(!this.props.location||!this.props.location.state)&&this.props.location.state.isRestrictedPage,a=!(!this.props.location||!this.props.location.state)&&this.props.location.state.isBeamRestrictedPage;t?at.b.error("Oops, you are not authorised to see this page!"):a&&at.b.error("Oops you are not authorised to see this area of Beam."),window.scrollTo(0,0)}},{key:"conditionalGoto",value:function(e,t){this.props.setCondition(e);var a=_o.replaceChar(e,!1);if(Go.Cookies.set("condition",a),B.indexOf(e)>=0){var o={from:{pathname:"/"+a}}.from;this.props.history.push(o)}else{var s={from:{pathname:t}}.from;this.props.history.push(s)}}},{key:"getColorClass",value:function(e){if(this.returnClass.length>0)return this.returnClass[e]}},{key:"render",value:function(){var e=this,t=this.props.history?this.props.history.location.pathname:"/home",a=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Home",ye),s.a.createElement("meta",{property:"og:title",content:"Home"+ye}),s.a.createElement("meta",{property:"og:description",content:"At Beam, we help people with a health condition to move more in a way that makes them feel good, with on-demand and live classes, group support and handy resources."}),s.a.createElement("meta",{property:"og:image",content:_e}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Beam home scene with characters keeping active and feeling good"})),s.a.createElement("div",{className:"false"==Go.Cookies.get("closeBanner")&&!this.props.close_banner||"false"==Go.Cookies.get("closeBannerKD")&&!this.props.close_banner_kd?"homecontent":"homecontent m-t-80"},s.a.createElement("section",{id:"section1",className:"section1-bg"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"section-header text-center p-t-30 p-b-30"},s.a.createElement("h3",{className:"font-37 darkblue-text heading-top1 m-t-20"},"Movement to make you feel good"),s.a.createElement("p",{className:"w-80 subheading-top1 font-21 mx-auto p-t-20 p-b-10 font-medium "},"Access on-demand and live classes, plus friendly groups, led by specialist  physiotherapists and trainers who are trained in, or live with, your health condition. Wherever you are, whenever you need it."),s.a.createElement("p",{className:"w-80 subheading-topnew font-21 mx-auto p-t-20 p-b-10 font-medium "},"Access on-demand and live classes, plus friendly groups, led by specialist  physiotherapists and trainers who are trained in, or live with, your health condition. Wherever you are, whenever you need it."),!this.props.is_auth&&s.a.createElement(Qo.b,{to:"/register",className:"btn btn-orange m-t-20 m-b-20 font-14 font-medium m-r-10"},"Start 2 week FREE trial"),!this.props.is_auth&&s.a.createElement(Qo.b,{to:"/register",className:"btn btn-purple m-t-20 m-b-20 font-14 font-medium"},"Got a license code?")))),"/home"==t&&Go.Cookies.get("condition")&&(Go.Cookies.get("condition").includes(N.split(" ")[0])&&("IN"==this.props.IP_Details.countryCode||"GB"==this.props.IP_Details.countryCode)||("undefined"==typeof Go.Cookies.get("condition")||Go.Cookies.get("condition").includes(k.split(" ")[0]))&&("IN"==this.props.IP_Details.countryCode||"US"==this.props.IP_Details.countryCode))&&("undefined"==typeof Go.Cookies.get("closeBanner")||"false"==Go.Cookies.get("closeBanner"))&&0==this.props.close_banner&&s.a.createElement(as,{type:"web",condition:Go.Cookies.get("condition")}),"/home"==t&&Go.Cookies.get("condition")&&(Go.Cookies.get("condition").includes(N.split(" ")[0])&&("IN"==this.props.IP_Details.countryCode||"GB"==this.props.IP_Details.countryCode)||("undefined"==typeof Go.Cookies.get("condition")||Go.Cookies.get("condition").includes(k.split(" ")[0]))&&("IN"==this.props.IP_Details.countryCode||"US"==this.props.IP_Details.countryCode))&&("undefined"==typeof Go.Cookies.get("closeBanner")||"false"==Go.Cookies.get("closeBanner"))&&0==this.props.close_banner&&s.a.createElement(as,{type:"mobile",condition:Go.Cookies.get("condition")}),s.a.createElement("section",{id:"section2",className:"section2-bg p-b-50 p-t-20"},s.a.createElement("h3",{class:"font-37 purplefont heading-top1 m-t-20 text-center"},"Which health condition are you interested in?"),s.a.createElement("div",{className:"col-10 offset-1 btnht_set"},s.a.createElement("div",{className:"row"},this.props.healthcondition_list.length>0&&this.props.healthcondition_list.map((function(t,o){return s.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 mx-auto"},s.a.createElement("button",{key:o,className:"text-capitalize btn btn-login w-100 mx-auto font-14 font-weight-bold cond_cystic-fibrosis text-left "+e.getColorClass(o),onClick:function(){var o=a&&(a.isGroupLeader||a.isStudyLeader||a.isStudyInstructor)&&W.includes("on-demand")?"/on-demand/":"/liveClasses/";if(a&&a.isStudyUser){var s=a.Members.length?a.Members[0].Community.community_name:"";o=s?"/group/feed/"+s+"/":"/groups/"}e.conditionalGoto(t.tag,o+_o.replaceChar(t.tag,!1))}},t.tag," "))}))))),s.a.createElement("section",{id:"section3",className:"section3-bg p-t-90 p-b-40"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-left"},s.a.createElement("h4",{className:"m-b-20 font-24 darkblue-text font-book"},"New to Beam?"),s.a.createElement("p",{className:"small-txt font-14 black-txt  font-qregular"},"Want to know a little more about Beam? We've got you covered with a simple introduction to our features and pricing."),s.a.createElement(Qo.b,{to:"/howitworks",className:"btn btn-blue font-medium font-14 m-t-20 m-b-20"},"How Beam Works")),s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-center"},s.a.createElement($o.a,{url:this.state.videoUrl,controls:!1,width:"100%",height:"100%",style:{width:"100%",height:"100%"}}))))),s.a.createElement("section",{id:"section4",className:"section4-bg work-with-us"},s.a.createElement("div",{className:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-purple"},"Our Friends & Collaborators"),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 offset-lg-0 col-md-12 offset-md-0 col-sm-8 offset-sm-2 col-12 offset-0"},s.a.createElement("div",{class:"outer-wrapper"},s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/CFF.png"})),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/CFT.png"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/CFA.png"})),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/CF_Ireland.jpg"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/Breas.png"})),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/ACPCF.png"}))))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 offset-lg-0 col-md-12 offset-md-0 col-sm-8 offset-sm-2 col-12 offset-0"},s.a.createElement("div",{class:"outer-wrapper"},s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/Brompton.png"})),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/NHS-newcastle.png"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/UofE.png"})),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/Philips.png"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/peppy.png"}))))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 offset-lg-0 col-md-12 offset-md-0 col-sm-8 offset-sm-2 col-12 offset-0"},s.a.createElement("div",{class:"outer-wrapper"},s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"KRUK-logo.png"})),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/Kidney-Care-UK.jpeg"})),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/NKF.jpeg"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/UKKA-Main-Logo.png"})),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/King-sCollegeHospital-NHS-Foundation-Trust-RGB-BLUE-right.jpg"})),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/WoSACF.png"})),s.a.createElement("div",{class:"wrap"})))))))),s.a.createElement("section",{id:"section5",className:"section5-bg"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"section-header text-center p-t-30 p-b-30"},s.a.createElement("h4",{className:"purplefont font-24 font-book m-b-20"},"Want to work with us?"),s.a.createElement("span",{className:"w-100 mx-auto p-t-30 p-b-10 black-txt font-14 font-qregular"},s.a.createElement("p",null,"From patients to clinicians, to healthcare commissioners, insurers, charities and product partners - we work with anybody who believes that an active lifestyle can improve health outcomes and help people to feel good."),s.a.createElement("p",null,"Learn more about our partnerships, past and present, and get in touch if you'd like to explore working together in the future.")),s.a.createElement(Qo.b,{to:this.returnPartnershipUrl(),className:"btn btn-purple font-medium font-14 m-t-20 m-b-20"},"Partnerships"))))))}}]),a}(s.a.Component),ss={setCondition:lt,updateUserChallengeTag:dt,loginModelOpen:pt},ns=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,IP_Details:e.accountinfo.ip_data,close_banner:e.header.close_banner,close_banner_kd:e.header.close_banner_kd,healthcondition_list:e.register.healthcondition_list,logged_userData:e.header.logged_userData}}),ss)(os),rs=a(17),is=a(1),ls=a(20),cs=a(296),ms=a.n(cs),ds=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).facebookResponse=function(e){o.props.facebookLogin(e).then((function(t){if(t.isPactsterUser&&t.userid){o.closeModel(),o.setState({error:"",loading:!1,redirect_open:!0});var a=t.userid,s=t.membership;o.props.packsterGotoRegister(a,s,e);var n={pathname:"/register"};o.props.history.push(n)}else o.props.isAuth(),o.closeModel(),at.b.success(t.message),o.getUserDetail()}),(function(e){o.closeModel(),at.b.error(e)}))},o.state={username:"",password:"",submitted:!1,loading:!1,redirect_open:!1,error:"",isTermPopupOpen:!1},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.loginSubmit=o.loginSubmit.bind(Object(is.a)(o)),o.onCloseModal=o.onCloseModal.bind(Object(is.a)(o)),o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.facebookResponse=o.facebookResponse.bind(Object(is.a)(o)),o.cleatState=o.cleatState.bind(Object(is.a)(o)),o.getUserDetail=o.getUserDetail.bind(Object(is.a)(o)),o.redirectCloseModel=o.redirectCloseModel.bind(Object(is.a)(o)),o.redirectOpenModel=o.redirectOpenModel.bind(Object(is.a)(o)),o.forgotPassword=o.forgotPassword.bind(Object(is.a)(o)),o.openClinicPopup=o.openClinicPopup.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(rs.a)({},a,o))}},{key:"cleatState",value:function(){this.setState({username:"",password:"",submitted:!1,loading:!1,error:""})}},{key:"onCloseModal",value:function(){}},{key:"forgotPassword",value:function(){this.props.loginModelOpen(!1),this.props.forgotModelOpen(!0)}},{key:"closeModel",value:function(){this.cleatState(),this.props.loginModelOpen(!1)}},{key:"redirectOpenModel",value:function(){this.setState({redirect_open:!0})}},{key:"redirectCloseModel",value:function(){this.setState({redirect_open:!1})}},{key:"loginSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({submitted:!0});var a=this.state,o=a.username,s=a.password;if(o&&s){this.setState({loading:!0});var n=o;this.props.login(n,s).then((function(e){if(e.isPactsterUser&&e.userid){t.closeModel(),t.setState({error:"",loading:!1,redirect_open:!0});var a=e.userid,o=e.membership;t.props.packsterGotoRegister(a,o);var s={pathname:"/register"};t.props.history.push(s)}else t.setState({error:""}),t.props.isAuth(),t.closeModel(),at.b.success(e.message),t.getUserDetail()}),(function(e){t.setState({error:e,loading:!1})}))}}},{key:"getUserDetail",value:function(){var e=this;this.props.start_loader(),this.props.fetchUserDetails().then((function(t){e.props.healthCondition(),e.props.fetchNotifications(),e.props.setExploreConditions(e.props.logged_userData.UserConditions,e.props.healthcondition_list);var a=e.props.logged_userData.UserConditions&&e.props.logged_userData.UserConditions.find((function(e){return e.Tag&&e.Tag.tag==N})),o=e.props.logged_userData.Country&&e.props.logged_userData.Country.id;if(e.openClinicPopup(a,o),e.props.stop_loader(),e.props.init_condition){if(e.props.logged_userData.isStudyUser)var s=e.props.logged_userData.Members.length?e.props.logged_userData.Members[0].Community.community_name:"",n=s?"/group/feed/"+s+"/"+e.props.init_condition:"/groups/"+e.props.init_condition;else n=((e.props.logged_userData.isGroupLeader||e.props.logged_userData.isStudyLeader||e.props.logged_userData.isStudyInstructor)&&W.includes("on-demand")?"/on-demand/":"/liveClasses/")+e.props.init_condition;e.props.getFooter(_o.replaceChar(e.props.init_condition,!0)),e.props.getFeatures();var r={from:{pathname:n}}.from;e.props.history.push(r),setTimeout((function(){var t=_o.returnTagName("condition",k,e.props.logged_userData.UserConditions);localStorage.getItem("beamchallenging")&&e.props.is_auth&&t&&e.props.updateUserChallengeTag()}),1e3),e.props.logged_userData.terms||e.props.openPolicy(!0)}}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"openClinicPopup",value:function(){var e=Object(nt.a)(st.a.mark((function e(t,a){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.conditionId){e.next=3;break}return e.next=3,this.props.getClinic(a,t.conditionId);case 3:!this.props.logged_userData.isClinicResponse&&t&&!t.clinicId&&this.props.clinic_list&&this.props.clinic_list.length>0&&this.props.openClinic(!0);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,o=e.submitted,n=e.loading,r=e.error;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open&&!this.props.is_auth,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog modal-width--custom m-t-80",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title text-center col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"},"Login to Beam"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},s.a.createElement("form",{name:"login",onSubmit:this.loginSubmit},s.a.createElement("div",{className:"form-group"+(o&&!t?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-qregular black-txt"},"Username or Email"),s.a.createElement("input",{type:"text",className:"form-control",id:"username","aria-describedby":"emailHelp",placeholder:"",name:"username",value:t,onChange:this.handleChange}),o&&!t&&s.a.createElement("div",{className:"text-danger"},"Username is required")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-qregular black-txt"},"Password"),s.a.createElement("input",{type:"password",id:"password",className:"form-control","aria-describedby":"emailHelp",placeholder:"",name:"password",value:a,onChange:this.handleChange}),o&&!a&&s.a.createElement("div",{className:"text-danger"},"Password is required")),s.a.createElement("div",{className:"text-center form-group"},r&&s.a.createElement("span",{className:"text-danger"},r)),s.a.createElement("div",{className:"text-center form-group m-t-20 m-b-20"},s.a.createElement("span",{className:"col-md-12 p-0 text-underline pointer font-14 font-qregular black-txt"},s.a.createElement("u",{onClick:this.forgotPassword},"I forgot my password"))),s.a.createElement("div",{className:"col-md-12 text-center p-0"},s.a.createElement("button",{disabled:n,type:"submit",className:" btn btn-block mybtn btn-login tx-tfm font-book font-14"},"Login")),s.a.createElement("div",{className:"col-md-12 "},s.a.createElement("div",{className:"login-or text-center"},s.a.createElement("span",{className:"span-or text-uppercase"},"or"))),s.a.createElement("div",{className:"col-md-12 mb-3 p-0"},s.a.createElement("p",{className:"text-center"},s.a.createElement(ms.a,{appId:g,disableMobileRedirect:!0,autoLoad:!1,fields:"name,email,picture",callback:this.facebookResponse,cssClass:"google btn btn-lg btn-facebook font-book font-14 mybtn",icon:"fa fa-facebook-square"}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("p",{className:"text-center signup-here font-qmedium font-14 m-b-30"},"Not got an account?"," ",s.a.createElement(Qo.b,{to:"/register",className:"signup-here--text font-qmedium font-14",id:"signup"},"Sign up here")))))))),s.a.createElement(ls.a,{className:"removebbg-popup",open:this.state.redirect_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog schedule_block start-popup common_design modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-semibold  white-txt",id:"exampleModalLabel "},"Hold your horses"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.redirectCloseModel},"\xd7"))),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("h5",{className:"pop-sub-head black-txt text-center font-15 m-t-20 font-normal font-book m-b-20 "},"Welcome to Beam!"),s.a.createElement("p",{className:"font-book black-txt text-center mx-auto w-75 font-15 font-normal"},"We are super excited to have launched our new website but we're still working on migrating your info across from Pactster's website."),s.a.createElement("br",null),s.a.createElement("p",{className:"font-book black-txt text-center mx-auto w-75 font-15 font-normal"},"In the meantime feel free to take a look around our new site but to log in and use your account we're going to have to ask you to continue to use Pactster."),s.a.createElement("br",null),s.a.createElement("p",{className:"font-book black-txt text-center mx-auto w-75 font-15 font-normal"},"We'll be in touch as soon as we're all sorted here to invite you to start using Beam."),s.a.createElement("a",{className:"btn btn-login popup-btn w-75 mx-auto m-t-20 m-b-20",href:"https://www.pactster.com/cystic-fibrosis"}," ","Take me back to Pactster"," "))))))}}]),a}(s.a.Component),ps={loginModelOpen:pt,forgotModelOpen:ut,login:function(e,t){return function(a,o){var s=et({email:e,password:t});return a({type:"login_process",payload:!0}),fetch(h+"/api/login",s).then((function(e){return go(e,a)})).then((function(o){return o.isPactsterUser||(a({type:"login_process",payload:!1}),a({type:"login_success",payload:o}),a({type:"set_condition",payload:k}),o.authdata=window.btoa(e+":"+t),localStorage.setItem("user",JSON.stringify(o))),o}))}},logout:it,isAuth:rt,facebookLogin:mt,start_loader:ht,stop_loader:gt,fetchUserDetails:ao,packsterGotoRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return function(o,s){o({type:"packster_goto_register",payload:e,memberObj:t,facebookData:a||{}})}},fetchNotifications:ft,updateUserChallengeTag:dt,healthCondition:Mt,getFooter:bt,getFeatures:vt,setExploreConditions:no,openPolicy:Et,openClinic:kt,getClinic:Tt},us=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,is_model_open:e.header.is_loginModelOpen,init_condition:e.auth.initial_condition,logged_userData:e.header.logged_userData,healthcondition_list:e.register.healthcondition_list,clinic_list:e.register.clinic_list}}),ps)(ds),hs=(s.a.Component,a(25)),gs=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={firstname:"",lastname:"",email:"",message:"",phone:"",submitted:!1,Loading:!1,type:o.props.from},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.submitForm=o.submitForm.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(rs.a)({},a,o))}},{key:"submitForm",value:function(){var e=this;this.setState({submitted:!0}),this.state.firstname&&this.state.lastname&&this.state.email&&this.state.message&&(console.log("**contact form submitted**"),this.setState({Loading:!0}),_o.sendFeedback(this.state).then((function(t){switch(e.props.page){case"cystic":hs.a.event({category:"Clinician Acquisition",action:"Completed contact form",label:"Cystic Fibrosis - Completed - Clinician Enquiry"});break;case"cancer":hs.a.event({category:"Clinician Acquisition",action:"Completed contact form",label:"Prostate Cancer - Completed - Clinician Enquiry"});break;case"kidney":hs.a.event({category:"Clinician Acquisition",action:"Completed contact form",label:"Kidney Disease - Completed - Clinician Enquiry"})}e.setState({firstname:"",lastname:"",email:"",message:"",submitted:!1,Loading:!1}),at.b.success(t.message)}),(function(t){e.setState({Loading:!1}),at.b.error(t)})))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 m-b-10"},s.a.createElement("label",{className:"control-label font-book font-16 col-sm-12 pb-10 pl-0",htmlFor:"fname"},"First Name"),"/contact-us"===this.props.location.pathname&&s.a.createElement("input",{className:"form-control",name:"firstname",placeholder:"First name",type:"text",onChange:this.handleChange,value:this.state.firstname,autoFocus:!0}),"/contact-us"!==this.props.location.pathname&&s.a.createElement("input",{className:"form-control",name:"firstname",placeholder:"First name",type:"text",onChange:this.handleChange,value:this.state.firstname}),this.state.submitted&&!this.state.firstname&&s.a.createElement("p",{className:"text-danger"},"Firstname required")),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 m-b-10"},s.a.createElement("label",{className:"control-label font-book font-16 col-sm-12 pb-10 pl-0",htmlFor:"fname"},"Last Name"),s.a.createElement("input",{className:"form-control input-control",name:"lastname",placeholder:"Last name",onChange:this.handleChange,value:this.state.lastname,type:"text"}),this.state.submitted&&!this.state.lastname&&s.a.createElement("p",{className:"text-danger"},"Lastname required"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("label",{className:"control-label font-book font-16 col-sm-12 pb-10 pl-0",htmlFor:"fname"},"Email"),s.a.createElement("input",{className:"form-control input-control",name:"email",placeholder:"E-mail",onChange:this.handleChange,value:this.state.email,type:"text"}),this.state.submitted&&!this.state.email&&s.a.createElement("p",{className:"text-danger"},"Email required"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("label",{className:"control-label font-book font-16 col-sm-12 pb-10 pl-0",htmlFor:"fname"},"Message"),s.a.createElement("textarea",{className:"form-control input-control",placeholder:"Message...",rows:"6",name:"message",onChange:this.handleChange,value:this.state.message}),this.state.submitted&&!this.state.message&&s.a.createElement("p",{className:"text-danger"},"Message required"))),s.a.createElement("div",{className:"row header-custom"},s.a.createElement("div",{className:"navbar-text ml-auto mr-auto m-t-10"},s.a.createElement("button",{disabled:this.state.Loading,onClick:this.submitForm,className:"btn send-btn navbar-btn btn-shadow btn-gradient font-14 font-medium btn-send"},"Send"))))}}]),a}(s.a.Component),fs=gs,bs=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={expanded:[{one:!1,two:!1,three:!1,four:!1,five:!1,six:!1,seven:!1,eight:!1,nine:!1,ten:!1}]},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"ChangeStateReadLess",value:function(e,t){var a=Object.assign({},this.state.expanded);a[e]=t,console.log("newitems",a),this.setState({expanded:a})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:("undefined"!=typeof Go.Cookies.get("closeBanner")&&"false"!=Go.Cookies.get("closeBanner")||this.props.close_banner)&&("undefined"!=typeof Go.Cookies.get("closeBannerKD")&&"false"!=Go.Cookies.get("closeBannerKD")||this.props.close_banner_kd)?"aboutcontent m-t-80":"aboutcontent"},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"About us",ye),s.a.createElement("meta",{property:"og:title",content:"About us"+ye}),s.a.createElement("meta",{property:"og:description",content:"Learn about Beam and our dedication to helping people with a health condition to move more in a way that makes them feel good."}),s.a.createElement("meta",{property:"og:image",content:Re}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Yellow character waving with blue background"})),s.a.createElement("section",{id:"aboutsection1",className:"aboutsection1-bg p-t-30 p-b-30"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"section-header text-center "},s.a.createElement("h3",{className:"darkblue-text font-37 font-medium"},"About "),s.a.createElement("p",{className:"w-80 mx-auto p-t-20 font-21 black-txt p-b-10 font-medium"},"We know you want to be more active in order to keep healthy and feel good. But we also know that there are lots of hurdles that life can throw in your way..."),s.a.createElement("p",{className:"w-80 mx-auto font-21 black-txt  p-b-10 font-medium"},"Keeping active and doing exercise can be especially hard when you're living with a health condition and the symptoms, treatments and pressures that come with it. And all while trying to stay on top of 'normal' life."),s.a.createElement("p",{className:"w-79 mx-auto font-21 black-txt  p-b-10 font-medium"},"That's why we're here. Hi!",s.a.createElement("img",{className:"img-fluid m-l-5 m-b-5",src:D+"hand.png"}))))),s.a.createElement("section",{id:"aboutsection2",className:"aboutsection2-bg  p-t-30 p-b-80"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"section-header text-center"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 p-t-30 text-center"},s.a.createElement("figure",{className:"text-center"},s.a.createElement("img",{src:D+"About_blog_img1.png",className:"img-fluid",alt:""}))),s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-left m-t-60"},s.a.createElement("h4",{className:"m-b-20 font-24 font-normal font-semibold golden-yellow-text font-medium"},"An intro to Beam"),s.a.createElement("p",{className:"black-txt font-qregular m-b-10"},"With Beam, you can access fun exercise that's tailored for you and your health needs, online, any time, any place."),s.a.createElement("p",{className:"black-txt font-qregular  m-b-10"},"You can exercise along with on demand classes at a time that suits you or join a live class that allows you to interact with the instructor and other Beam members."),s.a.createElement("p",{className:"black-txt font-qregular  m-b-10"},"For those of you who would like an extra bit of motivation or social interaction, we've created groups where you can connect with physiotherapists, instructors and other people living with similar challenges to you. Let's lift each other up!"),s.a.createElement("p",{className:"black-txt font-qregular m-b-10"},"We know it's hard, but we want to help. Let us make things easier for you by bringing the experts, your community and your health studio to you, wherever you are.")))))),s.a.createElement("section",{id:"aboutsection3",className:"aboutsection3-bg p-t-80 p-b-80"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"section-header text-center "},s.a.createElement("h4",{className:"orangefont font-24 font-normal font-semibold "},"How we started"),s.a.createElement("p",{className:"w-75 mx-auto p-t-30 black-txt w-56 font-qregular"},"Our journey began when Katie, our Co-founder and Techie, put her coding skills to use to try and solve a problem she had: lack of motivation to exercise. She thought that by being able to create a workout pact with her friends, wherever they were in the world, she'd improve her motivation to keep active. And she was right!")," ",s.a.createElement("p",{className:"w-75 mx-auto p-t-10 black-txt w-56 font-qregular"},"Then, Katie met Pamela, our other Co-founder and a Physiotherapist, who had an 'aha!' moment. Pamela realised that a platform like this would be super helpful to people who face challenges getting active because of a medical condition... like how people with cystic fibrosis struggle to find the time to exercise, can't meet in person to do fun activity or may even struggle to leave the house some days.")," ",s.a.createElement("p",{className:"w-75 mx-auto p-t-10  black-txt font-qregular"},"So, Pamela and Katie joined forces and decided to try to help people with specific health needs to",s.a.createElement("br",null),"feel a bit more badass.")))),s.a.createElement("section",{id:"aboutsection4",className:"aboutsection4-bg p-t-60 p-b-80"},s.a.createElement("div",{className:"container-fluid mx-auto w-55"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-left  "},s.a.createElement("h4",{className:"m-b-30 m-t-50 darkblue-text font-semibold font-24"},"Our Mission"),s.a.createElement("p",{className:"black-txt font-qregular"},"We're all about helping people with a health condition feel good, no matter where they are along their health journey."),s.a.createElement("p",{className:"black-txt font-qregular"},"We're supporting people worldwide to get that 'punch the sky' feeling every day by offering health-condition-specific exercise videos with fun, friendly and super-empathetic support.")),s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-center"},s.a.createElement("figure",null,s.a.createElement("img",{src:D+"Floor_mat_pair_2_RGB.png",className:"img-fluid m-t-20",alt:""})))))),s.a.createElement("section",{id:"aboutsection5",className:"aboutsection5-bg p-t-40 p-b-80"},s.a.createElement("div",{className:"container-fluid mx-auto w-90"},s.a.createElement("div",{className:"col-md-12 col-lg-12 text-center"},s.a.createElement("h4",{className:"m-b-50 m-t-50 orangefont font-semibold font-24 font-normal"},"Our Team"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6 col-lg-4 m-b-20"},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"media row"},s.a.createElement("a",{className:"col-md-12 d-inline-block mx-auto col-sm-4 col-4 p-0 ",href:"javscript:void(0)"},s.a.createElement("img",{className:"media-object dp img-fluid",src:D+"Katie.png"})),s.a.createElement("div",{className:"col-md-12 p-0 text-center m-t-10"},s.a.createElement("h4",{className:"black-txt font-medium font-20 m-b-5"},"Katie Bell "),s.a.createElement("p",{className:"black-txt m-b-5 font-semibold "},"Co-Founder and CEO"),!this.state.expanded.one&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("one",!0)},className:"box--head font-semibold m-b-10"},"Read More")),this.state.expanded.one&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("one",!1)},className:"box--head font-semibold m-b-10"},"Read Less")))),this.state.expanded.one&&s.a.createElement("div",{className:"col-md-12 col-lg-12 p-0 m-t-20 text-left"},s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"And that means..."),s.a.createElement("p",{className:"box--par font-qregular"},"She's a general boss who's always busy making improvements to our product with her coding skills, while running the business")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"What else you should know"),s.a.createElement("p",{className:"box--par font-qregular"},"Katie is a socially-driven, serial entrepreneur with a technical background. After an early career in IT consultancy she found her comfort zone in the world of tech startups."),s.a.createElement("p",{className:"box--par font-qregular"},"When not engrossed in code or uplifting the team with her dedication and endless encouragement, Katie will mainly be found on the side of a mountain and is a qualified ski instructor.")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Where in the world you'll find her"),s.a.createElement("p",{className:"box--par font-qregular"},"Katie lives in New York City, USA, with her husband, two young children and dog, Roxy.")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Katie's feel good formula"),s.a.createElement("p",{className:"box--par font-qregular"},"Tech for good + family time + mountain air + gin + tonic"))))),s.a.createElement("div",{className:"col-md-6 col-lg-4 m-b-20"},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"media row"},s.a.createElement("a",{className:"col-md-12 d-inline-block mx-auto col-sm-4 col-4 p-0 ",href:"javscript:void(0)"},s.a.createElement("img",{className:"media-object dp img-fluid",src:D+"Pamela.png"})),s.a.createElement("div",{className:"col-md-12 p-0 text-center m-t-10"},s.a.createElement("h4",{className:"black-txt font-medium font-20 m-b-5"},"Pamela Scarborough"),s.a.createElement("p",{className:"black-txt m-b-5 font-semibold "},"Co-Founder and Clinical Director"),!this.state.expanded.two&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("two",!0)},className:"box--head font-semibold m-b-10"},"Read More")),this.state.expanded.two&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("two",!1)},className:"box--head font-semibold m-b-10"},"Read Less")))),this.state.expanded.two&&s.a.createElement("div",{className:"col-md-12 col-lg-12 p-0 m-t-20 text-left"},s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"And that means..."),s.a.createElement("p",{className:"box--par font-qregular"},"She figures out how the tech can best be used to help the people who matter: our community members.")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"What else you should know"),s.a.createElement("p",{className:"box--par font-qregular"},"Pamela has a MSc in Physiotherapy and over 15 years' experience working as a physiotherapist (mainly spent helping people with cystic fibrosis)."),s.a.createElement("p",{className:"box--par font-qregular"},"She's also a yoga instructor who regularly lifts the team up with her generosity, words of wisdom and compassionate, calming character.")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Where in the world you'll find her"),s.a.createElement("p",{className:"box--par font-qregular"},"Pamela lives in Sydney, Australia, with her husband, two children and dog, Sol.")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Pamela's Feel good formula"),s.a.createElement("p",{className:"box--par font-qregular"},"Coffee + blue skies + ocean swims + yoga + people you love"))))),s.a.createElement("div",{className:"col-md-6 col-lg-4 m-b-20"},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"media row"},s.a.createElement("a",{className:"col-md-12 d-inline-block mx-auto col-sm-4 col-4 p-0 ",href:"javscript:void(0)"},s.a.createElement("img",{className:"media-object dp img-fluid",src:D+"Mel.png"})),s.a.createElement("div",{className:"col-md-12 p-0 text-center m-t-10"},s.a.createElement("h4",{className:"black-txt font-medium font-20 m-b-5"},"Mel Bennardo"),s.a.createElement("p",{className:"black-txt m-b-5 font-semibold "},"Operations Manager"),!this.state.expanded.three&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("three",!0)},className:"box--head font-semibold m-b-10"},"Read More")),this.state.expanded.three&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("three",!1)},className:"box--head font-semibold m-b-10"},"Read Less")))),this.state.expanded.three&&s.a.createElement("div",{className:"col-md-12 col-lg-12 p-0 m-t-20 text-left"},s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"And that means..."),s.a.createElement("p",{className:"box--par font-qregular"},"Looking at how we work as a team, making things run smoothly and generally helping out across the business with anything people may need help with, specifically process driven usually.")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"What else you should know"),s.a.createElement("p",{className:"box--par font-qregular"},"Coming from an investment banking background, Mel\u2019s career has spanned PR, charity and most recently in to the realm of health and wellbeing. Teaching dance fitness, yoga and meditation, Mel is well versed in both participating and supporting individuals with their health and wellbeing needs while using his corporate trained mind to help solve problems.")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Where in the world you\u2019ll find him"),s.a.createElement("p",{className:"box--par font-qregular"},"London, UK")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Mel's Feel-good formula"),s.a.createElement("p",{className:"box--par font-qregular"},"Hugs +  Pizza +  A good belly laugh"))))),s.a.createElement("div",{className:"col-md-6 col-lg-4 m-b-20"},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"media row"},s.a.createElement("a",{className:"col-md-12 d-inline-block mx-auto col-sm-4 col-4 p-0 ",href:"javscript:void(0)"},s.a.createElement("img",{className:"media-object dp img-fluid",src:D+"Natasha.png"})),s.a.createElement("div",{className:"col-md-12 p-0 text-center m-t-10"},s.a.createElement("h4",{className:"black-txt font-medium font-20 m-b-5"},"Natasha Wynn"),s.a.createElement("p",{className:"black-txt m-b-5 font-semibold "},"Online Studio Manager - Renal & Cancer"),!this.state.expanded.five&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("five",!0)},className:"box--head font-semibold m-b-10"},"Read More")),this.state.expanded.five&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("five",!1)},className:"box--head font-semibold m-b-10"},"Read Less")))),this.state.expanded.five&&s.a.createElement("div",{className:"col-md-12 col-lg-12 p-0 m-t-20 text-left"},s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"And that means..."),s.a.createElement("p",{className:"box--par font-qregular"},"Looking after the online classes for Kidney Beam, and Cancer Care. Also, onboarding clinics and physios ahead of their very first Beam classes, as well as working with Olivia on general online studio tasks.")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"What else you should know"),s.a.createElement("p",{className:"box--par font-qregular"},"Natasha comes from a dance and theatre background, having performed professionally in London and Paris. After too many surgeries stopped her dancing in her late 20s, she retrained a personal trainer, nutrition advisor and has completed courses in barre fitness, and exercise for cancer rehab."),s.a.createElement("p",{className:"box--par font-qregular"},"More recently, since the diagnosis of connective tissue disorder Ehlers Danlos Syndrome, Natasha stepped back from teaching full time and has been managing boutique fitness studios.")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Where in the world you'll find her"),s.a.createElement("p",{className:"box--par font-qregular"},"London, UK")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Natasha's Feel-good formula"),s.a.createElement("p",{className:"box--par font-qregular"},"Sunshine + Hugs + Coffee + Cats (+ the ocean for a bonus)"))))),s.a.createElement("div",{className:"col-md-6 col-lg-4 m-b-20"},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"media row"},s.a.createElement("a",{className:"col-md-12 d-inline-block mx-auto col-sm-4 col-4 p-0 ",href:"javscript:void(0)"},s.a.createElement("img",{className:"media-object dp img-fluid",src:D+"Olivia.png"})),s.a.createElement("div",{className:"col-md-12 p-0 text-center m-t-10"},s.a.createElement("h4",{className:"black-txt font-medium font-20 m-b-5"},"Olivia Clark"),s.a.createElement("p",{className:"black-txt m-b-5 font-semibold "},"Online Studio Manager - Cystic Fibrosis"),!this.state.expanded.six&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("six",!0)},className:"box--head font-semibold m-b-10"},"Read More")),this.state.expanded.six&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("six",!1)},className:"box--head font-semibold m-b-10"},"Read Less")))),this.state.expanded.six&&s.a.createElement("div",{className:"col-md-12 col-lg-12 p-0 m-t-20 text-left"},s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"And that means..."),s.a.createElement("p",{className:"box--par font-qregular"},"Looking after the online classes for Cystic Fibrosis. Also, onboarding independent instructors and working with Natasha on general online studio tasks.")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"What else you should know"),s.a.createElement("p",{className:"box--par font-qregular"},"Olivia was diagnosed with CF at the age of 11. It's believed that she had a late diagnosis due to dance keeping her healthy for most of her childhood."),s.a.createElement("p",{className:"box--par font-qregular"},"Olivia began dancing at the age of 4 and trained for 14 years. She is also a 200-hour registered yoga teacher,  that specializes in yin and restorative yoga, as well as children's yoga.")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Where in the world you'll find her"),s.a.createElement("p",{className:"box--par font-qregular"},"In South Carolina, US with her husband and two rescue fur babies, Irma (cat) and Winnie (dog).")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Olivia's Feel-good formula"),s.a.createElement("p",{className:"box--par font-qregular"},"Animals + Dance + Being Outside  + Wine + Fleetwood Mac"))))),s.a.createElement("div",{className:"col-md-6 col-lg-4 m-b-20"},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"media row"},s.a.createElement("a",{className:"col-md-12 d-inline-block mx-auto col-sm-4 col-4 p-0 ",href:"javscript:void(0)"},s.a.createElement("img",{className:"media-object dp img-fluid",src:D+"Michael.png"})),s.a.createElement("div",{className:"col-md-12 p-0 text-center m-t-10"},s.a.createElement("h4",{className:"black-txt font-medium font-20 m-b-5"},"Michael Jones"),s.a.createElement("p",{className:"black-txt m-b-5 font-semibold "},"Digital Marketing & Communications Manager"),!this.state.expanded.eight&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("eight",!0)},className:"box--head font-semibold m-b-10"},"Read More")),this.state.expanded.eight&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("eight",!1)},className:"box--head font-semibold m-b-10"},"Read Less")))),this.state.expanded.eight&&s.a.createElement("div",{className:"col-md-12 col-lg-12 p-0 m-t-20 text-left"},s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"And that means..."),s.a.createElement("p",{className:"box--par font-qregular"},"Help to generate awareness of Beam through our communications channels and ensure that Beam\u2019s value proposition is meeting the needs of customers to support and empower them to be more physically active")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"What else you should know"),s.a.createElement("p",{className:"box--par font-qregular"},"Michael has spent the last 8 years working on digital marketing projects in the fitness industry. Most recently Michael has completed an MBA at the University of Surrey. Michael has worked on projects as wide ranging as optimising BMF\u2019s paid media strategy, launching new clubs and fitness products and developing an retention model for online platforms in the fitness industry for his dissertation."),s.a.createElement("p",{className:"box--par font-qregular"},"Michael has a long standing passion for physical activity, coming from a background as a competitive swimmer and now can often be found training for endurance events and has a long standing ambition to swim the English channel")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Where in the world you\u2019ll find him"),s.a.createElement("p",{className:"box--par font-qregular"},"Surrey, UK")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Michael's Feel-good formula"),s.a.createElement("p",{className:"box--par font-qregular"},"Travel + Outdoor Sports + Red Wine"))))),s.a.createElement("div",{className:"col-md-6 col-lg-4 m-b-20"},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"media row"},s.a.createElement("a",{className:"col-md-12 d-inline-block mx-auto col-sm-4 col-4 p-0",href:"javscript:void(0)"},s.a.createElement("img",{className:"media-object dp img-fluid",src:D+"Sharlene.png"})),s.a.createElement("div",{className:"col-md-12 p-0 text-center m-t-10"},s.a.createElement("br",null),s.a.createElement("h4",{className:"black-txt font-medium font-20 m-b-5"},"Sharlene Greenwood"),s.a.createElement("p",{className:"black-txt m-b-5 font-semibold "},"Kidney Beam Lead"),!this.state.expanded.nine&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("nine",!0)},className:"box--head font-semibold m-b-10"},"Read More")),this.state.expanded.nine&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("nine",!1)},className:"box--head font-semibold m-b-10"},"Read Less")))),this.state.expanded.nine&&s.a.createElement("div",{className:"col-md-12 col-lg-12 p-0 m-t-20 text-left"},s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"And that means..."),s.a.createElement("p",{className:"box--par font-qregular"},"She's helping set up our new kidney service on Beam, affectionately known as \u2018Kidney Beam\u2019")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"What else you should know"),s.a.createElement("p",{className:"box--par font-qregular"},"Sharlene has a PhD and specialises in all things related to exercise and wellbeing for people living with kidney disease. She is also the President of the British Renal Society. As well as having 16 years of experience working with people with kidney disease, Sharlene is also a qualified Pilates Instructor who teaches the Physio-led Pilates sessions on Kidney Beam.")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Where in the world you'll find her"),s.a.createElement("p",{className:"box--par font-qregular"},"London, UK")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Sharlene's Feel-good formula"),s.a.createElement("p",{className:"box--par font-qregular"},"Family + Coco our dog + exercise with my team + coffee!"))))),s.a.createElement("div",{className:"col-md-6 col-lg-4 m-b-20"},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"media row"},s.a.createElement("a",{className:"col-md-12 d-inline-block mx-auto col-sm-4 col-4 p-0",href:"javscript:void(0)"},s.a.createElement("img",{className:"media-object dp img-fluid",src:D+"Sue.png"})),s.a.createElement("div",{className:"col-md-12 p-0 text-center m-t-10"},s.a.createElement("h4",{className:"black-txt font-medium font-20 m-b-5"},"Sue Mercer"),s.a.createElement("p",{className:"black-txt m-b-5 font-semibold "},"Video Editor"),!this.state.expanded.ten&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("ten",!0)},className:"box--head font-semibold m-b-10"},"Read More")),this.state.expanded.ten&&s.a.createElement("p",null,s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.ChangeStateReadLess("ten",!1)},className:"box--head font-semibold m-b-10"},"Read Less")))),this.state.expanded.ten&&s.a.createElement("div",{className:"col-md-12 col-lg-12 p-0 m-t-20 text-left"},s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"And that means..."),s.a.createElement("p",{className:"box--par font-qregular"},"Exactly what it says on the tin! Sue is the one who downloads the (huge!) recorded live classes, chops off the front and end (the bits where the instructors are right up close to the"),s.a.createElement("p",{className:"box--par font-qregular"},"camera pressing the stop/start button!) and adds the titles and logos to make them ready for going on demand.")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"What else you should know"),s.a.createElement("p",{className:"box--par font-qregular"},"A qualified mechanical engineer, Sue has always worked in \u2018tech\u2019 roles, starting out as a project engineer on tunnelling machines for digging sewers (glamorous!) to more recently producing and editing videos and podcasts, alongside creating websites. She definitely prefers being behind the camera rather than in front of it. Sue took up running relatively recently, and has completed a few ultra marathons and other long distance events, in addition to open water swimming, having last year achieved (one of) her childhood dreams of swimming to the Isle of Wight!")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Where in the world you'll find her"),s.a.createElement("p",{className:"box--par font-qregular"},"In the beautiful World Heritage City of Bath, UK, with my two teenage kids.")),s.a.createElement("div",{className:"m-t-15"},s.a.createElement("p",{className:"box--head font-semibold m-b-10"},"Sue's Feel-good formula"),s.a.createElement("p",{className:"box--par font-qregular"},"Long coastal run + hot shower afterwards + cup of tea (or glass of champagne)"))))))))),s.a.createElement("section",{id:"aboutsection6",className:"aboutsection6-bg p-t-80 p-b-100"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-center"},s.a.createElement("figure",null,s.a.createElement("img",{src:D+"About_blog_img2.png",className:"img-fluid",alt:""}))),s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-left  m-t-60"},s.a.createElement("h4",{className:"m-b-30 m-t-50 font-semibold font-24 font-normal darkblue-text"},"Our Company"),s.a.createElement("p",{className:"black-txt font-qregular w-75"},"We\u2019re a bootstrapped startup who got off the ground thanks to lots of time and money investment from our founding team, whose dedication and passion for our mission to make you feel good is unwavering."),s.a.createElement("p",{className:"black-txt  font-qregular"},"We\u2019ve also had a helping hand from grants and the support of our partners\u2026"))))),s.a.createElement("div",{className:"work-with-us"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-purple"},"Our Friends & Collaborators"),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 offset-lg-0 col-md-12 offset-md-0 col-sm-8 offset-sm-2 col-12 offset-0"},s.a.createElement("div",{class:"outer-wrapper"},s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/CFF.png"})),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/CFT.png"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/CFA.png"})),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/CF_Ireland.jpg"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/Breas.png"})),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/ACPCF.png"}))))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 offset-lg-0 col-md-12 offset-md-0 col-sm-8 offset-sm-2 col-12 offset-0"},s.a.createElement("div",{class:"outer-wrapper"},s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/Brompton.png"})),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/NHS-newcastle.png"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/UofE.png"})),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/Philips.png"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/peppy.png"}))))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 offset-lg-0 col-md-12 offset-md-0 col-sm-8 offset-sm-2 col-12 offset-0"},s.a.createElement("div",{class:"outer-wrapper"},s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"KRUK-logo.png"})),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/BRS-Logo.jpg"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/renal_logo_cmyk.jpg"})),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/King-sCollegeHospital-NHS-Foundation-Trust-RGB-BLUE-right.jpg"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",className:"w-55",src:D+"logos/WoSACF.png"})),s.a.createElement("div",{class:"wrap"}))))))),s.a.createElement("div",{className:"section-4 aboutsection8-bg"},s.a.createElement("div",{className:"col-md-6 ml-auto mr-auto"},s.a.createElement("h4",{className:"text-center purplefont font-semibold font-normal font-24 m-b-60"},"Contact Us"),s.a.createElement(fs,{location:this.props.location}))))}}]),a}(s.a.Component),vs=Object(i.b)((function(e){return{close_banner:e.header.close_banner,close_banner_kd:e.header.close_banner_kd}}),{})(bs),Es=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={user:{},users:[]},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.state;e.user,e.users;return s.a.createElement("section",{className:("undefined"!=typeof Go.Cookies.get("closeBanner")&&"false"!=Go.Cookies.get("closeBanner")||this.props.close_banner)&&("undefined"!=typeof Go.Cookies.get("closeBannerKD")&&"false"!=Go.Cookies.get("closeBannerKD")||this.props.close_banner_kd)?"contactcontent m-t-80":"contactcontent"},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Contact us",ye),s.a.createElement("meta",{property:"og:title",content:"Contact us"+ye}),s.a.createElement("meta",{property:"og:description",content:"Want to reach the Beam Team? Whether you have a specific question or just want to share some thoughts, find us on social media or slip into our email inbox."}),s.a.createElement("meta",{property:"og:image",content:Be}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Mountains with character skiing"})),s.a.createElement("div",{className:"section-1"},s.a.createElement("div",{className:""},s.a.createElement("div",{className:"col-md-12 ml-auto mr-auto"},s.a.createElement("h5",{className:"font-37 white-txt font-medium m-t-10"},"Contact Us")))),s.a.createElement("div",{className:"section-2 p-b-0"},s.a.createElement("div",{className:"col-md-4 ml-auto mr-auto"},s.a.createElement("div",{className:"socialicons"},s.a.createElement("ul",{className:"text-center"},s.a.createElement("li",null,s.a.createElement("a",{href:"https://twitter.com/beamfeelgood",target:"_blank"},s.a.createElement("i",{className:"fa fa-twitter"}))),s.a.createElement("li",null,s.a.createElement("a",{href:"https://www.linkedin.com/company/beamfeelgood",target:"_blank"},s.a.createElement("i",{className:"fa fa-linkedin"}))),s.a.createElement("li",null,s.a.createElement("a",{href:"https://www.facebook.com/feelgoodbeam",target:"_blank"},s.a.createElement("i",{className:"fa fa-facebook"}))),s.a.createElement("li",null,s.a.createElement("a",{href:"https://www.instagram.com/beam_cf",target:"_blank"},s.a.createElement("i",{className:"fa fa-instagram"}))))))),s.a.createElement("div",{className:"section-4 p-t-0"},s.a.createElement("div",{className:"col-md-6 ml-auto mr-auto"},s.a.createElement("h5",{className:"form-heading font-30 font-semibold"},"Fill in the form, it's easy!"),s.a.createElement(fs,{location:this.props.location,from:"contact"}))))}}]),a}(s.a.Component),ys=Object(i.b)((function(e){return{close_banner:e.header.close_banner,close_banner_kd:e.header.close_banner_kd}}),{})(Es),_s=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={firstname:!o.props.registerFormvalues.firstname,lastname:!o.props.registerFormvalues.lastname,submitted:!1},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.registerSubmit_1=o.registerSubmit_1.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;o=1===o.length?o.trim():o,this.setState(Object(rs.a)({},a,o)),this.props.registerFormvalues[a]=o}},{key:"registerSubmit_1",value:function(){this.setState({submitted:!0}),this.props.registerFormvalues.firstname&&this.props.registerFormvalues.lastname&&this.props.registerFormvalues.firstname.length<=50&&this.props.registerFormvalues.lastname.length<=50&&(this.props.registerFormvalues.beamchallenging=localStorage.getItem("beamchallenging"),this.props.registerformUpdate(this.props.registerFormvalues),this.props.nextStep(),hs.a.event({category:"User Acquisition",action:"Sign up process",label:"Name"}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"step1"},s.a.createElement("h3",{className:"text-center "}," ",s.a.createElement("span",{className:"pull-left pointer d-none",onClick:this.props.prevStep},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"What\u2019s your name? ",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")," "),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-10"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"firstname",className:"text-label"},"First name"),s.a.createElement("input",{type:"text",name:"firstname",id:"firstname",className:"form-control input-control",length:"100",onChange:this.handleChange,value:this.props.registerFormvalues.firstname,required:!0}),this.state.submitted&&!this.props.registerFormvalues.firstname&&s.a.createElement("p",{className:"text-danger"},"First name is required"),this.state.submitted&&this.props.registerFormvalues.firstname.length>50&&s.a.createElement("p",{className:"text-danger"},"First name is too long")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"lastname",className:"text-label"},"Last name"),s.a.createElement("input",{type:"text",name:"lastname",id:"lastname",className:"form-control input-control",onChange:this.handleChange,value:this.props.registerFormvalues.lastname,required:!0}),this.state.submitted&&!this.props.registerFormvalues.lastname&&s.a.createElement("p",{className:"text-danger"},"Last name is required"),this.state.submitted&&this.props.registerFormvalues.lastname.length>50&&s.a.createElement("p",{className:"text-danger"},"Last name is too long")),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-80 m-b-20 float-left"},s.a.createElement("span",{className:"bluebtn float-left w-100 text-center pointer",onClick:this.registerSubmit_1},"Next")))))}}]),a}(s.a.Component),ks=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={username:o.props.registerFormvalues.username},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.registerSubmit_2=o.registerSubmit_2.bind(Object(is.a)(o)),o.checkUserExist=o.checkUserExist.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(rs.a)({},a,o)),this.props.registerFormvalues[a]=o}},{key:"registerSubmit_2",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(console.log("type",this.props.registerFormvalues),this.setState({username:""}),this.props.registerFormvalues.username=""),this.props.registerformUpdate(this.props.registerFormvalues),this.checkUserExist(),hs.a.event({category:"User Acquisition",action:"Sign up process",label:"Nickname"})}},{key:"checkUserExist",value:function(){var e=this;if(this.props.registerFormvalues.username){var t={email:this.props.registerFormvalues.username,isEmail:0};this.props.checkUserExist(t).then((function(t){e.props.nextStep()}),(function(e){at.b.error(e)}))}else this.props.nextStep()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step2"},s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:this.props.prevStep},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Want an alter-ego?",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-10"},s.a.createElement("p",{className:"text-label"},"Please choose a nickname that you (or the person you are signing up for) want to be known by on Beam"),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"username",id:"username",className:"form-control input-control",onChange:this.handleChange,value:this.state.username})),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{id:"register-link",className:" w-100  m-b-20 float-left"},s.a.createElement("span",{onClick:function(){e.registerSubmit_2(!0)},className:"btn-blue-inverse float-left w-100 font-medium text-center pointer"},"No,thank you"))),s.a.createElement("p",{className:"text-label"},"(Other Beam users will be able to see your name on class reviews and in groups if an alternative isn't entered.)"),s.a.createElement("div",{className:"  w-100 m-t-10 m-b-10 float-left text-center"},s.a.createElement("img",{className:"img-fluid",alt:"",src:D+"signupimg1.png"})),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-50 m-b-20 float-left"},s.a.createElement("span",{className:"bluebtn float-left w-100 text-center pointer",onClick:function(){e.registerSubmit_2(!1)}},"Next")))))}}]),a}(s.a.Component),Ns={start_loader:ht,stop_loader:gt,checkUserExist:Ut},ws=Object(i.b)((function(e){return{}}),Ns)(ks),Cs=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={email_error:!o.props.registerFormvalues.email,email_pattern_error:!_o.mailPatternCheck(o.props.registerFormvalues.email),submitted:!1},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.registerSubmit_3=o.registerSubmit_3.bind(Object(is.a)(o)),o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.checkUserExist=o.checkUserExist.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.props.registerFormvalues[a]=o;var s=""===e.target.value,n=_o.mailPatternCheck(e.target.value);this.setState({email_error:s,email_pattern_error:!n})}},{key:"handleCheckboxChange",value:function(e){var t=e.target.name;this.props.registerFormvalues[t]=!this.props.registerFormvalues[t]}},{key:"registerSubmit_3",value:function(){this.setState({submitted:!0}),(this.state.email_error||this.state.email_pattern_error)&&!0!==this.props.registerFormvalues.ispackster||!0!==this.props.registerFormvalues.terms||(this.props.registerformUpdate(this.props.registerFormvalues),this.checkUserExist(),hs.a.event({category:"User Acquisition",action:"Sign up process",label:"Email"}))}},{key:"checkUserExist",value:function(){var e=this;if(this.props.registerFormvalues.email){var t={email:this.props.registerFormvalues.email,isEmail:1};this.props.checkUserExist(t).then((function(t){e.props.registerFormvalues.facebookId?e.props.gotoStep(5):e.props.nextStep()}),(function(e){at.b.error(e)}))}else!0===this.props.registerFormvalues.ispackster?this.props.gotoStep(5):this.props.nextStep()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step3"},s.a.createElement("h3",{className:"text-center "},!1===this.props.registerFormvalues.ispackster&&s.a.createElement("span",{className:"pull-left pointer",onClick:function(){return e.props.prevStep()}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),!0===this.props.registerFormvalues.ispackster?"We just need to grab a few more details from you before you can start Beaming...":"How can we reach you?",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-10"},!1===this.props.registerFormvalues.ispackster&&s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"email",className:"text-label"},"Email Address"),s.a.createElement("input",{type:"text",name:"email",id:"email",className:"form-control input-control",onChange:this.handleChange,value:this.props.registerFormvalues.email,required:!0,readOnly:!!this.props.registerFormvalues.research}),this.state.submitted&&this.state.email_error&&s.a.createElement("p",{className:"text-danger"},"Email is required"),this.state.submitted&&!this.state.email_error&&this.state.email_pattern_error&&s.a.createElement("p",{className:"text-danger"},"Invalid Email")),!this.props.registerFormvalues.research&&s.a.createElement("div",null,s.a.createElement("p",{className:"font-14 font-qmedium black-txt m-t-20 m-b-20 "},"Sign up to be the first to see the latest releases on Beam, class recommendations, your personal activity stats, research opportunities and so much more"),s.a.createElement("div",{className:"toggle-btns float-left w-100"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},"The latest updates, classes & features"),s.a.createElement("label",{className:"switch m-l-10 m-t-10 pull-right",htmlFor:"is_newfeature_updates"},s.a.createElement("input",{type:"checkbox",name:"is_newfeature_updates",id:"is_newfeature_updates",defaultChecked:this.props.registerFormvalues.is_newfeature_updates,onChange:this.handleCheckboxChange,value:this.props.registerFormvalues.is_newfeature_updates}),s.a.createElement("div",{className:"slider round"}))),s.a.createElement("div",{className:"toggle-btns float-left w-100"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},"Research opportunities"),s.a.createElement("label",{className:"switch m-l-10 m-t-10 pull-right",htmlFor:"is_research_opportunities"},s.a.createElement("input",{type:"checkbox",name:"is_research_opportunities",id:"is_research_opportunities",defaultChecked:this.props.registerFormvalues.is_research_opportunities,onChange:this.handleCheckboxChange,value:this.props.registerFormvalues.is_research_opportunities}),s.a.createElement("div",{className:"slider round"})))),s.a.createElement("p",{className:"font-14 font-qmedium black-txt float-left m-t-20"},"Can you confirm you\u2019ve read our\u2026?"),s.a.createElement("div",{className:"toggle-btns float-left w-100"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},s.a.createElement("a",{className:"black-txt",href:"/terms",target:"_blank"}," ",s.a.createElement("u",null,"T&Cs")," "),"and ",s.a.createElement("a",{className:"black-txt",href:"/privacy",target:"_blank"},s.a.createElement("u",null,"Privacy policy\u2026"))),s.a.createElement("label",{className:"switch m-l-10 m-t-10 pull-right",htmlFor:"terms"},s.a.createElement("input",{type:"checkbox",name:"terms",id:"terms",defaultChecked:this.props.registerFormvalues.terms,onChange:this.handleCheckboxChange,value:this.props.registerFormvalues.terms}),s.a.createElement("div",{className:"slider round"})),this.state.submitted&&!1===this.props.registerFormvalues.terms&&s.a.createElement("p",{className:"text-danger"},"This Field is required")),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-80 m-b-20 float-left"},s.a.createElement("span",{onClick:this.registerSubmit_3,className:"bluebtn float-left w-100 text-center pointer"},"Next")))))}}]),a}(s.a.Component),xs={start_loader:ht,stop_loader:gt,checkUserExist:Ut},Ss=Object(i.b)((function(e){return{}}),xs)(Cs),Os=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={password:o.props.registerFormvalues.password,confirm_password:o.props.registerFormvalues.password,password_error:!0,error_msg:null,submitted:!1},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.strongPasswordValidation=o.strongPasswordValidation.bind(Object(is.a)(o)),o.registerSubmit_4=o.registerSubmit_4.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.strongPasswordValidation()}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(rs.a)({},a,o)),this.props.registerFormvalues[a]=o,this.strongPasswordValidation()}},{key:"strongPasswordValidation",value:function(){var e=this.props.registerFormvalues.password;if(""!==e&&e===this.props.registerFormvalues.confirm_password){if(e&&e.length<8)return void this.setState({error_msg:"Password must contain at least eight characters",password_error:!0});if(e==this.props.registerFormvalues.username)return void this.setState({error_msg:"Password must be different from Username",password_error:!0});if(!/[0-9]/.test(e))return void this.setState({error_msg:"Password must contain at least one number (0-9)",password_error:!0});if(!/[a-z]/.test(e))return void this.setState({error_msg:"password must contain at least one lowercase letter (a-z)",password_error:!0});return/[A-Z]/.test(e)?void this.setState({error_msg:null,password_error:!1}):void this.setState({error_msg:"password must contain at least one uppercase letter (A-Z)",password_error:!0})}this.setState({error_msg:"Please check that you've entered and confirmed your password",password_error:!0})}},{key:"registerSubmit_4",value:function(){this.setState({submitted:!0}),this.strongPasswordValidation(),this.state.password_error||(this.props.registerformUpdate(this.props.registerFormvalues),this.props.registerFormvalues.research?this.props.setStep(22,"forward"):this.props.nextStep(),hs.a.event({category:"User Acquisition",action:"Sign up process",label:"Password creation"}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"step4"},s.a.createElement("h3",{className:"text-center "},s.a.createElement("a",{className:"pull-left",href:"javascript:void(0)",onClick:this.props.prevStep},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Let\u2019s keep your details secure",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-10"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password",className:"text-label"},"Enter password"),s.a.createElement("input",{type:"password",name:"password",id:"password",className:"form-control input-control",onChange:this.handleChange,value:this.state.password})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"confirm_password",className:"text-label"},"Re-enter password"),s.a.createElement("input",{type:"password",name:"confirm_password",id:"confirm_password",className:"form-control input-control",onChange:this.handleChange,value:this.state.confirm_password}),this.state.submitted&&this.state.error_msg&&s.a.createElement("p",{className:"text-danger"},this.state.error_msg)),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-80 m-b-20 float-left"},s.a.createElement("a",{href:"javascript:void(0)",onClick:this.registerSubmit_4,className:"bluebtn float-left w-100 text-center"},"Next")))))}}]),a}(s.a.Component),Ls={setStep:Ct},Ds=Object(i.b)((function(e){return{}}),Ls)(Os),Ms=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={gender:o.props.registerFormvalues.gender,submitted:!1},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.backMove=o.backMove.bind(Object(is.a)(o)),o.registerSubmit_5=o.registerSubmit_5.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"handleChange",value:function(e){this.setState({gender:e}),this.props.registerFormvalues.gender=e}},{key:"registerSubmit_5",value:function(){this.setState({submitted:!0}),""!=this.props.registerFormvalues.gender&&(hs.a.event({category:"User Acquisition",action:"Sign up process",label:"Gender"}),this.props.nextStep())}},{key:"backMove",value:function(){!0===this.props.registerFormvalues.ispackster?this.props.gotoStep(3):this.props.gotoStep(6)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step5"},s.a.createElement("h3",{className:"text-center "},s.a.createElement("a",{className:"pull-left",href:"javascript:void(0)",onClick:this.backMove},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"What gender do you identify with?",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-20"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{id:"register-link",className:" w-100  m-b-20 float-left"},s.a.createElement("a",{href:"javascript:void(0)",className:1===this.props.registerFormvalues.gender?"btn-orange btn-gender float-left w-100 text-center":"btn-orange-inverse float-left btn-gender w-100 text-center",onClick:function(){return e.handleChange(1)}},"Male")),s.a.createElement("div",{id:"register-link",className:" w-100  m-b-20 float-left"},s.a.createElement("a",{href:"javascript:void(0)",className:2===this.props.registerFormvalues.gender?"btn-orange btn-gender float-left w-100 text-center":"btn-orange-inverse btn-gender float-left w-100 text-center",onClick:function(){return e.handleChange(2)}},"Female")),s.a.createElement("div",{id:"register-link",className:" w-100  m-b-20 float-left"},s.a.createElement("a",{href:"javascript:void(0)",className:3===this.props.registerFormvalues.gender?"btn-orange btn-gender float-left w-100 text-center":"btn-orange-inverse btn-gender float-left w-100 text-center",onClick:function(){return e.handleChange(3)}},"Neither")),this.state.submitted&&!this.state.gender&&s.a.createElement("p",{className:"help-block text-danger"},"Gender is required")),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-80 m-b-20 float-left"},s.a.createElement("a",{href:"javascript:void(0)",onClick:this.registerSubmit_5,className:"bluebtn float-left font-medium font-14 w-100 text-center"},"Next")))))}}]),a}(s.a.Component),Is=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={profession:o.props.registerFormvalues.profession,submitted:!1,profession_localtab:o.props.registerFormvalues.profession_localtab},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.registerSubmit_6=o.registerSubmit_6.bind(Object(is.a)(o)),o.goBack=o.goBack.bind(Object(is.a)(o)),o.getColor=o.getColor.bind(Object(is.a)(o)),o.health_conditionId=o.props.registerFormvalues.health_condition[o.props.condition_index].id,o.condition_professions=Eo.a.find(o.props.registerFormvalues.condition_professions,{conditionId:o.health_conditionId}),o.selected_condition_list=o.props.registerFormvalues.health_condition[o.props.condition_index],console.log("this.condition_professions",o.condition_professions),console.log("this.this.selected_condition_list",o.selected_condition_list),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("this.props.registerFormvalues",this.props.registerFormvalues);this.props.registerFormvalues.health_condition.filter((function(e){return"asthma kids"==e.tag})).length>0&&"asthma kids"==this.props.registerFormvalues.health_condition[this.props.condition_index].tag&&!Object.keys(this.props.registerFormvalues.tagCode).length&&this.props.setStep(25),this.props.setPageTitle("Are you...")}},{key:"getColor",value:function(e){var t=R.indexOf("cond_"+e);return t>-1?R[t]:R[0]}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState({profession:o}),console.log("handlechange-profession-name",a),console.log("handlechange-profession-value",o),this.props.registerFormvalues[a]=o,console.log("handlechange-profession-valuetotal",this.props.registerFormvalues[a])}},{key:"registerSubmit_6",value:function(){switch(console.log("registerSubmit_6",this.props.registerFormvalues.profession),console.log("registerSubmit_6-index",this.props.condition_index),this.setState({submitted:!0}),this.props.registerFormvalues.profession){case"1":this.props.registerFormvalues.profession&&(console.log("case-1"),this.setState({healthcondition_livewith:"",midicalcondition_livewith:""}),this.props.registerFormvalues.healthcondition_livewith="",this.props.registerFormvalues.midicalcondition_livewith="",this.selected_condition_list.tag==k?this.props.gotoStep(28):this.props.gotoStep(13),this.condition_professions?this.condition_professions.conditionRelationship=se[parseInt(this.props.registerFormvalues.profession)]:this.props.registerFormvalues.condition_professions.push({conditionId:this.health_conditionId,conditionRelationship:se[parseInt(this.props.registerFormvalues.profession)],caregiverType:"",profession:"",clinicId:"",patientPopulation:""}));break;case"2":console.log("case-2"),this.props.registerFormvalues.healthcondition_livewith&&(console.log("case-2-in"),this.setState({midicalcondition_livewith:""}),this.props.registerFormvalues.midicalcondition_livewith=""),this.condition_professions?this.condition_professions.conditionRelationship=se[parseInt(this.props.registerFormvalues.profession)]:this.props.registerFormvalues.condition_professions.push({conditionId:this.health_conditionId,conditionRelationship:se[parseInt(this.props.registerFormvalues.profession)],caregiverType:"",profession:"",clinicId:"",patientPopulation:""}),this.props.nextStep();break;case"3":this.props.registerFormvalues.midicalcondition_livewith&&(this.setState({healthcondition_livewith:""}),this.props.registerFormvalues.healthcondition_livewith=""),this.condition_professions?this.condition_professions.conditionRelationship=se[parseInt(this.props.registerFormvalues.profession)]:this.props.registerFormvalues.condition_professions.push({conditionId:this.health_conditionId,conditionRelationship:se[parseInt(this.props.registerFormvalues.profession)],caregiverType:"",profession:"",clinicId:"",patientPopulation:""}),this.props.nextStep();break;case"4":this.setState({healthcondition_livewith:"",midicalcondition_livewith:""}),this.props.registerFormvalues.healthcondition_livewith="",this.props.registerFormvalues.midicalcondition_livewith="",this.props.gotoStep(13),this.condition_professions?this.condition_professions.conditionRelationship=se[parseInt(this.props.registerFormvalues.profession)]:this.props.registerFormvalues.condition_professions.push({conditionId:this.health_conditionId,conditionRelationship:se[parseInt(this.props.registerFormvalues.profession)],caregiverType:"",profession:"",clinicId:"",patientPopulation:""})}hs.a.event({category:"User Acquisition",action:"Sign up process",label:"Relationship to condition"})}},{key:"goBack",value:function(){230==this.props.registerFormvalues.country?this.props.setStep(17,"backward"):this.props.prevStep()}},{key:"render",value:function(){var e=this;return console.log("healthcondition_list",this.props.healthcondition_list),s.a.createElement("div",{className:"step6"},"mycondition"!=this.props.pageFrom&&s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:this.goBack},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Are you...",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-7 m-t-10"},s.a.createElement("button",{className:"capitalize_text con-btn position-relative float-left font-semibold font-15 m-b-10 "+this.getColor(this.selected_condition_list.tag.replace(" ","-").toLowerCase())},this.selected_condition_list.tag),s.a.createElement("p",{className:"text-label"},s.a.createElement("b",null,"Please select one")),s.a.createElement("div",null,this.props.conditionRelationshipList.map((function(t,a){return s.a.createElement("div",{key:a,className:"row radio-section"},s.a.createElement("span",{className:"text-label col-10"},t),s.a.createElement("div",{className:"radio pull-right text-right col-2"},s.a.createElement("input",{id:"radio-"+(a+1),name:"profession",value:a+1,type:"radio",defaultChecked:e.condition_professions&&e.condition_professions.conditionRelationship===t,onChange:e.handleChange}),s.a.createElement("label",{htmlFor:"radio-"+(a+1),className:"radio-label"})))})),this.state.submitted&&""===this.props.registerFormvalues.profession&&s.a.createElement("p",{className:"text-danger"},"This is required")),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-80 m-b-20 float-left"},s.a.createElement("span",{onClick:function(){return e.registerSubmit_6()},className:"bluebtn float-left w-100 text-center pointer"},"Next")))))}}]),a}(s.a.Component),js={setConditionIndex:Bt,setPageTitle:zt},Ts=Object(i.b)((function(e){return{clinic_list:e.register.clinic_list,condition_index:e.register.condition_index}}),js)(Is),Fs=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={country:o.props.registerFormvalues.country,region:o.props.registerFormvalues.region,regionList:[],regionloader:!1,submitted:!1},o.updateCountry=o.updateCountry.bind(Object(is.a)(o)),o.updateRegion=o.updateRegion.bind(Object(is.a)(o)),o.getRegionList=o.getRegionList.bind(Object(is.a)(o)),o.registerSubmit_7=o.registerSubmit_7.bind(Object(is.a)(o)),console.log("this.props",o.props),o.props.registerFormvalues.country&&o.getRegionList(o.props.registerFormvalues.country),o}return Object(Wo.a)(a,[{key:"updateCountry",value:function(e){e.target.value&&(this.setState({country:e.target.value}),this.props.registerFormvalues.country=e.target.value,this.getRegionList(e.target.value))}},{key:"getRegionList",value:function(e){var t=this;e&&(this.setState({regionloader:!0}),this.props.getRegionList(e).then((function(e){var a=e.region?e.region:[];t.setState({regionList:a,regionloader:!1})}),(function(e){t.setState({regionloader:!1}),at.b.error(e)})))}},{key:"updateRegion",value:function(e){this.setState({region:e.target.value}),this.props.registerFormvalues.region=e.target.value}},{key:"registerSubmit_7",value:function(){this.setState({submitted:!0}),this.props.registerFormvalues.country&&(this.props.registerformUpdate(this.props.registerFormvalues),230==this.props.registerFormvalues.country||231==this.props.registerFormvalues.country?this.props.setStep(17,"forward"):this.props.nextStep()),hs.a.event({category:"User Acquisition",action:"Sign up process",label:"Country"})}},{key:"render",value:function(){return s.a.createElement("div",{className:"step7"},s.a.createElement("h3",{className:"text-center "},s.a.createElement("a",{className:"pull-left",href:"javascript:void(0)",onClick:this.props.prevStep},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Where are you based?",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-10"},s.a.createElement("div",{className:"form-group mx-auto w-75"},s.a.createElement("label",{htmlFor:"country",className:"text-label"},"Country"),s.a.createElement("div",{className:"dropdown"},s.a.createElement("select",{name:"country",value:this.props.registerFormvalues.country,className:"form-control",onChange:this.updateCountry},s.a.createElement("option",{className:"pointer"},"Select country"),this.props.countries_list.map((function(e,t){return s.a.createElement("option",{className:"pointer",key:"country_"+e.id,value:e.id},e.countryName)})))),this.state.submitted&&this.props.registerFormvalues&&!this.props.registerFormvalues.country&&s.a.createElement("p",{className:"help-block text-danger"},"Country is required")),this.props.registerFormvalues.country&&this.props.registerFormvalues.country.length>0&&this.state.regionList.length>0&&s.a.createElement("div",{className:"form-group mx-auto w-75"},s.a.createElement("label",{htmlFor:"region",className:"text-label"},"Region"),s.a.createElement("div",{className:"dropdown"},s.a.createElement("select",{name:"region",disabled:this.state.regionloader,value:this.props.registerFormvalues.region,className:"form-control",onChange:this.updateRegion},s.a.createElement("option",{className:"pointer"},"Select region"),this.state.regionList.map((function(e,t){return s.a.createElement("option",{className:"pointer",key:"region_"+e.id,value:e.id},e.name)}))))),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-80 m-b-20 float-left"},s.a.createElement("a",{href:"javascript:void(0)",onClick:this.registerSubmit_7,className:"bluebtn float-left font-medium font-14 w-100 text-center"},"Next")))))}}]),a}(s.a.Component),Ps={start_loader:ht,stop_loader:gt,getRegionList:Dt,setStep:Ct},Us=Object(i.b)((function(e){return{countries_list:e.register.countries_list}}),Ps)(Fs),Rs=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={health_condition:o.props.registerFormvalues.health_condition,submitted:!1},o.conditonClassList=Object(Lo.a)(R),o.updateHealthCondition=o.updateHealthCondition.bind(Object(is.a)(o)),o.healconditionSubmit=o.healconditionSubmit.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.props.setConditionIndex(0)}},{key:"getColorClass",value:function(){var e=this.conditonClassList.pop();return this.conditonClassList.unshift(e),e}},{key:"updateHealthCondition",value:function(e){var t=[];if(this.conditonClassList=Object(Lo.a)(R),this.props.registerFormvalues.health_condition){t=Object(Lo.a)(this.props.registerFormvalues.health_condition);var a=this.props.registerFormvalues.health_condition.findIndex((function(t){return t.id===e.id}));if(a>-1){t.splice(a,1);var o=this.props.registerFormvalues.condition_professions.findIndex((function(t){return t.conditionId===e.id}));this.props.registerFormvalues.condition_professions.splice(o,1)}else t.push(e)}this.setState({health_condition:t}),this.props.registerFormvalues.health_condition=t,console.log("updateHealthCondition-this.props.registerFormvalues",this.props.registerFormvalues)}},{key:"isCheck",value:function(e){var t=!1;this.props.registerFormvalues.health_condition&&(this.props.registerFormvalues.health_condition.findIndex((function(t){return t.id===e.id}))>-1&&(t=!0));return t}},{key:"healconditionSubmit",value:function(){if(this.setState({submitted:!0}),this.state.health_condition.length>0){console.log("this.props.registerFormvalues",this.props.registerFormvalues),this.props.registerformUpdate(this.props.registerFormvalues);var e,t=[];e=this.props.registerFormvalues.health_condition.filter((function(e){return e.tag==N&&(t=e.id),e.tag==N}));var a;a=this.props.registerFormvalues.health_condition.filter((function(e){return e.tag==k}));this.props.registerFormvalues.health_condition.filter((function(e){return"asthma kids"==e.tag})),console.log("cond_temp",t),this.props.checkConditionHasTagCode(t),("1"===this.props.registerFormvalues.profession||"2"===this.props.registerFormvalues.profession)&&e.length>0&&0==a.length?(console.log("ifnext calssss"),this.props.setStep(18,"forward")):(console.log("elsenext calssss"),this.props.nextStep()),hs.a.event({category:"User Acquisition",action:"Sign up process",label:"Condition"})}}},{key:"previousStep",value:function(){this.props.prevStep()}},{key:"dynamicTitle",value:function(){return"Which Beam service(s) would you like to sign up for?"}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step5"},s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:function(){return e.previousStep()}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),this.dynamicTitle(),s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-8 m-t-20"},s.a.createElement("div",{className:"form-group row"},s.a.createElement("p",{className:"col-md-12 font-qmedium"}," Beam offers exercise, education and support for lots of different health conditions and stages of life where you might need more specialist support.  Please select the Beam service(s) you are interested in signing up for today\u2026"),this.props.healthcondition_list.map((function(t,a){return s.a.createElement("span",{className:"col-md-6",key:a},s.a.createElement("button",{onClick:function(){return e.updateHealthCondition(t)},className:"capitalize_text con-btn position-relative float-left font-semibold font-15 m-b-10 "+e.getColorClass()},t.tag," ",e.isCheck(t)&&s.a.createElement("img",{src:D+"tick.png",alt:""})))})),this.state.submitted&&0===this.state.health_condition.length&&s.a.createElement("p",{className:"text-danger col-md-12"},"Select atleast one")),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-80 m-b-20 float-left"},s.a.createElement("span",{onClick:this.healconditionSubmit,className:"bluebtn float-left font-medium font-14 w-100 text-center pointer"},"Next")))))}}]),a}(s.a.Component),Ws={setStep:Ct,setConditionIndex:Bt,checkConditionHasTagCode:Vt},As=Object(i.b)((function(e){return{healthcondition_list:e.register.healthcondition_list}}),Ws)(Rs),Bs=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){return Object(Ro.a)(this,a),t.call(this,e)}return Object(Wo.a)(a,[{key:"render",value:function(){return console.log("this.props.isLoading",this.props.isLoading),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"lds-default"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null)))}}]),a}(s.a.Component),qs=Object(i.b)((function(e){return{loader_state:e.header.loader_state}}),{})(Bs),Ys=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).getValueOfClinicType=function(){o.props.registerFormvalues.condition_professions[0].clinicId?("prostate cancer"==o.selected_condition_list.tag&&o.setState({selected_type_clinic:"NHS"}),o.setState({clinic_status:o.props.registerFormvalues.condition_professions[0].clinicId})):o.props.registerFormvalues.condition_professions[0].clinicName&&o.setState({selected_type_clinic:"Private",clinicName:o.props.registerFormvalues.condition_professions[0].clinicName})},0===o.props.registerFormvalues.health_condition.length?(o.state={selected_clinic:0,clinic_status:o.props.registerFormvalues.clinic_status,submitted:!1,current_index:0,loader:!1,selected_type_clinic:o.props.registerFormvalues.selected_type_clinic},"backward"===o.props.clinic_direction?o.props.prevStep():o.props.nextStep()):(o.state={loader:!1,clinic_status:o.props.registerFormvalues.clinic_status,submitted:!1,current_index:o.props.condition_index},o.selected_condition_list=o.props.registerFormvalues.health_condition[o.props.condition_index]),o.updateClinicstatus=o.updateClinicstatus.bind(Object(is.a)(o)),o.clinicalSubmit=o.clinicalSubmit.bind(Object(is.a)(o)),o.localPrev=o.localPrev.bind(Object(is.a)(o)),o.getClinic=o.getClinic.bind(Object(is.a)(o)),o.returnCurrentClinic=o.returnCurrentClinic.bind(Object(is.a)(o)),o.checkKR=o.checkKR.bind(Object(is.a)(o)),o.handleChangeClinicType=o.handleChangeClinicType.bind(Object(is.a)(o)),o.handleClinicName=o.handleClinicName.bind(Object(is.a)(o)),o.handleChangeOtherClinic=o.handleChangeOtherClinic.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("this.state.current_index",this.state.current_index),this.props.registerFormvalues.health_condition.length&&this.getClinic(this.state.current_index)}},{key:"checkKR",value:function(e){var t;return t=this.props.registerFormvalues.health_condition.filter((function(t){return console.log("condParam",e),console.log("item.tag",t.tag),t.tag==e})),console.log("KR_Cond_temp",t),t}},{key:"returnCurrentClinic",value:function(){var e=this.props.registerFormvalues.health_condition[this.state.current_index].id,t=this.props.registerFormvalues.conditional_clinic.filter((function(t){return parseInt(t.conditionId)===parseInt(e)})).map((function(e,t){return e.clinicId}));t.length>0?this.setState({selected_clinic:t[0]}):this.setState({selected_clinic:""})}},{key:"updateClinicstatus",value:function(e){this.setState({clinic_status:e.target.value,selected_clinic:e.target.value}),this.props.registerFormvalues.clinic_status=e.target.value,this.props.registerFormvalues.other_clinic=this.state.other_clinic;var t=this.props.registerFormvalues.health_condition[this.state.current_index].id,a=this.props.registerFormvalues.conditional_clinic.filter((function(e){return e.conditionId===t})).map((function(e,t){return t}));if(a.length>0){var o={conditionId:t,clinicId:e.target.value};this.props.registerFormvalues.conditional_clinic[a[0]]=o}else{o={conditionId:t,clinicId:e.target.value};this.props.registerFormvalues.conditional_clinic.push(o)}Eo.a.find(this.props.registerFormvalues.condition_professions,{conditionId:t}).clinicId=e.target.value}},{key:"handleChangeClinicType",value:function(e){this.setState({selected_type_clinic:e.target.value,clinicName:"",selected_clinic:""});var t=this.props.registerFormvalues.health_condition[this.state.current_index].id,a=Eo.a.find(this.props.registerFormvalues.condition_professions,{conditionId:t});a.clinicId="",a.clinicName=""}},{key:"handleClinicName",value:function(e){this.setState({clinicName:e.target.value});var t=this.props.registerFormvalues.health_condition[this.state.current_index].id;Eo.a.find(this.props.registerFormvalues.condition_professions,{conditionId:t}).clinicName=e.target.value}},{key:"handleChangeOtherClinic",value:function(e){void 0!==e.target.value&&this.setState({other_clinic:e.target.value})}},{key:"localPrev",value:function(){this.props.innerGoState("backword"),0===this.state.current_index?this.props.prevStep():(this.setState({current_index:this.state.current_index-1}),this.getClinic(this.state.current_index-1))}},{key:"getClinic",value:function(e){var t=this;console.log("getclinics",this.props);var a,o=this.checkKR("prostate cancer"),s=this.props.registerFormvalues.country,n=this.props.registerFormvalues.health_condition[e].id,r=this.checkKR(N);r.length>0&&(a=Eo.a.find(this.props.registerFormvalues.condition_professions,{conditionId:r[0].id})),this.setState({loader:!0,show:!1}),this.props.getClinic(s,n).then((function(s){console.log("getclincsresponse"),t.getValueOfClinicType(),s.clinics&&s.clinics.length>0||o.length>0&&"prostate cancer"==t.props.registerFormvalues.health_condition[t.props.condition_index].tag?(console.log("returncurrentclinic"),t.setState({show:!0,loader:!1}),t.returnCurrentClinic()):(t.setState({show:!1}),"backward"===t.props.clinic_direction?0===e?t.props.prevStep():(t.setState({current_index:e-1}),t.getClinic(e-1)):(console.log("**this.state.current_index",t.state.current_index),console.log("**condition_id",e),console.log("**health_condition=",t.props.registerFormvalues.health_condition),console.log("**health_condition-tag=",t.props.registerFormvalues.health_condition[t.state.current_index].tag),e<t.props.registerFormvalues.health_condition.length-1&&e!==t.props.registerFormvalues.health_condition.length-1?(a&&(a.conditionRelationship===se[1]||a.conditionRelationship===se[2])&&t.checkKR(N).length>0&&t.props.registerFormvalues.health_condition[t.state.current_index].tag==N?(console.log("if-elseif-submit-18"),t.props.setStep(18,"forward")):o.length>0&&"prostate cancer"==t.props.registerFormvalues.health_condition[t.state.current_index].tag?(console.log("if-elseif-submit"),t.props.setStep(20,"forward")):(t.props.setConditionIndex(t.state.current_index+1),t.props.setStep(11,"forward")),console.log("8thstep")):(t.props.registerformUpdate(t.props.registerFormvalues),console.log("8thstep-else"),a&&(a.conditionRelationship===se[1]||a.conditionRelationship===se[2])&&t.checkKR(N).length>0&&t.props.registerFormvalues.health_condition[t.state.current_index].tag==N?(console.log("if-elseif-submit-18-elsess"),t.props.setStep(18,"forward")):o.length>0&&"prostate cancer"==t.props.registerFormvalues.health_condition[t.state.current_index].tag?(console.log("if-elseif-submit"),t.props.setStep(20,"forward")):(console.log("forward-next"),"mycondition"==t.props.pageFrom?t.props.isUpdateMyConditions?t.props.updateUserTags():t.props.setStep(23,"forward"):t.props.nextStep()))))}),(function(e){t.getValueOfClinicType(),t.props.stop_loader(),at.b.error(e)}))}},{key:"clinicalSubmit",value:function(){this.props.registerFormvalues.other_clinic=this.state.other_clinic;var e=this.checkKR(N),t=this.checkKR("prostate cancer");console.log("clinical-submit",this.props.registerFormvalues),this.props.registerFormvalues.is_clinic_found=!0,this.props.innerGoState("forward"),this.state.current_index<this.props.registerFormvalues.health_condition.length-1?(console.log("8th step move"),("1"===this.props.registerFormvalues.profession||"2"===this.props.registerFormvalues.profession)&&e.length>0&&this.props.registerFormvalues.health_condition[this.state.current_index].tag==N?(console.log("if-submit-kidney"),this.props.setStep(18,"forward")):t.length>0&&"prostate cancer"==this.props.registerFormvalues.health_condition[this.state.current_index].tag?(console.log("else-if-cancer"),this.props.setStep(20,"forward")):(this.props.setConditionIndex(this.state.current_index+1),this.props.setStep(11,"forward"))):(this.props.registerformUpdate(this.props.registerFormvalues),("1"===this.props.registerFormvalues.profession||"2"===this.props.registerFormvalues.profession)&&e.length>0&&this.props.registerFormvalues.health_condition[this.state.current_index].tag==N?(console.log("if-submit-kidney"),this.props.setStep(18,"forward")):t.length>0&&"prostate cancer"==this.props.registerFormvalues.health_condition[this.state.current_index].tag?(console.log("else-if-cancer"),this.props.setStep(20,"forward")):(console.log("ELSE-submit"),"mycondition"==this.props.pageFrom?this.props.isUpdateMyConditions?this.props.updateUserTags():this.props.setStep(23,"forward"):this.props.nextStep())),hs.a.event({category:"User Acquisition",action:"Sign up process",label:"Clinic"})}},{key:"render",value:function(){var e=this;this.state.submitted;return s.a.createElement("div",{className:"step9"},s.a.createElement("div",{className:"text-center w-100"},this.state.loader&&s.a.createElement(qs,null)),this.state.show&&this.props.registerFormvalues.health_condition.map((function(t,a){var o="Are you registered with a "+t.tag+" clinic?",n=!1;return t.tag===N&&(o="Which renal unit are you associated with?"),"prostate cancer"!=t.tag||e.state.selected_type_clinic?"prostate cancer"==t.tag&&e.state.selected_type_clinic&&(n=!0,o="Which "+t.tag+" hospital are you based at?"):(n=!0,o="Which "+t.tag+" clinic are you based at?"),e.props.setPageTitle(o),e.state.current_index===a&&s.a.createElement(s.a.Fragment,{key:a},"mycondition"!=e.props.pageFrom&&s.a.createElement("h3",{className:"text-center "},s.a.createElement("a",{className:"pull-left",href:"javascript:void(0)",onClick:e.localPrev},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),o,s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-10"},s.a.createElement("button",{className:"capitalize_text con-btn position-relative float-left font-semibold font-15 m-b-10 "+_o.getColor(e.selected_condition_list.tag.replace(" ","-").toLowerCase())},e.selected_condition_list.tag),!n&&s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("select",{name:"clinic_status",value:e.state.clinic_status,className:"form-control",onChange:e.updateClinicstatus},s.a.createElement("option",{className:"pointer"},"Select clinic"),e.props.clinic_list.map((function(e,t){return s.a.createElement("option",{className:"pointer",key:"clinic_"+e.id,value:e.id},e.clinicName)})),t.tag===N&&s.a.createElement("option",{className:"pointer"},"Other"))),e.state.submitted&&""===e.props.registerFormvalues.clinic_status&&s.a.createElement("p",{className:"help-block"},"This Field is required")),!n&&"Other"===e.state.clinic_status&&s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"other_clinic",id:"other_clinic",placeholder:"Enter Clinic Name",className:"form-control input-control",maxLength:"160",value:e.state.other_clinic||"",required:!0,onChange:e.handleChangeOtherClinic})),!n&&t.tag!==N&&s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{id:"register-link",className:" w-100  m-b-20 float-left"},s.a.createElement("a",{href:"javascript:void(0)",onClick:e.clinicalSubmit,className:"btn-blue-inverse float-left font-14 font-medium w-100 text-center"},"No, I'm not"))),n&&s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("label",{htmlFor:"country",className:"text-label"},"Type of clinic"),s.a.createElement("select",{name:"selected_type_clinic",value:e.state.selected_type_clinic,className:"form-control",onChange:e.handleChangeClinicType},s.a.createElement("option",{className:"pointer"},"Select one"),ie.map((function(e,t){return s.a.createElement("option",{className:"pointer",key:"clinic_type_"+e,value:e},e)}))))),"NHS"==e.state.selected_type_clinic&&s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("label",{htmlFor:"country",className:"text-label"},"Hospital name"),s.a.createElement("select",{name:"clinic_status",value:e.state.clinic_status,className:"form-control",onChange:e.updateClinicstatus},s.a.createElement("option",{className:"pointer"},"Select clinic"),e.props.clinic_list.map((function(e,t){return s.a.createElement("option",{className:"pointer",key:"clinic_"+e.id,value:e.id},e.clinicName)})))),e.state.submitted&&""===e.props.registerFormvalues.clinicId&&s.a.createElement("p",{className:"help-block"},"This Field is required")),e.state.selected_type_clinic&&"NHS"!=e.state.selected_type_clinic&&s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("label",{htmlFor:"country",className:"text-label"},"Hospital name"),s.a.createElement("input",{type:"text",name:"clinicName",id:"clinicName",className:"form-control input-control",value:e.state.clinicName,onChange:e.handleClinicName,required:!0})),e.state.submitted&&""===e.state.clinicName&&s.a.createElement("p",{className:"help-block"},"This Field is required")),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-80 m-b-20 float-left"},s.a.createElement("a",{href:"javascript:void(0)",onClick:e.clinicalSubmit,className:"bluebtn float-left font-medium font-14 w-100 text-center"},"mycondition"!=e.props.pageFrom&&t.tag!==N?"Submit":"Next")))))})))}}]),a}(s.a.Component),Gs={getClinic:Tt,start_loader:ht,stop_loader:gt,innerGoState:function(e){return function(t,a){t("backward"===e?{type:"inner_register_prev_step"}:{type:"inner_register_next_step"})}},setStep:Ct,setConditionIndex:Bt,setPageTitle:zt,updateUserConditions:ro},Vs=Object(i.b)((function(e){return{clinic_list:e.register.clinic_list,condition_index:e.register.condition_index}}),Gs)(Ys),Hs=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={purpose:o.props.registerFormvalues.purpose,submitted:!1},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.purposeSubmit=o.purposeSubmit.bind(Object(is.a)(o)),o.goBack=o.goBack.bind(Object(is.a)(o)),o.checkKR=o.checkKR.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(rs.a)({},a,o)),this.props.registerFormvalues[a]=o}},{key:"purposeSubmit",value:function(){this.setState({submitted:!0}),this.props.registerFormvalues.purpose&&("2"==this.props.registerFormvalues.purpose?this.props.setStep(24):this.props.setStep(8),hs.a.event({category:"User Acquisition",action:"Sign up process",label:"How they will use"}))}},{key:"checkKR",value:function(){return this.props.registerFormvalues.health_condition.filter((function(e){return e.tag==N}))}},{key:"goBack",value:function(){console.log("goback",this.props.registerFormvalues),this.props.setStep(5,"backward")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step6"},s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:this.goBack},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Would you like to use Beam",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-7 m-t-10"},s.a.createElement("p",{className:"text-label"},s.a.createElement("b",null,"Please select one")),s.a.createElement("div",null,s.a.createElement("div",{className:"row radio-section"},s.a.createElement("span",{className:"font-14 black-txt font-qregular col-10"},"For yourself"),s.a.createElement("div",{className:"radio pull-right col-2 text-right"},s.a.createElement("input",{id:"prupose_radio_1",name:"purpose",value:"1",type:"radio",defaultChecked:"1"===this.props.registerFormvalues.purpose,onChange:this.handleChange}),s.a.createElement("label",{htmlFor:"prupose_radio_1",className:"radio-label"}))),s.a.createElement("div",{className:"row radio-section"},s.a.createElement("span",{className:"font-14 black-txt font-qregular col-10"},"With someone who has a medical condition"),s.a.createElement("div",{className:"radio pull-right col-2 text-right"},s.a.createElement("input",{id:"prupose_radio_2",name:"purpose",value:"2",type:"radio",defaultChecked:"2"===this.props.registerFormvalues.purpose,onChange:this.handleChange}),s.a.createElement("label",{htmlFor:"prupose_radio_2",className:"radio-label"}))),s.a.createElement("div",{className:"row radio-section"},s.a.createElement("span",{className:"font-14 black-txt font-qregular col-10"},"Both"),s.a.createElement("div",{className:"radio pull-right col-2 text-right"},s.a.createElement("input",{id:"prupose_radio_3",name:"purpose",value:"3",type:"radio",defaultChecked:"3"===this.props.registerFormvalues.purpose,onChange:this.handleChange}),s.a.createElement("label",{htmlFor:"prupose_radio_3",className:"radio-label"}))),this.state.submitted&&""===this.props.registerFormvalues.purpose&&s.a.createElement("p",{className:"text-danger"},"This is required")),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-80 m-b-20 float-left"},s.a.createElement("span",{onClick:function(){return e.purposeSubmit()},className:"bluebtn float-left w-100 font-medium font-14 text-center pointer"},"Next")))))}}]),a}(s.a.Component),zs=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={submitted:!1,disableButton:!1},o.promocodeSubmit=o.promocodeSubmit.bind(Object(is.a)(o)),o.checkMaxUsagePromo=o.checkMaxUsagePromo.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"promocodeSubmit",value:function(){this.setState({submitted:!0}),this.checkMaxUsagePromo()}},{key:"registerUser",value:function(){var e=this;this.setState({disableButton:!0}),this.props.start_loader(),this.props.registerNewUser(this.props.registerFormvalues).then((function(t){if(t&&t.success){e.setState({disableButton:!1});var a={pathname:"/register/all_done"};e.props.history.push(a)}}),(function(t){e.props.stop_loader(),e.setState({Loading:!1}),at.b.error(t)}))}},{key:"getUserDetail",value:function(){var e=this;this.props.start_loader(),this.props.fetchUserDetails().then((function(t){e.props.stop_loader()}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"checkMaxUsagePromo",value:function(){var e=this;this.props.checkMaxUsagePromo().then((function(t){e.props.nextStep()}),(function(e){at.b.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props.promocode_plan&&this.props.promocode_plan.length>0?this.props.promocode_plan[0]:{};return s.a.createElement("div",{className:"step13"},s.a.createElement("h3",{className:"text-center "},s.a.createElement("a",{className:"pull-left",href:"javascript:void(0)",onClick:function(){return e.props.prevStep()}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Nice one ",this.props.registerFormvalues.firstname,"!",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-20"},s.a.createElement("p",{className:" mb-5 font-14 font-qregular abbey-txt text-center"},"Great news! This code entitles you to..."),366==t.freeDays&&s.a.createElement("p",{className:"font-14 font-qregular abbey-txt text-center"},"12 months free membership to Beam"),366!=t.freeDays&&s.a.createElement("p",{className:"font-14 font-qregular abbey-txt text-center"},t.freeDays," days free membership to Beam"),t.courtesyName&&s.a.createElement("p",{className:"font-14 font-qregular abbey-txt text-center m-t-40"},"courtesy of ",t.courtesyName),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-50 m-b-20 float-left"},s.a.createElement("button",{disabled:this.state.disableButton,onClick:function(){return e.registerUser()},className:"btn bluebtn float-left font-medium font-14 w-100 text-center"},"Let's get started!")))))}}]),a}(s.a.Component),Ks={registerNewUser:Wt,start_loader:ht,stop_loader:gt,fetchUserDetails:ao,checkMaxUsagePromo:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/checkMaxUsagePromo",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}},Js=Object(i.b)((function(e){return{promocode_plan:e.register.promo_plans}}),Ks)(zs),Qs=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={userData:{},is_postnatal:!1,submitted:!1,disableButton:!1},o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.finalSubmit=o.finalSubmit.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.props.start_loader()}},{key:"handleCheckboxChange",value:function(e){var t=e.target.name;this.props.registerFormvalues[t]=!this.props.registerFormvalues[t]}},{key:"finalSubmit",value:function(){this.setState({submitted:!0,promoCodeErr:!1,subscribedErr:!1}),this.props.registerformUpdate(this.props.registerFormvalues),this.registerUser(this.props.registerFormvalues)}},{key:"registerUser",value:function(e){var t=this;this.props.start_loader(),this.props.registerNewUser(e).then((function(e){if(e&&e.success){var a={from:{pathname:"/on-demand/"+N.replace(" ","-")}}.from;t.props.history.push(a)}}),(function(e){t.props.stop_loader(),t.setState({Loading:!1}),at.b.error(e)}))}},{key:"render",value:function(){var e=this;this.props.condition.replace(" ","-");return s.a.createElement("div",{className:"step16"},s.a.createElement("h3",{className:"text-center"},s.a.createElement("a",{className:"pull-left",href:"javascript:void(0)",onClick:function(){return e.props.setStep(14,"backward")}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Nice one, ",this.props.registerFormvalues.firstname,"!",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-10 m-t-10"},s.a.createElement("div",{className:"text-center font-20 font-qmedium"},s.a.createElement("p",null,"Hooray!  You have been gifted a FREE Beam membership"),s.a.createElement("p",null,"until 30th November 2021 courtesy of Kidney Research UK! ")),s.a.createElement("div",{class:"col-md-12 mt-4 mb-3"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"video-tag1 col-md-12"},s.a.createElement("img",{src:D+"KRUK-logo.png",id:"icon",className:"thanks-img img-fluid",alt:"beam logo"})))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"video-tag1 col-md-12 font-14 font-qregular black-txt"},s.a.createElement("p",null,"Kidney Research UK fund and deliver life-saving research. Their vision is to free lives from the restrictions, fear, anxiety and life limiting nature of kidney disease. They would love to keep you up to date with the latest research news and developments, opportunities to get involved in research, fundraising campaigns and events."),s.a.createElement("p",null,"Please let us know if you are happy that we share your details with them so they can keep in touch:"))),s.a.createElement("div",{className:"toggle-btns float-left w-100"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},"I am happy for you to share my name and email address and be contacted by Kidney Research UK"),s.a.createElement("label",{className:"switch m-l-10 m-t-10 pull-right",htmlFor:"shareKRUK"},s.a.createElement("input",{type:"checkbox",name:"shareKRUK",id:"shareKRUK",defaultChecked:this.props.registerFormvalues.shareKRUK,onChange:this.handleCheckboxChange,value:this.props.registerFormvalues.shareKRUK}),s.a.createElement("div",{className:"slider round"}))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"video-tag1 col-md-12 font-14 font-qregular black-txt"},s.a.createElement("p",null,"You can read Kidney Research UK\u2019s ",s.a.createElement("a",{href:"https://kidneyresearchuk.org/privacy-cookies-policy/",target:"_blank"},"privacy policy")," to find out what data they hold, what it is used for and where it is stored."))),s.a.createElement("div",{id:"register-link",className:" w-100 m-b-30 float-left p-t-15"},s.a.createElement("button",{className:"w-50 mx-auto d-table btn  dblog_btn font-14 button-lightblue position-relative",disabled:this.state.disableButton,onClick:this.finalSubmit},"Whoo hoo! Let's get started")))))}}]),a}(s.a.Component),Zs={start_loader:ht,stop_loader:gt,setStep:Ct,registerNewUser:Wt},Xs=Object(i.b)((function(e){return{logged_userData:e.header.logged_userData,healthcondition_list:e.register.healthcondition_list,condition:e.auth.condition}}),Zs)(Qs),$s=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={submitted:!1,current_index:0,loader:!1,ethnicity:[]},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this;console.log("this.props",this.props),this.props.getOnboardingTags().then((function(a){if(a.success){e.setState({ethnicity:JSON.parse(a.data).ethnicity}),console.log("me.state.ethnicity",t.state.ethnicity);var o=Eo.a.filter(t.state.ethnicity,(function(e){return console.log("getOnboardingTags-list",e),e.countryId===parseInt(t.props.registerFormvalues.country)}));console.log("getOnboardingTags-newArra",o),o.length&&e.setState({ethnicityList:o[0].ethnicityList})}}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.props.registerFormvalues[a]=o}},{key:"submitData",value:function(){this.setState({submitted:!0}),console.log("ethnicity",this.props.registerFormvalues.ethnicity),this.props.setStep(10,"forward"),hs.a.event({category:"User Acquisition",action:"Sign up process",label:"Ethnicity"})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step17"},s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:function(){return e.props.setStep(6,"backward")}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"What is your ethnicity?",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-10 m-t-10 row"},this.state.ethnicityList&&this.state.ethnicityList.length>0&&this.state.ethnicityList.map((function(t,a){return s.a.createElement("div",{className:e.state.ethnicityList.length>1?"col-md-5 "+(a%2===0?"":"set-offset"):"col-md-12"},s.a.createElement("p",{className:"text-label"},s.a.createElement("b",null,t.groupName)),t.options.map((function(t,o){return s.a.createElement("div",{key:a+"-"+o,className:"row radio-section"},s.a.createElement("span",{className:"font-qregular font-14 black-txt col-10"},t),s.a.createElement("div",{className:"radio pull-right col-2 text-right"},s.a.createElement("input",{id:"radio-"+a+"-"+o,name:"ethnicity",value:t,type:"radio",onChange:e.handleChange}),s.a.createElement("label",{htmlFor:"radio-"+a+"-"+o,className:"radio-label"})))})))})),s.a.createElement("div",{className:"col-md-6 set-offset"}),s.a.createElement("div",{id:"register-link",className:" w-100 m-b-20 float-left col-md-12"},s.a.createElement("span",{onClick:function(){return e.submitData()},className:"bluebtn float-left w-100 font-medium font-14 text-center pointer col-md-6"},"Next")))))}}]),a}(s.a.Component),en={start_loader:ht,stop_loader:gt,setStep:Ct,getOnboardingTags:Kt},tn=Object(i.b)((function(e){return{}}),en)($s),an=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={submitted:!1,current_index:0,loader:!1,comorbidities:[]},o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.backTo=o.backTo.bind(Object(is.a)(o)),o.selected_condition_list=o.props.registerFormvalues.health_condition[o.props.condition_index],o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("this,props,.step",this.props.step),this.props.getTagsBasedOnType("comorbidities").then((function(t){console.log("response",t),t.success&&e.setState({comorbidities:t.data.tags})})),this.props.setPageTitle("Are you or the person you care for being actively treated for the following health conditions?")}},{key:"backTo",value:function(){this.props.setStep(7,"backward")}},{key:"handleCheckboxChange",value:function(e){var t=e.target.value,a=[];if(this.props.registerFormvalues.comorbidities.length>0){a=Object(Lo.a)(this.props.registerFormvalues.comorbidities);var o=this.props.registerFormvalues.comorbidities.findIndex((function(e){return e===t}));o>-1?a.splice(o,1):a.push(t)}else(a=Object(Lo.a)(this.props.registerFormvalues.comorbidities)).push(t);this.props.registerFormvalues.comorbidities=a}},{key:"submitData",value:function(){this.setState({submitted:!0}),console.log("comorbidities",this.props.registerFormvalues.comorbidities),this.props.setStep(19,"forward")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step17"},"mycondition"!=this.props.pageFrom&&s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:function(){return e.backTo()}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Are you or the person you care for being actively treated for the following health conditions?",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-30 "},s.a.createElement("button",{className:"capitalize_text con-btn position-relative float-left font-semibold font-15 m-b-10 "+_o.getColor(this.selected_condition_list.tag.replace(" ","-").toLowerCase())},this.selected_condition_list.tag),this.state.comorbidities.map((function(t,a){return s.a.createElement("div",{key:a,className:"toggle-btns float-left w-100 m-b-10"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},t.tag),s.a.createElement("label",{className:"switch m-l-10 pull-right",htmlFor:"checkbox-"+t.id},s.a.createElement("input",{type:"checkbox",name:"comorbidities"+t.id,id:"checkbox-"+t.id,defaultChecked:-1!=e.props.registerFormvalues.comorbidities.findIndex((function(e){return e===t.id})),onChange:e.handleCheckboxChange,value:t.id}),s.a.createElement("div",{className:"slider round"})))})),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-50 m-b-20 float-left"},s.a.createElement("span",{onClick:function(){return e.submitData()},className:"bluebtn float-left w-100 font-medium font-14 text-center pointer"},"Next")))))}}]),a}(s.a.Component),on={start_loader:ht,stop_loader:gt,setStep:Ct,getTagsBasedOnType:qt,setPageTitle:zt},sn=Object(i.b)((function(e){return{step:e.register.step,condition_index:e.register.condition_index}}),on)(an),nn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={submitted:!1,current_index:0,loader:!1,kidney_care_provider:[]},o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.selected_condition_list=o.props.registerFormvalues.health_condition[o.props.condition_index],o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getTagsBasedOnType("kidney-care-provider").then((function(t){console.log("response",t),t.success&&e.setState({kidney_care_provider:t.data.tags})})),this.props.setPageTitle("Who provides the care for your or the person you care for's kidney condition?")}},{key:"handleCheckboxChange",value:function(e){var t=e.target.value,a=[];if(this.props.registerFormvalues.kidney_care_provider.length>0){a=Object(Lo.a)(this.props.registerFormvalues.kidney_care_provider);var o=this.props.registerFormvalues.kidney_care_provider.findIndex((function(e){return e===t}));o>-1?a.splice(o,1):a.push(t)}else(a=Object(Lo.a)(this.props.registerFormvalues.kidney_care_provider)).push(t);console.log("temp",a),this.props.registerFormvalues.kidney_care_provider=a}},{key:"submitData",value:function(){console.log("this.props.condition_index",this.props.condition_index),this.setState({submitted:!0}),console.log("kidney_care_provider",this.props.registerFormvalues.kidney_care_provider);var e=_o.checkRegisterSpecificCondition(this.props.registerFormvalues.health_condition,"prostate cancer");console.log("this.props.registerFormvalues.country == constand.ukCountry",230==this.props.registerFormvalues.country),console.log("pc_cond",e),this.props.checkConditionHasTagCode(this.selected_condition_list.id),"mycondition"==this.props.pageFrom?this.props.isUpdateMyConditions?this.props.updateUserTags():this.props.setStep(14,"forward"):this.props.condition_index<this.props.registerFormvalues.health_condition.length-1?(console.log("IFFFFFFFFFFFFFFFFFFFFFFFFF"),this.props.setConditionIndex(this.props.condition_index+1),this.props.setStep(11)):(console.log("ELSESSSSSSSSSSSSs"),this.props.setStep(14,"forward"))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step17"},"mycondition"!=this.props.pageFrom&&s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:function(){return e.props.setStep(18,"backward")}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Who provides the care for your or the person you care for's kidney condition?",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-30"},s.a.createElement("button",{className:"capitalize_text con-btn position-relative float-left font-semibold font-15 m-b-10 "+_o.getColor(this.selected_condition_list.tag.replace(" ","-").toLowerCase())},this.selected_condition_list.tag),this.state.kidney_care_provider.map((function(t,a){return s.a.createElement("div",{key:a,className:"toggle-btns float-left w-100 m-b-10"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},t.tag),s.a.createElement("label",{className:"switch m-l-10 pull-right",htmlFor:"checkbox-"+t.id},s.a.createElement("input",{type:"checkbox",name:"comorbidities",id:"checkbox-"+t.id,defaultChecked:parseInt(e.props.registerFormvalues.kidney_care_provider)===t.id,onChange:e.handleCheckboxChange,value:t.id}),s.a.createElement("div",{className:"slider round"})),"")})),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-50 m-b-20 float-left"},s.a.createElement("span",{onClick:function(){return e.submitData()},className:"bluebtn float-left w-100 font-medium font-14 text-center pointer"},this.props.isUpdateMyConditions?"Save Changes":"Next")))))}}]),a}(s.a.Component),rn={start_loader:ht,stop_loader:gt,setStep:Ct,getTagsBasedOnType:qt,setConditionIndex:Bt,setPageTitle:zt,updateUserConditions:ro,checkConditionHasTagCode:Vt},ln=Object(i.b)((function(e){return{condition_index:e.register.condition_index}}),rn)(nn),cn="You are currently a paid member of Pactster/Beam, please continue to the next step then go to your membership page to enter this code.",mn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={dob_month:o.props.registerFormvalues.dob_month,dob_day:o.props.registerFormvalues.dob_day,dob_year:o.props.registerFormvalues.dob_year,date_list:[],month_list:T,year_list:[],submitted:!1,age_calc:0},o.updateDate=o.updateDate.bind(Object(is.a)(o)),o.fillDateList=o.fillDateList.bind(Object(is.a)(o)),o.fillYearList=o.fillYearList.bind(Object(is.a)(o)),o.dob_submit=o.dob_submit.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentWillMount",value:function(){this.fillYearList(),this.fillDateList(),this.calculateAge()}},{key:"fillDateList",value:function(){for(var e=[],t=1;t<=31;t++)e.push(t);this.setState({dob_day:"",date_list:e})}},{key:"fillYearList",value:function(){for(var e=[],t=1900;t<=F;t++)e.push(t);this.setState({year_list:e})}},{key:"updateDate",value:function(e,t){switch(e){case"day":this.setState({dob_day:t.target.value}),this.props.registerFormvalues.dob_day=t.target.value,this.calculateAge();break;case"month":this.props.registerFormvalues.dob_month=t.target.value,this.setState({dob_month:t.target.value}),this.calculateAge();break;case"year":this.props.registerFormvalues.dob_year=t.target.value,this.setState({dob_year:t.target.value}),this.calculateAge()}}},{key:"isValidDate",value:function(e){var t=e.split("/"),a=new Date(t[2],t[1]-1,t[0]);return a&&a.getMonth()+1==t[1]}},{key:"calculateAge",value:function(){var e=this.props.registerFormvalues.dob_day+"-"+this.props.registerFormvalues.dob_month+"-"+this.props.registerFormvalues.dob_year,t=_o.calculateAge(e);console.log("age_now",t),this.setState({age_calc:t})}},{key:"dob_submit",value:function(){if(this.setState({submitted:!0}),this.props.registerFormvalues.dob_day&&this.props.registerFormvalues.dob_month&&this.props.registerFormvalues.dob_year&&this.state.age_calc>=16){this.props.registerFormvalues.age=this.state.age_calc,this.props.registerformUpdate(this.props.registerFormvalues);var e=this.props.registerFormvalues.dob_day+"/"+this.props.registerFormvalues.dob_month+"/"+this.props.registerFormvalues.dob_year;this.isValidDate(e)?this.props.nextStep():(at.b.dismiss(),at.b.error("Invalid Date"))}hs.a.event({category:"User Acquisition",action:"Sign up process",label:"DOB"})}},{key:"render",value:function(){return s.a.createElement("div",{className:"step11"},s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:this.props.prevStep},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"What's your date of birth?",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-10 m-t-40"},s.a.createElement("div",{className:"row"},ae.includes(this.props.registerFormvalues.country)&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-md-4 col-lg-4 p-b-10"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("select",{value:this.props.registerFormvalues.dob_month,className:"form-control pointer",onChange:this.updateDate.bind(this,"month")},s.a.createElement("option",{value:""},"Select month"),this.state.month_list.map((function(e,t){return s.a.createElement("option",{key:"month_"+e.id,value:e.id},e.value)})))),this.state.submitted&&!this.props.registerFormvalues.dob_month&&s.a.createElement("p",{className:"text-danger"},"This Field is required")),s.a.createElement("div",{className:"col-md-4 col-lg-4 p-b-10"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("select",{value:this.props.registerFormvalues.dob_day,className:"form-control pointer",onChange:this.updateDate.bind(this,"day")},s.a.createElement("option",{value:""},"Select day"),this.state.date_list.map((function(e,t){return s.a.createElement("option",{key:"day_"+t,value:t+1},e)})))),this.state.submitted&&!this.props.registerFormvalues.dob_day&&s.a.createElement("p",{className:"text-danger"},"This Field is required"))),!ae.includes(this.props.registerFormvalues.country)&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-md-4 col-lg-4 p-b-10"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("select",{value:this.props.registerFormvalues.dob_day,className:"form-control pointer",onChange:this.updateDate.bind(this,"day")},s.a.createElement("option",{value:""},"Select day"),this.state.date_list.map((function(e,t){return s.a.createElement("option",{key:"day_"+t,value:t+1},e)})))),this.state.submitted&&!this.props.registerFormvalues.dob_day&&s.a.createElement("p",{className:"text-danger"},"This Field is required")),s.a.createElement("div",{className:"col-md-4 col-lg-4 p-b-10"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("select",{value:this.props.registerFormvalues.dob_month,className:"form-control pointer",onChange:this.updateDate.bind(this,"month")},s.a.createElement("option",{value:""},"Select month"),this.state.month_list.map((function(e,t){return s.a.createElement("option",{key:"month_"+e.id,value:e.id},e.value)})))),this.state.submitted&&!this.props.registerFormvalues.dob_month&&s.a.createElement("p",{className:"text-danger"},"This Field is required"))),s.a.createElement("div",{className:"col-md-4 col-lg-4 p-b-10"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("select",{value:this.props.registerFormvalues.dob_year,className:"form-control pointer",onChange:this.updateDate.bind(this,"year")},s.a.createElement("option",{value:""},"Select year"),this.state.year_list.map((function(e,t){return s.a.createElement("option",{key:"year_"+t,value:e},e)})))),this.state.submitted&&!this.props.registerFormvalues.dob_year&&s.a.createElement("p",{className:"text-danger"},"This Field is required")))),this.state.submitted&&this.state.age_calc<16&&s.a.createElement("p",{className:"text-danger w-50"},"Sorry, you need to be 16 or older to sign up to Beam. If you are signing up on behalf of a child then please enter your own date of birth here, not your child's. ")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-10"},s.a.createElement("div",{id:"register-link",className:" w-100 m-t-20 m-b-20 float-left"},s.a.createElement("a",{href:"javascript:void(0)",onClick:this.dob_submit,className:"bluebtn float-left w-100 text-center"},"Next")))))}}]),a}(s.a.Component),dn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).tagCodeSubmit=function(){var e=o.props.registerFormvalues.promocode,t=o.props.registerFormvalues.health_condition[0].id;o.props.registerFormvalues.promocode.trim()?o.props.validateTagCodes(o.props.registerFormvalues.promocode.trim(),t).then((function(t){o.props.stop_loader(),o.props.registerFormvalues.promocode="",t?(o.props.registerFormvalues.tagCode=t.tagCode,o.props.registerformUpdate(o.props.registerFormvalues),e&&t.tagCode.modalContent?o.props.gotoStep(22):o.props.gotoStep(23)):o.setState({promoCodeErr:!0})}),(function(e){o.props.stop_loader(),at.b.error(e)})):o.props.gotoStep(23),hs.a.event({category:"User Acquisition",action:"Sign up process",label:"How they heard"}),hs.a.event({category:"User Acquisition",action:"Sign up flow completed "})},o.state={know_via:o.props.registerFormvalues.know_via,promocode:o.props.registerFormvalues.promocode,submitted:!1,promoCodeErr:!1,subscribedErr:!1,showPromo:!1,KR_Cond:[],instructors:[]},o.updateVia=o.updateVia.bind(Object(is.a)(o)),o.handleChange=o.handleChange.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("hearabout.registerFormvalues",this.props.isConditionHasCode),console.log("hearabout.registerFormvalues",this.props.registerFormvalues),this.props.getPlanByCountry(this.props.registerFormvalues.country),this.props.setConditionIndex(0);var e;e=this.props.registerFormvalues.health_condition.filter((function(e){return e.tag==N})),this.setState({KR_Cond:e});this.props.registerFormvalues.health_condition.filter((function(e){return e.tag==N})).length>0&&this.props.registerFormvalues.beamchallenging?this.props.registerFormvalues.beamchallenging=this.props.registerFormvalues.beamchallenging:this.props.registerFormvalues.beamchallenging="",231==this.props.registerFormvalues.country&&1==this.props.registerFormvalues.profession&&this.props.registerFormvalues.health_condition.length>0&&this.props.registerFormvalues.health_condition[0].tag==k&&this.props.registerFormvalues.age>=18&&(this.props.registerFormvalues.usUser=!0),e.length>0&&1==this.props.registerFormvalues.health_condition.length&&(this.props.registerFormvalues.krUser=!0,this.setState({showPromo:!0})),this.props.setPageTitle("How did you hear about us?")}},{key:"updateVia",value:function(e){if(this.setState({know_via:e.target.value,referee:""}),this.props.registerFormvalues.know_via=e.target.value,10==this.props.registerFormvalues.know_via){var t={conditions:this.props.registerFormvalues.health_condition};this.props.getConditionBasedInstructor(t)}}},{key:"changeReferee",value:function(e){this.setState({referee:e.target.value}),this.props.registerFormvalues.referee=e.target.value}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState({promocode:o,subscribedErr:!1}),this.props.registerFormvalues[a]=o,"KIDNEY-BEAM-RESEARCH"==o&&(this.props.registerFormvalues.isKBResearcheUser=!0)}},{key:"render",value:function(){return s.a.createElement("div",{className:"step12"},"mycondition"!=this.props.pageFrom&&s.a.createElement("h3",{className:"text-center "},s.a.createElement("a",{className:"pull-left",href:"javascript:void(0)",onClick:this.props.prevStep},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"How did you hear about us?",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-20"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("select",{value:this.props.registerFormvalues.know_via,className:"form-control",onChange:this.updateVia.bind(this)},s.a.createElement("option",{value:""},"Select"),this.props.heard_from.map((function(e,t){return s.a.createElement("option",{key:"hear_"+t,value:e.id},e.heard_from)})))),this.state.submitted&&!this.props.registerFormvalues.know_via&&s.a.createElement("p",{className:"text-danger"},"This Field is required")),10==this.state.know_via&&s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"country",className:"text-label"},"Which of our instructors recommended Beam to you? "),s.a.createElement("div",{className:"dropdown"},s.a.createElement("select",{value:this.props.registerFormvalues.referee,className:"form-control",onChange:this.changeReferee.bind(this)},s.a.createElement("option",{value:""},"Select"),this.props.instructorList.map((function(e,t){return s.a.createElement("option",{key:"ins_"+t,value:e.id},e.fullName)})))),this.state.submitted&&!this.props.registerFormvalues.referee&&s.a.createElement("p",{className:"text-danger"},"This Field is required")),this.props.isConditionHasCode&&s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"promocode",className:"text-label"},"Got a research code?"),s.a.createElement("input",{type:"text",name:"promocode",id:"promocode",className:"form-control input-control",onChange:this.handleChange,value:this.props.registerFormvalues.promocode})),this.state.submitted&&this.state.promoCodeErr&&s.a.createElement("p",{className:"text-danger"},"Please enter correct promo or access code"),this.state.subscribedErr&&s.a.createElement("p",{className:"text-danger"},cn),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-80 m-b-20 float-left"},s.a.createElement("a",{href:"javascript:void(0)",onClick:this.tagCodeSubmit,className:"bluebtn float-left w-100 text-center"},"Next")))))}}]),a}(s.a.Component),pn={getPromocodePaln:Ft,start_loader:ht,stop_loader:gt,registerNewUser:Wt,setStep:Ct,getConditionBasedInstructor:At,getPlanByCountry:Gt,setConditionIndex:Bt,validateTagCodes:Ht,setPageTitle:zt},un=Object(i.b)((function(e){return{heard_from:e.register.heard_from,instructorList:e.register.instructorList,isConditionHasCode:e.register.isConditionHasCode}}),pn)(dn),hn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={},o}return Object(Wo.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{width:this.props.width,height:this.props.height,className:this.props.className,src:this.props.src,ref:function(t){return e.img=t},onError:function(){return e.img.src=e.props.thumb||D+"no-image.png"}}))}}]),a}(s.a.Component),gn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={},o}return Object(Wo.a)(a,[{key:"createMarkup",value:function(e){return{__html:e}}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:this.props.className,dangerouslySetInnerHTML:this.createMarkup(this.props.htmlData)}))}}]),a}(s.a.Component),fn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={},o}return Object(Wo.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null," ",this.props.text?this.props.text.length>this.props.limit?this.props.text.substring(0,this.props.limit)+"...":this.props.text:"")}}]),a}(s.a.Component),bn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={},o.scheduleModelOpen=o.scheduleModelOpen.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"scheduleModelOpen",value:function(){this.props.setTypeSchedulePopup(this.props.from),"alldone"!=this.props.from&&(this.props.is_auth?this.props.scheduleModelOpen(!0,this.props.ondemand_data):this.props.loginModelOpen(!0))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"pointer",onClick:this.scheduleModelOpen},"registerPage"!==this.props.pageName&&s.a.createElement(s.a.Fragment,null,s.a.createElement("em",{className:"fa fa-calendar-o pointer"}),("ondemand-detail"===this.props.pageName||"recently_watched"===this.props.pageName)&&s.a.createElement("span",{className:"font-qmedium font-13 black-txt m-l-10"},"Add to schedule")," "),"registerPage"===this.props.pageName&&s.a.createElement(Qo.b,{to:"/on-demand/"+this.props.condition,className:"bluebtn float-left w-100 text-center"},"Browse classes")))}}]),a}(s.a.Component),vn={scheduleModelOpen:ia,scheduleVideo:la,loginModelOpen:pt,setTypeSchedulePopup:function(e){return function(t,a){t({type:"schedule_model_type",payload:e})}}},En=Object(i.b)((function(e){return{is_model_open:e.workout.schedule_model_open,is_auth:e.auth.is_auth,schedule_model_data:e.workout.schedule_model_data}}),vn)(bn),yn=a(241),_n=a.n(yn),kn=a(908),Nn=a.n(kn),wn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={event:{title:"",description:"Friendly reminder: you scheduled some feel-good 'you' time on Beam. Are you ready to get moving? You can do it! ",location:"",startTime:"",endTime:""}},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("calendar-props",this.props);var e=this.props.item,t=this.state.event,a="Live"!=this.props.type?"Beam Class: ":"Live Beam Class: ";t.title=a+this.props.title,t.description=this.state.event.description+window.location,t.startTime=bo()(new Date(e.scheduledFor)),t.endTime=bo()(_o.addMintues(e.scheduledFor,this.props.length)),this.setState({event:t})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Nn.a,{event:this.state.event,listItems:[{apple:"iCal"},{google:"Google"},{yahoo:"Yahoo"},{outlook:"Outlook"}]}))}}]),a}(s.a.Component),Cn={fetchDashboardSchedule:qa,start_loader:ht,stop_loader:gt,loginModelOpen:pt,joinClass:ja,cancelClass:Ta},xn=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData}}),Cn)(wn),Sn=T,On=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={loading:!1,timeList:[],selectedDay:null,selectedTime:"12:00 AM",success_model_open:!1,scheduledFor:""},o.handleDayClick=o.handleDayClick.bind(Object(is.a)(o)),o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.fillTimeList=o.fillTimeList.bind(Object(is.a)(o)),o.submitSchedule=o.submitSchedule.bind(Object(is.a)(o)),o.updateTime=o.updateTime.bind(Object(is.a)(o)),o.closeSuccessModel=o.closeSuccessModel.bind(Object(is.a)(o)),o.closeModelRedirect=o.closeModelRedirect.bind(Object(is.a)(o)),o.defaultDateTime=o.defaultDateTime.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentWillMount",value:function(){this.fillTimeList()}},{key:"defaultDateTime",value:function(){var e=bo()().format("hh:mm A"),t=e.split(" ")[0].split(":")[1],a=bo()();console.log("currentTime",e),t<"15"?a.minutes(15):t<"30"?a.minutes(30):t<"45"?a.minutes(45):a.minutes(60),console.log("futureDateTime",a),console.log("futureDateTime-time",a.format("h:mm A"));var o=a.toString();this.setState({selectedTime:a.format("h:mm A"),selectedDay:o})}},{key:"componentWillReceiveProps",value:function(){this.setState({loading:!1}),this.defaultDateTime()}},{key:"updateTime",value:function(e){this.setState({selectedTime:e.target.value})}},{key:"normalTorails",value:function(e){var t="";if(e){var a=e.split(" "),o=a[0].split(":"),s=o[0],n=o[1];"PM"===a[1]&&(s=parseInt(s),24===(s+=12)&&(s="00"),(s=s.toString()).length<2&&(s="0"+s)),t=s+":"+n+":00"}return t}},{key:"onCloseModal",value:function(){}},{key:"closeModel",value:function(){this.props.scheduleModelOpen(!1)}},{key:"closeSuccessModel",value:function(){this.closeModel(),this.setState({success_model_open:!1})}},{key:"closeModelRedirect",value:function(){window.location.href="/account/dashboard/schedule/"+(Go.Cookies.get("condition")?Go.Cookies.get("condition"):this.props.init_condition)}},{key:"formatDate",value:function(e){var t=new Date(e),a=""+(t.getMonth()+1),o=""+t.getDate(),s=t.getFullYear();return a.length<2&&(a="0"+a),o.length<2&&(o="0"+o),[s,a,o].join("/")}},{key:"submitSchedule",value:function(){var e=this,t=this.formatDate(this.state.selectedDay)+" "+this.normalTorails(this.state.selectedTime),a=new Date(t),o={scheduleType:"private",workout_id:this.props.schedule_model_data.id,community:"",datetimepicker_moment_time:new Date,datetimepicker_start:new Date(a).toISOString()};this.setState({loading:!0,scheduledFor:a}),this.props.scheduleVideo(o).then((function(t){e.setState({loading:!1}),e.props.scheduleModelOpen(!1,e.props.schedule_model_data),e.setState({success_model_open:!0}),hs.a.event({category:"On Demand Video",action:"Scheduled ",label:Go.Cookies.get("condition")+"-"+e.props.schedule_model_data.title+"-"+e.props.schedule_model_data.id})}),(function(t){e.setState({loading:!1}),at.b.error(t),e.closeModel()}))}},{key:"fillTimeList",value:function(){for(var e=[],t=1;t<=12;t++){var a=t+":00 AM";e.push(a),a=t+":15 AM",e.push(a),a=t+":30 AM",e.push(a),a=t+":45 AM",e.push(a)}for(t=1;t<=12;t++){a=t+":00 PM";e.push(a),a=t+":15 PM",e.push(a),a=t+":30 PM",e.push(a),a=t+":45 PM",e.push(a)}this.setState({timeList:e})}},{key:"handleDayClick",value:function(e,t){var a=t.selected;this.setState({selectedDay:a?void 0:e})}},{key:"render",value:function(){var e=this;this.props.schedule_model_data.scheduledFor&&new Date(this.props.schedule_model_data.scheduledFor);var t=this;return console.log("this.props.schedule_model_data",this.props),s.a.createElement(s.a.Fragment,null,s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog schedule_block common_design modal-width--custom m-t-50",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-book white-txt",id:"exampleModalLabel font-medium"},"Add this to your schedule"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("p",{class:"font-semibold black-txt text-center mx-auto  font-15"},this.props.schedule_model_data.title),s.a.createElement("div",{class:"mx-auto w-75 m-b-10 clearfix"},s.a.createElement("div",{class:"centered-content"},s.a.createElement("span",{class:" text-right p-0 border-0 "},s.a.createElement("img",{class:"img-fluid rounded-circle",src:this.props.schedule_model_data.Instructor&&this.props.schedule_model_data.Instructor.img?S+this.props.schedule_model_data.Instructor.img:D+"no-image.png",alt:""})),s.a.createElement("span",{class:" text-left black-txt font-qregular m-t-15  font-16 p-l-5"},this.props.schedule_model_data.Instructor&&this.props.schedule_model_data.Instructor.User&&this.props.schedule_model_data.Instructor.User.name+" "+this.props.schedule_model_data.Instructor.User.lastName))),s.a.createElement("div",{className:"m-b-10 mx-auto col-md-10"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-7 inputs-control"},s.a.createElement("input",{class:"form-control popup-txt",type:"text",readOnly:!0,value:function(){var e=t.state.selectedDay;console.log("current",e);var a="";if(e){var o=new Date(e);a=j[o.getDay()]+" "+o.getDate()+" "+Sn[o.getMonth()].value}else{o=new Date;a=j[o.getDay()]+" "+o.getDate()+" "+Sn[o.getMonth()].value}return a}()})),s.a.createElement("div",{class:"col-md-5 inputs-control p-l-0"},s.a.createElement("div",{className:"dropdown "},s.a.createElement("select",{name:"country",value:this.state.selectedTime,className:"form-control popup-txt",onChange:this.updateTime},this.state.timeList.map((function(e,t){return s.a.createElement("option",{className:"pointer",key:"time_"+e,value:e},e)})))))),s.a.createElement(_n.a,{selectedDays:this.state.selectedDay,onDayClick:this.handleDayClick,localeUtils:Object(m.a)(Object(m.a)({},yn.LocaleUtils),{},{formatMonthTitle:function(e,t){return s.a.createElement("div",null,Sn[e.getMonth()].value)},getFirstDayOfWeek:function(e){return 1}}),weekdayElement:function(e){var t=e.weekday,a=e.className,o=e.localeUtils,n=e.locale,r=o.formatWeekdayLong(t,n);return s.a.createElement("div",{className:a,title:r},s.a.createElement("b",null,r.slice(0,3)))},navbarElement:function(e){var t=e.nextMonth,a=e.previousMonth,o=e.onPreviousClick,n=e.onNextClick,r=e.className,i=e.localeUtils.getMonths();return i[a.getMonth()],i[t.getMonth()],s.a.createElement("div",{className:r},s.a.createElement("button",{class:"btn white-txt",onClick:function(){return o()}},s.a.createElement("i",{class:"fa fa-angle-left"})),s.a.createElement("button",{class:"btn white-txt pull-right",onClick:function(){return n()}},s.a.createElement("i",{class:"fa fa-angle-right"})))}}),s.a.createElement("button",{disabled:!this.state.selectedDay||!this.state.selectedTime||this.state.loading,className:"btn btn-login  popup-btn font-medium font-14 w-75 mx-auto m-t-20 m-b-20",onClick:this.submitSchedule}," Add to schedule")))))),s.a.createElement(ls.a,{className:"removebbg-popup",open:this.state.success_model_open,onClose:this.onCloseModal,center:!0},this.props.schedule_model_data&&s.a.createElement("div",null,s.a.createElement("div",{className:"modal-dialog schedule_block common_design modal-width--custom m-t-50",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-book white-txt",id:"exampleModalLabel font-medium"},"Yay! Congrats!"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeSuccessModel},"\xd7"))),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("h5",{className:"pop-sub-head black-txt text-center font-qregular m-b-20 "},"This session has been added to Beam schedule"),s.a.createElement("p",{class:"font-semibold black-txt text-center mx-auto w-75 font-15"},this.props.schedule_model_data.title),s.a.createElement("p",{class:"font-semibold black-txt text-center mx-auto w-75 font-15"},this.props.schedule_model_data.length," minutes"),s.a.createElement("div",{class:"mx-auto w-85 m-b-10 clearfix"},s.a.createElement("div",{class:"centered-content"},s.a.createElement("span",{class:" black-txt font-qregular text-left m-t-15  font-16 p-l-5"}," Scheduled for ",bo()(this.state.scheduledFor).format("dddd DD MMMM")," at ",bo()(this.state.scheduledFor).format("hh:mm A")," ",_o.localTimeZone()),s.a.createElement("div",{className:"text-center black-txt font-qregular text-left m-t-15  font-16 p-l-5"},s.a.createElement(xn,{item:this.props.schedule_model_data,type:"Private",title:this.props.schedule_model_data.title,length:this.props.schedule_model_data.length})))),s.a.createElement("div",{class:"col-md-12 text-center m-t-30 m-b-40"},s.a.createElement("img",{src:D+"schedule-success-1.png",alt:"",className:"w-100"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 m-b-20"},s.a.createElement("button",{onClick:function(){e.closeSuccessModel(),e.closeModelRedirect()},className:"btn btn-blue-inverse popup-btn w-40 float-left m-r-10"},"View my schedule"),s.a.createElement("button",{className:"btn btn-login popup-btn w-40 float-right",onClick:this.closeSuccessModel},"  All done, thanks! ")))))))))}}]),a}(s.a.Component),Ln={scheduleModelOpen:ia,scheduleVideo:la,loginModelOpen:pt,updateScheduleModelDate:function(e){return function(t,a){t({type:"update-schedule_model_open",payload:e})}}},Dn=Object(i.b)((function(e){return{is_model_open:e.workout.schedule_model_open,is_auth:e.auth.is_auth,schedule_model_data:e.workout.schedule_model_data,schedule_model_type:e.workout.schedule_model_type,init_condition:e.auth.initial_condition}}),Ln)(On),Mn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={userData:{},is_postnatal:!1},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.start_loader(),this.props.fetchUserDetails().then((function(t){e.getConditions()}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"getConditions",value:function(){var e=this;this.props.start_loader(),this.props.healthCondition().then((function(t){(e.props.stop_loader(),e.props.logged_userData.conditionList&&e.props.logged_userData.conditionList.length>0)?e.props.logged_userData.conditionList.findIndex((function(e){return 199===parseInt(e)}))>-1?(console.log("xxx"),e.setState({is_postnatal:!1})):e.props.logged_userData.conditionList.findIndex((function(e){return 200===parseInt(e)}))>-1?(console.log("pppp"),e.setState({is_postnatal:!0})):e.setState({is_postnatal:!1}):e.setState({is_postnatal:!1});e.props.healthcondition_list.map((function(e,t){}))}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"render",value:function(){var e=this.state.is_postnatal?_o.postantal():_o.cysticFibro(),t=this.props.condition;return s.a.createElement("div",{className:"registerpage"},s.a.createElement("div",{id:"register"},s.a.createElement("div",{className:"fadeIn first text-center p-t-10 p-b-15 register_logo"},s.a.createElement(Qo.b,{to:"/home"},s.a.createElement("img",{src:D+"logo.png",id:"icon",alt:"App Icon"}))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{id:"register-row",className:"row justify-content-center align-items-center m-t-50"},s.a.createElement("div",{id:"register-column",className:"col-md-10"},s.a.createElement("div",{id:"register-box",className:"col-md-12"},s.a.createElement("div",{id:"register-form",className:"form"},s.a.createElement("div",{className:"step15"},s.a.createElement("h3",{className:"text-center"},"All done, ",_o.bindUsername(this.props.logged_userData),"! ",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-8 m-t-10"},s.a.createElement("div",{className:"video-tag"},s.a.createElement("img",{src:D+"thanks200.png",id:"icon",className:"thanks-img img-fluid",alt:"User thanks"})),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-50 m-b-20 float-left"},s.a.createElement(En,{from:"alldone",ondemand_data:e,location:this.props.location,history:this.props.history,pageName:"registerPage",condition:t})),s.a.createElement("div",{id:"register-link",className:" w-100 m-b-30 float-left"},s.a.createElement(Qo.b,{to:"/account/dashboard/schedule/"+t,className:"btn-blue-inverse float-left w-100 text-center"},"Go to Dashboard"))))))))))),s.a.createElement(Dn,{location:this.props.location,history:this.props.history}))}}]),a}(s.a.Component),In={fetchUserDetails:ao,start_loader:ht,stop_loader:gt,healthCondition:Mt},jn=Object(i.b)((function(e){return{logged_userData:e.header.logged_userData,healthcondition_list:e.register.healthcondition_list,condition:e.auth.condition}}),In)(Mn),Tn=a(909),Fn=a.n(Tn),Pn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).facebookResponse=function(e){console.log("facebookres",e),o.props.facebookLogin(e,"register").then((function(e){console.log(JSON.stringify(e)),o.closeModel(),o.getUserDetail()}),(function(e){})),o.props.nextStep(),o.props.assignFacebookValues(e)},o.state={},o.facebookResponse=o.facebookResponse.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){}},{key:"onCloseModal",value:function(){}},{key:"getUserDetail",value:function(){var e=this;this.props.start_loader(),this.props.fetchUserDetails().then((function(t){e.props.stop_loader();var a={pathname:"/home"};e.props.history.push(a)}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"closeModel",value:function(){this.props.loginModelOpen(!1)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"first-section"},s.a.createElement("h3",{className:" text-center",id:"exampleModalLabel font-medium"},"How would you like to sign up ? ",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-30"},s.a.createElement("div",{className:"form-group"},s.a.createElement("p",{className:"text-center"},s.a.createElement(Fn.a,{appId:g,autoLoad:!1,disableMobileRedirect:!0,fields:"first_name,last_name,email,picture",callback:this.facebookResponse,render:function(e){return s.a.createElement("button",{onClick:e.onClick,className:"  btn font-semibold font-24 mybtn btn-facebook"},s.a.createElement("i",{className:"fa fa-facebook-official","aria-hidden":"true"}),s.a.createElement("span",{className:"signup-text"},"Continue with Facebook"))}}))),s.a.createElement("div",{className:"text-center font-18 font-qregular m-t-10 m-b-10 black-txt"},s.a.createElement("b",null,"or")),s.a.createElement("div",{className:"form-group"},s.a.createElement("p",{className:"text-center"},s.a.createElement("button",{onClick:function(){e.props.nextStep()},className:"  btn font-semibold font-24 mybtn btn-login m-b-30"},s.a.createElement("i",{className:"fa fa-envelope-o","aria-hidden":"true"})," ",s.a.createElement("span",{className:"signup-text"},"Signup with email")))))))}}]),a}(s.a.Component),Un={isAuth:rt,facebookLogin:mt,loginModelOpen:pt,assignFacebookValues:function(e){return function(){var t=Object(nt.a)(st.a.mark((function t(a,o){return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(e?{type:"assign_facebook_values",payload:e}:{type:"assign_facebook_values"});case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},fetchUserDetails:ao,start_loader:ht,stop_loader:gt},Rn=Object(i.b)((function(e){return{}}),Un)(Pn),Wn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={cargiverTypes:[],submitted:!1,professionLsit:[]},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.getColor=o.getColor.bind(Object(is.a)(o)),o.health_conditionId=o.props.registerFormvalues.health_condition[o.props.condition_index].id,o.condition_professions=Eo.a.find(o.props.registerFormvalues.condition_professions,{conditionId:o.health_conditionId}),o.selected_condition_list=o.props.registerFormvalues.health_condition[o.props.condition_index],o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("caregiverdid mount=>",this.condition_professions),this.condition_professions&&this.condition_professions.conditionRelationship==se[2]||"2"===this.props.registerFormvalues.profession?this.getCaregiverTypes():this.professionsList(),this.props.setPageTitle("Are you...")}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.props.registerFormvalues[a]=o}},{key:"getCaregiverTypes",value:function(){var e=this;this.props.cargiverTypes().then((function(t){e.setState({cargiverTypes:t.relations}),e.props.stop_loader()}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"professionsList",value:function(){var e=this;this.props.getProfessions().then((function(t){e.setState({professionLsit:t.relations}),e.props.stop_loader()}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"submitData",value:function(){switch(this.setState({submitted:!0}),this.props.registerFormvalues.profession=this.condition_professions?se.indexOf(this.condition_professions.conditionRelationship)+"":this.props.registerFormvalues.profession,console.log("this.props.registerFormvalues.profession",this.props.registerFormvalues),this.props.registerFormvalues.profession){case"2":this.props.registerFormvalues.healthcondition_livewith&&(this.setState({midicalcondition_livewith:""}),this.props.registerFormvalues.midicalcondition_livewith="",this.condition_professions?(this.condition_professions.caregiverType=ne[parseInt(this.props.registerFormvalues.healthcondition_livewith)],this.condition_professions.conditionRelationship=se[parseInt(this.props.registerFormvalues.profession)],this.condition_professions.profession=""):this.props.registerFormvalues.condition_professions.push({conditionId:this.health_conditionId,conditionRelationship:se[parseInt(this.props.registerFormvalues.profession)],caregiverType:ne[parseInt(this.props.registerFormvalues.healthcondition_livewith)],profession:"",clinicId:"",patientPopulation:""}),this.props.nextStep());break;case"3":this.props.registerFormvalues.midicalcondition_livewith&&(this.setState({healthcondition_livewith:""}),this.props.registerFormvalues.healthcondition_livewith="",this.condition_professions?(this.condition_professions.profession=re[parseInt(this.props.registerFormvalues.midicalcondition_livewith)],this.condition_professions.conditionRelationship=se[parseInt(this.props.registerFormvalues.profession)],this.condition_professions.caregiverType=""):this.props.registerFormvalues.condition_professions.push({conditionId:this.health_conditionId,conditionRelationship:se[parseInt(this.props.registerFormvalues.profession)],caregiverType:"",profession:re[parseInt(this.props.registerFormvalues.midicalcondition_livewith)],clinicId:"",patientPopulation:""}),this.props.nextStep()),hs.a.event({category:"User Acquisition",action:"Sign up process",label:"Relationship to condition"});break;default:this.setState({healthcondition_livewith:"",midicalcondition_livewith:""}),this.props.registerFormvalues.healthcondition_livewith="",this.props.registerFormvalues.midicalcondition_livewith="",this.props.nextStep()}}},{key:"getColor",value:function(e){var t=R.indexOf("cond_"+e);return t>-1?R[t]:R[0]}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step6"},"mycondition"!=this.props.pageFrom&&s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:this.props.prevStep},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Are you a...",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-7 m-t-10"},s.a.createElement("button",{className:"capitalize_text con-btn position-relative float-left font-semibold font-15 m-b-10 "+this.getColor(this.selected_condition_list.tag.replace(" ","-").toLowerCase())},this.selected_condition_list.tag),s.a.createElement("p",{className:"text-label"},s.a.createElement("b",null,"Please select one")),"2"===this.props.registerFormvalues.profession&&s.a.createElement("div",null,s.a.createElement("hr",null),this.state.cargiverTypes.map((function(t,a){return s.a.createElement("div",{key:a,className:"row radio-section"},s.a.createElement("span",{className:"font-qregular font-14 black-tx col-10"},t),s.a.createElement("div",{className:"radio pull-right col-2 text-right"},s.a.createElement("input",{id:"radio-"+(a+1),name:"healthcondition_livewith",value:a+1,type:"radio",defaultChecked:e.condition_professions&&e.condition_professions.caregiverType===t,onChange:e.handleChange}),s.a.createElement("label",{htmlFor:"radio-"+(a+1),className:"radio-label"})))})),this.state.submitted&&this.condition_professions&&""===this.condition_professions.caregiverType&&""===this.props.registerFormvalues.healthcondition_livewith&&s.a.createElement("p",{className:"text-danger"},"This is required")),"3"===this.props.registerFormvalues.profession&&s.a.createElement("div",null,this.state.professionLsit.map((function(t,a){return s.a.createElement("div",{key:a,className:"row radio-section"},s.a.createElement("span",{className:"font-qregular font-14 black-txt col-10"},t),s.a.createElement("div",{className:"radio pull-right col-2 text-right"},s.a.createElement("input",{id:"radio-"+(a+1),name:"midicalcondition_livewith",value:a+1,type:"radio",defaultChecked:e.condition_professions&&e.condition_professions.profession===t,onChange:e.handleChange}),s.a.createElement("label",{htmlFor:"radio-"+(a+1),className:"radio-label"})))})),this.state.submitted&&this.condition_professions&&""===this.condition_professions.profession&&""===this.props.registerFormvalues.midicalcondition_livewith&&s.a.createElement("p",{className:"text-danger"},"This is required")),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-80 m-b-20 float-left"},s.a.createElement("span",{onClick:function(){return e.submitData()},className:"bluebtn float-left w-100 font-medium font-14 text-center pointer"},"Next")))))}}]),a}(s.a.Component),An={cargiverTypes:function(){return function(e,t){tt();return fetch(h+"/api/getCaregiverTypes").then((function(t){return go(t,e)})).then((function(e){return e}))}},start_loader:ht,stop_loader:gt,getProfessions:function(){return function(e,t){tt();return fetch(h+"/api/getProfessions").then((function(t){return go(t,e)})).then((function(e){return e}))}},setPageTitle:zt},Bn=Object(i.b)((function(e){return{condition_index:e.register.condition_index}}),An)(Wn),qn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={membershipList:[]},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.registerFormvalues.country){var t=this.props.countries_list.filter((function(t){return t.id===parseInt(e.props.registerFormvalues.country)})).map((function(e,t){return e}));t.length>0&&this.fetchPlans(t[0].countryCode)}}},{key:"fetchPlans",value:function(e){var t=this;this.props.start_loader(),this.props.fetchMembershipPlans(e).then((function(e){e&&t.setState({membershipList:e.plans}),t.props.stop_loader()}),(function(e){t.props.stop_loader(),at.b.error(e)}))}},{key:"submitPlan",value:function(e){this.props.registerFormvalues.membershipPlan=e,this.props.nextStep()}},{key:"previousStep",value:function(){this.props.registerFormvalues.promocode?this.props.prevStep():this.props.gotoStep(14)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step6"},s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:function(){e.previousStep()}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),s.a.createElement("span",null,"First month free! ",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X"))),this.state.membershipList.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"font-14 font-qmedium black-txt col-md-12 text-center m-t-40 m-b-20"},"Then your choice of one of the following memberships..."),s.a.createElement("div",{className:"col-md-12  justify-content-center align-items-center"},s.a.createElement("div",{className:"row pricing"},this.state.membershipList.map((function(t,a){return s.a.createElement("div",{key:a,className:e.props.registerFormvalues.membershipPlan.id===t.id?"active col-lg-4 col-md-6 col-sm-12 m-b-10":"col-lg-4 col-md-6 col-sm-12 m-b-10"},s.a.createElement("div",{className:"card mb-5 mb-lg-0"},s.a.createElement("div",{className:"card-body height-fix text-center"},s.a.createElement("h5",{className:"card-title text-body font-book font-18 black-txt text-uppercase text-center"},t.name),s.a.createElement("h6",{className:"card-price text-center font-18 silver-txt font-qregular"},t.currency," ",t.amount,s.a.createElement("span",{className:"period"}," /",t.interval)),s.a.createElement("figure",{className:"text-center"},s.a.createElement("img",{src:D+"member_ship/membership_"+(a+1)+".png",className:"img-fluid img-responsive w-70",alt:""})),s.a.createElement("p",{className:"font-12  text-center m-t-20 font-qmedium"},"Access to on-demand exercise video library."),s.a.createElement("hr",{className:"w-75 mr-auto ml-auto"}),s.a.createElement("p",{className:"font-12 black-txt text-center font-qmedium"},"Access to groups"),s.a.createElement("hr",{className:"w-75    mr-auto ml-auto"}),s.a.createElement("p",{className:"font-12 black-txt text-center font-qmedium"},"Access to all live exercise classes"),s.a.createElement("button",{className:"btn btn-orange m-t-100 font-medium font-14",onClick:function(){return e.submitPlan(t)}},"Start Trial"))))}))))," "),0===this.state.membershipList.length&&s.a.createElement("div",{className:"font-14 font-qmedium black-txt col-md-12 text-center m-t-40 m-b-20"},"No memberships found !"))}}]),a}(s.a.Component),Yn={fetchMembershipPlans:Rt,start_loader:ht,stop_loader:gt},Gn=(Object(i.b)((function(e){return{countries_list:e.register.countries_list}}),Yn)(qn),function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={isRead:!1},o}return Object(Wo.a)(a,[{key:"onCloseModal",value:function(){}},{key:"render",value:function(){var e=this;Go.Cookies.get("condition");return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog common_design modal-width--custom live-classes--popup",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center white-txt col-md-12 p-0 font-book font-24",id:"exampleModalLabel "},this.props.title),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.props.submitNo()}},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 text-center m-b-30 mr-auto ml-auto"},s.a.createElement("p",{className:"font-15 font-semibold black-txt"},this.props.content)),s.a.createElement("div",{className:"buttons-read w-100 m-t-20 float-left text-center pointer"},s.a.createElement("a",{className:"btn btn-blue-inverse font-14 read-now m-r-20",onClick:function(){return e.props.submitYes()}},this.props.yesButton),s.a.createElement("a",{className:"btn btn-blue-inverse font-14 read-later m-l-20 pointer",onClick:function(){return e.props.submitNo()}},this.props.noButton)))))))}}]),a}(s.a.Component)),Vn=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData}}),{})(Gn),Hn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).checkLicenseValidity=function(e){var t=!1,a=(bo()().format("YYYY-MM-DD"),bo()().add(14,"days").format("YYYY-MM-DD"));if(e.freeDays>0&&null!=e.freeDays&&null!=e.accessEndDate&&"0000-00-00"!=e.accessEndDate){var o=bo()().add(e.freeDays,"days").format("YYYY-MM-DD"),s=bo()(e.accessEndDate).utc().format("YYYY-MM-DD"),n=new Date(o),r=new Date(s);a=n.getTime()>r.getTime()?o:s}else e.freeDays>0&&null!=e.freeDays?a=bo()().add(e.freeDays,"days").format("YYYY-MM-DD"):e.accessEndDate&&null!=e.accessEndDate&&"0000-00-00"!=e.accessEndDate&&(a=bo()(e.accessEndDate).utc().format("YYYY-MM-DD"));if(console.log("trialEnds",a),console.log("trialEnds-gettime=",new Date(a).getTime()),console.log("now-gettime=",(new Date).getTime()),new Date(a).getTime()<(new Date).getTime())a=bo()().add(14,"days").format("YYYY-MM-DD");else t=!0;return t},o.state={userData:{},is_postnatal:!1,submitted:!1,disableButton:!1,current_index:o.props.condition_index,shareData:0,isDisablePromo:!0,promoCodeErr:!1,subscribedErr:!1,promocode:"",promoPlans:{},isEligibleCheck:!1,isSkip:!1,isNoThanksModal:!1,conditionName:""},o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.finalSubmit=o.finalSubmit.bind(Object(is.a)(o)),o.eligibilityCheck=o.eligibilityCheck.bind(Object(is.a)(o)),o.renderEligible=o.renderEligible.bind(Object(is.a)(o)),o.renderNotEligible=o.renderNotEligible.bind(Object(is.a)(o)),o.applyPromoCode=o.applyPromoCode.bind(Object(is.a)(o)),o.renderPromoCodeData=o.renderPromoCodeData.bind(Object(is.a)(o)),o.calculatePromoAccess=o.calculatePromoAccess.bind(Object(is.a)(o)),o.getLongestLicense=o.getLongestLicense.bind(Object(is.a)(o)),o.isUpdate=!1,o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.props.start_loader(),console.log("this.props-onboard",this.props),"membership"!=this.props.pageFrom&&"mycondition"!=this.props.pageFrom||!this.props.promocode?this.props.registerFormvalues.health_condition.length&&this.eligibilityCheck():(this.setState({isEligibleCheck:!0,promocode:this.props.promocode,promoPlans:this.props.promoPlans},(function(){this.calculatePromoAccess()})),this.health_conditionId=this.props.health_conditionId)}},{key:"eligibilityCheck",value:function(){var e=this;console.log("this.props-hereabout",this.props),console.log("this.props.registerFormvalues",this.props.registerFormvalues);var t=[];if("register"==this.props.pageFrom||"mycondition"==this.props.pageFrom?this.health_conditionId=this.props.registerFormvalues.health_condition[this.state.current_index].id:"membership"==this.props.pageFrom&&(this.health_conditionId=this.props.health_conditionId),"membership"==this.props.pageFrom)var a=this.props.condition_name;else{var o=Eo.a.find(this.props.registerFormvalues.health_condition,{id:this.health_conditionId});a=o?o.tag:""}this.condition_professions=Eo.a.find(this.props.registerFormvalues.condition_professions,{conditionId:this.health_conditionId});var s=this;if(console.log("this.health_conditionId",this.health_conditionId),console.log("this.condition_professions",this.condition_professions),this.props.licenseList.map((function(a,o){console.log("licenseList-item",a),a.freeDays?a.calCulatedDate=bo()().add(a.freeDays,"days").format("YYYY-MM-DD"):a.accessEndDate&&(a.calCulatedDate=bo()(a.accessEndDate).utc().format("YYYY-MM-DD")),a.modalContent&&"string"==typeof a.modalContent&&(e.props.licenseList[o].modalContent=JSON.parse(a.modalContent));var n=JSON.parse(a.eligibilityCriteria);t[o]={},Object.keys(n).map((function(e){switch(e){case"conditionId":n[e]==s.health_conditionId&&(t[o][e]=!0);break;case"countryId":n[e]==s.props.registerFormvalues.country&&(t[o][e]=!0);break;case"age":s.props.registerFormvalues.age>=n[e]&&(t[o][e]=!0);break;case"conditionRelationship":s.condition_professions&&-1!=n[e].indexOf(s.condition_professions.conditionRelationship)&&(t[o][e]=!0);break;case"clinicId":console.log("eligibilityCriteria[key]",n[e]),s.condition_professions&&-1!=n[e].indexOf(s.condition_professions.clinicId)&&(t[o][e]=!0);break;case"regionId":n[e]==s.props.registerFormvalues.region&&(t[o][e]=!0)}})),Object.keys(t[o]).length===Object.keys(n).length?(console.log("**EQUAL***"),t[o]=e.props.licenseList[o]):(console.log("NOT-EQUAL",t),t.splice(o,1))})),t=t.filter((function(e){return 0!==Object.keys(e).length})),this.setState({isEligibleCheck:!0,conditionName:a}),console.log("eligibleData",t),t.length>1)this.getLongestLicense(t);else{t.length&&(t=t[0]);var n=this.checkLicenseValidity(t);console.log("isValid",n),this.props.registerFormvalues.eligible_license={},n&&(this.props.registerFormvalues.eligible_license=t),this.props.registerformUpdate(this.props.registerFormvalues),this.props.setConditionIndex(this.state.current_index+1),this.setState({current_index:this.state.current_index+1})}}},{key:"handleCheckboxChange",value:function(e){e.target.name;this.setState({shareData:!this.state.shareData})}},{key:"finalSubmit",value:function(e,t){console.log("this.health_conditionId",this.health_conditionId),this.setState({submitted:!0,promoCodeErr:!1,subscribedErr:!1,isDisablePromo:!0,isSkip:e,isNoThanksModal:!1}),this.health_conditionId||(this.health_conditionId=this.props.registerFormvalues.health_condition[this.state.current_index-1].id);var a=bo()().format("YYYY-MM-DD"),o=bo()().add(14,"days").format("YYYY-MM-DD");if(this.state.shareData||!Object.keys(this.props.registerFormvalues.eligible_license).length||!this.props.registerFormvalues.eligible_license.modalContent||"Mandatory"!==this.props.registerFormvalues.eligible_license.modalContent.consentSwitch||e){if(e){if(this.props.registerFormvalues.tagCode={},"membership"==this.props.pageFrom||"mycondition"==this.props.pageFrom)return this.props.registerformUpdate(this.props.registerFormvalues),void this.props.closeModel();this.setState({promoPlans:{},promocode:""})}else switch(t){case 1:console.log("type=1");var s=!0;if(this.props.registerFormvalues.eligible_license.freeDays>0&&null!=this.props.registerFormvalues.eligible_license.freeDays&&null!=this.props.registerFormvalues.eligible_license.accessEndDate&&"0000-00-00"!=this.props.registerFormvalues.eligible_license.accessEndDate){console.log("feedays&access***");var n=bo()().add(this.props.registerFormvalues.eligible_license.freeDays,"days").format("YYYY-MM-DD"),r=bo()(this.props.registerFormvalues.eligible_license.accessEndDate).utc().format("YYYY-MM-DD");s=!1;var i=new Date(n),l=new Date(r);o=i.getTime()>l.getTime()?n:r}else this.props.registerFormvalues.eligible_license.freeDays>0&&null!=this.props.registerFormvalues.eligible_license.freeDays?(console.log("feedays***"),o=bo()().add(this.props.registerFormvalues.eligible_license.freeDays,"days").format("YYYY-MM-DD"),s=!1):this.props.registerFormvalues.eligible_license.accessEndDate&&null!=this.props.registerFormvalues.eligible_license.accessEndDate&&"0000-00-00"!=this.props.registerFormvalues.eligible_license.accessEndDate&&(console.log("accssEndDate***"),o=bo()(this.props.registerFormvalues.eligible_license.accessEndDate).utc().format("YYYY-MM-DD"),s=!1);if(new Date(o).getTime()<(new Date).getTime()){o=bo()().add(14,"days").format("YYYY-MM-DD");s=!0}this.props.registerFormvalues.condition_membership.push({PlanId:this.props.registerFormvalues.eligible_license.planId,planStarts:a,trialEnds:o,UserId:this.props.registerFormvalues.userid,current:1,conditionId:this.health_conditionId,licenseId:this.props.registerFormvalues.eligible_license.id,accessEndDate:this.props.registerFormvalues.eligible_license.accessEndDate,freeDays:this.props.registerFormvalues.eligible_license.freeDays,shareData:this.state.shareData,isConfigEmailAlert:s,membershipType:"license"});break;case 2:console.log("type=2"),o=bo()().add(14,"days").format("YYYY-MM-DD"),this.props.registerFormvalues.condition_membership.push({PlanId:this.props.countryPlans.id,planStarts:a,trialEnds:o,UserId:this.props.registerFormvalues.userid,current:1,conditionId:this.health_conditionId,isConfigEmailAlert:!1,membershipType:"membership"==this.props.pageFrom?"card":"free-trial",licenseId:null});break;case 3:console.log("type=3");o=bo()().format("YYYY-MM-DD");this.state.promoPlans.freeDays?o=bo()().add(this.state.promoPlans.freeDays,"days").format("YYYY-MM-DD"):this.state.promoPlans.accessEndDate&&null!=this.state.promoPlans.accessEndDate&&"0000-00-00"!=this.state.promoPlans.accessEndDate&&(o=bo()(this.state.promoPlans.accessEndDate).utc().format("YYYY-MM-DD")),this.props.registerFormvalues.condition_membership.push({PlanId:this.state.promoPlans.planId,subscriptionId:this.state.promoPlans.courtestyCode,planStarts:a,trialEnds:o,UserId:this.props.registerFormvalues.userid,current:1,conditionId:this.health_conditionId,promoId:this.state.promoPlans.id,isConfigEmailAlert:!1,membershipType:"promo",licenseId:null}),this.setState({promoPlans:{},promocode:""})}this.setState({submitted:!1}),console.log("current_index",this.state.current_index),console.log("current_length",this.props.registerFormvalues.health_condition.length),this.props.registerFormvalues.current_health_conditionId=this.health_conditionId,"register"==this.props.pageFrom&&this.state.current_index<this.props.registerFormvalues.health_condition.length&&this.state.current_index!==this.props.registerFormvalues.health_condition.length?(console.log("*************next***********",this.props.registerFormvalues),this.props.registerformUpdate(this.props.registerFormvalues),this.eligibilityCheck(),1==this.state.current_index?(this.isUpdate=!0,this.props.registerUser(this.props.registerFormvalues,!1,!1),console.log("**if-this.isUpdate",this.isUpdate)):(this.isUpdate=!0,this.props.registerUser(this.props.registerFormvalues,this.isUpdate,!1),console.log("**else-this.isUpdate",this.isUpdate))):"mycondition"!=this.props.pageFrom||this.props.promocode?(console.log("*************Done***********",this.props),console.log("**else2-this.isUpdate",this.isUpdate),this.props.registerFormvalues.cost=_o.returnCurrency(this.props.countryPlans)+this.props.countryPlans.amount,this.props.registerformUpdate(this.props.registerFormvalues),"mycondition"==this.props.pageFrom&&this.props.promocode?this.props.submitCondition(this.props.registerFormvalues,e):this.props.registerUser(this.props.registerFormvalues,this.isUpdate,!0)):(this.props.registerformUpdate(this.props.registerFormvalues),this.props.submitCondition(this.props.registerFormvalues.health_condition[0],e))}}},{key:"handleChange",value:function(e){var t=e.target,a=(t.name,t.value);a?this.setState({promocode:a,subscribedErr:!1,isDisablePromo:!1}):this.setState({promocode:"",isDisablePromo:!0,subscribedErr:!1})}},{key:"applyPromoCode",value:function(){var e=this;this.state.promocode.trim()&&this.props.getPromocodePaln(this.state.promocode.trim(),this.health_conditionId).then((function(t){e.props.registerFormvalues.promocode=e.state.promocode,e.props.registerformUpdate(e.props.registerFormvalues),t&&t.plans&&t.plans.length>0?(e.setState({promoPlans:t.plans[0]}),e.calculatePromoAccess()):e.setState({promoCodeErr:!0})}),(function(e){at.b.error(e)}))}},{key:"calculatePromoAccess",value:function(){console.log("calculatePromoAccess");var e=this.state.promoPlans,t="";t=e.accessEndDate?bo()(e.accessEndDate).utc().format("Do MMMM YYYY"):60==e.freeDays?"for 2 months":90==e.freeDays?"for 3 months":180==e.freeDays?"for 6 months":365==e.freeDays?"for 12 months":e.freeDays?"for "+e.freeDays+" days":"for 2 weeks",e.accessTime=t,this.setState({promoPlans:e})}},{key:"getLongestLicense",value:function(e){e=e.sort((function(e,t){return new Date(t.calCulatedDate).getTime()-new Date(e.calCulatedDate).getTime()}))[0];console.log("getLongestLicense",e);var t=this.checkLicenseValidity(e);console.log("isValid",t),this.props.registerFormvalues.eligible_license={},t&&(this.props.registerFormvalues.eligible_license=e||{}),this.props.registerformUpdate(this.props.registerFormvalues),this.props.setConditionIndex(this.state.current_index+1),this.setState({current_index:this.state.current_index+1})}},{key:"renderEligible",value:function(){var e=this;if(console.log("renderEligible"),console.log("renderEligible",this.state.current_index),"membership"==this.props.pageFrom){var t=this.props.condition_name;console.log("renderEligible",t)}else t=this.props.registerFormvalues.health_condition[this.state.current_index-1].tag;return s.a.createElement("div",null,s.a.createElement("div",{class:"col-md-12 mt-4 mb-3"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"col-md-6 mx-auto text-center m-b-20"},s.a.createElement("img",{src:D+"logo.png",id:"icon",className:"img-fluid logo-size m-b-10",alt:"beam logo"}),s.a.createElement("span",{className:"purplefont font-bold font-18 align-bottom text-capitalize font-qbold pre-wrap"},t)))),s.a.createElement("div",{className:"text-center font-20 font-qmedium"},s.a.createElement("p",null,this.props.registerFormvalues.eligible_license.modalContent.accessText)),s.a.createElement("div",{class:"col-md-12 mt-4 mb-3"},s.a.createElement("div",{class:"row"},this.props.registerFormvalues.eligible_license.Organisation.organisationLogo&&s.a.createElement("div",{className:"video-tag2 col-md-12"},s.a.createElement("img",{src:f+this.props.registerFormvalues.eligible_license.Organisation.organisationLogo,id:"icon",className:"thanks-img img-fluid",alt:"org-logo"})))),this.props.registerFormvalues.eligible_license.modalContent.consentStatement&&this.props.registerFormvalues.eligible_license.modalContent.consentSwitch&&s.a.createElement("div",{className:"toggle-btns float-left w-100"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},this.props.registerFormvalues.eligible_license.modalContent.consentStatement),s.a.createElement("label",{className:"switch m-l-10 pull-right",htmlFor:"shareData"},s.a.createElement("input",{type:"checkbox",name:"shareData",id:"shareData",defaultChecked:this.state.shareData,onChange:this.handleCheckboxChange,value:this.state.shareData}),s.a.createElement("div",{className:"slider round"}))),this.props.registerFormvalues.eligible_license.modalContent.consentSwitch&&"Mandatory"===this.props.registerFormvalues.eligible_license.modalContent.consentSwitch&&this.state.submitted&&!this.state.shareData&&!this.state.isSkip&&s.a.createElement("p",{className:"text-danger"},"This is required"),s.a.createElement("div",{id:"register-link",className:"buttons-read w-100 m-t-20 float-left text-center col-lg-12 col-xs-12 col-md-12 m-b-30"},s.a.createElement("button",{className:"btn btn-beam-blue-inverse font-14 col-xs-8 col-lg-4 m-t-20 m-r-20 col-md-4",disabled:this.state.disableButton,onClick:function(){e.props.isFreeTrial?e.finalSubmit(!0):e.setState({isNoThanksModal:!0})}},"No, thanks!"),s.a.createElement("button",{className:"btn btn-beam-blue font-14 pointer col-xs-8 m-t-20 col-lg-6 col-md-6",disabled:this.state.disableButton||this.props.loader_state,onClick:function(){return e.finalSubmit(!1,1)}},"Activate Membership")))}},{key:"renderNotEligible",value:function(){var e=this;if(console.log("renderNotEligible",this.state.current_index),"membership"==this.props.pageFrom){var t=this.props.condition_name;console.log("renderNotEligible",t)}else t=this.props.registerFormvalues.health_condition[this.state.current_index-1].tag;return s.a.createElement("div",null,s.a.createElement("div",{class:"col-md-12 mt-4 mb-3"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"col-md-6 mx-auto text-center m-b-20"},s.a.createElement("img",{src:D+"logo.png",id:"icon",className:"img-fluid m-b-10 logo-size-member-content",alt:"beam logo"}),s.a.createElement("span",{className:"purplefont font-bold font-18 align-bottom text-capitalize d-block"},t)))),s.a.createElement("div",{className:"text-center font-20 font-qmedium col-md-8 mx-auto"},s.a.createElement("p",{className:"ash-txt font-bold font-30"},"Beam Monthly"),s.a.createElement("p",{className:"font-25 ash-txt"},"2 week free trial"),s.a.createElement("p",{className:"font-25 ash-txt"},"followed by ",_o.returnCurrency(this.props.countryPlans),this.props.countryPlans.amount," per month")),s.a.createElement("p",{className:"font-14 text-center font-qmedium"},"(no credit card required to start the trial,no obligation to sign up after the trial)"),s.a.createElement("div",{class:"col-md-9 mt-4 mb-5 mx-auto"},s.a.createElement("label",{htmlFor:"promocode",className:"text-label"},"Got a promotional or access code?"),s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"col-md-9 p-t-10"},s.a.createElement("input",{type:"text",name:"promocode",id:"promocode",className:"form-control input-control",value:this.state.promocode,onChange:this.handleChange})),s.a.createElement("div",{id:"register-link",className:"col-md-3 align-self-center text-center p-15 p-t-10"},s.a.createElement("button",{disabled:this.state.isDisablePromo,className:"btn button-lightblue text-center w-100 p-3",onClick:this.applyPromoCode},"Apply")),this.state.submitted&&this.state.promoCodeErr&&s.a.createElement("p",{className:"text-danger"},"Please enter correct promo or access code"),this.state.subscribedErr&&s.a.createElement("p",{className:"text-danger"},cn))),s.a.createElement("div",{id:"register-link",className:"buttons-read w-100 m-t-20 float-left text-center col-lg-12 col-xs-12 col-md-12 m-b-30"},s.a.createElement("button",{className:"btn btn-beam-blue-inverse font-14 col-xs-8 col-lg-4 m-t-20 m-r-20 col-md-4",disabled:this.state.disableButton,onClick:function(){e.props.isFreeTrial?e.finalSubmit(!0):e.setState({isNoThanksModal:!0})}},"No, thanks!"),s.a.createElement("button",{className:"btn btn-beam-blue font-14 pointer col-xs-8 m-t-20 col-lg-6 col-md-6",disabled:this.state.disableButton||!this.state.isDisablePromo||this.props.loader_state,onClick:function(){return e.finalSubmit(!1,2)}},"membership"==this.props.pageFrom?"Upgrade for "+_o.returnCurrency(this.props.countryPlans)+this.props.countryPlans.amount+" per month":"Activate 2 week free trial")))}},{key:"renderPromoCodeData",value:function(){var e=this;console.log("render-promocodedata-this.state.current_index",this.state.current_index),console.log("renderPromoCodeData=>this.props",this.props);var t="";if("membership"!=this.props.pageFrom&&"mycondition"!=this.props.pageFrom||!this.props.promocode)t=this.props.registerFormvalues.health_condition[this.state.current_index-1].tag;else{var a=this.props.promoPlans?this.props.promoPlans:this.state.promoPlans;t=a.Tag?a.Tag.tag:""}return s.a.createElement("div",null,s.a.createElement("div",{class:"col-md-12 mt-4 mb-3"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"col-md-6 mx-auto text-center m-b-20"},s.a.createElement("img",{src:D+"logo.png",id:"icon",className:"img-fluid p-r-10 p-t-10 p-b-10",alt:"beam logo"}),s.a.createElement("span",{className:"purplefont font-bold font-18 align-bottom text-capitalize"},t)))),s.a.createElement("div",{className:"text-center font-20 font-medium col-md-8 mx-auto"},s.a.createElement("p",{className:"font-25 ash-txt"},"This code gives you free access to Beam ",s.a.createElement("span",{className:"text-capitalize"},t)),s.a.createElement("p",{className:"font-25 ash-txt"}," ",this.state.promoPlans.freeDays?"":"until"," ",this.state.promoPlans.accessTime," "),this.state.promoPlans.courtesyName&&s.a.createElement("p",{className:"font-25 ash-txt"},"courtesy of ",this.state.promoPlans.courtesyName)),s.a.createElement("div",{id:"register-link",className:"buttons-read w-100 m-t-20 float-left text-center col-lg-12 col-xs-12 col-md-12 m-b-30"},s.a.createElement("button",{className:"btn btn-beam-blue-inverse font-14 col-xs-8 col-lg-4 m-t-20 m-r-20 col-md-4",disabled:this.state.disableButton,onClick:function(){e.props.isFreeTrial?e.finalSubmit(!0):e.setState({isNoThanksModal:!0})}},"No, thanks!"),s.a.createElement("button",{className:"btn btn-beam-blue font-14 pointer col-xs-8 m-t-20 col-lg-6 col-md-6",disabled:this.state.disableButton||this.props.loader_state,onClick:function(){return e.finalSubmit(!1,3)}},"Activate Membership")))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-10 m-t-10"},this.state.isEligibleCheck&&!Object.keys(this.state.promoPlans).length&&Object.keys(this.props.registerFormvalues.eligible_license).length>0&&this.renderEligible(),this.state.isEligibleCheck&&!Object.keys(this.state.promoPlans).length&&!Object.keys(this.props.registerFormvalues.eligible_license).length&&this.renderNotEligible(),this.state.isEligibleCheck&&this.state.promocode&&Object.keys(this.state.promoPlans).length>0&&this.renderPromoCodeData()),this.state.isNoThanksModal&&s.a.createElement(Vn,{title:"Are you sure?",content:"mycondition"!=this.props.pageFrom?"Are you sure you don't want to activate a membership to Beam "+this.state.conditionName+"? We will go ahead and create a Beam account for you but you will not have a membership to access all the great content we have available on Beam "+this.state.conditionName+'. If you\'ve changed your mind and don\'t want to sign up to Beam today choose "No" below and click on the "X" to cancel your sign-up to Beam.':"Are you sure you don't want to activate a membership to Beam "+this.state.conditionName+" today?",yesButton:"Yes",noButton:"No",is_model_open:this.state.isNoThanksModal,submitYes:function(){e.finalSubmit(!0)},submitNo:function(){e.setState({isNoThanksModal:!1})}}))}}]),a}(s.a.Component),zn={start_loader:ht,stop_loader:gt,setStep:Ct,registerNewUser:Wt,setConditionIndex:Bt,getPromocodePaln:Ft},Kn=Object(i.b)((function(e){return{logged_userData:e.header.logged_userData,healthcondition_list:e.register.healthcondition_list,condition:e.auth.condition,condition_index:e.register.condition_index,licenseList:e.register.licenseList,countryPlans:e.register.countryPlans,loader_state:e.register.isLoading}}),zn)(Hn),Jn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={userData:{},is_postnatal:!1,submitted:!1,disableButton:!1,current_index:o.props.condition_index,shareData:0,isDisablePromo:!0,promoCodeErr:!1,subscribedErr:!1,promocode:"",promoPlans:{},isEligibleCheck:!1},o.applyPromoCode=o.applyPromoCode.bind(Object(is.a)(o)),o.calculatePromoAccess=o.calculatePromoAccess.bind(Object(is.a)(o)),o.registerUser=o.registerUser.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.props.setPageTitle("Your membership options")}},{key:"registerUser",value:function(e,t,a){var o=this;if(console.log("registerUser-isUpdate",t),console.log("registerUser-isFinish",a),this.props.set_loading(!0),t){console.log("SIGNUPNEW-updateMyConditions");var s=Eo.a.find(e.condition_professions,{conditionId:e.current_health_conditionId}),n=Eo.a.find(e.condition_membership,{conditionId:e.current_health_conditionId}),r={conditionId:[e.current_health_conditionId],condition_professions:s?[s]:[],condition_membership:n?[n]:[],registerFormvalues:e};this.props.updateMyConditions(r).then((function(t){if(console.log("mycondition creation"),a){o.props.afterSignupComplete();var s=e.health_condition[0].tag,n=Go.Cookies.get("current-page-url")?Go.Cookies.get("current-page-url"):"/on-demand/"+s;o.props.setNewUser(!0),console.log("againurl",n);var r={from:{pathname:n}}.from;o.props.history.push(r)}o.props.set_loading(!1)}),(function(e){console.log("mycondition creation error:",e),at.b.error(e),o.props.set_loading(!1)}))}else console.log("SIGNUPNEW-registerNewUser"),this.props.registerNewUser(e).then((function(t){if(t&&t.success){var s=t;s.authdata=window.btoa(e.email+":"+e.password),localStorage.setItem("userMidSignup",JSON.stringify(s)),o.props.set_loading(!1)}if(a){o.props.afterSignupComplete(),console.log("Isfineish");var n=e.health_condition[0].tag,r=Go.Cookies.get("current-page-url")?Go.Cookies.get("current-page-url"):"/on-demand/"+n;o.props.setNewUser(!0),console.log("againurl",r);var i={from:{pathname:r}}.from;o.props.history.push(i),at.b.success(t.message)}else e.userid=t.userid,o.props.registerformUpdate(e),console.log("response.user",t.userid)}),(function(e){o.props.set_loading(!1),o.setState({Loading:!1}),at.b.error(e)}))}},{key:"applyPromoCode",value:function(){var e=this;this.state.promocode.trim()&&this.props.getPromocodePaln(this.state.promocode.trim()).then((function(t){e.props.registerformUpdate(e.props.registerFormvalues),t&&t.plans&&t.plans.length>0?(e.setState({promoPlans:t.plans[0]}),e.calculatePromoAccess()):e.setState({promoCodeErr:!0})}),(function(e){at.b.error(e)}))}},{key:"calculatePromoAccess",value:function(){var e=this.state.promoPlans,t="";t=e.accessEndDate?bo()(e.accessEndDate).format("Do MMMM YYYY"):60==e.freeDays?"for 2 months":90==e.freeDays?"for 3 months":180==e.freeDays?"for 6 months":365==e.freeDays?"for 12 months":e.freeDays?"for "+e.freeDays+" days":"for 2 weeks",e.accessTime=t,this.setState({promoPlans:e})}},{key:"render",value:function(){return s.a.createElement("div",{className:"step16"},"mycondition"!=this.props.pageFrom&&s.a.createElement("h3",{className:"text-center"},Object.keys(this.state.promoPlans).length>0?"Nice one "+this.props.registerFormvalues.firstname:"Your membership options",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement(Kn,{registerFormvalues:this.props.registerFormvalues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,registerUser:this.registerUser,countryPlans:this.props.countryPlans,pageFrom:this.props.pageFrom,submitCondition:this.props.submitCondition,promocode:this.props.promocode,promoPlans:this.props.promoPlans,health_conditionId:this.props.health_conditionId,closeModel:this.props.closeModel}))}}]),a}(s.a.Component),Qn={start_loader:ht,stop_loader:gt,setStep:Ct,registerNewUser:Wt,setConditionIndex:Bt,getPromocodePaln:Ft,afterSignupComplete:function(){console.log("afterSignupComplete",localStorage.getItem("userMidSignup"));var e=JSON.parse(localStorage.getItem("userMidSignup"));return function(t,a){t({type:"reset_register"}),e&&(t({type:"check_isauth",payload:!0}),t({type:"login_success",payload:e}),t({type:"set_challenge_tag",payload:!e.beamchallenging}),console.log("Register SET_CHALLENGE_TAG"),localStorage.setItem("user",localStorage.getItem("userMidSignup")))}},updateMyConditions:oo,registerformUpdate:Ot,set_loading:function(e){return function(t,a){t({type:"set_loading",payload:e})}},setPageTitle:zt,setNewUser:Jt},Zn=Object(i.b)((function(e){return{logged_userData:e.header.logged_userData,healthcondition_list:e.register.healthcondition_list,condition:e.auth.condition,condition_index:e.register.condition_index,licenseList:e.register.licenseList,countryPlans:e.register.countryPlans}}),Qn)(Jn),Xn=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={submitted:!1,current_index:0,loader:!1,treatment:[]},o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.backTo=o.backTo.bind(Object(is.a)(o)),o.selected_condition_list=o.props.registerFormvalues.health_condition[o.props.condition_index],o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("this,props,.step",this.props.step),this.props.getTagsBasedOnType("pc-treatment").then((function(t){console.log("response",t),t.success&&e.setState({treatment:t.data.tags})})),this.props.setPageTitle("Which treatment are you currently receiving for prostate cancer?")}},{key:"backTo",value:function(){this.props.setStep(7,"backward")}},{key:"handleCheckboxChange",value:function(e){var t=e.target.value,a=[];if(this.props.registerFormvalues.cancer_treatment.length>0){a=Object(Lo.a)(this.props.registerFormvalues.cancer_treatment);var o=this.props.registerFormvalues.cancer_treatment.findIndex((function(e){return e===t}));o>-1?a.splice(o,1):a.push(t)}else(a=Object(Lo.a)(this.props.registerFormvalues.cancer_treatment)).push(t);this.props.registerFormvalues.cancer_treatment=a}},{key:"submitData",value:function(){this.setState({submitted:!0}),console.log("comorbidities",this.props.registerFormvalues.cancer_treatment),this.props.setStep(21,"forward")}},{key:"render",value:function(){var e=this;return console.log("this.props.registerFormvalues.cancer_treatment",this.props.registerFormvalues.cancer_treatment),s.a.createElement("div",{className:"step10"},"mycondition"!=this.props.pageFrom&&s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:function(){return e.backTo()}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Which treatment are you currently receiving for prostate cancer?",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-30 "},s.a.createElement("button",{className:"capitalize_text con-btn position-relative float-left font-semibold font-15 m-b-10 "+_o.getColor(this.selected_condition_list.tag.replace(" ","-").toLowerCase())},this.selected_condition_list.tag),this.state.treatment.map((function(t,a){return s.a.createElement("div",{key:a,className:"toggle-btns float-left w-100 m-b-10"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},t.tag),s.a.createElement("label",{className:"switch m-l-10 pull-right",htmlFor:"checkbox-"+t.id},s.a.createElement("input",{type:"checkbox",name:"comorbidities"+t.id,id:"checkbox-"+t.id,defaultChecked:-1!=e.props.registerFormvalues.cancer_treatment.findIndex((function(e){return parseInt(e)===t.id})),onChange:e.handleCheckboxChange,value:t.id}),s.a.createElement("div",{className:"slider round"})))})),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-50 m-b-20 float-left"},s.a.createElement("span",{onClick:function(){return e.submitData()},className:"bluebtn float-left w-100 font-medium font-14 text-center pointer"},"Next")))))}}]),a}(s.a.Component),$n={start_loader:ht,stop_loader:gt,setStep:Ct,getTagsBasedOnType:qt,setPageTitle:zt},er=Object(i.b)((function(e){return{step:e.register.step,condition_index:e.register.condition_index}}),$n)(Xn),tr=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={submitted:!1,current_index:0,loader:!1,treatment:[]},o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.backTo=o.backTo.bind(Object(is.a)(o)),o.selected_condition_list=o.props.registerFormvalues.health_condition[o.props.condition_index],o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("this,props,.step",this.props.step),this.props.getTagsBasedOnType("pc-comorbidities").then((function(t){console.log("response",t),t.success&&e.setState({treatment:t.data.tags})})),this.props.setPageTitle("Are you or the person you care for being actively treated for the following health conditions?")}},{key:"backTo",value:function(){this.props.setStep(20,"backward")}},{key:"handleCheckboxChange",value:function(e){var t=e.target.value,a=[];if(this.props.registerFormvalues.cancer_comordities.length>0){a=Object(Lo.a)(this.props.registerFormvalues.cancer_comordities);var o=this.props.registerFormvalues.cancer_comordities.findIndex((function(e){return e===t}));o>-1?a.splice(o,1):a.push(t)}else(a=Object(Lo.a)(this.props.registerFormvalues.cancer_comordities)).push(t);this.props.registerFormvalues.cancer_comordities=a}},{key:"submitData",value:function(){this.setState({submitted:!0}),console.log("comorbidities",this.props.registerFormvalues.cancer_comordities),"mycondition"==this.props.pageFrom?this.props.isUpdateMyConditions?this.props.updateUserTags():this.props.setStep(23,"forward"):this.props.condition_index<this.props.registerFormvalues.health_condition.length-1?(console.log("IFFFFFFFFFFFFFFFFFFFFFFFFF"),this.props.setConditionIndex(this.props.condition_index+1),this.props.setStep(11)):(console.log("ELSESSSSSSSSSSSSs"),this.props.setStep(14,"forward"))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step10"},"mycondition"!=this.props.pageFrom&&s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:function(){return e.backTo()}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Are you or the person you care for being actively treated for the following health conditions?",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-30 "},s.a.createElement("button",{className:"capitalize_text con-btn position-relative float-left font-semibold font-15 m-b-10 "+_o.getColor(this.selected_condition_list.tag.replace(" ","-").toLowerCase())},this.selected_condition_list.tag),this.state.treatment.map((function(t,a){return s.a.createElement("div",{key:a,className:"toggle-btns float-left w-100 m-b-10"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},t.tag),s.a.createElement("label",{className:"switch m-l-10 pull-right",htmlFor:"checkbox-"+t.id},s.a.createElement("input",{type:"checkbox",name:"comorbidities"+t.id,id:"checkbox-"+t.id,defaultChecked:-1!=e.props.registerFormvalues.cancer_comordities.findIndex((function(e){return parseInt(e)===t.id})),onChange:e.handleCheckboxChange,value:t.id}),s.a.createElement("div",{className:"slider round"})))})),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-50 m-b-20 float-left"},s.a.createElement("span",{onClick:function(){return e.submitData()},className:"bluebtn float-left w-100 font-medium font-14 text-center pointer"},this.props.isUpdateMyConditions?"Save Changes":"Next")))))}}]),a}(s.a.Component),ar={start_loader:ht,stop_loader:gt,setStep:Ct,getTagsBasedOnType:qt,setConditionIndex:Bt,setPageTitle:zt,updateUserConditions:ro},or=Object(i.b)((function(e){return{step:e.register.step,condition_index:e.register.condition_index,logged_userData:e.header.logged_userData}}),ar)(tr),sr=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).renderRS=function(){o.props.condition.replace(" ","-");var e=o.props.registerFormvalues.research_condition,t=o.props.registerFormvalues.research_condition.replace("Research Studies: ",""),a=o.props.registerFormvalues.research_condition.includes("Research"),n=t.toLowerCase().includes("create");return o.props.registerFormvalues.isKBResearcheUser&&(t="Kidney Beam",e="Kidney Beam"),e.includes("iREHAB")&&(e=e.slice(0,-6),t=" "),s.a.createElement("div",{className:"step16"},s.a.createElement("h3",{className:"text-center"},s.a.createElement("a",{className:"pull-left",href:"javascript:void(0)",onClick:function(){return o.props.setStep(4,"backward")}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Welcome to Beam ",e,s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-10 m-t-10"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"video-tag1 col-md-12 font-14 font-qregular black-txt"},s.a.createElement("p",{className:"font-bold"},n?t+" feasibility study ":t+" Research Trial"),n&&s.a.createElement("p",null,"You are signed up to take part in the ",t," feasibility study on Beam. To proceed we need you to confirm you are happy for us to share your name, email and activity data that we collect on you on Beam with the researchers at the ","University of Cambridge and oncology physiotherapist"," who holds the educational class you take on Beam.")||s.a.createElement("p",null,"Looks like you are signed up to take part in the ",t," research trial on Beam. To proceed we need you to confirm you are happy for us to share your name, email and activity data that we collect on you on Beam with ",a?-1!=o.props.registerFormvalues.research_condition.indexOf("PULSE")?"UHCW NHS Trust and Coventry University":-1!=o.props.registerFormvalues.research_condition.indexOf("iREHAB")?" ":"UHCW NHS Trust and University of Warwick":"King's College Hospital NHS Trust"," and any instructors of the classes you take on Beam."))),s.a.createElement("div",{className:"toggle-btns float-left w-100"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},"I consent to Beam sharing my data as described above"),s.a.createElement("label",{className:"switch m-l-10 pull-right",htmlFor:"research_share"},s.a.createElement("input",{type:"checkbox",name:"research_share",id:"research_share",defaultChecked:o.props.registerFormvalues.research_share,onChange:o.handleCheckboxChange,value:o.props.registerFormvalues.research_share}),s.a.createElement("div",{className:"slider round"}))),o.state.submitted&&!o.props.registerFormvalues.research_share&&s.a.createElement("p",{className:"text-danger"},"This is required."),s.a.createElement("div",{id:"register-link",className:" w-100 m-b-30 float-left p-t-15"},s.a.createElement("button",{className:"w-50 mx-auto d-table btn  dblog_btn font-14 button-lightblue position-relative",disabled:o.state.disableButton,onClick:o.finalSubmit},"Sign me up!")))))},o.renderTagCodes=function(){o.props.condition.replace(" ","-");var e=o.props.registerFormvalues.research_condition.replace("Research Studies: ",""),t=(o.props.registerFormvalues.research_condition.includes("Research"),e.toLowerCase().includes("create"),JSON.parse(o.props.registerFormvalues.tagCode.modalContent));return o.props.registerFormvalues.tagCode&&(e=t.subtitle,t.title),o.props.setPageTitle(t.title),s.a.createElement("div",{className:"step16"},"mycondition"!=o.props.pageFrom&&s.a.createElement("h3",{className:"text-center"},s.a.createElement("a",{className:"pull-left",href:"javascript:void(0)",onClick:function(){return o.props.setStep(4,"backward")}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),t.title,s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-10 m-t-10"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"video-tag1 col-md-12 font-14 font-qregular black-txt"},s.a.createElement("p",{className:"font-bold"},t.subtitle),s.a.createElement("p",null,t.paragraph))),t.consentStatement&&t.consentSwitch&&s.a.createElement("div",{className:"toggle-btns float-left w-100"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},t.consentStatement),s.a.createElement("label",{className:"switch m-l-10 pull-right",htmlFor:"research_share"},s.a.createElement("input",{type:"checkbox",name:"research_share",id:"research_share",defaultChecked:o.props.registerFormvalues.research_share,onChange:o.handleCheckboxChange,value:o.props.registerFormvalues.research_share}),s.a.createElement("div",{className:"slider round"}))),t.consentSwitch&&"Mandatory"===t.consentSwitch&&o.state.submitted&&!o.props.registerFormvalues.research_share&&s.a.createElement("p",{className:"text-danger"},"This is required."),s.a.createElement("div",{id:"register-link",className:" w-100 m-b-30 float-left p-t-15"},s.a.createElement("button",{className:"w-50 mx-auto d-table btn  dblog_btn font-14 button-lightblue position-relative",disabled:o.state.disableButton,onClick:o.finalSubmit},"Sign me up!")))))},o.state={userData:{},is_postnatal:!1,submitted:!1,disableButton:!1},o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.finalSubmit=o.finalSubmit.bind(Object(is.a)(o)),o.modalContent={},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.props.start_loader(),Object.keys(this.props.registerFormvalues.tagCode).length&&(this.modalContent=JSON.parse(this.props.registerFormvalues.tagCode.modalContent))}},{key:"handleCheckboxChange",value:function(e){var t=e.target.name;this.props.registerFormvalues[t]=!this.props.registerFormvalues[t]}},{key:"finalSubmit",value:function(){if(this.setState({submitted:!0,promoCodeErr:!1,subscribedErr:!1}),this.props.registerformUpdate(this.props.registerFormvalues),this.props.registerFormvalues.isKBResearcheUser){if(this.modalContent.consentSwitch&&"Mandatory"===this.modalContent.consentSwitch&&!this.props.registerFormvalues.research_share)return;this.setState({submitted:!1}),this.props.gotoStep(23)}else this.registerUser(this.props.registerFormvalues)}},{key:"registerUser",value:function(e){var t=this;this.setState({submitted:!0}),e.research_share&&(this.props.start_loader(),this.props.registerNewUser(e).then((function(a){if(t.setState({submitted:!1}),a&&a.success){var o=a;o.authdata=window.btoa(e.email+":"+e.password),localStorage.setItem("user",JSON.stringify(o)),t.props.afterSignupOtherUsers();var s={from:{pathname:"/group/liveclasses/list/"+e.research_groupname+"/"+_o.replaceChar(e.research_condition,!1)}}.from;t.props.history.push(s)}}),(function(e){t.props.stop_loader(),t.setState({Loading:!1}),at.b.error(e)})))}},{key:"render",value:function(){var e=this.props.registerFormvalues.research_condition.includes("Research"),t=this.props.registerFormvalues.tagCode;return s.a.createElement("div",{className:"step16"},e&&this.renderRS(),!e&&t&&this.renderTagCodes())}}]),a}(s.a.Component),nr={start_loader:ht,stop_loader:gt,setStep:Ct,registerNewUser:Wt,afterSignupOtherUsers:function(){console.log("afterSignupOtherUsers",localStorage.getItem("user"));var e=JSON.parse(localStorage.getItem("user"));return function(t,a){t({type:"reset_register"}),e&&(t({type:"check_isauth",payload:!0}),t({type:"login_success",payload:e}),t({type:"set_challenge_tag",payload:!e.beamchallenging}),console.log("Register SET_CHALLENGE_TAG"))}},setPageTitle:zt},rr=Object(i.b)((function(e){return{logged_userData:e.header.logged_userData,healthcondition_list:e.register.healthcondition_list,condition:e.auth.condition}}),nr)(sr),ir=(a(1167),function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={purpose:o.props.registerFormvalues.purpose,submitted:!1},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.purposeSubmit=o.purposeSubmit.bind(Object(is.a)(o)),o.goBack=o.goBack.bind(Object(is.a)(o)),o.checkKR=o.checkKR.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(rs.a)({},a,o)),this.props.registerFormvalues[a]=o}},{key:"purposeSubmit",value:function(){this.setState({submitted:!0}),this.props.setStep(8,"forward")}},{key:"checkKR",value:function(){return this.props.registerFormvalues.health_condition.filter((function(e){return e.tag==N}))}},{key:"goBack",value:function(){console.log("goback",this.props.registerFormvalues),("1"===this.props.registerFormvalues.profession||"2"===this.props.registerFormvalues.profession)&&this.checkKR().length>0?this.props.setStep(19,"backward"):this.props.setStep(6,"backward")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step6"},s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:this.goBack},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Signing up to Beam on behalf of someone else",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-10"},s.a.createElement("p",{className:"text-label"},"If you are signing up to Beam on behalf of someone else (a child, person you care for, etc) then please fill out the following details for the person you are signing up for (not for yourself)"),s.a.createElement("div",null,s.a.createElement("div",{className:"text-center"},s.a.createElement("img",{src:D+"Floor-Mat.png",id:"icon",className:"img-fluid",alt:"User thanks"}))),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-80 m-b-20 float-left"},s.a.createElement("span",{onClick:function(){return e.purposeSubmit()},className:"bluebtn float-left w-100 font-medium font-14 text-center pointer"},"OK - let's go!")))))}}]),a}(s.a.Component)),lr=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,s=t.value;o.setState({promocode:s,subscribedErr:!1}),o.props.registerFormvalues[a]=s,"KIDNEY-BEAM-RESEARCH"==s&&(o.props.registerFormvalues.isKBResearcheUser=!0)},o.tagCodeSubmit=function(){var e;o.props.registerFormvalues.promocode;e=o.props.registerFormvalues.health_condition.filter((function(e){return"asthma kids"==e.tag})),o.setState({submitted:!0});var t=e[0].id;o.props.registerFormvalues.promocode.trim()?o.props.validateTagCodes(o.props.registerFormvalues.promocode.trim(),t).then((function(e){o.props.stop_loader(),o.props.registerFormvalues.promocode="",o.setState({submitted:!1}),e?(o.props.registerFormvalues.tagCode=e.tagCode,o.props.registerFormvalues.tagCodeScreenEnable=!0,o.props.registerformUpdate(o.props.registerFormvalues),o.props.gotoStep(11)):o.setState({promoCodeErr:!0,errorMessage:""})}),(function(e){o.props.stop_loader(),at.b.error(e),o.setState({errorMessage:e})})):o.setState({promoCodeErr:!0}),hs.a.event({category:"User Acquisition",action:"Sign up process",label:"How they heard"}),hs.a.event({category:"User Acquisition",action:"Sign up flow completed "})},o.state={know_via:o.props.registerFormvalues.know_via,promocode:o.props.registerFormvalues.promocode,submitted:!1,promoCodeErr:!1,subscribedErr:!1,showPromo:!1,errorMessage:"",KR_Cond:[],instructors:[]},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("hearabout.registerFormvalues",this.props.isConditionHasCode),console.log("hearabout.registerFormvalues",this.props.registerFormvalues),this.props.getPlanByCountry(this.props.registerFormvalues.country);var e;e=this.props.registerFormvalues.health_condition.filter((function(e){return e.tag==N})),this.setState({KR_Cond:e});this.props.registerFormvalues.health_condition.filter((function(e){return e.tag==N})).length>0&&this.props.registerFormvalues.beamchallenging?this.props.registerFormvalues.beamchallenging=this.props.registerFormvalues.beamchallenging:this.props.registerFormvalues.beamchallenging="",231==this.props.registerFormvalues.country&&1==this.props.registerFormvalues.profession&&this.props.registerFormvalues.health_condition.length>0&&this.props.registerFormvalues.health_condition[0].tag==k&&this.props.registerFormvalues.age>=18&&(this.props.registerFormvalues.usUser=!0),e.length>0&&1==this.props.registerFormvalues.health_condition.length&&(this.props.registerFormvalues.krUser=!0,this.setState({showPromo:!0})),this.props.setPageTitle("Are you a participant in our Beam Asthma Kids Pilot?")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step12"},"mycondition"!=this.props.pageFrom&&s.a.createElement("h3",{className:"text-center "},s.a.createElement("a",{className:"pull-left",href:"javascript:void(0)",onClick:this.props.prevStep},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Are you a participant in our Beam Asthma Kids Pilot?",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-9 m-t-20"},s.a.createElement("p",{className:"text-label"},"Beam Asthma Kids is currently being piloted only with patients from selected centres (but we hope very soon to be launching this service to a wider audience)."),s.a.createElement("p",{className:"text-label"},"If you have an access code from your centre please enter it below to continue."),s.a.createElement("p",{className:"text-label"},"If you are a patient of a pilot centre and don't have a code please contact your physiotherapy team to get one."),s.a.createElement("div",{class:"mt-4 mb-5 mx-auto"},s.a.createElement("label",{htmlFor:"promocode",className:"text-label font-medium"},"Access Code"),s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"col-md-9 m-b-10"},s.a.createElement("input",{type:"text",name:"promocode",id:"promocode",className:"form-control input-control",onChange:this.handleChange,value:this.props.registerFormvalues.promocode})),s.a.createElement("div",{id:"register-link",className:"col-md-3 align-self-center text-center p-15"},s.a.createElement("button",{disabled:this.state.isDisablePromo,className:"btn button-lightblue text-center w-100 p-3",onClick:function(){return e.tagCodeSubmit(!0)}},"Apply"))),this.state.submitted&&this.state.promoCodeErr&&s.a.createElement("p",{className:"text-danger"},"Please enter valid access code"),this.state.subscribedErr&&s.a.createElement("p",{className:"text-danger"},cn))),"register"==this.props.pageFrom&&s.a.createElement("div",{id:"register-link",className:"buttons-read float-left text-center col-lg-10 col-xs-10 col-md-10 m-b-30"},s.a.createElement("button",{className:"btn btn-beam-blue font-14 pointer col-xs-8 m-t-20 col-lg-6 col-md-6 m-r-20",disabled:this.state.disableButton,onClick:function(){return e.props.setStep(10)}},"Go back to continue signing up"),s.a.createElement("a",{className:"btn btn-beam-blue-inverse font-14 col-xs-8 col-lg-4 m-t-20 col-md-4",href:"/home"},"Go back to Beam homepage"))))}}]),a}(s.a.Component),cr={getPromocodePaln:Ft,start_loader:ht,stop_loader:gt,registerNewUser:Wt,setStep:Ct,getConditionBasedInstructor:At,getPlanByCountry:Gt,setConditionIndex:Bt,validateTagCodes:Ht,setPageTitle:zt},mr=Object(i.b)((function(e){return{heard_from:e.register.heard_from,instructorList:e.register.instructorList,isConditionHasCode:e.register.isConditionHasCode}}),cr)(lr),dr=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={submitted:!1,current_index:0,loader:!1,treatment:[]},o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.backTo=o.backTo.bind(Object(is.a)(o)),o.selected_condition_list=o.props.registerFormvalues.health_condition[o.props.condition_index],o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("this,props,.step",this.props.step),this.props.getTagsBasedOnType("movementPrefs").then((function(t){console.log("response",t),t.success&&e.setState({treatment:t.data.tags})})),this.props.setPageTitle("Let us know what types of sessions you are most interested in")}},{key:"backTo",value:function(){this.props.setStep(14,"backward")}},{key:"handleCheckboxChange",value:function(e){var t=e.target.value,a=[];if(this.props.registerFormvalues.movement_prefs.length>0){console.log("this.props.registerFormvalues.movement_prefs",this.props.registerFormvalues),a=Object(Lo.a)(this.props.registerFormvalues.movement_prefs);var o=this.props.registerFormvalues.movement_prefs.findIndex((function(e){return e===t}));o>-1?a.splice(o,1):a.push(t)}else(a=Object(Lo.a)(this.props.registerFormvalues.movement_prefs)).push(t);this.props.registerFormvalues.movement_prefs=a}},{key:"submitData",value:function(){this.setState({submitted:!0}),console.log("cf-comorbidities",this.props.registerFormvalues.movement_prefs),"mycondition"==this.props.pageFrom||console.log("ELSESSSSSSSSSSSSs"),this.props.setStep(13,"forward")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step10"},"mycondition"!=this.props.pageFrom&&s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:function(){return e.backTo()}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Let us know what types of sessions you are most interested in",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-30 "},s.a.createElement("button",{className:"capitalize_text con-btn position-relative float-left font-semibold font-15 m-b-10 "+_o.getColor(this.selected_condition_list.tag.replace(" ","-").toLowerCase())},this.selected_condition_list.tag),this.state.treatment.map((function(t,a){return s.a.createElement("div",{key:a,className:"toggle-btns float-left w-100 m-b-10"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},t.tag),s.a.createElement("label",{className:"switch m-l-10 pull-right",htmlFor:"checkbox-"+t.id},s.a.createElement("input",{type:"checkbox",name:"cf-comorbidities"+t.id,id:"checkbox-"+t.id,defaultChecked:-1!=e.props.registerFormvalues.movement_prefs.findIndex((function(e){return parseInt(e)===t.id})),onChange:e.handleCheckboxChange,value:t.id}),s.a.createElement("div",{className:"slider round"})))})),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-50 m-b-20 float-left"},s.a.createElement("span",{onClick:function(){return e.submitData()},className:"bluebtn float-left w-100 font-medium font-14 text-center pointer"},"Next")))))}}]),a}(s.a.Component),pr={start_loader:ht,stop_loader:gt,setStep:Ct,getTagsBasedOnType:qt,setConditionIndex:Bt,setPageTitle:zt},ur=Object(i.b)((function(e){return{step:e.register.step,condition_index:e.register.condition_index}}),pr)(dr),hr=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={submitted:!1,current_index:0,loader:!1,treatment:[]},o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.backTo=o.backTo.bind(Object(is.a)(o)),o.selected_condition_list=o.props.registerFormvalues.health_condition[o.props.condition_index],o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("this,props,.step",this.props.step),this.props.getTagsBasedOnType("cf-comorbidities").then((function(t){console.log("response",t),t.success&&e.setState({treatment:t.data.tags})})),this.props.setPageTitle("Are you or the person you care for being actively treated for the following health conditions?")}},{key:"backTo",value:function(){this.props.setStep(11,"backward")}},{key:"handleCheckboxChange",value:function(e){var t=e.target.value,a=[];if(this.props.registerFormvalues.cf_comordities.length>0){console.log("this.props.registerFormvalues.cf_comordities",this.props.registerFormvalues),a=Object(Lo.a)(this.props.registerFormvalues.cf_comordities);var o=this.props.registerFormvalues.cf_comordities.findIndex((function(e){return e===t}));o>-1?a.splice(o,1):a.push(t)}else(a=Object(Lo.a)(this.props.registerFormvalues.cf_comordities)).push(t);this.props.registerFormvalues.cf_comordities=a}},{key:"submitData",value:function(){this.setState({submitted:!0}),console.log("cf-comorbidities",this.props.registerFormvalues.cf_comordities),"mycondition"==this.props.pageFrom?this.props.gotoStep(13):(console.log("ELSESSSSSSSSSSSSs"),this.props.gotoStep(26))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step10"},"mycondition"!=this.props.pageFrom&&s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:function(){return e.backTo()}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Are you or the person you care for being actively treated for the following health conditions?",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-30 "},s.a.createElement("button",{className:"capitalize_text con-btn position-relative float-left font-semibold font-15 m-b-10 "+_o.getColor(this.selected_condition_list.tag.replace(" ","-").toLowerCase())},this.selected_condition_list.tag),this.state.treatment.map((function(t,a){return s.a.createElement("div",{key:a,className:"toggle-btns float-left w-100 m-b-10"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},t.tag),s.a.createElement("label",{className:"switch m-l-10 pull-right",htmlFor:"checkbox-"+t.id},s.a.createElement("input",{type:"checkbox",name:"cf-comorbidities"+t.id,id:"checkbox-"+t.id,defaultChecked:-1!=e.props.registerFormvalues.cf_comordities.findIndex((function(e){return parseInt(e)===t.id})),onChange:e.handleCheckboxChange,value:t.id}),s.a.createElement("div",{className:"slider round"})))})),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-50 m-b-20 float-left"},s.a.createElement("span",{onClick:function(){return e.submitData()},className:"bluebtn float-left w-100 font-medium font-14 text-center pointer"},"Next")))))}}]),a}(s.a.Component),gr={start_loader:ht,stop_loader:gt,setStep:Ct,getTagsBasedOnType:qt,setConditionIndex:Bt,setPageTitle:zt},fr=Object(i.b)((function(e){return{step:e.register.step,condition_index:e.register.condition_index}}),gr)(hr),br=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,s=t.value;o.setState({cf_disease_severity:s}),o.props.registerFormvalues[a]=s},o.state={submitted:!1,current_index:0,loader:!1,treatment:[],cf_disease_severity:o.props.registerFormvalues.cf_disease_severity},o.backTo=o.backTo.bind(Object(is.a)(o)),o.selected_condition_list=o.props.registerFormvalues.health_condition[o.props.condition_index],o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("this,props,.step",this.props),this.props.getTagsBasedOnType("cf-disease-severity").then((function(t){console.log("response",t),t.success&&e.setState({treatment:t.data.tags})})),this.props.setPageTitle("To help us to give you the best experience on Beam, please select one of the following statements that best describes your health over the past 12 months")}},{key:"backTo",value:function(){this.props.setStep(11,"backward")}},{key:"submitData",value:function(){this.setState({submitted:!0}),console.log("cf_disease_severity",this.props.registerFormvalues),"mycondition"==this.props.pageFrom||console.log("ELSESSSSSSSSSSSSs"),this.props.setStep(27,"forward")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step10"},"mycondition"!=this.props.pageFrom&&s.a.createElement("h3",{className:"text-center "},s.a.createElement("span",{className:"pull-left pointer",onClick:function(){return e.backTo()}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"To help us to give you the best experience on Beam, please select one of the following statements that best describes your health over the past 12 months",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-30 "},s.a.createElement("button",{className:"capitalize_text con-btn position-relative float-left font-semibold font-15 m-b-30 "+_o.getColor(this.selected_condition_list.tag.replace(" ","-").toLowerCase())},this.selected_condition_list.tag),this.state.treatment.map((function(t,a){return s.a.createElement("div",{key:a,className:"row radio-section"},s.a.createElement("span",{className:"text-label col-10"},le[t.tag]),s.a.createElement("div",{className:"radio pull-right text-right col-2"},s.a.createElement("input",{id:"radio-"+(a+1),name:"cf_disease_severity",value:t.id,type:"radio",defaultChecked:e.props.registerFormvalues.cf_disease_severity==t.id,onChange:e.handleChange}),s.a.createElement("label",{htmlFor:"radio-"+(a+1),className:"radio-label"})))})),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-50 m-b-20 float-left"},s.a.createElement("span",{onClick:function(){return e.submitData()},className:"bluebtn float-left w-100 font-medium font-14 text-center pointer"},"Next")))))}}]),a}(s.a.Component),vr={start_loader:ht,stop_loader:gt,setStep:Ct,getTagsBasedOnType:qt,setConditionIndex:Bt,setPageTitle:zt},Er=Object(i.b)((function(e){return{step:e.register.step,condition_index:e.register.condition_index}}),vr)(br),yr=a(1289),_r=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).submitRegister=o.submitRegister.bind(Object(is.a)(o)),o.getCountriesList=o.getCountriesList.bind(Object(is.a)(o)),o.healthCondition=o.healthCondition.bind(Object(is.a)(o)),o.decodeInvitation=o.decodeInvitation.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("Register-this.props",this.props),console.log("this.props",this.props.registerFormValues),this.decodeInvitation()}},{key:"decodeInvitation",value:function(){var e=this.props.match.params.invitationCode;if(console.log("invitationCode",e),e){var t=new yr("myTotalySecretKey").decrypt(e);if(t){var a=t.split("/");this.props.registerFormValues.research=!0,this.props.registerFormValues.research_groupname=a[0],this.props.registerFormValues.research_condition=a[1],this.props.registerFormValues.email=a[2],this.props.registerformUpdate(this.props.registerFormValues),this.props.gotoStep(1)}console.log("originalText",t)}}},{key:"componentWillMount",value:function(){this.healthCondition(),this.props.hearabout(),this.getCountriesList(),this.getConditionRelationships(),this.getLicenseList()}},{key:"getCountriesList",value:function(){var e=this;this.props.getCountriesList().then((function(t){e.props.stop_loader()}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"getLicenseList",value:function(){var e=this;this.props.getLicenseList().then((function(t){e.props.stop_loader()}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"healthCondition",value:function(){this.props.healthCondition().then((function(e){}),(function(e){at.b.error(e)}))}},{key:"getConditionRelationships",value:function(){var e=this;this.props.fetchConditionRelationships().then((function(t){e.props.stop_loader()}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"submitRegister",value:function(){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"registerpage"},s.a.createElement("div",{id:"register"},s.a.createElement("div",{className:"fadeIn first text-center p-t-10 p-b-15 register_logo"},s.a.createElement(Qo.b,{to:"/home"},s.a.createElement("img",{src:D+"logo.png",id:"icon",className:"logo-size",alt:"User Icon"}))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{id:"register-row",className:"row justify-content-center align-items-center register-heading"},s.a.createElement("div",{id:"register-column",className:"col-md-10"},s.a.createElement("div",{id:"register-box",className:"col-md-12"},s.a.createElement("div",{id:"register-form",className:"form"},0===this.props.step&&s.a.createElement(Rn,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,history:this.props.history}),1===this.props.step&&s.a.createElement(_s,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep}),2===this.props.step&&s.a.createElement(ws,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep}),3===this.props.step&&s.a.createElement(Ss,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep}),4===this.props.step&&s.a.createElement(Ds,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep}),8===this.props.step&&s.a.createElement(Ms,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep}),9===this.props.step&&s.a.createElement(Us,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep}),10===this.props.step&&s.a.createElement(As,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep}),11===this.props.step&&s.a.createElement(Ts,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,gotoStep:this.props.gotoStep,conditionRelationshipList:this.props.conditionRelationshipList,prevStep:this.props.prevStep,setStep:this.props.setStep,pageFrom:"register"}),12===this.props.step&&s.a.createElement(Bn,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,gotoStep:this.props.gotoStep,conditionRelationshipList:this.props.conditionRelationshipList,prevStep:this.props.prevStep,pageFrom:"register"}),13===this.props.step&&s.a.createElement(Vs,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,clinic_direction:this.props.clinic_direction,pageFrom:"register"}),6===this.props.step&&s.a.createElement(Hs,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,setStep:this.props.setStep,pageFrom:"register"}),120===this.props.step&&s.a.createElement("div",{className:"step10"},s.a.createElement("h3",{className:"text-center "},s.a.createElement("a",{className:"pull-left",href:"javascript:void(0)",onClick:function(){return e.props.prevStep()}},s.a.createElement("img",{className:"arrow-img",src:D+"arrow-left.png"})),"Thanks! Nearly there!",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"thanksimg text-center"},s.a.createElement("img",{src:D+"thanks.png",id:"icon",className:"img-fluid",alt:"User thanks"})),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-10"},s.a.createElement("div",{id:"register-link",className:" w-100 m-t-80 m-b-20 float-left"},s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.props.nextStep()},className:"btn bluebtn float-left font-medium font-14 w-100 text-center"},"Next"))))),5===this.props.step&&s.a.createElement(mn,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,pageFrom:"register"}),14===this.props.step&&s.a.createElement(un,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,pageFrom:"register"}),15===this.props.step&&s.a.createElement(Js,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,pageFrom:"register"}),16===this.props.step&&s.a.createElement(Xs,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,pageFrom:"register"}),17===this.props.step&&s.a.createElement(tn,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,pageFrom:"register"}),18===this.props.step&&s.a.createElement(sn,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,pageFrom:"register"}),19===this.props.step&&s.a.createElement(ln,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,pageFrom:"register"}),20===this.props.step&&s.a.createElement(er,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,pageFrom:"register"}),21===this.props.step&&s.a.createElement(or,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,pageFrom:"register"}),22===this.props.step&&s.a.createElement(rr,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,pageFrom:"register"}),23===this.props.step&&s.a.createElement(Zn,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,pageFrom:"register"}),24===this.props.step&&s.a.createElement(ir,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,pageFrom:"register",setStep:this.props.setStep}),25===this.props.step&&s.a.createElement(mr,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,pageFrom:"register",setStep:this.props.setStep}),26===this.props.step&&s.a.createElement(ur,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,pageFrom:"register",setStep:this.props.setStep}),27===this.props.step&&s.a.createElement(fr,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,pageFrom:"register",setStep:this.props.setStep}),28===this.props.step&&s.a.createElement(Er,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,pageFrom:"register",setStep:this.props.setStep}))))))))}}]),a}(s.a.Component),kr={saveValues:function(e){return function(t,a){t({type:"register_process",payload:!0}),t({type:"register_success",payload:e})}},nextStep:wt,prevStep:xt,gotoStep:St,setStep:Ct,registerformUpdate:Ot,getCountriesList:Lt,start_loader:ht,stop_loader:gt,healthCondition:Mt,hearabout:jt,fetchConditionRelationships:Pt,getLicenseList:Yt},Nr=Object(i.b)((function(e){var t=e.register;return{sending_data:t.sending_data,step:t.step,user_data:t.user_data,registerFormValues:t.registerFormValues,conditionRelationshipList:t.conditionRelationshipList,clinic_direction:t.clinic_direction}}),kr)(_r),wr=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={user:{},users:[]},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.state;e.user,e.users;return s.a.createElement("div",{className:"liveclassescontent m-t-80"},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"About our live classes",ye),s.a.createElement("meta",{property:"og:title",content:"About our live classes"+ye}),s.a.createElement("meta",{property:"og:description",content:"A guide containing all of the need-to-knows of taking part in a live class on Beam to experience the feel-good energy of a real-time session wherever you are."}),s.a.createElement("meta",{property:"og:image",content:Ue}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Character exercising in living room in front of TV"})),s.a.createElement("section",{id:"livesection1",className:"livesection1-bg"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"section-header text-center p-t-40 p-b-40"},s.a.createElement("h3",{className:"orangefont position-relative font-37 font-medium"},"Live Classes on Beam"),s.a.createElement("p",{className:"w-75 mx-auto p-t-20 p-b-100 black-txt font-21 font-normal font-medium"},"Come and experience the feel-good energy of a live class ",s.a.createElement("br",null)," from the comfort of your own home!.")))),s.a.createElement("section",{id:"livesection2",className:"livesection2-bg"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"section-header text-center p-t-50 p-b-50 d-none d-sm-none d-md-block d-lg-block"},s.a.createElement("p",{className:" mx-auto black-txt font-qregular font-14 m-b-20"},"Just like our on-demand sessions, live classes are run by specialist instructors who are either living with or working in your health condition. We want you to know that the Beam Team understands you and has your back, every minute of every workout."),s.a.createElement("p",{className:"mx-auto black-txt font-qregular font-14 m-b-20"},"Get live encouragement during the session, connect with your instructor and classmates pre and post-session, and feel supported at every step by people who deeply understand your needs.")))),s.a.createElement("section",{id:"livesection3",className:"livesection3-bg p-t-40 p-b-40 h-auto"},s.a.createElement("div",{className:"container-fluid mx-auto w-75 m-t-30"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-6 offset-lg-1 col-lg-6 text-left "},s.a.createElement("h4",{className:"m-b-20 darkblue-text font-24 font-semibold"},"How do I sign up for a live class?"),s.a.createElement("p",{className:"black-txt font-14 font-qregular"},"Browse our schedule of live classes and click 'sign-up\u2019 to register for a class that appeals to you. You can see the classes that you've signed up for on your personal dashboard by clicking on \u2018my beam\u2019 in the upper-righthand corner."),s.a.createElement("div",{className:"row col-md-12 col-lg-10 col-sm-12"},s.a.createElement(Qo.b,{className:"btn btn-yellow m-t-20 m-b-20 font-14 font-medium",to:"/liveClasses/cystic fibrosis"},"CF live class schedule")),s.a.createElement("div",{className:"row col-md-12 col-lg-10 col-sm-12"},s.a.createElement(Qo.b,{className:"btn btn-orange m-t-0 m-b-20 font-14 font-medium",to:"/liveClasses/Postnatal"},"Postnatal live class schedule")),s.a.createElement("div",{className:"row col-md-12 col-lg-10 col-sm-12"},s.a.createElement(Qo.b,{className:"btn btn-purple m-t-0 m-b-20 font-14 font-medium",to:"/liveClasses/Menopause"},"Menopause live class schedule")),s.a.createElement("div",{className:"row col-md-12 col-lg-10 col-sm-12"},s.a.createElement(Qo.b,{className:"btn btn-blue m-t-0 m-b-20 font-14 font-medium",to:"/liveClasses/kidney disease"},"Kidney live class schedule")),s.a.createElement("div",{className:"row col-md-12 col-lg-10 col-sm-12"},s.a.createElement(Qo.b,{className:"btn btn-darkblue m-t-0 m-b-20 font-14 font-medium",to:"/liveClasse/prostate cancer"},"Prostate cancer live class schedule")),s.a.createElement("div",{className:"row col-md-12 col-lg-10 col-sm-12"},s.a.createElement(Qo.b,{className:"btn btn-orange m-t-0 m-b-20 font-14 font-medium",to:"/liveClasse/cystic fibrosis youth"},"CF youth live class schedule"))),s.a.createElement("div",{className:"col-12 col-md-6 col-lg-5 text-center"},s.a.createElement("figure",null,s.a.createElement("img",{src:D+"Floor_mat_pair_2_RGB.png",className:"img-fluid",alt:""})))))),s.a.createElement("section",{id:"livesection4",className:"livesection4-bg p-t-40 p-b-40"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("h4",{className:"text-center font-semibold font-normal font-24 purplefont m-b-20"},"How should I prepare for my live class?"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-center"},s.a.createElement("figure",{className:"text-center"},s.a.createElement("img",{src:D+"live1.png",className:"img-fluid",alt:""}))),s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-left m-t-80"},s.a.createElement("h4",{className:"m-b-20 font-semibold font-normal font-24 orangefont"},"Step 1: The Tech"),s.a.createElement("p",{className:"font-14 black-txt font-qregular w-86"},"Our live exercise classes are run on Zoom, a video conferencing tool we know and love. Before you take part in your first live exercise class we suggest you create an account on Zoom - it's completely free. Download their desktop or mobile app, then test out your audio and video as instructed to make sure you're ready to go at the time of your first class."))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-5 offset-md-1 orders-last col-lg-5 text-left  offset-lg-1 m-t-80"},s.a.createElement("h4",{className:"m-b-20 font-semibold font-normal font-24 purplefont"},"Step 2: Let us know if you have any questions"),s.a.createElement("p",{className:"font-14 black-txt font-qregular"},"After you've signed up for a class you'll receive an email from us with all the relevant info. This email includes how to get hold of us if you have any questions before class.")),s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-center"},s.a.createElement("figure",{className:"text-center col-md-6 mx-auto"},s.a.createElement("img",{src:D+"live2.png",className:"img-fluid",alt:""})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-center"},s.a.createElement("figure",{className:"text-center"},s.a.createElement("img",{src:D+"live3.png",className:"img-fluid",alt:""}))),s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-left m-t-80"},s.a.createElement("h4",{className:"m-b-20 font-semibold font-normal font-24 darkblue-text"},"Step 3: Get yourself ready"),s.a.createElement("p",{className:"font-14 black-txt font-qregular w-86"},"Shortly before the class, change into some comfortable clothes, drink some water, fill up your bottle for the class and pick a good spot to do the class. A list of equipment needed for the class can be found in the sign-up email. This should help you to pull everything you need together before class so you can enjoy the session!"))))),s.a.createElement("section",{id:"livesection5",className:"livesection5-bg"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"section-header text-center p-t-60 p-b-30"},s.a.createElement("h4",{className:"purplefont font-24 font-normal font-semibold"},"How do I join a live class?"),s.a.createElement("p",{className:"w-50 mx-auto p-t-40  font-14 black-txt font-qregular"},'At class time click the "go to class" link from either the live class timetable on Beam, your Beam dashboard, or any of our reminder emails.'),s.a.createElement("p",{className:"w-50 mx-auto p-t-5  font-14 black-txt font-qregular"},"The link will direct you to Zoom."),s.a.createElement("p",{className:"w-50 mx-auto p-t-5 font-14 black-txt font-qregular"},"Test the computer audio and camera before entering the session to make sure you can hear and be heard."),s.a.createElement("p",{className:"w-50 mx-auto p-t-5 font-14 black-txt font-qregular"},"If the instructor (Zoom will call them the 'host') has not yet started the session you'll be asked to wait, otherwise, you can enter the virtual exercise studio immediately."),s.a.createElement("p",{className:"w-50 mx-auto p-t-5 font-14 black-txt font-qregular"},"Once you\u2019ve entered the session, you can change your screen name or use an alias and add your preferred pronouns, you can take part in the pre-class chat, soak up the good vibes, and get in a good mindset for the class that's about to start."),s.a.createElement("p",{className:"w-50 mx-auto p-t-5 font-14 black-txt font-qregular"},"*Closed captioning will be available in all live classes")))),s.a.createElement("section",{id:"livesection6",className:"livesection6-bg"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"section-header text-center p-t-30 p-b-30"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-6 offset-lg-1 col-lg-6 text-left m-t-80"},s.a.createElement("h4",{className:"m-b-20 font-semibold font-normal darkblue-text font-24"},"What do I do after class?"),s.a.createElement("p",{className:"font-14 black-txt font-qregular w-80 m-b-0"},"Give yourself a massive pat on the back and be proud of yourself for showing up!",s.a.createElement("br",null),"After the class, you're welcome to stay and chat directly with the instructor or other people in the session."),s.a.createElement("p",{className:"font-14 black-txt font-qregular w-86"},"We may send you a quick questionnaire to fill out so we can get your feedback on ",s.a.createElement("br",null),"how it went and improve it for you in the future.")),s.a.createElement("div",{className:"col-12 col-md-6 col-lg-5 text-center"},s.a.createElement("figure",{className:"text-center"},s.a.createElement("img",{src:D+"live4.png",className:"img-fluid",alt:""}))))))),s.a.createElement("section",{id:"livesection5",className:"livesection5-bg"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"section-header text-center p-t-60 p-b-30"},s.a.createElement("h4",{className:"purplefont font-24 font-normal font-semibold"},"What if I miss class or want to take it again?"),s.a.createElement("p",{className:"w-50 mx-auto p-t-40  font-14 black-txt font-qregular"},"Each live class is recorded and will appear in our on-demand video library within 2 weeks.  Keep a lookout for our on-demand drops every 2 weeks to repeat a class or try one you had to miss!")))))}}]),a}(s.a.Component),Cr=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return s.a.createElement("section",{className:"healthpage-content m-t-70"},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Partner with us",ye),s.a.createElement("meta",{property:"og:title",content:"Partner with us"+ye}),s.a.createElement("meta",{property:"og:description",content:"From patients to clinicians, to healthcare commissioners, insurers, charities and employers - we work with anybody who believes that exercise can improve health outcome."}),s.a.createElement("meta",{property:"og:image",content:Ae}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Characters riding a tandem bicycle"})),s.a.createElement("div",{className:"section-1"},s.a.createElement("div",{className:""},s.a.createElement("div",{className:"col-md-12 ml-auto mr-auto"},s.a.createElement("div",{className:"section-header text-center p-t-30 p-b-30"},s.a.createElement("h3",{className:"orangefont font-37 position-relative font-medium m-t-30"},"Health service & partnerships"),s.a.createElement("p",{className:"w-36 font-medium mx-auto p-t-20 sub-health-cont font-21 black-txt"},"From patients to clinicians, to healthcare commissioners, insurers, charities and employers - we work with anybody who believes that exercise can improve health outcomes"))))),s.a.createElement("div",{id:"section3",className:"section3-bg p-t-40 p-b-40"},s.a.createElement("div",{className:"container-fluid mx-auto w-55"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 d-flex align-items-center col-md-7 col-lg-7 text-left"},s.a.createElement("div",{className:"card cardnew border-0"},s.a.createElement("div",{className:"card-block"},s.a.createElement("h3",{className:"clearfix float-left font-semibold font-24 w-100"},"Research")),s.a.createElement("p",{className:"paragraph-style m-t-30 font-14 black-txt font-qregular"},"Since our beginnings, we've taken every opportunity to get involved in research as we believe this is great way to learn more about you, our users. We take these learnings and make the platform better. Sometimes they are big changes, sometimes they are small, but they all add up. Another bonus of research is being able to gather evidence that Beam improves your physical and emotional wellbeing. Evidence like this is useful for care-providers, so that they know how to best support you in feeling good."))),s.a.createElement("div",{className:"col-12 col-md-5 col-lg-5 text-center"},s.a.createElement("figure",null,s.a.createElement("img",{src:D+"health_blog1.png",className:"img-responsive r-image w-100",alt:""})))))),s.a.createElement("div",{className:"sectionnew-3 p-t-80  p-b-40"},s.a.createElement("div",{className:"container-fluid mx-auto w-80"},s.a.createElement("h5",{className:"redtext col-md-6 col-lg-5 col-sm-6 m-t-10 font-semibold font-24 m-b-60 ml-auto mr-auto text-center"},"Some important research projects we've been involved in are:"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4 col-sm-12 mb-4"},s.a.createElement("div",{className:"card h-100 border-0"},s.a.createElement("div",{className:"card-body image-content pl-0"},s.a.createElement("h4",{className:"card-title font-semibold font-15 black-txt"},"\u2018Is Pactster* an acceptable tool promote Exercise Participation in the Adult Cystic Fibrosis Community with and without Physiotherapy Support?\u201d"),s.a.createElement("div",{className:"grey-text m-t-30 font-13 font-qmedium"},"Independent research by Adult Cystic Fibrosis Centre, Newcastle upon Tyne NHS Trust, UK"),s.a.createElement("div",{id:"summary"},s.a.createElement("p",{id:"collapseSummary",className:"card-text m-t-20 font-14 black-txt font-qregular collapse"},"This study monitored 25 participants using Pactster over a 6 week period. The participants were separated into two groups, one group belonging to a community with physio support and the other group working independently. The study found that all participants perceived Pactster to be an acceptable tool to promote exercise participation. The group with physio support showed greater improvements in lung function and exercise capacity. This study resulted in the further development of Pactster groups and the addition of live classes to give greater opportunity for physio support.",s.a.createElement("p",{className:"card-text m-t-20 font-14 black-txt font-qregular"},"*Pactster is the former name for Beam")),s.a.createElement("a",{className:"readmore redtext font-14 font-qregular collapsed","data-toggle":"collapse",href:"#collapseSummary","aria-expanded":"false","aria-controls":"collapseSummary"}))))),s.a.createElement("div",{className:"col-lg-4 col-sm-12 mb-4"},s.a.createElement("div",{className:"card h-100 border-0"},s.a.createElement("div",{className:"card-body image-content pl-0"},s.a.createElement("h4",{className:"card-title font-semibold font-15 black-txt"},"\u2018Improving adherence to exercise in people with cystic fibrosis by developing innovative, behaviour change approaches for Pactster (a community-driven online exercise platform)\u2019"),s.a.createElement("div",{className:"grey-text font-qmedium font-13 m-t-30"},"Funded by Innovate UK, undertaken by Pactster"),s.a.createElement("div",{id:"summary"},s.a.createElement("p",{id:"collapseSummary1",className:"card-text font-14 black-txt font-qregular m-t-20 collapse"},"This study monitored 25 participants using Pactster over a 6 week period. The participants were separated into two groups, one group belonging to a community with physio support and the other group working independently. The study found that all participants perceived Pactster to be an acceptable tool to promote exercise participation. The group with physio support showed greater improvements in lung function and exercise capacity. This study resulted in the further development of Pactster groups and the addition of live classes to give greater opportunity for physio support."),s.a.createElement("a",{className:"readmore redtext font-14 font-qregular collapsed","data-toggle":"collapse",href:"#collapseSummary1","aria-expanded":"false","aria-controls":"collapseSummary"}))))),s.a.createElement("div",{className:"col-lg-4 col-sm-12 mb-4"},s.a.createElement("div",{className:"card h-100 border-0"},s.a.createElement("div",{className:"card-body image-content pl-0"},s.a.createElement("h4",{className:"card-title font-semibold font-15 black-txt"},"'Improving physical activity levels in adolescents with Cystic Fibrosis (CF) through the development of age-specific behaviour change interventions to support adherence to specialist exercise programs online"),s.a.createElement("div",{className:"grey-text font-qmedium font-13 m-t-30"},"Undertaken by University of Exeter and funded by Vertex Circle of Care"),s.a.createElement("div",{id:"summary"},s.a.createElement("p",{id:"collapseSummary2",className:"card-text collapse font-14 black-txt font-qregular m-t-20"},"This project kicked-off in 2019 and is designed to better understand the opinions and needs of 12-18year olds with CF with regard to online exercise and behavioural support. As well as assessing general opinions of Beam, the researchers at Exeter will be undertaking a needs assessment to identify the kind of behavioural support that would be most useful for adolescents with CF who want to be physically active, and to use evidence collected to co-create technology-based behavioural change components which we will implement."),s.a.createElement("a",{className:"readmore redtext font-14 font-qregular collapsed","data-toggle":"collapse",href:"#collapseSummary2","aria-expanded":"false","aria-controls":"collapseSummary"})))))))),s.a.createElement("div",{className:"section-4 health-last float-left w-100 m-t-40 p-b-40"},s.a.createElement("div",{className:"col-md-6 ml-auto mr-auto"},s.a.createElement("h5",{className:"text-center m-b-20 font-semibold font-24"},"Contact Us"),s.a.createElement("p",{className:"text-center font-qregular black-txt font-14"},"Thinking you might like to work with us? Let's have a chat."),s.a.createElement("p",{className:"text-center font-qregular black-txt font-14 m-b-80 col-md-9 col-lg-9 col-sm-10 mr-auto ml-auto"},"Rest assured, you'll be in good company. We partner with organisaations worldwide - health charities, insurance companies, medical device and other private companies, NHS Trusts - commited to using technology to improve healthcare."),s.a.createElement(fs,{location:this.props.location}))))}}]),a}(s.a.Component),xr=a(329),Sr=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).scrollToBottom=function(){"#pricing"===o.props.location.hash?o.messagesEnd.scrollIntoView({behavior:"smooth"}):window.scrollTo(0,0)},o.state={membershipList:[],user_data:[],hashTag:o.props.location.hash,trialLoading:!1,videoUrl:"https://vimeo.com/359842015",payment_data:{},ismodel_open:!1},o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.handlePaymentChange=o.handlePaymentChange.bind(Object(is.a)(o)),o.updatePaymentData=o.updatePaymentData.bind(Object(is.a)(o)),o.numberOnly=o.numberOnly.bind(Object(is.a)(o)),o.expiremonthValid=o.expiremonthValid.bind(Object(is.a)(o)),o.expireyearValid=o.expireyearValid.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("country")||"";this.fetchPlans(e),this.scrollToBottom()}},{key:"componentWillReceiveProps",value:function(e){this.setState({membershipList:e.membershipPlans.length?e.membershipPlans[0]:{},user_data:e.user_data})}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"startTrail",value:function(e,t){var a=this,o={planId:e.id,type:t};if("change_plan"===t){var s=this.state.payment_data,n=(new Date).getMonth(),r=(new Date).getFullYear();if(new Date(s.card_exp_year+"-"+s.card_exp_month+"-01")<new Date(r+"-"+n+"-01"))return void this.setState({payment_data:Object(m.a)(Object(m.a)({},this.state.payment_data),{},{invalid_expiration:!0})});o.card_name=s.card_name,o.number=s.card_number,o.exp_month=s.card_exp_month,o.exp_year=s.card_exp_year,o.cvc=s.card_security_code,o.card_zipcode=s.card_zipcode}this.setState({trialLoading:!0}),this.closeModel(),this.props.changePlan(o).then((function(e){a.setState({trialLoading:!1}),at.b.success(e.message)}),(function(e){a.setState({trialLoading:!1}),at.b.error(e)}))}},{key:"fetchPlans",value:function(e){var t=this;this.props.fetchMembershipPlans(e).then((function(e){e&&t.setState({membershipList:e.plans.length?e.plans[0]:{}})}),(function(e){at.b.error(e)}))}},{key:"submitPayment",value:function(e){var t={submitted:!0};this.setState({payment_data:Object(m.a)(Object(m.a)({},this.state.payment_data),t)},(function(){this.progressPayment(e)}))}},{key:"progressPayment",value:function(e){if(!(this.state.payment_data.card_name&&this.state.payment_data.card_number&&xr.number(this.state.payment_data.card_number).isValid&&this.state.payment_data.card_exp_month&&this.state.payment_data.card_exp_month<=12&&this.state.payment_data.card_exp_year&&this.state.payment_data.card_exp_year>=(new Date).getFullYear()&&this.state.payment_data.card_security_code&&this.state.payment_data.card_security_code.length===xr.number(this.state.payment_data.card_number).card.code.size&&this.state.payment_data.card_zipcode))return!1;this.startTrail(e,"change_plan")}},{key:"paymentPage",value:function(e){var t=this,a=e;return s.a.createElement("div",{className:"step14"},s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section card-details--page col-md-9 m-t-10"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-md-6 float-left"},s.a.createElement("label",{htmlFor:"card_name",className:"text-label"},"Name on Card"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control input-control",name:"card_name",placeholder:"",onChange:this.handlePaymentChange,value:this.state.payment_data.card_name,required:!0})),this.state.payment_data.submitted&&!this.state.payment_data.card_name&&s.a.createElement("p",{className:"help-block text-danger"},"Name on card required")),s.a.createElement("div",{className:"form-group col-md-6 float-left"},s.a.createElement("label",{htmlFor:"card_number",className:"text-label"},"Card number"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control input-control",name:"card_number",placeholder:"",onChange:this.numberOnly,value:this.state.payment_data.card_number})),this.state.payment_data.submitted&&!this.state.payment_data.card_number&&s.a.createElement("p",{className:"help-block  text-danger"},"Card number required"),this.state.payment_data.submitted&&this.state.payment_data.card_number&&!xr.number(this.state.payment_data.card_number).isValid&&s.a.createElement("p",{className:"help-block  text-danger"},"Invalid card number"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6 col-lg-5 expiration-date"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-label"},s.a.createElement("span",{className:"hidden-xs"},"Expiration")," "),s.a.createElement("div",{className:"form-inline"},s.a.createElement("div",{className:"col-md-6 p-l-0 exp-date"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control input-control",name:"card_exp_month",placeholder:"MM",onChange:this.expiremonthValid,value:this.state.payment_data.card_exp_month,required:!0})),this.state.payment_data.submitted&&!this.state.payment_data.card_exp_month&&s.a.createElement("p",{className:"help-block  text-danger"},"Month required"),this.state.payment_data.submitted&&this.state.payment_data.card_exp_month>12&&s.a.createElement("p",{className:"help-block  text-danger"},"Invalid month")),s.a.createElement("div",{className:"col-md-6 p-0"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control input-control",name:"card_exp_year",placeholder:"YYYY",onChange:this.expireyearValid,value:this.state.payment_data.card_exp_year,required:!0})),this.state.payment_data.submitted&&!this.state.payment_data.card_exp_year&&s.a.createElement("p",{className:"help-block  text-danger"},"Expire year required"),this.state.payment_data.submitted&&this.state.payment_data.card_exp_year&&this.state.payment_data.card_exp_year<(new Date).getFullYear()&&s.a.createElement("p",{className:"help-block  text-danger"},"Invalid expire year"))))),s.a.createElement("div",{className:"col-md-6 col-lg-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"card_security_code",className:"text-label"},"Security Code"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control input-control",name:"card_security_code",placeholder:"",onChange:this.handlePaymentChange,value:this.state.payment_data.card_security_code,required:!0})),this.state.payment_data.submitted&&!this.state.payment_data.card_security_code&&s.a.createElement("p",{className:"help-block  text-danger"},"Security code required"),this.state.payment_data.submitted&&this.state.payment_data.card_security_code&&xr.number(this.state.payment_data.card_number).card&&this.state.payment_data.card_security_code.length!==xr.number(this.state.payment_data.card_number).card.code.size&&s.a.createElement("p",{className:"help-block  text-danger"},"Invalid security code"))),s.a.createElement("div",{className:"col-md-6 col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"card_zipcode",className:"text-label"},"ZIP/Postal code"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control input-control",name:"card_zipcode",placeholder:"",onChange:this.handlePaymentChange,value:this.state.payment_data.card_zipcode,required:!0})),this.state.payment_data.submitted&&!this.state.payment_data.card_zipcode&&s.a.createElement("p",{className:"help-block  text-danger"},"ZIP/Postal code required"),this.state.payment_data.submitted&&this.state.payment_data.card_zipcode&&this.state.payment_data.card_zipcode.length>6&&s.a.createElement("p",{className:"help-block  text-danger"},"Invalid ZIP/Postal code"))))),s.a.createElement("p",{className:"small-txt font-book text-center"},"Due today and monthly ongoing:"," ",s.a.createElement("span",{className:"orangefont p-l-10"},a.currency," ",a.amount)),this.state.payment_data.invalid_expiration&&s.a.createElement("p",{className:"small-txt font-book text-center text-danger m-t-10"},"Invalid Expiration."))),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-10"},s.a.createElement("div",{id:"register-link",className:" w-100 m-t-20 m-b-20 float-left"},s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return t.submitPayment(e)},className:"bluebtn float-left w-100 font-16 font-medium text-center"},"Become a Member")))))}},{key:"getPopup",value:function(){this.setState({ismodel_open:!0})}},{key:"pricingPopup",value:function(e){return s.a.createElement(ls.a,{classNames:{modal:"pricing-popup m-t-50"},open:this.state.ismodel_open,onClose:function(){},center:!0},s.a.createElement("div",{className:"modal-dialog modal-width--custom grid-four-pricing",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title text-center col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"},"Become a member"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},this.paymentPage(e)))))}},{key:"updatePaymentData",value:function(e,t){var a={};a[e]=t,this.setState({payment_data:Object(m.a)(Object(m.a)({},this.state.payment_data),a)})}},{key:"handlePaymentChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.updatePaymentData(a,o)}},{key:"numberOnly",value:function(e){var t=e.target,a=t.name,o=t.value;(""===o||/^[0-9\b]+$/.test(o))&&this.updatePaymentData(a,o)}},{key:"expiremonthValid",value:function(e){var t=e.target,a=t.name,o=t.value;(""===o||/^[0-9\b]+$/.test(o))&&o.length<=2&&this.updatePaymentData(a,o)}},{key:"expireyearValid",value:function(e){var t=e.target,a=t.name,o=t.value;(""===o||/^[0-9\b]+$/.test(o))&&o.length<=4&&this.updatePaymentData(a,o)}},{key:"closeModel",value:function(){this.setState({ismodel_open:!1})}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:("undefined"!=typeof Go.Cookies.get("closeBanner")&&"false"!=Go.Cookies.get("closeBanner")||this.props.close_banner)&&("undefined"!=typeof Go.Cookies.get("closeBannerKD")&&"false"!=Go.Cookies.get("closeBannerKD")||this.props.close_banner_kd)?"howitworks-page m-t-80":"howitworks-page"},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"How it works",ye),s.a.createElement("meta",{property:"og:title",content:"How it works"+ye}),s.a.createElement("meta",{property:"og:description",content:"Learn how Beam works including the features we have built, how you can sign up, and what pricing plan may suit you best."}),s.a.createElement("meta",{property:"og:image",content:We}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Purple and orange character with looking glass"})),s.a.createElement("div",{className:"section-1"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"section-header text-center p-t-30 p-b-30"},s.a.createElement("div",{className:"col-md-12 "},s.a.createElement("h5",{className:"font-37 text-center white-txt font-medium m-t-20 m-b-30"},"How it works"),s.a.createElement("p",{className:"w-80 mr-auto ml-auto  font-21 font-medium"},"Movement to make you feel good. Wherever you are. Whenever you need a pick-me-up."),s.a.createElement("p",{className:"w-80 mr-auto ml-auto  font-21 font-medium"},"Access on-demand and live classes, plus friendly groups, led by specialist physiotherapists and trainers who are trained in, or live with, your health condition."))))),s.a.createElement("div",{className:"section-2 p-t-80"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-center p-b-30"},s.a.createElement($o.a,{url:this.state.videoUrl,controls:!1,width:"100%",height:"100%",style:{width:"100%",height:"100%"}})),s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-left d-flex align-items-center"},s.a.createElement("div",{className:"card cardnew border-0"},s.a.createElement("h4",{className:"m-b-20 darkblue-text font-semibold font-normal font-24 card-block"},"Sign up"),s.a.createElement("p",{className:"font-16 black-txt font-qregular"},"Our step-by-step sign up process is super simple."),s.a.createElement("p",{className:"font-16 black-txt font-qregular"},"We just require you to answer a few basic questions to help us get to know you, like what name you'd like us to call you by."),s.a.createElement("p",{className:"font-16 black-txt font-qregular"},"Some details that you input will also help to establish whether you are entitled to special access to the platform or what type of membership will suit you.")))))),s.a.createElement("div",{className:"section-3 bg-white p-t-30 p-b-30"},s.a.createElement("div",{className:"container-fluid m-auto w-75"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 d-flex align-items-center  col-md-7 col-lg-7 text-left  p-b-30"},s.a.createElement("div",{className:"card cardnew border-0"},s.a.createElement("div",{className:"card-block"},s.a.createElement("h4",{className:"clearfix  darkblue-text font-semibold font-normal font-24 float-left w-100"},"Find on-demand sessions")),s.a.createElement("div",{className:"font-16 font-qregular black-txt m-t-30"},s.a.createElement("div",null,"Take a class tailored to your needs whenever you want to, by searching for something that takes your fancy from our on-demand library of classes."),s.a.createElement("div",null,"Found a session that suits? Great!"),s.a.createElement("div",null,"It might also help to know that you can:")))),s.a.createElement("div",{className:"col-12 col-md-5 col-lg-5 text-center"},s.a.createElement("figure",null,s.a.createElement("img",{src:D+"Asset-4.png",className:"img-fluid assetimg",alt:""})))))),s.a.createElement("div",{className:"section-4"},s.a.createElement("div",{className:"p-t-70 p-b-70"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12 p-t-10 p-b-10"},s.a.createElement("div",{className:"box-part text-center"},s.a.createElement("img",{src:D+"schedule.png",className:"img-resposive",alt:""}),s.a.createElement("div",{className:"title"},s.a.createElement("h4",{className:"font-semibold font-16"},"Schedule a session")),s.a.createElement("div",{className:"text"},s.a.createElement("span",{className:"font-qregular black-txt font-16"},"Add a class to your Beam schedule to set a positive intention to complete the session, and receive reminders from us to help you")))),s.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12 p-t-10 p-b-10"},s.a.createElement("div",{className:"box-part text-center"},s.a.createElement("i",{className:"fa fa-bookmark fa-3x","aria-hidden":"true"}),s.a.createElement("div",{className:"title"},s.a.createElement("h4",{className:"font-semibold font-16"},"Save a session")),s.a.createElement("div",{className:"text"},s.a.createElement("span",{className:"font-qregular black-txt font-16"},"Found a session that you love? Been recommended a session by your physio? Hit the save button to store it for later.")))),s.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 col-xs-12 p-t-10 p-b-10"},s.a.createElement("div",{className:"box-part text-center"},s.a.createElement("i",{className:"fa fa-share fa-3x","aria-hidden":"true"}),s.a.createElement("div",{className:"title"},s.a.createElement("h4",{className:"font-semibold font-16"},"Share a session")),s.a.createElement("div",{className:"text"},s.a.createElement("span",{className:"font-qregular black-txt font-16"},"Sharing is caring! The bigger our community, the more healthy, happy people there are to support you. Love a class? Tell a friend!")))))))),s.a.createElement("div",{className:"section-5 m-t-80"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-center p-b-30"},s.a.createElement("figure",{className:"text-center"},s.a.createElement("img",{src:D+"how_blog1.png",className:"img-fluid w-75 liveclassimg",alt:""}))),s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-left d-flex align-items-center"},s.a.createElement("div",{className:"card cardnew border-0"},s.a.createElement("h4",{className:"m-b-20 font-semibold darkblue-text font-normal font-24 card-block"},"Take a live class"),s.a.createElement("p",{className:"font-16 black-txt font-qregular"},"Live classes allow you to experience the feel-good energy of a live class wherever you are. Just like our on-demand sessions, live classes are run by specialist physiotherapists and instructors who are trained in or live with your medical condition. We want you to know that they understand you and they've got your back, every minute of every class."),s.a.createElement("p",{className:"font-16 black-txt font-qregular"},"Get live encouragement during the sessions, connect with your instructor and class-mates pre and post-session and feel supported in every step by people who deeply understand your health condition.")))))),s.a.createElement("div",{className:"section-6 m-t-30 bg-white"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 d-flex align-items-center  col-md-7 col-lg-7 text-left  p-b-30"},s.a.createElement("div",{className:"card cardnew border-0"},s.a.createElement("div",{className:"card-block"},s.a.createElement("h4",{className:"clearfix font-semibold font-normal font-24 darkblue-text float-left w-100"},"Join the Beam community")),s.a.createElement("p",{className:"font-16 black-txt font-qregular m-t-30"},"Whether you make friends in a Beam group, talk with us on Twitter or say hello to someone in a live class, you'll love being a part of our feel-good-family.We're all here to lift each other up, so you get the support you need every step of the way."),s.a.createElement("div",{className:"social-links"},s.a.createElement("ul",{className:"text-left"},s.a.createElement("li",null,s.a.createElement("a",{href:"https://twitter.com/beamfeelgood",target:"_blank"},s.a.createElement("i",{className:"fa fa-twitter"}))),s.a.createElement("li",null,s.a.createElement("a",{href:"https://www.facebook.com/feelgoodbeam",target:"_blank"},s.a.createElement("i",{className:"fa fa-facebook"}))),s.a.createElement("li",null,s.a.createElement("a",{href:"https://www.instagram.com/beam_cf/",target:"_blank"},s.a.createElement("i",{className:"fa fa-instagram"}))),s.a.createElement("li",null,s.a.createElement("a",{href:"https://www.linkedin.com/company/beamfeelgood",target:"_blank"},s.a.createElement("i",{className:"fa fa-linkedin"}))))))),s.a.createElement("div",{className:"col-12 col-md-5 col-lg-5 text-center"},s.a.createElement("figure",null,s.a.createElement("img",{src:D+"blog_img_04.png",className:"img-fluid",alt:""})))))),s.a.createElement("div",{className:"section-7 m-t-100 m-b-30"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 ordering text-center"},s.a.createElement("figure",{className:"text-left"},s.a.createElement("img",{src:D+"live4.png",className:"img-fluid",alt:""}))),s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-left d-flex align-items-center p-b-30"},s.a.createElement("div",{className:"card cardnew border-0"},s.a.createElement("h4",{className:"m-b-20 darkblue-text font-semibold font-normal font-24 card-block"},"Have a little read"),s.a.createElement("p",{className:"font-16 black-txt font-qregular"},"We know that advice on keeping active for your specific medical condition can be hard to find. Between generic advice that isn't quite specific enough for you and specific journal articles that can seem totally mind-boggling, it's tough."),s.a.createElement("p",{className:"font-16 black-txt font-qregular"},"We aim to bridge the gap with blog posts that tell you stuff that you need to know, but might struggle to find elsewhere."))))),s.a.createElement("div",{ref:function(t){e.messagesEnd=t}})),s.a.createElement("div",{className:"section-8 p-t-50 p-b-30"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("h4",{className:"red-text text-center font-normal font-24 font-semibold m-b-20"},"Pricing"),s.a.createElement("p",{className:"text-center font-16 black-txt font-qregular m-t-40"},"We are passionate about making Beam free for everyone and are working hard to achieve this.  To see if you are eligble for a free membership for the health condition(s) you are interested in please sign up and through the details you provide we will check your eligibility.  Or if you have a promo or access code this can be entered during sign up or alternatively on your membership page once signed up.  If you are not yet eligble then all is not lost - you can sign up for a 2 week free trial with no obligation to continue to a monthly membership afterwards.  Should you want to continue you can do for ",de[this.state.membershipList.currency]||this.state.membershipList.currency," ",this.state.membershipList.amount," per month and cancel anytime."),s.a.createElement("p",{className:"text-center font-16 black-txt font-qregular m-b-50"},"Beam offers exercise, education and support for lots of different health conditions and stages of life where you might need more specialist support.  You will need a different membership for each condition you are wanting access to."),s.a.createElement("div",{className:"row pricing",id:"pricing",ref:"theDiv",tabIndex:0},s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 m-b-10"},s.a.createElement("div",{className:"card mb-5 mb-lg-0"},s.a.createElement("div",{className:"card-body height-fix text-center"},s.a.createElement("h5",{className:"card-title font-bold font-30 ash-txt text-center"},"Free membership"),s.a.createElement("figure",{className:"text-center"},s.a.createElement("img",{src:D+"member_ship/membership_1.png",className:"img-fluid img-fluid w-70",alt:""})),s.a.createElement("p",{className:"font-qmedium ash-txt font-30"},"Hooray - Beam is free in some regions for some conditions!"),s.a.createElement("p",{className:"font-16 black-txt text-center font-qmedium"},"If you\u2019ve been given an access or promo code then you can enter this on sign up or on your membership page. Otherwise, your eligiblity for free access via one of our sponsors will be automatically determined on sign up."),!this.props.is_auth&&s.a.createElement(Qo.b,{to:"/register",className:"btn font-bold font-16 btn-beam-blue m-t-20 m-b-20"},"Sign up now")))),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 m-b-10"},s.a.createElement("div",{className:"card mb-5 mb-lg-0"},s.a.createElement("div",{className:"card-body height-fix text-center"},s.a.createElement("h5",{className:"card-title font-bold font-30 ash-txt text-center"},"Paid membership"),s.a.createElement("figure",{className:"text-center"},s.a.createElement("img",{src:D+"member_ship/membership_2.png",className:"img-fluid img-fluid w-70",alt:""})),s.a.createElement("p",{className:"font-qmedium ash-txt font-30"},"2 week free trial followed by ",de[this.state.membershipList.currency]||this.state.membershipList.currency,this.state.membershipList.amount," per month"),s.a.createElement("p",{className:"font-16 black-txt text-center font-qmedium"},"(no credit card required to start the trial, no obligation to sign up after the trial)"),!this.props.is_auth&&s.a.createElement(Qo.b,{to:"/register",className:"btn font-bold font-16 btn-beam-blue m-t-60 m-b-20"},"Sign up now"))))),0===this.state.membershipList.length&&s.a.createElement("div",{className:"font-16 font-qmedium black-txt col-md-12 text-center m-t-40 m-b-20"},"No memberships found !"))))}}]),a}(s.a.Component),Or={fetchMembershipPlans:Rt,changePlan:so},Lr=Object(i.b)((function(e){return{ip_data:e.accountinfo.ip_data,user_data:e.header.logged_userData,membershipPlans:e.register.membershipPlan,is_auth:e.auth.is_auth,close_banner:e.header.close_banner,close_banner_kd:e.header.close_banner_kd}}),Or)(Sr),Dr=a(140),Mr=a.n(Dr),Ir=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={loading:!1,value:5,review_text:te[1]},o}return Object(Wo.a)(a,[{key:"onCloseModal",value:function(){}},{key:"submitBeforeReview",value:function(e){var t=this,a={feelingBefore:e,workoutId:parseInt(this.props.workoutId),roomId:this.props.current_attendee.RoomId};this.props.beforePlay(a).then((function(e){e&&(t.props.beforeReview(),hs.a.event({category:"On Demand Video",action:"Played",label:Go.Cookies.get("condition")+"-"+t.props.workoutTitle.title+"-"+a.workoutId}))}),(function(e){t.props.closeModel(),at.b.error(e)}))}},{key:"_webView",value:function(){var e=this;return s.a.createElement("div",{className:"result_list mx-auto w-75 m-t-20 desk_value"},s.a.createElement("ul",null,K.map((function(t,a){return s.a.createElement("li",{key:a},s.a.createElement("span",{onClick:function(){return e.submitBeforeReview(t)},className:"pointer"},t))}))))}},{key:"formatLabel",value:function(e,t){return console.log("type",t),"min"==t?"Not good":"max"==t?"Fantastic":""}},{key:"_mobileView",value:function(){var e=this;return s.a.createElement("div",{className:"mobile_value"},s.a.createElement("div",{className:"result_list mx-auto w-75 m-t-30"},s.a.createElement("div",{className:"range_value_display font-medium"},Math.round(this.state.value)),s.a.createElement(Mr.a,{maxValue:K.length,minValue:0,value:this.state.value,formatLabel:function(t,a){return e.formatLabel(t,a)},onChange:function(t){return e.rangeChangeFunction(t)}})),s.a.createElement("div",{className:"col-sm-12 m-t-30 row mx-auto"},s.a.createElement("button",{className:"btn btn-login w-100",onClick:function(){return e.submitBeforeReview(e.state.value)}},"Let's do this!")))}},{key:"rangeChangeFunction",value:function(e){var t="";t=parseInt(e)<3?te[0]:parseInt(e)>7?te[2]:te[1],this.setState({value:e,review_text:t})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog b4_start common_design modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-semibold white-txt",id:"exampleModalLabel font-medium"},"Before you start"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.props.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("p",{className:"font-qmedium black-txt text-center mx-auto w-75 font-15 m-t-20 font-normal"},"How good do you feel right now?"),this._webView(),this._mobileView())))))}}]),a}(s.a.Component),jr={beforePlay:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/ondemand/beforePlay",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}},Tr=Object(i.b)((function(e){return{}}),jr)(Ir),Fr=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={Loading:!1,value_1:5,value_2:5,value_3:5,review_text:te[1]},o.updateState=o.updateState.bind(Object(is.a)(o)),o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.updateStarRating=o.updateStarRating.bind(Object(is.a)(o)),o.submitReview=o.submitReview.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"onCloseModal",value:function(){}},{key:"updateState",value:function(e,t,a){var o=this.props.localState;o[t]=a,o.step=e,this.props.updateAfterModelState(o)}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value,s=this.props.localState;s[a]=o,this.props.updateAfterModelState(s)}},{key:"updateStarRating",value:function(e){var t=this.props.localState;t.rating=e,this.props.updateAfterModelState(t)}},{key:"submitReview",value:function(){var e=this;this.setState({Loading:!0});var t=Object(m.a)({},this.props.localState);t.workoutId=this.props.workoutId,t.roomId=this.props.current_attendee.RoomId,t.rating&&parseInt(t.rating)>0?this.props.afterPlay(t).then((function(t){e.setState({Loading:!1}),e.props.closeModel(),at.b.success(t.message),hs.a.event({category:"On Demand Video ",action:"Completed",label:Go.Cookies.get("condition")+"-"+e.props.workoutTitle.title+"-"+e.props.workoutId})}),(function(t){e.setState({Loading:!1}),e.props.closeModel(),at.b.error(t)})):(this.setState({Loading:!1}),this.props.closeModel())}},{key:"_modelColseButton",value:function(){var e=this;return s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.props.closeModel()}},"\xd7"))}},{key:"_footerMessage",value:function(){var e=this;return s.a.createElement("span",{onClick:function(){return e.props.closeModel()},className:"font-qregular font-15 font-normal ques-txt pointer"},"Why are you asking me this?")}},{key:"rangeChangeFunction",value:function(e,t){var a,o="";o=parseInt(e)<3?te[0]:parseInt(e)>7?te[2]:te[1],this.setState((a={},Object(rs.a)(a,t,e),Object(rs.a)(a,"review_text",o),a))}},{key:"_afterReviewRange",value:function(e,t,a){var o=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"result_list mx-auto w-75 m-t-20 desk_value"},s.a.createElement("ul",null,J.map((function(a,n){return s.a.createElement("li",{key:n},s.a.createElement("span",{onClick:function(){return o.updateState(e,t,a)},className:"pointer"},a))})))),s.a.createElement("div",{className:"mobile_value"},s.a.createElement("div",{className:"result_list mx-auto w-75 m-t-30 "},s.a.createElement("div",{className:"range_value_display font-medium"},Math.round(this.state[a])),s.a.createElement(Mr.a,{maxValue:J.length,minValue:0,value:this.state[a],formatLabel:function(t,a){return o.formatLabel(t,a,e-1)},onChange:function(e){return o.rangeChangeFunction(e,a)}})),s.a.createElement("div",{className:"col-sm-12 m-t-30 row mx-auto"},s.a.createElement("button",{className:"btn btn-login w-100",onClick:function(){return o.updateState(e,t,o.state[a])}},"Next"))))}},{key:"formatLabel",value:function(e,t,a){switch(console.log("type",a),a){case 1:return"min"==t?"Not good":"max"==t?"Fantastic":"";case 2:return"min"==t?"Not pleased":"max"==t?"Over the moon":"";case 3:return"min"==t?"Piece of cake":"max"==t?"Really tough":""}}},{key:"feelingAfter_view",value:function(){return s.a.createElement("div",{className:"modal-dialog after_start common_design modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-semibold white-txt",id:"exampleModalLabel font-medium"},"Yes! You did it!"),this._modelColseButton()),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("p",{className:"font-qmedium black-txt text-center mx-auto w-75 font-15 m-t-20 font-normal"},"How good do you feel right now?"),this._afterReviewRange(2,"feelingAfter","value_1"),s.a.createElement("div",{className:"image-section text-center"},s.a.createElement("img",{className:"img-fluid img-fluid w-80 m-b-20",src:D+"afterlog.png"})))))}},{key:"pleased_view",value:function(){return s.a.createElement("div",{className:"modal-dialog after_start after_start-bg common_design modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-semibold white-txt",id:"exampleModalLabel font-medium"},"Finally, to help others..."),this._modelColseButton()),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("p",{className:"font-qmedium black-txt text-center mx-auto w-75 font-15 m-t-20 font-normal"},"How pleased are you with yourself for completing this session?"),this._afterReviewRange(3,"pleased","value_2"))))}},{key:"challenging_view",value:function(){return s.a.createElement("div",{className:"modal-dialog after_start after_start-bg common_design modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-semibold white-txt",id:"exampleModalLabel font-medium"},"Finally, to help others..."),this._modelColseButton()),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("p",{className:"font-qmedium black-txt text-center mx-auto w-75 font-15 m-t-20 font-normal"},"How challenging did you find this session?"),this._afterReviewRange(4,"challenging","value_3"))))}},{key:"barriers_view",value:function(){return s.a.createElement("div",{className:"modal-dialog after_start after_start-bg common_design modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-semibold white-txt",id:"exampleModalLabel font-medium"},"Finally, to help others..."),this._modelColseButton()),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("p",{className:"font-qmedium black-txt text-center mx-auto w-75 font-15 m-t-20 font-normal"},"Did you feel that experienced any barriers during this workout?"),s.a.createElement("div",{className:"mx-auto w-75 m-t-40"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"radio-section"},s.a.createElement("span",{className:"text-label"},"None"),s.a.createElement("div",{className:"radio pull-right"},s.a.createElement("input",{id:"radio-1",name:"profession",type:"radio",value:"1"}),s.a.createElement("label",{htmlFor:"radio-1",className:"radio-label"}))),s.a.createElement("div",{className:"radio-section"},s.a.createElement("span",{className:"text-label"},"Lorem ipsum"),s.a.createElement("div",{className:"radio pull-right"},s.a.createElement("input",{id:"radio-1",name:"profession",type:"radio",value:"1"}),s.a.createElement("label",{htmlFor:"radio-1",className:"radio-label"}))))))))))}},{key:"rating_view",value:function(){var e=this;return s.a.createElement("div",{className:"modal-dialog after_start after_start-bg common_design modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-semibold white-txt",id:"exampleModalLabel font-medium"},"Finally, to help others..."),this._modelColseButton()),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("p",{className:"font-qmedium black-txt text-center mx-auto w-75 font-15 m-t-20 font-normal"},"Please rate this section"),s.a.createElement("div",{className:"mx-auto w-85 m-t-10"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"rating"},ee.map((function(t,a){return s.a.createElement(s.a.Fragment,{key:a},s.a.createElement("input",{type:"radio",id:"star"+t,name:"rating",value:t,onClick:function(){return e.updateStarRating(t)}}),s.a.createElement("label",{htmlFor:"star"+t,title:"Meh"},t," stars"))})))),s.a.createElement("div",{className:"col-md-12 text-center w-75 mx-auto"},s.a.createElement("p",{className:"font-qmedium black-txt text-center mx-auto w-75 font-15 m-t-20 font-normal"},"Anything to add? A quick review:"),s.a.createElement("textarea",{onChange:this.handleChange,value:this.props.localState.comment,className:"text-message w-100",name:"comment",rows:"6",cols:"50"}),s.a.createElement("button",{disabled:this.state.Loading,onClick:this.submitReview,className:"btn btn-purple-inverse submit-btn font-medium font-14  m-t-20 m-b-20"},"Submit review"))))))}},{key:"mainRender",value:function(){var e;switch(this.props.stepVideo||this.props.localState.step){case 1:e=this.feelingAfter_view();break;case 2:e=this.pleased_view();break;case 3:e=this.challenging_view();break;case 4:e=this.rating_view();break;default:e=s.a.createElement("div",null,s.a.createElement("span",null,"No data found!"))}return e}},{key:"render",value:function(){return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.openModel,onClose:this.onCloseModal,center:!0},this.mainRender())}}]),a}(s.a.Component),Pr={updateAfterModelState:ca,afterPlay:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/ondemand/afterPlay",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}},Ur=Object(i.b)((function(e){return{localState:e.workout.AfterModelState}}),Pr)(Fr),Rr=a(297),Wr=a(910),Ar=!1,Br=null,qr=!0,Yr=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).palyVideo=function(){o.setState({isPaused:!1})},o.pauseVideo=function(){o.setState({isPaused:!0})},o.showClockTimer=function(){if(null!=o.player){qr=!0;var e=60*o.player.getState().player.currentTime/60,t=60*o.state.startTimer/60,a=60*o.state.endTimer/60;Ar=t<=e,a<=e&&(Ar=!1),t<e&&a>e&&(Br=a-e)}},o.state={loading:!1,currentVideoTime:0,buffered_sec:null,running_sec:0,buffer_loader:!1,cursor_min:null,totalClockTime:0,isTimeFormat:!1,isPaused:!1,currentSpentTime:0,startTimer:0,endTimer:0},console.log(o.state.paused),o.timer=[],o.timeSpent=[],o.is_start=!0,o.saveTimeSpent=o.saveTimeSpent.bind(Object(is.a)(o)),setInterval(Object(nt.a)(st.a.mark((function e(){var t,a,s,n;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.props.enable_video||!o.is_start){e.next=6;break}if(t=o.player.getState(),!(a=t.player).ended){e.next=5;break}return o.submitTime(),e.abrupt("return");case 5:if(!a.waiting&&!a.paused){if(!o.timeSpent.length)for(s=0,n=parseInt(a.duration);s<n;s++)o.timeSpent.push(!1);o.timer=o.record(a.currentTime)}case 6:case"end":return e.stop()}}),e)})))),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){if(this.props.workoutDetail.clockStart&&this.props.workoutDetail.clockEnd){var e=this.props.workoutDetail.clockStart.split(":"),t=this.props.workoutDetail.clockEnd.split(":");e=60*+e[0]*60+60*+e[1]+ +e[2],t=60*+t[0]*60+60*+t[1]+ +t[2];var a=60*Math.abs(t-e);this.setState({totalClockTime:a,startTimer:e,endTimer:t}),Br=a}}},{key:"componentWillUnmount",value:function(){this.is_start=!1}},{key:"record",value:function(e){this.timeSpent[parseInt(e)]=!0,this.showPercentage()}},{key:"showPercentage",value:function(){for(var e=0,t=0,a=this.timeSpent.length;t<a;t++)this.timeSpent[t]&&e++;var o=e;o/=60,o=Math.floor(o),this.setState({currentSpentTime:o}),o!==this.state.cursor_min&&this.setState({cursor_min:o},this.saveTimeSpent())}},{key:"saveTimeSpent",value:function(){for(var e=0,t=0,a=this.timeSpent.length;t<a;t++)this.timeSpent[t]&&e++;var o=e;if(o/=60,o=Math.floor(o),parseInt(o)>parseInt(this.props.ondemandData.workout.length)&&(o=this.props.ondemandData.workout.length),this.setState({buffer_loader:!0}),this.props.current_attendee.RoomId&&o>0){var s={roomId:this.props.current_attendee.RoomId,time:o};this.props.saveTimeSpent(s).then((function(e){}),(function(e){at.b.error("Something went wrong!")}))}}},{key:"onCloseModal",value:function(){}},{key:"submitTime",value:function(){for(var e=0,t=0,a=this.timeSpent.length;t<a;t++)this.timeSpent[t]&&e++;var o=e;o/=60,o=Math.floor(o),parseInt(o)>parseInt(this.props.ondemandData.workout.length)&&(o=this.props.ondemandData.workout.length);var s=o/this.props.ondemandData.workout.length*100>=50;this.props.closeVideoModel(o,s),Ar=!1}},{key:"render",value:function(){var e=this,t=this.props.ondemandData&&this.props.ondemandData.workout?this.props.ondemandData.workout:{},a=this.props.ondemandData&&this.props.ondemandData.title?this.props.ondemandData.title:"";return console.log("Workoutplayerss"),s.a.createElement(s.a.Fragment,null,s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.enable_video,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog b4_start common_design modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-semibold white-txt",id:"exampleModalLabel font-medium"},a),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.submitTime()}},"\xd7")),Ar&&this.state.totalClockTime>0&&qr&&s.a.createElement("div",{className:"timer-container timer"},s.a.createElement(Wr.Timer,{className:"timer_style",durationInSeconds:Br,formatted:this.state.isTimeFormat,isPaused:this.state.isPaused,onFinish:function(){qr=!1}}))),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement(Rr.Player,{ref:function(t){e.player=t},id:"myVideo",autoPlay:!0,className:"w-100 border-0",height:"400",playsInline:!0,onPlay:this.palyVideo,onPause:this.pauseVideo,onClick:this.showClockTimer(),src:f+t.videoUrl}))))))}}]),a}(s.a.Component),Gr={saveTimeSpent:oa},Vr=Object(i.b)((function(e){return{workoutDetail:e.workout.workout_detail_data.workout}}),Gr)(Yr),Hr=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={Loading:!1,success_model_open:!1},o.saveVideo=o.saveVideo.bind(Object(is.a)(o)),o.closeSuccessModel=o.closeSuccessModel.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"closeSuccessModel",value:function(){this.setState({success_model_open:!1})}},{key:"onCloseModal",value:function(){}},{key:"saveVideo",value:function(){var e=this;if(this.props.Loading)return!1;if(this.setState({Loading:!0}),this.props.is_auth){console.log("workoutData",this.props.workoutData);var t={workoutId:this.props.workoutData.id};this.props.workoutData.WorkoutSaves&&this.props.workoutData.WorkoutSaves.length>0?this.props.unSaveVideo(t,this.props.page).then((function(t){if("recently_watched"===e.props.page||"programme_detail"===e.props.page){var a=Object(Lo.a)(e.props.workoutData.WorkoutSaves),o=a.findIndex((function(t){return t.workoutId===e.props.workoutData.id}));o>-1&&a.splice(o,1),e.props.workoutData.WorkoutSaves=a}e.setState({Loading:!1}),console.log("unSaveVideo-response",t),at.b.success(t.message)}),(function(t){console.log("unSaveVideo-error",t),e.setState({Loading:!1}),at.b.error(t)})):this.props.saveVideo(t,this.props.page).then((function(t){"recently_watched"!==e.props.page&&"programme_detail"!==e.props.page||(e.props.workoutData.WorkoutSaves=e.props.workoutData&&e.props.workoutData.WorkoutSaves.length>0?e.props.workoutData.WorkoutSaves:[],e.props.workoutData.WorkoutSaves.push(t.onDemandVideo)),e.setState({Loading:!1,success_model_open:!0}),hs.a.event({category:"On Demand Video",action:"Saved",label:Go.Cookies.get("condition")+"-"+e.props.workoutData.title+"-"+e.props.workoutData.id}),console.log("addsave-response",t)}),(function(t){e.setState({Loading:!1}),console.log("addsave-error",t),at.b.error(t)}))}else this.setState({Loading:!1}),this.props.loginModelOpen(!0)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"pointer",onClick:this.saveVideo},s.a.createElement("em",{className:"pointer "+(this.props.workoutData&&this.props.workoutData.WorkoutSaves&&this.props.workoutData.WorkoutSaves.length>0?" fa fa-bookmark orangefont":"fa fa-bookmark-o")}),("ondemand_detail"===this.props.page||"recently_watched"===this.props.page)&&s.a.createElement("span",{className:"font-qmedium font-13 black-txt m-l-10"},"Save")),s.a.createElement(ls.a,{className:"removebbg-popup",open:this.state.success_model_open,onClose:this.onCloseModal,center:!0},this.props.workoutData&&s.a.createElement("div",{className:"modal-dialog schedule_block common_design modal-width--custom m-t-50",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-book white-txt",id:"exampleModalLabel font-medium"},"Yay! Congrats!"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeSuccessModel},"\xd7"))),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("h5",{className:"pop-sub-head black-txt text-center font-qregular m-b-20 "},"You've saved this on-demand video"),s.a.createElement("p",{className:"font-semibold black-txt text-center mx-auto w-75 font-15"},this.props.workoutData.title),s.a.createElement("div",{className:"mx-auto w-75 m-b-10 clearfix"},s.a.createElement("div",{className:"centered-content"},s.a.createElement("span",{className:" p-0 border-0  text-right"},s.a.createElement("img",{className:"img-fluid rounded-circle",src:this.props.workoutData.Instructor&&this.props.workoutData.Instructor.img?S+this.props.workoutData.Instructor.img:D+"no-image.png",alt:""})),s.a.createElement("span",{className:" black-txt font-qregular  text-left m-t-15  font-16 p-l-5"},"   ",this.props.workoutData.Instructor&&this.props.workoutData.Instructor.User&&this.props.workoutData.Instructor.User.name+" "+this.props.workoutData.Instructor.User.lastName))),s.a.createElement("div",{className:"col-md-12 text-center m-t-30 m-b-40"},s.a.createElement("img",{src:D+"thanks-small.png",alt:""})),s.a.createElement("button",{className:"btn btn-login popup-btn w-75 mx-auto m-t-20 m-b-20",onClick:this.closeSuccessModel},"  Continue "))))))}}]),a}(s.a.Component),zr={saveVideo:function(e,t){return function(a,o){var s=et(e);return fetch(h+"/api/ondemand/addSave",s).then((function(e){return go(e,a)})).then((function(o){switch(t){case"ondemand_list":a({type:"ondemand_workout_save",payload:e});break;case"ondemand_detail":a({type:"ondemand_detail_savevideo",payload:e,flag:!0});break;case"instructor_detail":a({type:"instructor_detail_savevideo",payload:e,flag:!0});break;case"ondemand_detail_sub":a({type:"ondemand_detail_sub_savevideo",payload:e,flag:!0});break;case"liveclass_detail_sub":a({type:"liveclass_detail_sub_savevideo",payload:e,flag:!0});break;case"group_ondemand":a({type:"group_ondemand_workout_save",payload:e})}return o}))}},unSaveVideo:na,loginModelOpen:pt,scheduleModelOpen:ia},Kr=Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),zr)(Hr),Jr=a(180),Qr=a.n(Jr),Zr=a(2337),Xr=a(2338),$r=a(2339),ei=a(2340),ti=a(2341),ai=a(2342),oi=a(2343),si=a(2344),ni=a(2345),ri=a(2346),ii=a(141),li=a.n(ii),ci=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={isRead:!1},o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.submitDisclaimer=o.submitDisclaimer.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"onCloseModal",value:function(){}},{key:"submitDisclaimer",value:function(){var e=this;if(this.state.isRead){var t={tag:_o.replaceChar(Go.Cookies.get("condition"),!0)};this.props.saveDisclaimer(t).then((function(t){if(t.status){console.log("result",t.usertags);var a=e.props.logged_userData;a.Tags.push(t.usertags),e.props.updateUserdataRedex(a)}e.props.modelClose()}),(function(t){console.log("result-error",t),e.props.modelClose()}))}else this.props.modelClose()}},{key:"handleCheckboxChange",value:function(e){var t=this.state.isRead;this.setState({isRead:!t})}},{key:"render",value:function(){var e=this,t=Go.Cookies.get("condition").replace(/ /g,"-");return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog common_design modal-width--custom live-classes--popup w-100",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center white-txt col-md-12 p-0 font-book font-24",id:"exampleModalLabel "},"Head's Up!"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.props.modelClose()}},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},s.a.createElement("div",null,"core"==this.props.type&&s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 text-center m-b-30 mr-auto ml-auto"},s.a.createElement("p",{className:"font-15 font-semibold black-txt"},"Great - you've found a class that you want to take on Beam!")),s.a.createElement("span",{className:"text-center w-100 float-left m-b-50"},"Before you do, please have a read over ",s.a.createElement(Qo.b,{className:"purplefont",to:"/blogs/safety-info-"+t,target:"_blank"},s.a.createElement("u",null,"this safety information"))," to make sure you keep safe and feel your best during and after your class."),s.a.createElement("div",{className:"toggle-btns float-left w-100"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},"Sure I've read this info! Don't show me this message again"),s.a.createElement("label",{className:"switch m-l-10 pull-right",htmlFor:"isRead"},s.a.createElement("input",{type:"checkbox",name:"isRead",id:"isRead",defaultChecked:this.state.isRead,onChange:this.handleCheckboxChange,value:this.state.isRead}),s.a.createElement("div",{className:"slider round"})))),"createc"==this.props.type&&s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"text-center m-b-30 mr-auto ml-auto"},s.a.createElement("p",{className:"font-15 font-semibold"},"Please always remember that any activity you access on Beam is remote, and you are responsible for your own health. If you are exercising alone, always have your mobile phone to hand, or check in with a family member or friend before and after the class.")),s.a.createElement("p",null,"If you experience chest pain or tightness or are feeling unwell:"),s.a.createElement("span",{className:""},s.a.createElement("ul",{className:"col-md-12 text-justify m-b-30 mr-auto ml-auto"},s.a.createElement("li",null,"Stop exercising"),s.a.createElement("li",null,"Sit down and rest"),s.a.createElement("li",null,"If you have been prescribed a GTN (glyceryl trinitrate) spray, use it as your doctor has told you to do. If this does not ease, call 999"),s.a.createElement("li",null,"If you do not have a GTN spray, rest and call 999 for medical assistance if required"),s.a.createElement("li",null,"Taking part in any activity using the CREATE- C videos on Beam is at your own risk."))),s.a.createElement("p",null,"Contact details for the oncology physiotherapist: ",s.a.createElement("span",null,s.a.createElement("a",{className:"purplefont",href:"mailto:Physio.Create@addenbrookes.nhs"},"Physio.Create@addenbrookes.nhs")))),s.a.createElement("div",{className:"buttons-read w-100 m-t-20 float-left text-center col-lg-12 col-xs-12 col-md-12"},s.a.createElement("a",{className:"btn btn-blue-inverse font-14 col-xs-8 col-lg-4 m-t-20 m-r-20 col-md-4",onClick:function(){return e.props.safetyProcess()}},"createc"==this.props.type?"Close":"Go back"),s.a.createElement("a",{className:"btn btn-beam-blue font-14 pointer col-xs-8 m-t-20 col-lg-6 col-md-6",onClick:function(){return e.submitDisclaimer()}},"createc"==this.props.type?"Continue":"Go to class")))))))}}]),a}(s.a.Component),mi={saveDisclaimer:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/ondemand/safetyDisclaimer",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},updateUserdataRedex:Ba},di=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData}}),mi)(ci),pi=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={enable:!1,value:[{Injured:"",Unwell:"","Admitted to hospital (unplanned)":""}],showText:!1,form_response:""},o}return Object(Wo.a)(a,[{key:"onCloseModal",value:function(){this.setState({enable:!1,value:[{Injured:"",Unwell:"","Admitted to hospital (unplanned)":""}],showText:!1,form_response:""}),this.props.closeResearchModel()}},{key:"submitPoll",value:function(){var e=this,t={roomId:this.props.current_attendee.RoomId,stateSinceLastSession:this.state.value,problemDesc:this.state.form_response,classType:this.props.classType,workoutId:this.props.workoutId,trial_name:Go.Cookies.get("condition")};this.props.submitPrePoll(t).then((function(t){t&&(e.onCloseModal(),e.props.closeResearchModel(),e.props.beforeReview())}),(function(t){e.onCloseModal(),e.props.closeResearchModel(),at.b.error(t)}))}},{key:"handleSelect",value:function(e,t){var a,o,s=this,n=this.state.value;n.forEach((function(n){"form_response"!==t?n[t]=e.target.value:s.setState({form_response:e.target.value}),a=Object.values(n).includes("Yes"),o=Object.values(n).includes("")})),this.setState({value:n,showText:a,enable:!o&&!a&&""!==this.state.form_response||(!(o||!a||""===this.state.form_response)||!o&&!a&&""===this.state.form_response)})}},{key:"render",value:function(){var e=this;return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{class:"modal-beam",id:"myModal"},s.a.createElement("div",{class:"modal-dialog"},s.a.createElement("div",{class:"modal-content"},s.a.createElement("div",{class:"heading-section-beam"},s.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal",onClick:function(){return e.onCloseModal()}},"\xd7")),s.a.createElement("div",{class:"modal-body border-0"},s.a.createElement("div",{class:"mx-auto col-md-9"},s.a.createElement("h4",{class:"modal-title font-semibold font-24 w-100"},"Before We Start"),s.a.createElement("h3",{class:"sub-title font-medium font-18 w-100 mb-4"},"During or since your last exercise session, have you been:"),s.a.createElement("div",{class:"col-md-12"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-9 col-6 p-0"}),s.a.createElement("div",{class:"col-md-3 col-6 p-0"},s.a.createElement("span",{class:"float-left font-qbold option-head w-50 text-center"},"Yes"),s.a.createElement("span",{class:"float-left font-qbold option-head w-50 text-center"},"No")))),Z.map((function(t,a){return s.a.createElement("div",{class:"col-md-12"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-9 col-6 p-0"},s.a.createElement("p",{class:"font-qmedium font-16 lable-rad"},t)),s.a.createElement("div",{class:"col-md-3 col-6 p-0"},s.a.createElement("span",{class:"float-left font-qbold option-head w-50 text-center"},s.a.createElement("div",{class:"mradio"},s.a.createElement("input",{id:a,name:t,type:"radio",value:"Yes",onClick:function(a){return e.handleSelect(a,t)}}),s.a.createElement("label",{for:a,class:"radio-label"}))),s.a.createElement("span",{class:"float-left font-qbold option-head w-50 text-center"},s.a.createElement("div",{class:"mradio"},s.a.createElement("input",{id:a+"k",name:t,type:"radio",value:"No",onClick:function(a){return e.handleSelect(a,t)}}),s.a.createElement("label",{for:a+"k",class:"radio-label"}))))))})),this.state.showText&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{class:"small-text font-qmedium font-12 "},"We don\u2019t need to know about things like:"),s.a.createElement("ul",{class:""},s.a.createElement("li",{class:"small-text font-qmedium font-12"},"Your normal COVID-19 symptoms"),s.a.createElement("li",{class:"small-text font-qmedium font-12"},"Normal feelings with exercise like moderate levels of shortness of breath,stiff/sore muscles and tiredness"),s.a.createElement("li",{class:"small-text font-qmedium font-12"},"Planned hospital admissions")),s.a.createElement("div",{class:"col-md-12"},s.a.createElement("p",{class:"font-qregular font-16 text-area-head m-0"},"In a few words describe the problem you have had:"),s.a.createElement("textarea",{class:"custom-tetarea form-control",onChange:function(t){return e.handleSelect(t,"form_response")},value:this.state.form_response}))),s.a.createElement("div",{class:"text-center mt-5"},s.a.createElement("button",{class:this.state.enable?"bluebtn float-left w-100 text-center pointer font-semibold font-14":"btn-disabled float-left w-100 text-center pointer font-semibold font-14",onClick:function(){return e.submitPoll()}},"Continue to class"))))))))}}]),a}(s.a.Component),ui={submitPrePoll:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/ondemand/submitPrePoll",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}},hi=Object(i.b)((function(e){return{}}),ui)(pi),gi=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={enable:!1,rating:5},o}return Object(Wo.a)(a,[{key:"onCloseModal",value:function(){this.props.closeResearchPostModel()}},{key:"submitPoll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={roomId:this.props.current_attendee.RoomId,rateOfExertion:this.state.rating,classType:this.props.classType};this.props.submitPostPoll(a).then((function(a){if(a&&(e.props.closeResearchPostModel(),t)){var o=e.props.logged_userData.Members.length?e.props.logged_userData.Members[0].Community.community_name:"",s={from:{pathname:o?"/group/feed/"+o+"/"+e.props.condition:"/groups/"+e.props.condition}}.from;e.props.history.push(s)}}),(function(t){e.props.closeResearchPostModel(),at.b.error(t)}))}},{key:"handleSelect",value:function(e){this.setState({rating:e.target.value,enable:!0})}},{key:"closeModel",value:function(){this.props.closeResearchModel()}},{key:"render",value:function(){var e=this,t=_o.replaceChar(this.props.condition.toLowerCase(),!0).replace("research studies: ",""),a=t.includes("create");console.log("ResearchPostPopup=",t),console.log("isCreateC=",a);var o=a?$:X;return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.props.closeResearchModel,center:!0},s.a.createElement("div",{class:"modal-beam-how",id:"myModal"},s.a.createElement("div",{class:"modal-dialog-post-poll mx-auto"},s.a.createElement("div",{class:"modal-content"},s.a.createElement("div",{class:"heading-section-beam"},s.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal",onClick:function(){return e.onCloseModal()}},"\xd7")),s.a.createElement("div",{class:"modal-body border-0"},s.a.createElement("div",{class:"mx-auto col-md-11"},s.a.createElement("h4",{class:"modal-title font-semibold font-24 w-100"},"How did it go?"),a&&s.a.createElement("h3",{class:"sub-title font-qregular font-16 mb-4 text-left lengthy-text"},s.a.createElement("p",null,"A rate of perceived exertion (RPE) scale is a handy tool used to report on how intensely you feel that you're  exercising."),s.a.createElement("p",null,"Using the scale below let us know how it went by selecting the point on the scale that most closely matches how you felt during the session."))||s.a.createElement("h3",{class:"sub-title font-qregular font-16 w-100 mb-4"},"On the exertion scale, how would you rate the session: "),o.map((function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{class:"col-md-12 rate-sec "+t.class+" mb-1"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-2 col-2"},s.a.createElement("span",{class:"value-rat "+t.roundClass+" font-medium font-16"},t.id)),s.a.createElement("div",{class:"col-md-8 col-8 text-center"},s.a.createElement("span",{class:"value-txt font-medium font-16"},t.value)),s.a.createElement("div",{class:"col-md-2 col-1 p-r-0 radio-btn"},s.a.createElement("span",{class:"val-inp"},s.a.createElement("div",{class:"radionew"},s.a.createElement("input",{id:t.id,name:"radio",type:"radio",value:t.id,onClick:function(t){return e.handleSelect(t)}}),s.a.createElement("label",{for:t.id,class:"radio-label mb-0"})))))))})),a&&s.a.createElement("div",{class:"text-center mt-4 col-md-10 mx-auto mb-4 clearfix"},s.a.createElement("button",{class:this.state.enable?"bluebtn float-left w-100 text-center pointer font-semibold font-14":"btn-disabled float-left w-100 text-center pointer font-semibold font-14",onClick:function(){return e.submitPoll(a)},disabled:!this.state.enable},"Submit"))||s.a.createElement("div",{class:"text-center mt-4 col-md-10 mx-auto mb-4 clearfix"},s.a.createElement("button",{class:this.state.enable?"bluebtn float-left w-100 text-center pointer font-semibold font-14":"btn-disabled float-left w-100 text-center pointer font-semibold font-14",onClick:function(){return e.submitPoll()},disabled:!this.state.enable},"Submit"))))))))}}]),a}(s.a.Component),fi={submitPostPoll:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/ondemand/submitPostPoll",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}},bi=Object(i.b)((function(e){return{logged_userData:e.header.logged_userData}}),fi)(gi),vi=(a(329),function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).setRegisterForm=function(){var e=JSON.parse(localStorage.getItem("userDetails"))||o.props.logged_userData;o.props.getLicenseList(),o.props.getPlanByCountry(e.country).then((function(e){o.setState({countryPlans:e.plans})})),o.props.registerFormValues.userid=e.id,o.props.registerFormValues.firstname=e.name,o.props.registerFormValues.age=_o.calculateAge(bo()(e.dob).format("DD-MM-YYYY")),o.props.registerFormValues.country=e.country,o.props.registerFormValues.region=e.region,o.props.registerFormValues.condition_membership=[],o.props.registerformUpdate(o.props.registerFormValues),o.props.setStep(11)},o.onCloseModal=function(){},o.state={},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("ConditionOnboardingComponent-props",this.props),this.setRegisterForm(),this.props.hearabout()}},{key:"render",value:function(){var e,t=this.state.planData?this.state.planData:{};t.Plan=t.Plan?t.Plan:{};this.props.logged_userData;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ls.a,{classNames:{modal:"pricing-popup m-t-50 membership-popup"},open:this.props.ismodel_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog modal-width--custom float-none",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title text-center col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"},this.props.page_title),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.props.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0",id:"register-box"},11===this.props.step&&s.a.createElement(Ts,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,gotoStep:this.props.gotoStep,conditionRelationshipList:this.props.conditionRelationshipList,prevStep:this.props.prevStep,setStep:this.props.setStep,pageFrom:"mycondition",isUpdateMyConditions:this.props.isUpdateMyConditions,updateUserTags:this.props.updateUserTags}),12===this.props.step&&s.a.createElement(Bn,(e={registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,gotoStep:this.props.gotoStep,conditionRelationshipList:this.props.conditionRelationshipList,prevStep:this.props.prevStep},Object(rs.a)(e,"gotoStep",this.props.gotoStep),Object(rs.a)(e,"pageFrom","mycondition"),Object(rs.a)(e,"isUpdateMyConditions",this.props.isUpdateMyConditions),Object(rs.a)(e,"updateUserTags",this.props.updateUserTags),e)),13===this.props.step&&s.a.createElement(Vs,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,clinic_direction:this.props.clinic_direction,submitCondition:this.props.submitCondition,pageFrom:"mycondition",isUpdateMyConditions:this.props.isUpdateMyConditions,updateUserTags:this.props.updateUserTags}),14===this.props.step&&s.a.createElement(un,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,clinic_direction:this.props.clinic_direction,submitCondition:this.props.submitCondition,pageFrom:"mycondition",health_conditionId:this.props.health_conditionId}),22===this.props.step&&s.a.createElement(rr,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,pageFrom:"mycondition"}),23===this.props.step&&s.a.createElement(Zn,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,submitCondition:this.props.submitCondition,pageFrom:"mycondition",promocode:this.props.promocode,promoPlans:this.props.promoPlans,health_conditionId:this.props.health_conditionId,closeModel:this.props.closeModel,isUpdateMyConditions:this.props.isUpdateMyConditions,updateUserTags:this.props.updateUserTags}),18===this.props.step&&s.a.createElement(sn,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,pageFrom:"mycondition",isUpdateMyConditions:this.props.isUpdateMyConditions,updateUserTags:this.props.updateUserTags}),19===this.props.step&&s.a.createElement(ln,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,pageFrom:"mycondition",isUpdateMyConditions:this.props.isUpdateMyConditions,updateUserTags:this.props.updateUserTags}),20===this.props.step&&s.a.createElement(er,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,pageFrom:"mycondition",isUpdateMyConditions:this.props.isUpdateMyConditions,updateUserTags:this.props.updateUserTags}),21===this.props.step&&s.a.createElement(or,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,pageFrom:"mycondition",isUpdateMyConditions:this.props.isUpdateMyConditions,updateUserTags:this.props.updateUserTags}),25===this.props.step&&s.a.createElement(mr,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,pageFrom:"mycondition",setStep:this.props.setStep,isUpdateMyConditions:this.props.isUpdateMyConditions,updateUserTags:this.props.updateUserTags}),27===this.props.step&&s.a.createElement(fr,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,pageFrom:"mycondition",setStep:this.props.setStep,isUpdateMyConditions:this.props.isUpdateMyConditions,updateUserTags:this.props.updateUserTags}),28===this.props.step&&s.a.createElement(Er,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,nextStep:this.props.nextStep,prevStep:this.props.prevStep,gotoStep:this.props.gotoStep,location:this.props.location,history:this.props.history,pageFrom:"mycondition",setStep:this.props.setStep,isUpdateMyConditions:this.props.isUpdateMyConditions,updateUserTags:this.props.updateUserTags}))))))}}]),a}(s.a.Component)),Ei={registerformUpdate:Ot,nextStep:wt,prevStep:xt,gotoStep:St,setStep:Ct,getLicenseList:Yt,getPlanByCountry:Gt,hearabout:jt},yi=Object(i.b)((function(e){return{IP_Details:e.accountinfo.ip_data,logged_userData:e.header.logged_userData,registerFormValues:e.register.registerFormValues,step:e.register.step,clinic_direction:e.register.clinic_direction,conditionRelationshipList:e.register.conditionRelationshipList,healthcondition_list:e.register.healthcondition_list,page_title:e.register.page_title}}),Ei)(vi),_i=a(329),ki=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).numberOnly=function(e){var t=e.target,a=t.name,s=t.value;(""===s||/^[0-9\b]+$/.test(s))&&o.updatePaymentData(a,s)},o.expiremonthValid=function(e){var t=e.target,a=t.name,s=t.value;(""===s||/^[0-9\b]+$/.test(s))&&s.length<=2&&o.updatePaymentData(a,s)},o.expireyearValid=function(e){var t=e.target,a=t.name,s=t.value;(""===s||/^[0-9\b]+$/.test(s))&&s.length<=4&&o.updatePaymentData(a,s)},o.updatePaymentData=function(e,t){var a={};a[e]=t,o.setState({payment_data:Object(m.a)(Object(m.a)({},o.state.payment_data),a)})},o.handlePaymentChange=function(e){var t=e.target,a=t.name,s=t.value;o.updatePaymentData(a,s)},o.validatePaymentFields=function(){var e={submitted:!0};o.setState({payment_data:Object(m.a)(Object(m.a)({},o.state.payment_data),e)});var t=(new Date).getMonth(),a=(new Date).getFullYear();if(console.log(new Date(o.state.payment_data.card_exp_year+"-"+o.state.payment_data.card_exp_month+"-01").getTime()+"======"+new Date(a+"-"+t+"-01").getTime()),console.log(new Date(o.state.payment_data.card_exp_year+"-"+o.state.payment_data.card_exp_month+"-01").getTime()>new Date(a+"-"+t+"-01").getTime()),!(o.state.payment_data.card_name&&o.state.payment_data.card_number&&_i.number(o.state.payment_data.card_number).isValid&&o.state.payment_data.card_exp_month&&o.state.payment_data.card_exp_month<=12&&o.state.payment_data.card_exp_year&&o.state.payment_data.card_exp_year>=(new Date).getFullYear()&&o.state.payment_data.card_security_code&&o.state.payment_data.card_security_code.length===_i.number(o.state.payment_data.card_number).card.code.size&&o.state.payment_data.card_zipcode&&new Date(o.state.payment_data.card_exp_year+"-"+o.state.payment_data.card_exp_month+"-01").getTime()>new Date(a+"-"+t+"-01").getTime()))return new Date(o.state.payment_data.card_exp_year+"-"+o.state.payment_data.card_exp_month+"-01").getTime()<new Date(a+"-"+t+"-01").getTime()&&o.setState({payment_data:Object(m.a)(Object(m.a)({},o.state.payment_data),{},{invalid_expiration:!0})}),console.log("not valid"),!1;console.log("valid"),o.props.submitPayment(o.state.payment_data)},o.state={payment_data:{}},o}return Object(Wo.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"step14"},s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"col-md-6 m-b-20 p-l-0 mx-auto text-center"},s.a.createElement("img",{src:D+"logo.png",id:"icon",className:"img-fluid logo-size m-b-10",alt:"beam logo"}),s.a.createElement("span",{className:"purplefont font-bold font-18 align-bottom text-capitalize"},this.state.condition_name)),s.a.createElement("div",{className:"input_section card-details--page col-md-9 m-t-10"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-md-12 float-left"},s.a.createElement("label",{htmlFor:"card_name",className:"text-label"},"Name on Card"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control input-control",name:"card_name",placeholder:"",onChange:function(t){return e.handlePaymentChange(t)},value:this.state.payment_data.card_name,required:!0})),this.state.payment_data.submitted&&!this.state.payment_data.card_name&&s.a.createElement("p",{className:"help-block text-danger"},"Name on card required")),s.a.createElement("div",{className:"form-group col-md-12 float-left"},s.a.createElement("label",{htmlFor:"card_number",className:"text-label"},"Card number"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control input-control",name:"card_number",placeholder:"",onChange:function(t){return e.numberOnly(t)},value:this.state.payment_data.card_number})),this.state.payment_data.submitted&&!this.state.payment_data.card_number&&s.a.createElement("p",{className:"help-block  text-danger"},"Card number required"),this.state.payment_data.submitted&&this.state.payment_data.card_number&&!_i.number(this.state.payment_data.card_number).isValid&&s.a.createElement("p",{className:"help-block  text-danger"},"Invalid card number"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6 col-lg-5 expiration-date"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-label"},s.a.createElement("span",{className:"hidden-xs"},"Expiration")," "),s.a.createElement("div",{className:"form-inline"},s.a.createElement("div",{className:"col-md-6 p-l-0 exp-date"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control input-control",name:"card_exp_month",placeholder:"MM",onChange:function(t){return e.expiremonthValid(t)},value:this.state.payment_data.card_exp_month,required:!0})),this.state.payment_data.submitted&&!this.state.payment_data.card_exp_month&&s.a.createElement("p",{className:"help-block  text-danger"},"Month required"),this.state.payment_data.submitted&&this.state.payment_data.card_exp_month>12&&s.a.createElement("p",{className:"help-block  text-danger"},"Invalid month")),s.a.createElement("div",{className:"col-md-6 p-0"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control input-control",name:"card_exp_year",placeholder:"YYYY",onChange:function(t){return e.expireyearValid(t)},value:this.state.payment_data.card_exp_year,required:!0})),this.state.payment_data.submitted&&!this.state.payment_data.card_exp_year&&s.a.createElement("p",{className:"help-block  text-danger"},"Expire year required"),this.state.payment_data.submitted&&this.state.payment_data.card_exp_year&&this.state.payment_data.card_exp_year<(new Date).getFullYear()&&s.a.createElement("p",{className:"help-block  text-danger"},"Invalid expire year"))))),s.a.createElement("div",{className:"col-md-6 col-lg-7"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"card_security_code",className:"text-label"},"Security Code"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control input-control",name:"card_security_code",placeholder:"",onChange:function(t){return e.handlePaymentChange(t)},value:this.state.payment_data.card_security_code,required:!0})),this.state.payment_data.submitted&&!this.state.payment_data.card_security_code&&s.a.createElement("p",{className:"help-block  text-danger"},"Security code required"),this.state.payment_data.submitted&&this.state.payment_data.card_security_code&&_i.number(this.state.payment_data.card_number).card&&this.state.payment_data.card_security_code.length!==_i.number(this.state.payment_data.card_number).card.code.size&&s.a.createElement("p",{className:"help-block  text-danger"},"Invalid security code"))),s.a.createElement("div",{className:"col-md-6 col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"card_zipcode",className:"text-label"},"ZIP/Postal code"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",className:"form-control input-control",name:"card_zipcode",placeholder:"",onChange:function(t){return e.handlePaymentChange(t)},value:this.state.payment_data.card_zipcode,required:!0})),this.state.payment_data.submitted&&!this.state.payment_data.card_zipcode&&s.a.createElement("p",{className:"help-block  text-danger"},"ZIP/Postal code required"),this.state.payment_data.submitted&&this.state.payment_data.card_zipcode&&this.state.payment_data.card_zipcode.length>6&&s.a.createElement("p",{className:"help-block  text-danger"},"Invalid ZIP/Postal code"))))),s.a.createElement("p",{className:"small-txt font-book text-center"},"By becoming a member you will be charged ",this.props.cost," today and every month after.  You are free to cancel your membership anytime from your membership page."),this.state.payment_data.invalid_expiration&&s.a.createElement("p",{className:"small-txt font-book text-center text-danger m-t-10"},"Invalid Expiration."))),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-10"},s.a.createElement("div",{id:"register-link",className:" w-100 m-t-20 m-b-20 float-left"},s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.validatePaymentFields()},className:"bluebtn float-left w-100 font-14 font-medium text-center"},"Become a Member")))))}}]),a}(s.a.Component),Ni=Object(i.b)((function(e){return{logged_userData:e.header.logged_userData,healthcondition_list:e.register.healthcondition_list}}),{})(ki),wi=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).closeModel=function(){console.log("warning-closemodel"),o.setState({isConditionModalOpen:!1,isWarningModal:!1,isUpgradeModalOpen:!1}),o.props.registerFormvalues.condition_membership=[],o.props.registerformUpdate(o.props.registerFormvalues)},o.updateMyConditions=function(e,t){console.log("updateMyConditions",e);Object(Lo.a)(o.props.logged_userData.conditionList),o.props.logged_userData.conditionList.findIndex((function(t){return t===e.id}));console.log("myconditionList",e.id);var a={conditionId:[e.id],condition_professions:o.props.registerFormvalues.condition_professions,condition_membership:o.props.registerFormvalues.condition_membership,registerFormvalues:o.props.registerFormvalues};o.props.updateMyConditions(a).then((function(e){at.b.success(e.message),o.props.afterUpgrade(),o.closeModel();var t=Object(m.a)({},o.props.logged_userData);t.membershipData.userPlanDetails=e.userPlanDetails,o.props.updateUserdataRedex(t),localStorage.setItem("userDetails",JSON.stringify(t))}),(function(e){at.b.error(e),o.closeModel()}))},o.submitMembershipData=function(e){console.log("submitMembershipData",e);var t=e.condition_membership;if(e.currentPlanId=o.state.currentPlanId,e.isMembershipCondition=!0,t.length&&t[0].promoId){console.log("this.state.planData",o.state.planData);var a={id:t[0].PlanId};o.startTrail(a,"promo",e),o.setState({is_onboard_membership_open:!1})}else o.setState({isUpgradeClicked:!0,cost:e.cost,submittedMembershipData:e,payment_data:{}})},o.startTrail=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};console.log("*************startTrail************"),console.log("plan",e),console.log("type",t);var s={planId:e.id,type:t};if(console.log("membershipData",a),"change_plan"===t){var n=o.state.payment_data;console.log("this.state.payment_data",n);var r=(new Date).getMonth(),i=(new Date).getFullYear();if(new Date(n.card_exp_year+"-"+n.card_exp_month+"-01")<new Date(i+"-"+r+"-01"))return void o.setState({payment_data:Object(m.a)(Object(m.a)({},o.state.payment_data),{},{invalid_expiration:!0})});s.card_name=n.card_name,s.number=n.card_number,s.exp_month=n.card_exp_month,s.exp_year=n.card_exp_year,s.cvc=n.card_security_code,s.card_zipcode=n.card_zipcode}"promo"===t&&(s.promocode=o.props.registerFormvalues.promocode),Object.keys(a).length&&(s.isMemberCondition=!0,s.membershipData=a),console.log("changePlan",s),o.setState({isUpgradeClicked:!1}),o.props.changePlan(s).then((function(e){o.setState({membership_step:1,payment_data:{},isUpgradeModalOpen:!1}),o.props.afterUpgrade(),o.closeModel();var t=Object(m.a)({},o.props.logged_userData);t.membershipData.userPlanDetails=e.userPlanDetails,o.props.updateUserdataRedex(t),localStorage.setItem("userDetails",JSON.stringify(t)),at.b.success(e.message)}),(function(e){o.setState({payment_data:{},isUpgradeModalOpen:!1}),at.b.error(e)}))},o.submitPayment=function(e){console.log("submitPayment",e),o.setState({payment_data:e},(function(){this.state.submittedMembershipData.isMembershipCondition?this.startTrail(this.state.countryPlans,"change_plan",this.state.submittedMembershipData):this.startTrail(this.state.planData,"change_plan")}))},o.renderWarningModal=function(){return s.a.createElement(ls.a,{classNames:{modal:"m-t-50"},open:o.props.isWarningModal,onClose:o.props.closeModel,center:!0},s.a.createElement("div",{className:"modal-dialog modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0 bg-dark-orange"},s.a.createElement("h5",{className:"modal-title text-center col-md-11 p-0 font-semibold white-txt",id:"exampleModalLabel font-medium"},"Oh no!"),s.a.createElement("button",{type:"button",className:"close white-txt","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:o.props.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0",id:"register-box"},s.a.createElement("p",{className:"font-book font-16 text-center"},_o.checkMembershipCases(o.authData,o.props.conditionName)),!o.props.conditionName.toLowerCase().includes("research")&&s.a.createElement("div",{id:"register-link",className:" w-100 m-t-30 m-b-20 float-left"},s.a.createElement("span",{onClick:function(){0==o.props.hasMembership?(o.props.closeModel(),console.log("UPGRADED"),o.setState({isUpgradeModalOpen:!0,isConditionModalOpen:!1,isWarningModal:!1,isUpgradeClicked:!1})):(o.props.closeModel(),console.log("NEW-MEMBERSHIP"),o.setState({isUpgradeModalOpen:!1,isConditionModalOpen:!0,isWarningModal:!1,isUpgradeClicked:!1}))},className:"bluebtn float-left w-100 text-center pointer"},"Go to membership options"))))))},o.renderMembershipOptionsModal=function(){return s.a.createElement(ls.a,{classNames:{modal:"pricing-popup m-t-50 membership-popup"},open:o.state.isUpgradeModalOpen,onClose:o.closeModel,center:!0},s.a.createElement("div",{className:"modal-dialog modal-width--custom float-none",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title text-center col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"},"Your membership options"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:o.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},!o.state.isUpgradeClicked&&s.a.createElement(Kn,{registerFormvalues:o.props.registerFormvalues,registerformUpdate:o.props.registerformUpdate,health_conditionId:o.props.health_conditionId,condition_name:o.props.conditionName,registerUser:o.submitMembershipData,pageFrom:"membership",closeModel:o.closeModel}),o.state.isUpgradeClicked&&s.a.createElement(Ni,{payment_data:o.state.payment_data,cost:o.state.cost,submitPayment:o.submitPayment})))))},o.state={health_conditionId:0,currentPlanId:0,planData:{},countryPlans:[],payment_data:{}},o.authData=JSON.parse(localStorage.getItem("userDetails"))||o.props.logged_userData,o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("this.props.warnings",this.props);var t=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;window.scrollTo(0,0),this.setState({isConditionModalOpen:this.props.isConditionModalOpen,isWarningModal:this.props.isWarningModal}),t&&(this.props.registerFormvalues.userid=t.id,this.props.registerFormvalues.firstname=t.name,this.props.registerFormvalues.age=_o.calculateAge(bo()(t.dob).format("DD-MM-YYYY")),this.props.registerFormvalues.health_condition=t.UserConditions,this.props.registerFormvalues.country=t.country,this.props.registerFormvalues.region=t.region,this.props.registerformUpdate(this.props.registerFormvalues),this.props.getPlanByCountry(t.country).then((function(t){e.setState({countryPlans:t.plans})})))}},{key:"componentDidUpdate",value:function(){this.authData=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData}},{key:"render",value:function(){return console.log("isWarningModal",this.state.isWarningModal),s.a.createElement(s.a.Fragment,null,this.state.isConditionModalOpen&&s.a.createElement(yi,{ismodel_open:this.state.isConditionModalOpen,closeModel:this.closeModel,submitCondition:this.updateMyConditions}),this.props.isWarningModal&&this.renderWarningModal(),this.state.isUpgradeModalOpen&&this.renderMembershipOptionsModal())}}]),a}(s.a.Component),Ci={ondemandDetail:$t,scheduleModelOpen:ia,loginModelOpen:pt,startVideo:ta,saveTimeSpent:oa,updateAfterModelState:ca,setGoback:ma,checkCron:aa,registerformUpdate:Ot,updateMyConditions:oo,setConditionIndex:Bt,updateUserdataRedex:Ba,changePlan:so,getPlanByCountry:Gt},xi=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,condition:e.auth.condition,workout_detail_data:e.workout.workout_detail_data,logged_userData:e.header.logged_userData,scheduleRoomId:e.workout.scheduleRoomId,prevPath:e.workout.prevPath,healthcondition_list:e.register.healthcondition_list,registerFormvalues:e.register.registerFormValues}}),Ci)(wi),Si=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={video_end:"",preSurvey:"",postSurvey:""},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){console.log("program-deatil-survey",e),this.setState({preSurvey:e.programDetail.preSurvey,postSurvey:e.programDetail.postSurvey}),e.end_video&&this.setState({video_end:e.end_video})}},{key:"onCloseModal",value:function(){}},{key:"openUrl",value:function(){this.props.modelClose(),this.state.video_end?window.open(this.state.postSurvey):window.open(this.state.preSurvey)}},{key:"render",value:function(){var e=this;Go.Cookies.get("condition").replace(/ /g,"-");return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog common_design modal-width--custom live-classes--popup w-100",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"font-book text-center white-txt col-md-12 p-0 font-24",id:"exampleModalLabel "},"Survey"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.props.modelClose()}},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},s.a.createElement("div",null,this.state.video_end?s.a.createElement("div",null,s.a.createElement("span",{className:"font-qregular  text-center w-100 float-left m-b-50"},"Congratulations on completing your program! We know it's not an easy task and we think you're phenomenal for sticking with it. To reflect on how far you've come please complete this survey. Thank you!")):s.a.createElement("div",null,s.a.createElement("span",{className:"font-qregular  text-center w-100 float-left m-b-50"},"Welcome to Beam Programs! We hope to support you to move more, build confidence and feel good doing it! To help you see how far you've come by the end of the program we'd like you to record where you're starting from - Thank you for taking this short survey!")),s.a.createElement("div",{className:"buttons-read w-100 float-left text-center col-lg-12 col-xs-12 col-md-12"},s.a.createElement("a",{className:"btn btn-beam-blue font-14 col-xs-8 col-lg-6 col-md-6",onClick:function(){return e.openUrl()}},"Start Survey"),s.a.createElement("div",{class:"text-center form-group m-t-8 m-b-20"},s.a.createElement("span",{class:"col-md-12 p-0 text-underline pointer font-16 font-qregular black-txt",onClick:function(){return e.props.modelClose()}},s.a.createElement("u",null,"Skip")))))))))}}]),a}(s.a.Component),Oi=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData,end_video:e.workout.end_video}}),{})(Si),Li=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e))._handleContextMenu=function(e){e.preventDefault()},o.startVideoAction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o.props.startVideo({workoutId:o.props.workoutId,roomId:e,programId:o.props.programId}).then((function(e){if(e){console.log("program-details",e),localStorage.setItem("scheduleRoomId",0),o.setState({play_loader:!1,current_attendee:e.attendee?e.attendee:{}});var a=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();if(console.log("tagCondition",a),a.includes("research"))a.includes("create")&&"Exercise"==_o.returnTagName("videoType","Exercise",o.props.workout_detail_data.workout.WorkoutTags?o.props.workout_detail_data.workout.WorkoutTags:[])?(console.log("research-periyaif"),o.props.isOpenSafetyModel(!0),o.setState({isCreateCSafety:!0})):o.checkPollToShow(a);else{t&&t.id&&(console.log("userProgramData.id",t),o.props.closeWithProgram(t)),console.log("this.props.program_detail",o.props.program_detail);var s=Eo.a.sortBy(o.props.program_detail.ProgramWorkouts,(function(e){return e.workoutNum}));console.log("this.props.programWorkoutsRecent",s),o.props.program_detail&&o.props.program_detail.preSurvey&&o.props.programId&&s[0].workoutId==o.props.workoutId?o.props.isOpenProgramSurveyModel(!0):P.includes(a)||_o.returnUserTags("safetyInfoConfirmed",a,o.props.logged_userData.Tags?o.props.logged_userData.Tags:[]).toLowerCase()==a.toLowerCase()||"Exercise"!=_o.returnTagName("videoType","Exercise",o.props.workout_detail_data.workout.WorkoutTags?o.props.workout_detail_data.workout.WorkoutTags:[])&&"Live Class Recording"!=_o.returnTagName("videoType","Live Class Recording",o.props.workout_detail_data.workout.WorkoutTags?o.props.workout_detail_data.workout.WorkoutTags:[])?"Education"==_o.returnTagName("videoType","Education",o.props.workout_detail_data.workout.WorkoutTags?o.props.workout_detail_data.workout.WorkoutTags:[])?(console.log("Elsif-1"),o.beforeReview()):(console.log("Els"),o.props.isOpenBeforeModel(!0)):(console.log("periyaif"),o.props.isOpenSafetyModel(!0))}}}),(function(e){o.props.isOpenBeforeModel(!1),o.setState({play_loader:!1,current_attendee:{}}),at.b.error(e)}))},o.closeProgramSurveyModel=function(){if(o.props.isOpenProgramSurveyModel(!1),o.props.end_video)"Education"==_o.returnTagName("videoType","Education",o.props.workout_detail_data.workout.WorkoutTags?o.props.workout_detail_data.workout.WorkoutTags:[])?(o.props.isOpenAfterModel(o.state.show_after_review),o.setState({stepVideo:4})):(o.props.isOpenAfterModel(o.state.show_after_review),o.setState({stepVideo:0}));else{var e=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();P.includes(e)||_o.returnUserTags("safetyInfoConfirmed",e,o.props.logged_userData.Tags?o.props.logged_userData.Tags:[]).toLowerCase()==e.toLowerCase()||"Exercise"!=_o.returnTagName("videoType","Exercise",o.props.workout_detail_data.workout.WorkoutTags?o.props.workout_detail_data.workout.WorkoutTags:[])&&"Live Class Recording"!=_o.returnTagName("videoType","Live Class Recording",o.props.workout_detail_data.workout.WorkoutTags?o.props.workout_detail_data.workout.WorkoutTags:[])?"Education"==_o.returnTagName("videoType","Education",o.props.workout_detail_data.workout.WorkoutTags?o.props.workout_detail_data.workout.WorkoutTags:[])?(console.log("Elsif-1"),o.beforeReview()):(console.log("Els"),o.props.isOpenBeforeModel(!0)):(console.log("periyaif"),o.props.isOpenSafetyModel(!0))}},o.clearPlayOndemand=function(){console.log("this.props.openSurveyModel**",o.props.openSurveyModel),console.log("this.props.openAfterModel**",o.props.openAfterModel),console.log("this.props.openBeforeModel**",o.props.openBeforeModel),console.log("this.props.openPostPollModel**",o.props.openPostPollModel),console.log("this.props.openResearchModel**",o.props.openResearchModel),console.log("this.props.openSafetyModel**",o.props.openSafetyModel),console.log("this.props.openWarningModal**",o.props.openWarningModal),console.log("this.props.openConditionModalOpen**",o.props.openConditionModalOpen),o.props.openSurveyModel||o.props.openAfterModel||o.props.openBeforeModel||o.props.openPostPollModel||o.props.openResearchModel||o.props.openSafetyModel||o.props.openWarningModal&&o.props.openConditionModalOpen||o.props.isPlayOndemand(!1)},o.checkPollToShow=function(e){var t=o.state.ondemand_detail_data.workout.CommunityId?o.state.ondemand_detail_data.workout.Community:{};console.log("startvideo-community",t);var a=new Date;if(o.props.logged_userData.isStudyParticipant&&Q.includes(e)&&"Education"!=_o.returnTagName("videoType","Education",o.props.workout_detail_data.workout.WorkoutTags?o.props.workout_detail_data.workout.WorkoutTags:[]))if(t.endDate){var s=bo()(t.endDate).utc().format("YYYY-MM-DD");new Date(s).getTime()<a.getTime()?o.beforeReview():(console.log("preclasspoll-condiition"),o.props.isOpenResearchModel(!0))}else o.props.isOpenResearchModel(!0);else console.log("not-regain-condiition"),o.beforeReview()},o.state={Loading:!1,play_loader:!1,share_enable:!1,ondemand_detail_data:{},ondemand_paging:[],show_more_cnt:4,enable_video:!1,expanded:!1,currentVideoTime:0,current_attendee:{},openModel:!1,openAfterModel:!1,totalRating:0,reviewLimit:!0,all_tags:[],all_levels:[],stepVideo:0,openSafetyModel:!1,openSurveyModel:!1,openPostPollModel:!1,showReadMore:!1,condition:o.props.condition,health_conditionId:0,currentPlanId:0,planData:{},countryPlans:[],payment_data:{},isWarningModal:!1,programId:o.props.programid,isCreateCSafety:!1,getProgramDetail:[],joinedUserProgramId:0},o.props.history.listen((function(e,t){o.clearDatas()})),o.clearDatas=o.clearDatas.bind(Object(is.a)(o)),o.getOnDemandDetail=o.getOnDemandDetail.bind(Object(is.a)(o)),o.updateSchedule=o.updateSchedule.bind(Object(is.a)(o)),o.incrementShowmoreCnt=o.incrementShowmoreCnt.bind(Object(is.a)(o)),o.getMoreTextDiv=o.getMoreTextDiv.bind(Object(is.a)(o)),o.startVideo=o.startVideo.bind(Object(is.a)(o)),o.saveTimeSpent=o.saveTimeSpent.bind(Object(is.a)(o)),o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.closeResearchModel=o.closeResearchModel.bind(Object(is.a)(o)),o.beforeReview=o.beforeReview.bind(Object(is.a)(o)),o.closeVideoModel=o.closeVideoModel.bind(Object(is.a)(o)),o.closeAfterModel=o.closeAfterModel.bind(Object(is.a)(o)),o.goback=o.goback.bind(Object(is.a)(o)),o.closeSafetyModel=o.closeSafetyModel.bind(Object(is.a)(o)),o.safetyProcess=o.safetyProcess.bind(Object(is.a)(o)),o.closeResearchPostModel=o.closeResearchPostModel.bind(Object(is.a)(o)),o.authData=o.props.logged_userData||JSON.parse(localStorage.getItem("userDetails")),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("playOndemand",this.props);var t=this.props.logged_userData||JSON.parse(localStorage.getItem("userDetails"));window.scrollTo(0,0),this.props.condition.includes("-")&&this.setState({condition:this.props.condition.replace(/-/g," ")}),document.addEventListener("contextmenu",this._handleContextMenu),setTimeout((function(){document.getElementById("instructor_details")&&(document.getElementById("instructor_details").clientHeight>=180&&e.setState({showReadMore:!0}))}),4e3),this.enable_video=!1,t&&(this.props.registerFormvalues.userid=t.id,this.props.registerFormvalues.firstname=t.name,this.props.registerFormvalues.age=_o.calculateAge(bo()(t.dob).format("DD-MM-YYYY")),this.props.registerFormvalues.health_condition=t.UserConditions,this.props.registerFormvalues.country=t.country,this.props.registerFormvalues.region=t.region,this.props.registerformUpdate(this.props.registerFormvalues),this.props.getPlanByCountry(t.country).then((function(t){e.setState({countryPlans:t.plans,ondemand_detail_data:e.props.workout_detail_data}),e.props.openPlayOndemand&&e.hasMembership()})))}},{key:"componentDidUpdate",value:function(){this.authData=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData}},{key:"checkCronfun",value:function(){this.props.checkCron({roomId:39891}).then((function(e){}),(function(e){at.b.error(e)}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("contextmenu",this._handleContextMenu),this.setState({Loading:!1,share_enable:!1,ondemand_detail_data:{},ondemand_paging:[],show_more_cnt:4,enable_video:!1,current_attendee:{}})}},{key:"componentWillReceiveProps",value:function(e){console.log("playondemand-nextProps",e),this.setState({getProgramDetail:e.program_detail}),e.openPlayOndemand&&this.props.openPlayOndemand!=e.openPlayOndemand&&this.hasMembership()}},{key:"clearDatas",value:function(){window.scrollTo(0,0),this.setState({Loading:!1,share_enable:!1,ondemand_detail_data:{},ondemand_paging:[],show_more_cnt:4,enable_video:!1,expanded:!1,currentVideoTime:0,current_attendee:{}},(function(){}))}},{key:"getOnDemandDetail",value:function(){var e=this;this.setState({Loading:!0}),this.props.ondemandDetail(this.props.workoutId,this.props.condition).then((function(t){if(t){var a=e.calculateTotalRating(e.props.workout_detail_data.reviews);e.setState({Loading:!1,ondemand_detail_data:e.props.workout_detail_data,totalRating:a,all_tags:t.onDemandVideo.tags?t.onDemandVideo.tags:[],all_levels:t.onDemandVideo.levelTags?t.onDemandVideo.levelTags:[]}),e.incrementShowmoreCnt()}}),(function(t){e.setState({Loading:!1,ondemand_detail_data:e.props.workout_detail_data}),at.b.error(t)}))}},{key:"calculateTotalRating",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;if(e){for(var a=0;a<e.length;a++)e[a].avg_ratings&&e[a].avg_ratings>0&&(t+=parseInt(e[a].avg_ratings));t>0&&(t/=e.length)}return t}},{key:"startVideo",value:function(){var e=this;if(console.log("startVideo--",this.props.isStartProgram),!this.state.play_loader){var t=localStorage.getItem("scheduleRoomId");if(this.setState({play_loader:!0}),this.props.isEndVideo(!1),1==this.props.isStartProgram){var a={programId:this.props.programId};this.props.start_loader(),this.props.joinToProgram(a).then((function(a){e.setState({joinedUserProgramId:a.data.id}),e.props.stop_loader(),console.log("joinToProgram-response",a),a.status?e.startVideoAction(t,a.data):at.b.error(a.message)}),(function(e){at.b.error(e)}))}else this.startVideoAction(t)}}},{key:"safetyProcess",value:function(){this.props.isOpenProgramSurveyModel(!1),this.setState({isCreateCSafety:!1}),this.goback()}},{key:"closeSafetyModel",value:function(){this.props.isOpenSafetyModel(!1),this.setState({isCreateCSafety:!1});var e=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();e.includes("research")?this.checkPollToShow(e):"Education"==_o.returnTagName("videoType","Education",this.props.workout_detail_data.workout.WorkoutTags?this.props.workout_detail_data.workout.WorkoutTags:[])?this.beforeReview():this.props.isOpenBeforeModel(!0),this.clearPlayOndemand()}},{key:"closeModel",value:function(){console.log("closemodel"),this.props.isOpenBeforeModel(!1),this.props.isConditionModalOpen(!1),this.props.isWarningModal(!1),this.props.isPlayOndemand(!1),this.clearPlayOndemand()}},{key:"closeResearchModel",value:function(){this.props.isOpenResearchModel(!1),this.clearPlayOndemand()}},{key:"closeResearchPostModel",value:function(){this.props.isOpenPostPollModel(!1),this.clearPlayOndemand()}},{key:"closeVideoModel",value:function(e,t){console.log("closeVideoModel",t),this.saveTimeSpent(e,t),this.props.isEnableVideo(!1),this.props.isEndVideo(!1),this.clearPlayOndemand()}},{key:"closeAfterModel",value:function(){this.props.updateAfterModelState({step:1}),this.props.isOpenAfterModel(!1),this.clearPlayOndemand()}},{key:"beforeReview",value:function(){this.props.isOpenBeforeModel(!1),this.props.isEnableVideo(!0)}},{key:"saveTimeSpent",value:function(e,t){var a=this;if(this.setState({show_after_review:t}),this.state.current_attendee.RoomId){var o={roomId:this.state.current_attendee.RoomId,time:e};e&&e>0&&this.props.saveTimeSpent(o).then((function(e){if(_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase().includes("research"))if(console.log("Tag-Class",_o.returnTagName("videoType","Education",a.props.workout_detail_data.workout.WorkoutTags?a.props.workout_detail_data.workout.WorkoutTags:[])),a.props.logged_userData.isStudyParticipant&&"Education"!=_o.returnTagName("videoType","Education",a.props.workout_detail_data.workout.WorkoutTags?a.props.workout_detail_data.workout.WorkoutTags:[])){var o=a.state.ondemand_detail_data.workout.CommunityId?a.state.ondemand_detail_data.workout.Community:{};console.log("startvideo-community",o);var s=new Date;if(o&&o.endDate){var n=bo()(o.endDate).utc().format("YYYY-MM-DD");new Date(n).getTime()<s.getTime()?(a.props.isOpenAfterModel(!1),a.setState({stepVideo:0})):(console.log("preclasspoll-condiition"),console.log("openpost poll"),a.props.isOpenPostPollModel(!0))}else console.log("openpost poll"),a.props.isOpenPostPollModel(!0)}else a.props.isOpenAfterModel(!1),a.setState({stepVideo:0});else{var r=Eo.a.sortBy(a.props.program_detail.ProgramWorkouts,(function(e){return e.workoutNum}));console.log("this.props.programWorkoutsRecent",r),a.props.program_detail&&a.props.program_detail.preSurvey&&a.props.programId&&r[r.length-1].workoutId==a.props.workoutId&&t?(a.props.isEndVideo(!0),a.props.isOpenProgramSurveyModel(!0)):"Education"==_o.returnTagName("videoType","Education",a.props.workout_detail_data.workout.WorkoutTags?a.props.workout_detail_data.workout.WorkoutTags:[])?(a.props.isOpenAfterModel(t),a.setState({stepVideo:4})):(a.props.isOpenAfterModel(t),a.setState({stepVideo:0}))}}),(function(e){at.b.error(e)}))}}},{key:"hasMembership",value:function(){!!this.props.logged_userData.membershipData&&this.props.logged_userData.membershipData.hasmembership;if(this.props.is_auth){var e=_o.checkUserHasMembership(this.authData,this.props.condition);if(console.log("hasMembership-wo-detail",e),this.props.condition.toLowerCase().includes("research"))1!=e?(this.props.isConditionModalOpen(!1),this.props.isWarningModal(!0)):(this.startVideo(),this.props.isConditionModalOpen(!1),this.props.isWarningModal(!1));else{console.log("this.authData",this.authData);var t=this;console.log("all-props",this.props),console.log("healthcondition_list",this.props.healthcondition_list);var a=Eo.a.filter(this.props.healthcondition_list,(function(e){return e.tag===_o.replaceChar(t.props.condition,!0)})),o=_o.returnCurrentPlan(this.authData,this.props.condition);console.log("selectedHealth_condition",a);var s=a[0].id;if(this.props.registerFormvalues.health_condition=a,this.setState({hasMembership:e,health_conditionId:s,currentPlanId:o.length?o[0].id:0}),console.log("selectedHealth_condition-ondemand",this.props.workout_detail_data),this.props.workout_detail_data.workout.isFree)this.startVideo(),this.props.isConditionModalOpen(!1),this.props.isWarningModal(!1);else switch(e){case 0:this.props.setConditionIndex(0),this.props.registerformUpdate(this.props.registerFormvalues),this.props.isEnableVideo(!1),this.props.isWarningModal(!0);break;case 1:this.startVideo(),this.props.isConditionModalOpen(!1),this.props.isWarningModal(!1);break;case 2:this.props.setConditionIndex(0),this.props.registerformUpdate(this.props.registerFormvalues),this.props.isEnableVideo(!1),this.props.isWarningModal(!0)}}}else this.props.loginModelOpen(!0)}},{key:"updateSchedule",value:function(e){var t=this.state.ondemand_detail_data;t.scheduleData=e,this.setState({ondemand_detail_data:t})}},{key:"incrementShowmoreCnt",value:function(){if(this.state.ondemand_detail_data.likeMore&&this.state.ondemand_detail_data.likeMore.length>0){for(var e=this.state.ondemand_detail_data.likeMore,t=this.state.ondemand_paging,a=this.state.show_more_cnt-4;a<this.state.show_more_cnt&&a<this.state.ondemand_detail_data.likeMore.length;a++)t.push(e[a]);this.setState({show_more_cnt:this.state.show_more_cnt+4,ondemand_paging:t})}else this.setState({ondemand_paging:[]})}},{key:"goback",value:function(){var e=this.props.logged_userData||JSON.parse(localStorage.getItem("userDetails"));if(Object.keys(e).length){var t=e.Members.length?e.Members[0].Community.community_name:"";if(this.state.ondemand_detail_data.workout&&this.state.ondemand_detail_data.workout.CommunityId){var a={from:{pathname:"/group/ondemand/list/"+(t=this.state.ondemand_detail_data.workout.CommunityId?this.state.ondemand_detail_data.workout.Community.community_name:"")+"/"+this.props.condition}}.from;this.props.history.push(a)}else if(this.props.condition.toLowerCase().includes("research")&&t){var o={from:{pathname:"/group/ondemand/list/"+t+"/"+this.props.condition}}.from;this.props.history.push(o)}else if(this.props.condition.toLowerCase().includes("research")&&this.props.prevPath&&-1!=this.props.prevPath.indexOf("/group/ondemand/list/"))window.history.back();else{var s={from:{pathname:"/on-demand/"+this.props.condition}}.from;this.props.history.push(s)}}else if(this.state.ondemand_detail_data.workout&&this.state.ondemand_detail_data.workout.CommunityId){var n={from:{pathname:"/group/ondemand/list/"+(t=this.state.ondemand_detail_data.workout.CommunityId?this.state.ondemand_detail_data.workout.Community.community_name:"")+"/"+this.props.condition}}.from;this.props.history.push(n)}else{var r={from:{pathname:"/on-demand/"+this.props.condition}}.from;this.props.history.push(r)}}},{key:"getMoreTextDiv",value:function(e){this.setState({expanded:e})}},{key:"videoSection",value:function(e,t){var a=this,o=this.state.ondemand_detail_data?this.state.ondemand_detail_data:{},n=Object.keys(o).length>0&&o.constructor===Object?o.workout:{};return"desktop"==t?s.a.createElement("div",{className:e},n.id&&s.a.createElement(hn,{src:x+n.id+"-img.png",className:"img-fluid img-responsive",width:"100%",thumb:D+"ondemand-placeholder.png"}),!n.id&&s.a.createElement("img",{src:D+"no-image.png",className:"img-fluid img-responsive",width:"100%"}),!this.state.play_loader&&this.state.ondemand_detail_data.isExist&&s.a.createElement("img",{onClick:function(){return a.hasMembership()},className:"img-fluid play-img pointer",src:D+"b-play-btn.png",alt:"play"}),!this.state.ondemand_detail_data.isExist&&n.id&&s.a.createElement("div",{className:"img-fluid play-img white-txt font-bold font-30 available-soon"},"Available soon...")):s.a.createElement("div",{className:e},n.id&&s.a.createElement(hn,{src:x+n.id+"-img.png",thumb:D+"ondemand-placeholder.png",className:" img-responsive",width:"100%",height:"200px"}),!n.id&&s.a.createElement("img",{src:D+"no-image.png",className:" img-responsive",width:"100%",height:"200px"}),!this.state.play_loader&&this.state.ondemand_detail_data.isExist&&s.a.createElement("img",{onClick:function(){return a.hasMembership()},className:"img-fluid play-img pointer",src:D+"b-play-btn.png",alt:"play"}),!this.state.ondemand_detail_data.isExist&&n.id&&s.a.createElement("div",{className:"img-fluid play-img white-txt font-bold font-16 available-soon w-100"},"Available soon..."))}},{key:"render",value:function(){var e=this.state.ondemand_detail_data?this.state.ondemand_detail_data:{},t=Object.keys(e).length>0&&e.constructor===Object?e.workout:{};window.location.href,t.title,!(!this.state.ondemand_detail_data||!this.state.ondemand_detail_data.isSaved)&&this.state.ondemand_detail_data.isSaved,t.Instructor&&(t.Instructor.User.name,t.Instructor.User.lastName),t.id;return console.log("this.props.workout_detail_data",this.props.workout_detail_data),s.a.createElement(s.a.Fragment,null,s.a.createElement(Ur,{openModel:this.props.openAfterModel,closeModel:this.closeAfterModel,workoutId:this.props.workoutId,workoutTitle:this.props.ondemand_detail_data,current_attendee:this.state.current_attendee,stepVideo:this.state.stepVideo}),!0===this.props.enable_video&&s.a.createElement(Vr,{enable_video:this.props.enable_video,closeVideoModel:this.closeVideoModel,ondemandData:this.props.ondemand_detail_data,current_attendee:this.state.current_attendee}),s.a.createElement(Tr,{is_model_open:this.props.openBeforeModel,closeModel:this.closeModel,beforeReview:this.beforeReview,workoutId:this.props.workoutId,workoutTitle:this.props.ondemand_detail_data,current_attendee:this.state.current_attendee}),s.a.createElement(bi,{is_model_open:this.props.openPostPollModel,closeResearchPostModel:this.closeResearchPostModel,classType:"On-demand",beforeReview:this.beforeReview,workoutId:this.props.workoutId,current_attendee:this.state.current_attendee,condition:this.props.condition,history:this.props.history}),s.a.createElement(hi,{is_model_open:this.props.openResearchModel,closeResearchModel:this.closeResearchModel,classType:"On-demand",beforeReview:this.beforeReview,workoutId:this.props.workoutId,current_attendee:this.state.current_attendee}),s.a.createElement(di,{is_model_open:this.props.openSafetyModel,modelClose:this.closeSafetyModel,safetyProcess:this.safetyProcess,type:this.state.isCreateCSafety?"createc":"core"}),s.a.createElement(Oi,{is_model_open:this.props.openSurveyModel,modelClose:this.closeProgramSurveyModel,programDetail:this.state.getProgramDetail}),this.props.condition&&s.a.createElement(xi,{isConditionModalOpen:this.props.openConditionModalOpen,conditionName:this.props.condition,isWarningModal:this.props.openWarningModal,closeModel:this.closeModel,hasMembership:this.state.hasMembership,health_conditionId:this.state.health_conditionId,afterUpgrade:this.startVideo}))}}]),a}(s.a.Component),Di={ondemandDetail:$t,scheduleModelOpen:ia,hasMembership:ea,loginModelOpen:pt,startVideo:ta,saveTimeSpent:oa,updateAfterModelState:ca,setGoback:ma,checkCron:aa,registerformUpdate:Ot,updateMyConditions:oo,setConditionIndex:Bt,updateUserdataRedex:Ba,changePlan:so,getPlanByCountry:Gt,isOpenAfterModel:va,isEnableVideo:Ea,isEndVideo:function(e){return console.log("flag",e),function(t,a){t({type:"set_end_video",payload:e})}},isOpenBeforeModel:ya,isOpenPostPollModel:_a,isOpenResearchModel:ka,isOpenSafetyModel:Na,isOpenProgramSurveyModel:wa,isWarningModal:Ca,isConditionModalOpen:xa,isPlayOndemand:Sa,joinToProgram:uo,start_loader:ht,stop_loader:gt},Mi=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,workout_detail_data:e.workout.workout_detail_data,logged_userData:e.header.logged_userData,scheduleRoomId:e.workout.scheduleRoomId,prevPath:e.workout.prevPath,healthcondition_list:e.register.healthcondition_list,registerFormvalues:e.register.registerFormValues,openAfterModel:e.workout.openAfterModel,enable_video:e.workout.enable_video,openBeforeModel:e.workout.openBeforeModel,openPostPollModel:e.workout.openPostPollModel,openResearchModel:e.workout.openResearchModel,openSafetyModel:e.workout.openSafetyModel,openSurveyModel:e.workout.openSurveyModel,openWarningModal:e.workout.openWarningModal,openConditionModalOpen:e.workout.openConditionModalOpen,openPlayOndemand:e.workout.openPlayOndemand,program_detail:e.programme.program_detail,end_video:e.workout.end_video}}),Di)(Li),Ii=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e))._handleContextMenu=function(e){e.preventDefault()},o.getLikeMore=function(){o.setState({Loading:!0}),o.props.likeMoreOndemand(o.props.match.params.id,o.props.match.params.condition).then((function(e){if(e){var t=o.calculateTotalRating(o.props.workout_detail_data.reviews);o.setState({Loading:!1,ondemand_detail_data:o.props.workout_detail_data,totalRating:t,all_tags:e.onDemandVideo.tags?e.onDemandVideo.tags:[],all_levels:e.onDemandVideo.levelTags?e.onDemandVideo.levelTags:[],ondemand_paging:o.props.workout_detail_data.likeMore})}}),(function(e){o.setState({Loading:!1,ondemand_detail_data:o.props.workout_detail_data}),at.b.error(e)}))},o.playOndemand=function(){o.props.isPlayOndemand(!0)},o.checkPollToShow=function(e){var t=o.state.ondemand_detail_data.workout.CommunityId?o.state.ondemand_detail_data.workout.Community:{};console.log("startvideo-community",t);var a=new Date;if(o.props.logged_userData.isStudyParticipant&&Q.includes(e)&&"Education"!=_o.returnTagName("videoType","Education",o.props.workout_detail_data.workout.WorkoutTags?o.props.workout_detail_data.workout.WorkoutTags:[]))if(t.endDate){var s=bo()(t.endDate).utc().format("YYYY-MM-DD");new Date(s).getTime()<a.getTime()?o.beforeReview():(console.log("preclasspoll-condiition"),o.props.isOpenResearchModel(!0))}else o.props.isOpenResearchModel(!0);else console.log("not-regain-condiition"),o.beforeReview()},o.state={Loading:!1,play_loader:!1,share_enable:!1,ondemand_detail_data:{},ondemand_paging:[],show_more_cnt:4,enable_video:!1,expanded:!1,currentVideoTime:0,current_attendee:{},openModel:!1,openAfterModel:!1,totalRating:0,reviewLimit:!0,all_tags:[],all_levels:[],stepVideo:0,openSafetyModel:!1,openPostPollModel:!1,showReadMore:!1,condition:o.props.match.params.condition,health_conditionId:0,currentPlanId:0,planData:{},countryPlans:[],payment_data:{},isWarningModal:!1,programId:o.props.match.params.programid,isCreateCSafety:!1},o.props.history.listen((function(e,t){o.clearDatas()})),o.clearDatas=o.clearDatas.bind(Object(is.a)(o)),o.getOnDemandDetail=o.getOnDemandDetail.bind(Object(is.a)(o)),o.updateSchedule=o.updateSchedule.bind(Object(is.a)(o)),o.incrementShowmoreCnt=o.incrementShowmoreCnt.bind(Object(is.a)(o)),o.getMoreTextDiv=o.getMoreTextDiv.bind(Object(is.a)(o)),o.startVideo=o.startVideo.bind(Object(is.a)(o)),o.saveTimeSpent=o.saveTimeSpent.bind(Object(is.a)(o)),o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.closeResearchModel=o.closeResearchModel.bind(Object(is.a)(o)),o.beforeReview=o.beforeReview.bind(Object(is.a)(o)),o.closeVideoModel=o.closeVideoModel.bind(Object(is.a)(o)),o.closeAfterModel=o.closeAfterModel.bind(Object(is.a)(o)),o.goback=o.goback.bind(Object(is.a)(o)),o.closeSafetyModel=o.closeSafetyModel.bind(Object(is.a)(o)),o.safetyProcess=o.safetyProcess.bind(Object(is.a)(o)),o.closeResearchPostModel=o.closeResearchPostModel.bind(Object(is.a)(o)),o.authData=o.props.logged_userData||JSON.parse(localStorage.getItem("userDetails")),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.logged_userData||JSON.parse(localStorage.getItem("userDetails"));window.scrollTo(0,0),this.state.condition.includes("-")&&this.setState({condition:_o.replaceChar(this.state.condition,!0)}),document.addEventListener("contextmenu",this._handleContextMenu),setTimeout((function(){document.getElementById("instructor_details")&&(document.getElementById("instructor_details").clientHeight>=180&&e.setState({showReadMore:!0}))}),4e3),this.enable_video=!1,this.getOnDemandDetail(),this.getLikeMore(),t&&(this.props.registerFormvalues.userid=t.id,this.props.registerFormvalues.firstname=t.name,this.props.registerFormvalues.age=_o.calculateAge(bo()(t.dob).format("DD-MM-YYYY")),this.props.registerFormvalues.health_condition=t.UserConditions,this.props.registerFormvalues.country=t.country,this.props.registerFormvalues.region=t.region,this.props.registerformUpdate(this.props.registerFormvalues),this.props.getPlanByCountry(t.country).then((function(t){e.setState({countryPlans:t.plans})})))}},{key:"componentDidUpdate",value:function(){this.authData=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData}},{key:"checkCronfun",value:function(){this.props.checkCron({roomId:39891}).then((function(e){}),(function(e){at.b.error(e)}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("contextmenu",this._handleContextMenu),this.setState({Loading:!1,share_enable:!1,ondemand_detail_data:{},ondemand_paging:[],show_more_cnt:4,enable_video:!1,current_attendee:{}})}},{key:"clearDatas",value:function(){window.scrollTo(0,0),this.setState({Loading:!1,share_enable:!1,ondemand_detail_data:{},ondemand_paging:[],show_more_cnt:4,enable_video:!1,expanded:!1,currentVideoTime:0,current_attendee:{}},(function(){this.getOnDemandDetail(),this.getLikeMore()}))}},{key:"getOnDemandDetail",value:function(){var e=this;this.setState({Loading:!0}),this.props.ondemandDetail(this.props.match.params.id,this.props.match.params.condition).then((function(t){if(t){var a=e.calculateTotalRating(e.props.workout_detail_data.reviews);e.setState({Loading:!1,ondemand_detail_data:e.props.workout_detail_data,totalRating:a,all_tags:t.onDemandVideo.tags?t.onDemandVideo.tags:[],all_levels:t.onDemandVideo.levelTags?t.onDemandVideo.levelTags:[]})}}),(function(t){e.setState({Loading:!1,ondemand_detail_data:e.props.workout_detail_data}),at.b.error(t)}))}},{key:"calculateTotalRating",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;if(e){for(var a=0;a<e.length;a++)e[a].avg_ratings&&e[a].avg_ratings>0&&(t+=parseInt(e[a].avg_ratings));t>0&&(t/=e.length)}return t}},{key:"startVideo",value:function(){var e=this;if(!this.state.play_loader){var t=localStorage.getItem("scheduleRoomId");this.setState({play_loader:!0}),this.props.startVideo({workoutId:this.props.match.params.id,roomId:t,programId:this.state.programId}).then((function(t){if(t){localStorage.setItem("scheduleRoomId",0),e.setState({play_loader:!1,current_attendee:t.attendee?t.attendee:{}});var a=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();console.log("tagCondition",a),a.includes("research")?a.includes("create")&&"Exercise"==_o.returnTagName("videoType","Exercise",e.props.workout_detail_data.workout.WorkoutTags?e.props.workout_detail_data.workout.WorkoutTags:[])?(console.log("research-periyaif"),e.props.isOpenSafetyModel(!0),e.setState({isCreateCSafety:!0})):e.checkPollToShow(a):P.includes(a)||_o.returnUserTags("safetyInfoConfirmed",a,e.props.logged_userData.Tags?e.props.logged_userData.Tags:[]).toLowerCase()==a.toLowerCase()||"Exercise"!=_o.returnTagName("videoType","Exercise",e.props.workout_detail_data.workout.WorkoutTags?e.props.workout_detail_data.workout.WorkoutTags:[])&&"Live Class Recording"!=_o.returnTagName("videoType","Live Class Recording",e.props.workout_detail_data.workout.WorkoutTags?e.props.workout_detail_data.workout.WorkoutTags:[])?"Education"==_o.returnTagName("videoType","Education",e.props.workout_detail_data.workout.WorkoutTags?e.props.workout_detail_data.workout.WorkoutTags:[])?(console.log("Elsif-1"),e.beforeReview()):(console.log("Els"),e.props.isOpenBeforeModel(!0)):(console.log("periyaif"),e.props.isOpenSafetyModel(!0))}}),(function(t){e.props.isOpenBeforeModel(!1),e.setState({play_loader:!1,current_attendee:{}}),at.b.error(t)}))}}},{key:"safetyProcess",value:function(){this.setState({openSafetyModel:!1,isCreateCSafety:!1}),this.goback()}},{key:"closeSafetyModel",value:function(){this.setState({openSafetyModel:!1,isCreateCSafety:!1});var e=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();e.includes("research")?this.checkPollToShow(e):"Education"==_o.returnTagName("videoType","Education",this.props.workout_detail_data.workout.WorkoutTags?this.props.workout_detail_data.workout.WorkoutTags:[])?this.beforeReview():this.setState({openModel:!0})}},{key:"closeModel",value:function(){console.log("closemodel"),this.setState({openModel:!1,isConditionModalOpen:!1,isWarningModal:!1,isUpgradeModalOpen:!1})}},{key:"closeResearchModel",value:function(){this.setState({openResearchModel:!1})}},{key:"closeResearchPostModel",value:function(){this.setState({openPostPollModel:!1})}},{key:"closeVideoModel",value:function(e,t){this.saveTimeSpent(e,t),this.setState({enable_video:!1})}},{key:"closeAfterModel",value:function(){this.props.updateAfterModelState({step:1}),this.setState({openAfterModel:!1})}},{key:"beforeReview",value:function(){this.props.isOpenBeforeModel(!1),this.props.isEnableVideo(!0),console.log("vvbeforeReview")}},{key:"saveTimeSpent",value:function(e,t){var a=this;if(this.state.current_attendee.RoomId){var o={roomId:this.state.current_attendee.RoomId,time:e};e&&e>0&&this.props.saveTimeSpent(o).then((function(e){if(_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase().includes("research"))if(console.log("Tag-Class",_o.returnTagName("videoType","Education",a.props.workout_detail_data.workout.WorkoutTags?a.props.workout_detail_data.workout.WorkoutTags:[])),a.props.logged_userData.isStudyParticipant&&"Education"!=_o.returnTagName("videoType","Education",a.props.workout_detail_data.workout.WorkoutTags?a.props.workout_detail_data.workout.WorkoutTags:[])){var o=a.state.ondemand_detail_data.workout.CommunityId?a.state.ondemand_detail_data.workout.Community:{};console.log("startvideo-community",o);var s=new Date;if(o&&o.endDate){var n=bo()(o.endDate).utc().format("YYYY-MM-DD");new Date(n).getTime()<s.getTime()?a.setState({openAfterModel:!1,stepVideo:0}):(console.log("preclasspoll-condiition"),console.log("openpost poll"),a.setState({openPostPollModel:!0}))}else console.log("openpost poll"),a.setState({openPostPollModel:!0})}else a.setState({openAfterModel:!1,stepVideo:0});else"Education"==_o.returnTagName("videoType","Education",a.props.workout_detail_data.workout.WorkoutTags?a.props.workout_detail_data.workout.WorkoutTags:[])?a.setState({openAfterModel:t,stepVideo:4}):a.setState({openAfterModel:t,stepVideo:0})}),(function(e){at.b.error(e)}))}}},{key:"hasMembership",value:function(){!!this.props.logged_userData.membershipData&&this.props.logged_userData.membershipData.hasmembership;if(this.props.is_auth){var e=_o.checkUserHasMembership(this.authData,this.state.condition);if(console.log("hasMembership-wo-detail",e),this.props.match.params.condition.toLowerCase().includes("research"))1!=e?(this.props.isConditionModalOpen(!1),this.props.isWarningModal(!0)):(this.startVideo(),this.props.isConditionModalOpen(!1),this.props.isWarningModal(!1));else{console.log("this.authData",this.authData);var t=this;console.log("healthcondition_list",this.props.healthcondition_list);var a=Eo.a.filter(this.props.healthcondition_list,(function(e){return e.tag===_o.replaceChar(t.state.condition,!0)})),o=_o.returnCurrentPlan(this.authData,this.state.condition);console.log("selectedHealth_condition",a);var s=a[0].id;switch(this.props.registerFormvalues.health_condition=a,this.setState({hasMembership:e,health_conditionId:s,currentPlanId:o.length?o[0].id:0}),e){case 0:this.props.setConditionIndex(0),this.props.registerformUpdate(this.props.registerFormvalues),this.props.isEnableVideo(!1),this.props.isWarningModal(!0);break;case 1:this.startVideo(),this.props.isConditionModalOpen(!1),this.props.isWarningModal(!1);break;case 2:this.props.setConditionIndex(0),this.props.registerformUpdate(this.props.registerFormvalues),this.props.isEnableVideo(!1),this.props.isWarningModal(!0)}}}else this.props.loginModelOpen(!0)}},{key:"updateSchedule",value:function(e){var t=this.state.ondemand_detail_data;t.scheduleData=e,this.setState({ondemand_detail_data:t})}},{key:"incrementShowmoreCnt",value:function(){if(this.state.ondemand_detail_data.likeMore&&this.state.ondemand_detail_data.likeMore.length>0){for(var e=this.state.ondemand_detail_data.likeMore,t=this.state.ondemand_paging,a=this.state.show_more_cnt-4;a<this.state.show_more_cnt&&a<this.state.ondemand_detail_data.likeMore.length;a++)t.push(e[a]);this.setState({show_more_cnt:this.state.show_more_cnt+4,ondemand_paging:t})}else this.setState({ondemand_paging:[]})}},{key:"goback",value:function(){var e=this.props.logged_userData||JSON.parse(localStorage.getItem("userDetails"));if(Object.keys(e).length){var t=e.Members.length?e.Members[0].Community.community_name:"";if(this.state.ondemand_detail_data.workout&&this.state.ondemand_detail_data.workout.CommunityId){var a={from:{pathname:"/group/ondemand/list/"+(t=this.state.ondemand_detail_data.workout.CommunityId?this.state.ondemand_detail_data.workout.Community.community_name:"")+"/"+this.props.match.params.condition}}.from;this.props.history.push(a)}else if(this.props.match.params.condition.toLowerCase().includes("research")&&t){var o={from:{pathname:"/group/ondemand/list/"+t+"/"+this.props.match.params.condition}}.from;this.props.history.push(o)}else if(this.props.match.params.condition.toLowerCase().includes("research")&&this.props.prevPath&&-1!=this.props.prevPath.indexOf("/group/ondemand/list/"))window.history.back();else if(this.state.programId)window.history.back();else{var s={from:{pathname:"/on-demand/"+this.props.match.params.condition}}.from;this.props.history.push(s)}}else if(this.state.ondemand_detail_data.workout&&this.state.ondemand_detail_data.workout.CommunityId){var n={from:{pathname:"/group/ondemand/list/"+(t=this.state.ondemand_detail_data.workout.CommunityId?this.state.ondemand_detail_data.workout.Community.community_name:"")+"/"+this.props.match.params.condition}}.from;this.props.history.push(n)}else{var r={from:{pathname:"/on-demand/"+this.props.match.params.condition}}.from;this.props.history.push(r)}}},{key:"getMoreTextDiv",value:function(e){this.setState({expanded:e})}},{key:"videoSection",value:function(e,t){var a=this,o=this.state.ondemand_detail_data?this.state.ondemand_detail_data:{},n=Object.keys(o).length>0&&o.constructor===Object?o.workout:{};return"desktop"==t?s.a.createElement("div",{className:e},n.id&&s.a.createElement(hn,{src:x+n.id+"-img.png",className:"img-fluid img-responsive",width:"100%",thumb:D+"ondemand-placeholder.png"}),!n.id&&s.a.createElement("img",{src:D+"no-image.png",className:"img-fluid img-responsive",width:"100%"}),!this.state.play_loader&&this.state.ondemand_detail_data.isExist&&s.a.createElement("img",{onClick:function(){return a.playOndemand()},className:"img-fluid play-img pointer",src:D+"b-play-btn.png",alt:"play"}),!this.state.ondemand_detail_data.isExist&&n.id&&s.a.createElement("div",{className:"img-fluid play-img white-txt font-bold font-30 available-soon"},"Available soon...")):s.a.createElement("div",{className:e},n.id&&s.a.createElement(hn,{src:x+n.id+"-img.png",thumb:D+"ondemand-placeholder.png",className:" img-responsive",width:"100%",height:"200px"}),!n.id&&s.a.createElement("img",{src:D+"no-image.png",className:" img-responsive",width:"100%",height:"200px"}),!this.state.play_loader&&this.state.ondemand_detail_data.isExist&&s.a.createElement("img",{onClick:function(){return a.playOndemand()},className:"img-fluid play-img pointer",src:D+"b-play-btn.png",alt:"play"}),!this.state.ondemand_detail_data.isExist&&n.id&&s.a.createElement("div",{className:"img-fluid play-img white-txt font-bold font-16 available-soon w-100"},"Available soon..."))}},{key:"render",value:function(){var e=this,t=this.state.ondemand_detail_data?this.state.ondemand_detail_data:{},a={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},o=Object.keys(t).length>0&&t.constructor===Object?t.workout:{},n=window.location.href,r=o.title,i=(!(!this.state.ondemand_detail_data||!this.state.ondemand_detail_data.isSaved)&&this.state.ondemand_detail_data.isSaved,o.Instructor?o.Instructor.User.name+" "+o.Instructor.User.lastName:""),l=x+o.id+"-img.png";return console.log("this.props.match.params.condition",this.props.match.params.condition),s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"demand-page m-t-100"},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,r||""," - on-demand class",ye),s.a.createElement("meta",{property:"og:title",content:r||" - on-demand class"+ye}),s.a.createElement("meta",{property:"og:description",content:o.description}),s.a.createElement("meta",{property:"og:image",content:l}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:r+" by "+i})),s.a.createElement("div",{className:"demand-section-mobile"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"demand-title"},s.a.createElement("div",{className:"row"},s.a.createElement("a",{href:"javascript:void(0)",onClick:(this.props.setGoback(!0),this.goback),className:"font-15 font-book m-b-10 font-normal black-txt p-l-10 p-r-0"}," ",s.a.createElement("i",{className:"fa fa-chevron-left"}),s.a.createElement("span",{className:"font-21 black-txt font-medium capitalize_text p-l-5 col-11"},"back to on demand videos"))))),this.videoSection("row demand-img","mobile"),s.a.createElement("div",{className:"container-fluid video-detail-bg"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row p-10"},s.a.createElement("div",{className:"col-md-8 col-lg-8 col-sm-8 col-9 video-details-left pl-0 p-r-60"},s.a.createElement("div",{className:"w-100"},s.a.createElement("div",{className:"font-semibold font-15 black-txt"},"Duration: ",o.length," minutes"),s.a.createElement("div",{className:"font-semibold font-15 black-txt w-100"},s.a.createElement("div",null,"Discipline:",s.a.createElement("span",{className:"font-semibold font-15 black-txt m-l-5 capitalize_text"},_o.returnLabelData("discipline",o.WorkoutTags?o.WorkoutTags:[]))),this.state.ondemand_detail_data.reviews&&this.state.ondemand_detail_data.reviews.filter((function(e){return parseFloat(e.avg_ratings)>0})).length>0&&s.a.createElement("div",null,"Rating:",s.a.createElement("span",{className:"font-weight-bold m-l-5"},s.a.createElement(Qr.a,{rating:this.state.ondemand_detail_data.overAllAvg||0,starRatedColor:"#ffc107",starDimension:"0.875rem",starSpacing:"0rem",numberOfStars:5,name:"rating"}))),s.a.createElement("div",null,"Level:",s.a.createElement("span",{className:"font-semibold font-15 black-txt m-l-5 capitalize_text"},_o.returnLabelData("level",o.WorkoutTags?o.WorkoutTags:[])))))),s.a.createElement("div",{className:"col-md-4 col-lg-4 col-sm-4 col-3 pr-0 video-details-right"},s.a.createElement("div",{className:"bookmark-left m-l-20 float-right"},s.a.createElement("span",{className:"pointer",onClick:function(){return e.setState({share_enable:!e.state.share_enable})}},s.a.createElement("em",{className:"fa fa-share pointer"}),s.a.createElement("span",{className:"font-qmedium font-13 black-txt m-l-10"},"Share")),this.state.share_enable&&s.a.createElement("div",{className:"position-absolute zindex"},s.a.createElement("span",null,s.a.createElement(Zr.a,{url:n,subject:r,body:"body",className:"pointer"},s.a.createElement(Xr.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement($r.a,{url:n,quote:r,className:"pointer"},s.a.createElement(ei.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(ti.a,{url:n,title:r,separator:":: ",className:"pointer"},s.a.createElement(ai.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(oi.a,{url:n,title:r,className:"pointer"},s.a.createElement(si.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(ni.a,{url:n,windowWidth:750,windowHeight:600,className:"pointer"},s.a.createElement(ri.a,{size:32,round:!0}))))),s.a.createElement("div",{className:"bookmark-left m-l-20 float-right"},s.a.createElement(En,{pageName:"ondemand-detail",ondemand_data:this.state.ondemand_detail_data.workout,location:this.props.location,history:this.props.history})),s.a.createElement("div",{className:"bookmark-left m-l-20 float-right"},s.a.createElement(Kr,{page:"ondemand_detail",workoutData:this.state.ondemand_detail_data.workout})))))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"w-100 on-demand-filter-sm-value",id:"accordion"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-1"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{role:"button","data-toggle":"collapse",href:"#collapse-1","aria-expanded":"true","aria-controls":"collapse-1",className:"collapsed"},"Description",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-1",className:"collapse show","data-parent":"#accordion","aria-labelledby":"heading-1"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{id:"accordion-1"},s.a.createElement("div",{className:"w-100 m-t-20"},s.a.createElement("p",{className:"font-qregular font-14 black-txt m-0 instruct_details overflow-hidden text-left",dangerouslySetInnerHTML:{__html:o.description}})),_o.returnTagName("condition",k,o.WorkoutTags?o.WorkoutTags:[])&&_o.replaceChar(this.props.match.params.condition,!0)==k&&s.a.createElement("div",{className:"w-100 m-t-20 summary_div"},s.a.createElement("h3",{className:"heading_3 font-22 black-txt font-medium"},"Head's Up!"),s.a.createElement("p",{className:"font-qregular font-14 black-txt m-0 ",id:"instructor_details"},"We hope you enjoy this and all our sessions on Beam, but please remember that we are not able to offer you personalised exercise sessions programs and that participating in any live or on-demand Beam sessions is at your own risk. Changes to your airway clearance and exercise regime should be discussed with your clinical team.")),_o.returnTagName("condition",N,o.WorkoutTags?o.WorkoutTags:[])&&_o.replaceChar(this.props.match.params.condition,!0)==N&&s.a.createElement("div",{className:"w-100 m-t-20 summary_div"},s.a.createElement("h3",{className:"heading_3 font-22 black-txt font-medium"},"Head's Up!"),s.a.createElement("p",{className:"font-qregular font-14 black-txt m-0 ",id:"instructor_details"},"We hope you enjoy this and all our sessions on Beam, but please remember that we are not able to offer you personalised exercise programs and that participating in any live or on-demand Beam sessions is at your own risk. ")),!P.includes(_o.replaceChar(this.props.match.params.condition,!0).toLowerCase())&&!_o.replaceChar(this.props.match.params.condition,!0).toLowerCase().includes("research")&&s.a.createElement("div",{className:"w-100 m-t-20 summary_div"},s.a.createElement("p",{className:"font-qregular font-14 black-txt m-0",id:"instructor_details"},"Here is some ",s.a.createElement(Qo.b,{to:"/blogs/safety-info-"+this.props.match.params.condition.replace(/ /g,"-")},"important safety information")," to make sure you keep safe and feel your best before and after your class.")))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-7"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-7","aria-expanded":"false","aria-controls":"collapse-7"},"Instructor"," ",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-7",className:"collapse","data-parent":"#accordion","aria-labelledby":"heading-7"},s.a.createElement("div",{className:"w-100 m-t-15"},s.a.createElement("div",{className:"card border-0 flex-row flex-wrap"},s.a.createElement("div",{className:"card-header p-0 rounded-circle border-0"},s.a.createElement("img",{src:o.Instructor&&o.Instructor.img?S+o.Instructor.img:D+"no-image.png",alt:"NoImage",className:"img-fluid rounded-circle"})),s.a.createElement("div",{className:"card-block px-2"},o.Instructor&&o.Instructor.User&&o.Instructor.hasProfile&&!this.props.logged_userData.isStudyParticipant&&s.a.createElement("a",{href:"/instructor/"+o.InstructorId+"/"+this.props.match.params.condition},s.a.createElement("h4",{className:"card-title font-15 black-txt font-semibold m-t-10"},o.Instructor.User.name+" "+o.Instructor.User.lastName,o.Instructor.title&&" / "+o.Instructor.title)),o.Instructor&&o.Instructor.User&&(!o.Instructor.hasProfile||this.props.logged_userData.isStudyParticipant)&&s.a.createElement("h4",{className:"card-title font-15 black-txt font-semibold m-t-10"},o.Instructor.User.name+" "+o.Instructor.User.lastName,o.Instructor.title&&" / "+o.Instructor.title),o.Instructor&&o.Instructor.User&&o.Instructor.title&&s.a.createElement("p",{className:"font-qmedium silver-txt font-16 m-b-0"},o.Instructor.title),o.Instructor&&o.Instructor.hasProfile&&!this.props.logged_userData.isStudyParticipant&&s.a.createElement("div",{className:"card-text redtext text-underline"},s.a.createElement(Qo.b,{className:"orangefont font-14 font-book",to:"/instructor/"+o.InstructorId+"/"+this.props.match.params.condition},"More videos with this instructor"))))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-2"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-2","aria-expanded":"false","aria-controls":"collapse-2"},"Recommended equipment",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-2",className:"collapse","data-parent":"#accordion","aria-labelledby":"heading-2"},s.a.createElement("div",{className:"w-100 m-t-20"},s.a.createElement("p",{className:"font-qregular font-14 m-0"},_o.returnLabelData("equipment",o.WorkoutTags?o.WorkoutTags:[]))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-3"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-3","aria-expanded":"false","aria-controls":"collapse-3"},"Reviews",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-3",className:"collapse","data-parent":"#accordion","aria-labelledby":"heading-3"},s.a.createElement("div",{className:"demand-section--2"},s.a.createElement("div",{className:"card w-100"},s.a.createElement("h4",{className:" p-t-20 p-b-20 font-semibold font-24 text-center text-white bg-red"},"Most Recent Reviews"),this.state.ondemand_detail_data&&this.state.ondemand_detail_data.reviews&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12"},s.a.createElement("div",{className:"w-100 text-center m-t-30 m-b-30 rating-stars"},s.a.createElement("span",{className:"font-weight-bold"},s.a.createElement(Qr.a,{rating:this.state.ondemand_detail_data.overAllAvg||0,starRatedColor:"#ffc107",starDimension:"3rem",starSpacing:"0rem",numberOfStars:5,name:"rating"})),s.a.createElement("p",{className:"font-14 black-txt font-qregular m-t-5"},"Based on"," ",this.state.ondemand_detail_data.reviewCount," ","reviews")),this.state.ondemand_detail_data.reviews.filter((function(e){return parseFloat(e.avg_ratings)>0})).slice(0,this.state.reviewLimit?5:this.state.ondemand_detail_data.reviews.length).map((function(e,t){return s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("hr",null),s.a.createElement("div",{className:"w-100  card-body pl-0 pr-0 pt-0"},s.a.createElement("div",{className:"card border-0 flex-row flex-wrap"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0 border-0"},s.a.createElement(hn,{className:"demand-profimg img-fluid rounded-circle float-left",src:e.User.profilePic?O+e.User.profilePic:D+"no-profile-pic.png"}),s.a.createElement("div",{className:"card-text font-13 font-qregular black-txt float-left p-l-5 m-t-10"},_o.bindUsername(e.User))))),s.a.createElement("div",{className:"card-body pl-0 pt-0 pb-0"},s.a.createElement("span",{className:"font-weight-bold"},s.a.createElement(Qr.a,{rating:parseFloat(e.avg_ratings)?parseFloat(e.avg_ratings):0,starRatedColor:"#ffc107",starDimension:"0.9375rem",starSpacing:"0rem",numberOfStars:5,name:"rating"})),s.a.createElement("p",{className:"card-text font-14 black-txt font-qregular"},e.comments)))})),s.a.createElement("hr",null),s.a.createElement("div",{className:"w-100 text-center"},s.a.createElement("button",{onClick:function(){e.setState({reviewLimit:!e.state.reviewLimit})},className:"btn btn-orange m-t-20 m-b-30 font-medium font-14 pointer"},"Read ",this.state.reviewLimit?"more":"fewer"," ","reviews")))))))))),s.a.createElement("div",{className:"container offset-lg-2 col-lg-8 offset-md-3 col-md-6 col-xs-10 col-10 mx-auto "},s.a.createElement("div",{className:"demand-section-1 m-l-30 m-r-30"},s.a.createElement("div",{className:" demand-back video-detail-desktop"},s.a.createElement("a",{href:"javascript:void(0)",onClick:(this.props.setGoback(!0),this.goback),className:"font-15 font-book m-b-10 font-normal black-txt capitalize_text"}," ",s.a.createElement("i",{className:"fa fa-chevron-left"}),this.state.programId?"back to program":"back to on demand videos")),this.videoSection("row demand-img video-detail-desktop","desktop"),s.a.createElement("div",{className:"row m-t-20 video-detail-desktop"},s.a.createElement("div",{className:"col-md-8 col-lg-7 col-sm-8 col-9 video-details-left pl-0 p-r-60"},s.a.createElement("h3",{className:"font-21 black-txt font-medium capitalize_text "},t.title)),s.a.createElement("div",{className:"col-md-4 col-lg-5 col-sm-4 col-3 pr-0 video-details-right"},s.a.createElement("div",{className:"bookmark-left m-l-20 float-right"},s.a.createElement("span",{className:"pointer",onClick:function(){return e.setState({share_enable:!e.state.share_enable})}},s.a.createElement("em",{className:"fa fa-share pointer"}),s.a.createElement("span",{className:"font-qmedium font-13 black-txt m-l-10"},"Share")),this.state.share_enable&&s.a.createElement("div",{className:"position-absolute zindex"},s.a.createElement("span",null,s.a.createElement(Zr.a,{url:n,subject:r,body:"body",className:"pointer"},s.a.createElement(Xr.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement($r.a,{url:n,quote:r,className:"pointer"},s.a.createElement(ei.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(ti.a,{url:n,title:r,separator:":: ",className:"pointer"},s.a.createElement(ai.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(oi.a,{url:n,title:r,className:"pointer"},s.a.createElement(si.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(ni.a,{url:n,windowWidth:750,windowHeight:600,className:"pointer"},s.a.createElement(ri.a,{size:32,round:!0}))))),s.a.createElement("div",{className:"bookmark-left m-l-20 float-right"},s.a.createElement(En,{pageName:"ondemand-detail",ondemand_data:this.state.ondemand_detail_data.workout,location:this.props.location,history:this.props.history})),s.a.createElement("div",{className:"bookmark-left m-l-20 float-right"},s.a.createElement(Kr,{page:"ondemand_detail",workoutData:this.state.ondemand_detail_data.workout})))),s.a.createElement("div",{className:"row m-t-30 desktop-ondemand-view"},s.a.createElement("div",{className:"col-md-8 col-lg-8 col-sm-6 pl-0"},s.a.createElement("div",{className:"w-100"},s.a.createElement("div",{className:"font-semibold font-15 black-txt"},"Time: ",o.length," minutes"),s.a.createElement("div",{className:"font-semibold font-15 black-txt w-100"},s.a.createElement("div",null,"Discipline:",s.a.createElement("span",{className:"font-semibold font-15 black-txt m-l-5 capitalize_text"},_o.returnLabelData("discipline",o.WorkoutTags?o.WorkoutTags:[]))),this.state.ondemand_detail_data.reviews&&this.state.ondemand_detail_data.reviews.filter((function(e){return parseFloat(e.avg_ratings)>0})).length>0&&s.a.createElement("div",null,"Rating:",s.a.createElement("span",{className:"font-weight-bold m-l-5"},s.a.createElement(Qr.a,{rating:this.state.ondemand_detail_data.overAllAvg||0,starRatedColor:"#ffc107",starDimension:"0.9375rem",starSpacing:"0rem",numberOfStars:5,name:"rating"}))),s.a.createElement("div",null,"Level:",s.a.createElement("span",{className:"font-semibold font-15 black-txt m-l-5 capitalize_text"},_o.returnLabelData("level",o.WorkoutTags?o.WorkoutTags:[]))))),s.a.createElement("div",{className:"w-100 m-t-30 desktop-ondemand-view"},s.a.createElement("h3",{className:"heading_3 font-21 black-txt font-medium"},"Description"),s.a.createElement("div",{className:"w-100 m-t-20 summary_div"},s.a.createElement("p",{ref:function(t){return e.Wrapper=t},className:"font-qregular font-14 black-txt m-0 ".concat(this.state.expanded?"":"overflow-hidden instruct_details"),id:"instructor_details",dangerouslySetInnerHTML:{__html:o.description}}),s.a.createElement("div",{className:"w-100 m-b-30"},o.Instructor&&this.state.showReadMore&&s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.getMoreTextDiv(!e.state.expanded)},className:"redtext text-underline font-qregular font-14"},this.state.expanded?"Less":"Read More")))),_o.returnTagName("condition",k,o.WorkoutTags?o.WorkoutTags:[])&&_o.replaceChar(this.props.match.params.condition,!0)==k&&s.a.createElement("div",{className:"w-100 m-t-30 desktop-ondemand-view headsup-section"},s.a.createElement("h3",{className:"heading_3 font-21 black-txt font-medium"},"Head's Up!"),s.a.createElement("div",{className:"w-100 m-t-20 summary_div"},s.a.createElement("p",{className:"font-qregular font-14 black-txt m-0",id:"instructors_details"},"We hope you enjoy this and all our sessions on Beam, but please remember that we are not able to offer you personalised exercise sessions programs and that participating in any live or on-demand Beam sessions is at your own risk. Changes to your airway clearance and exercise regime should be discussed with your clinical team. "))),_o.returnTagName("condition",N,o.WorkoutTags?o.WorkoutTags:[])&&_o.replaceChar(this.props.match.params.condition,!0)==N&&s.a.createElement("div",{className:"w-100 m-t-30 desktop-ondemand-view headsup-section"},s.a.createElement("h3",{className:"heading_3 font-21 black-txt font-medium"},"Head's Up!"),s.a.createElement("div",{className:"w-100 m-t-20 summary_div"},s.a.createElement("p",{className:"font-qregular font-14 black-txt m-0",id:"instructors_details"},"We hope you enjoy this and all our sessions on Beam, but please remember that we are not able to offer you personalised exercise programs and that participating in any live or on-demand Beam sessions is at your own risk."))),!P.includes(_o.replaceChar(this.props.match.params.condition,!0).toLowerCase())&&!_o.replaceChar(this.props.match.params.condition,!0).toLowerCase().includes("research")&&s.a.createElement("div",{className:"w-100 m-t-30 desktop-ondemand-view"},s.a.createElement("div",{className:"w-100 m-t-20 summary_div"},s.a.createElement("p",{className:"font-qregular font-16 black-txt m-0",id:"instructor_details"},"Here is some ",s.a.createElement(Qo.b,{to:"/blogs/safety-info-"+this.props.match.params.condition.replace(/ /g,"-")},"important safety information")," to make sure you keep safe and feel your best before and after your class.")))),s.a.createElement("div",{className:"col-md-4 col-lg-4 col-sm-6 "},s.a.createElement("div",{className:"w-100 m-b-20"},s.a.createElement("h3",{className:"black-txt font-21 font-medium"},"Instructor"),s.a.createElement("div",{className:"w-100 m-t-15"},s.a.createElement("div",{className:"card border-0 flex-row flex-wrap"},s.a.createElement("div",{className:"card-header p-0 rounded-circle border-0"},s.a.createElement("img",{src:o.Instructor&&o.Instructor.img?S+o.Instructor.img:D+"no-image.png",alt:"NoImage",className:"img-fluid rounded-circle"})),s.a.createElement("div",{className:"card-block px-2"},o.Instructor&&o.Instructor.User&&(!o.Instructor.hasProfile||this.props.logged_userData.isStudyParticipant)&&s.a.createElement("p",{className:"font-semibold font-18 m-b-0"},o.Instructor.User.name+" "+o.Instructor.User.lastName),o.Instructor&&o.Instructor.User&&o.Instructor.hasProfile&&!this.props.logged_userData.isStudyParticipant&&s.a.createElement("a",{href:"/instructor/"+o.InstructorId+"/"+this.props.match.params.condition},s.a.createElement("p",{className:"font-semibold font-18 m-b-0"},o.Instructor.User.name+" "+o.Instructor.User.lastName)),o.Instructor&&o.Instructor.User&&o.Instructor.title&&s.a.createElement("p",{className:"font-qmedium silver-txt font-16 m-b-0"},o.Instructor.title),o.Instructor&&o.Instructor.hasProfile&&!this.props.logged_userData.isStudyParticipant&&s.a.createElement("div",{className:"card-text redtext text-underline"},s.a.createElement(Qo.b,{className:"orangefont font-14 font-book",to:"/instructor/"+o.InstructorId+"/"+this.props.match.params.condition},"More videos with this instructor")))))),s.a.createElement("div",{className:"w-100 p-t-35"},s.a.createElement("h3",{className:" black-txt font-21 font-medium"},"Recommended equipment"),s.a.createElement("div",{className:"w-100 m-t-20"},s.a.createElement("p",{className:"font-qregular font-14 m-0"},_o.returnLabelData("equipment",o.WorkoutTags?o.WorkoutTags:[])),"x"))))),!_o.replaceChar(this.props.match.params.condition,!0).toLowerCase().includes("research")&&s.a.createElement("div",{className:"demand-section--2 m-t-80 m-l-30 m-r-30 desktop-ondemand-view"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"card w-100"},s.a.createElement("h4",{className:"card-header p-t-20 p-b-20 font-semibold font-24 text-center text-white bg-red"},"Most Recent Reviews"),this.state.ondemand_detail_data&&this.state.ondemand_detail_data.reviews&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12"},s.a.createElement("div",{className:"w-100 text-center m-t-30 m-b-30 rating-stars"},s.a.createElement("span",{className:"font-weight-bold"},s.a.createElement(Qr.a,{rating:this.state.ondemand_detail_data.overAllAvg||0,starRatedColor:"#ffc107",starDimension:"3rem",starSpacing:"0rem",numberOfStars:5,name:"rating"})),s.a.createElement("p",{className:"font-14 black-txt font-qregular"},"Based on"," ",this.state.ondemand_detail_data.reviewCount," ","reviews")),this.state.ondemand_detail_data.reviews.filter((function(e){return parseFloat(e.avg_ratings)>0})).slice(0,this.state.reviewLimit?5:this.state.ondemand_detail_data.reviews.length).map((function(e,t){return s.a.createElement(s.a.Fragment,{key:t},s.a.createElement("hr",null),s.a.createElement("div",{className:"w-100  card-body pl-0 pr-0 pt-0"},s.a.createElement("div",{className:"card border-0 flex-row flex-wrap"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0 border-0"},s.a.createElement(hn,{className:"demand-profimg img-fluid rounded-circle float-left",src:e.User.profilePic?O+e.User.profilePic:D+"no-profile-pic.png"}),s.a.createElement("div",{className:"card-text font-13 font-qregular black-txt float-left p-l-5 m-t-10"},_o.bindUsername(e.User))))),s.a.createElement("div",{className:"card-body pl-0 pt-0 pb-15"},s.a.createElement("span",{className:"font-weight-bold"},s.a.createElement(Qr.a,{rating:parseFloat(e.avg_ratings)?parseFloat(e.avg_ratings):0,starRatedColor:"#ffc107",starDimension:"0.9375rem",starSpacing:"0rem",numberOfStars:5,name:"rating"})),s.a.createElement("p",{className:"card-text font-14 black-txt font-qregular"},e.comments)))})),this.state.ondemand_detail_data.reviews.filter((function(e){return parseFloat(e.avg_ratings)>0})).length>=5&&s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",null),s.a.createElement("div",{className:"w-100 text-center"},s.a.createElement("button",{onClick:function(){e.setState({reviewLimit:!e.state.reviewLimit})},className:"btn btn-orange m-t-20 m-b-30 font-medium font-14 pointer"},"Read ",this.state.reviewLimit?"more":"fewer"," ","reviews"))))))),!_o.replaceChar(this.props.match.params.condition,!0).toLowerCase().includes("research")&&s.a.createElement("div",{className:"demand-section--3 mobile-slider m-t-40 m-b-40 p-l-15 p-r-15"},s.a.createElement("div",{className:"row"},s.a.createElement("h3",{className:"clearfix float-left m-b-40 text-center font-semibold font-24 darkblue-text w-100"},"More like this"),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},s.a.createElement(li.a,a,this.state.ondemand_paging.map((function(t){return s.a.createElement("div",{key:t.id,className:"col-lg-4 col-md-4 col-sm-12 float-left p-b-30 p-0"},s.a.createElement("div",{className:"card h-100"},s.a.createElement(Qo.b,{to:"/detail/"+t.id+"/"+e.props.match.params.condition,className:"position-relative"},s.a.createElement(hn,{className:"card-img-top img-fluid",src:x+t.id+"-img.png",thumb:D+"ondemand-placeholder.png"}),s.a.createElement("span",{className:"position-absolute vid_time"},s.a.createElement("span",null,t.length," minutes"))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"w-100 float-left m-b-10"},s.a.createElement("div",{className:"col-10 col-md-10 col-lg-10 col-sm-10 float-left pl-0"},s.a.createElement("h3",{className:"black-txt font-12 font-semibold capitalize_text w-75 float-left"},t.title)),s.a.createElement("div",{className:"col-2 col-md-2 col-lg-2 col-sm-2 float-left pl-0 pr-0"},s.a.createElement("div",{className:"bookmark-left float-left"},s.a.createElement(En,{ondemand_data:t,location:e.props.location,history:e.props.history})),s.a.createElement("div",{className:"bookmark-left m-l-10 float-left"},s.a.createElement(Kr,{page:"ondemand_detail_sub",workoutData:t})))),s.a.createElement("div",{className:"w-100"},s.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12 float-left m-b-10 p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left"},s.a.createElement("img",{className:"demand-profimg img-fluid rounded-circle",src:t.Instructor&&t.Instructor.img?S+t.Instructor.img:D+"no-image.png",alt:""})),s.a.createElement("p",{className:"float-left m-t-5 font-10 black-txt font-qregular p-l-10"},t.Instructor&&t.Instructor.User?t.Instructor.User.name+" "+t.Instructor.User.lastName:"")),s.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12 float-left pr-0 pl-0"},s.a.createElement("div",{className:"font-medium w-100 font-light--weight"},s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"col-4 col-sm-4 float-left font-10 black-txt  font-qregular p-0"},"Discipline:"),s.a.createElement("span",{className:"redtext col-8 col-sm-8 p-0 float-left font-10  font-qregular capitalize_text"},_o.returnTag("discipline",e.state.all_tags,t.id))),s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"col-4 col-sm-4 p-0 float-left font-10 black-txt  font-qregular"},"Level:"),s.a.createElement("span",{className:"redtext col-8 col-sm-8 p-0 float-left font-10  font-qregular capitalize_text"},_o.returnTag("level",e.state.all_levels,t.id)))))))))})))))),!_o.replaceChar(this.props.match.params.condition,!0).toLowerCase().includes("research")&&s.a.createElement("div",{className:"demand-section--3 demand-section--desk m-t-80 m-l-30 m-r-30"},s.a.createElement("div",{className:"row"},s.a.createElement("h3",{className:"clearfix float-left m-b-40 text-center font-semibold font-24 darkblue-text w-100"},"More like this"),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},s.a.createElement("div",{className:"row"},this.state.ondemand_paging.map((function(t){return s.a.createElement("div",{key:t.id,className:"col-lg-4 col-md-4 col-sm-12 float-left p-b-30"},s.a.createElement("div",{className:"card h-100"},s.a.createElement(Qo.b,{to:"/detail/"+t.id+"/"+e.props.match.params.condition,className:"position-relative"},s.a.createElement(hn,{className:"card-img-top img-fluid",src:x+t.id+"-img.png",thumb:D+"ondemand-placeholder.png"}),s.a.createElement("span",{className:"position-absolute vid_time"},s.a.createElement("span",null,t.length," mins"))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"w-100 float-left m-b-10"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("h3",{className:"black-txt font-16 font-semibold capitalize_text float-left w-75"},t.title),s.a.createElement("div",{className:"bookmark-left float-right text-right w-25"},s.a.createElement(En,{from:"ondemand",ondemand_data:t,location:e.props.location,history:e.props.history}),s.a.createElement("b",{className:"m-l-10"},s.a.createElement(Kr,{className:"m-l-10",page:"ondemand_detail_sub",workoutData:t}))),s.a.createElement("div",{className:"bookmark-left m-l-10 float-left"}))),s.a.createElement("div",{className:"w-100"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left m-b-10 p-0"},s.a.createElement("div",{className:"left-image leftwidth-set p-0 border-0 float-left"},s.a.createElement("img",{className:"demand-profimg img-fluid rounded-circle",src:t.Instructor&&t.Instructor.img?S+t.Instructor.img:D+"no-image.png",alt:""})),s.a.createElement("p",{className:"float-left m-t-5 font-14 black-txt font-qregular p-l-10"},t.Instructor&&t.Instructor.User?t.Instructor.User.name+" "+t.Instructor.User.lastName:"")),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("div",{className:"font-medium w-100 font-light--weight"},s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"w-45 float-left font-14 black-txt font-qbold"},"Discipline:"),s.a.createElement("span",{className:"redtext w-50 float-left font-14 p-l-5 font-qregular capitalize_text"},_o.returnTag("discipline",e.state.all_tags,t.id))),s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"w-45 float-left font-14 black-txt font-qbold"},"Difficulty:"),s.a.createElement("span",{className:"redtext w-50 float-left font-14 p-l-5 font-qregular capitalize_text"},_o.returnTag("level",e.state.all_levels,t.id)))))))))}))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement(Qo.b,{onClick:function(){e.goback()},className:"btn btn-orange m-t-40 m-b-40 font-medium font-14"},"View all on demand session"))))))),this.props.match.params.condition&&s.a.createElement(xi,{isConditionModalOpen:this.state.isConditionModalOpen,conditionName:this.props.match.params.condition,isWarningModal:this.state.isWarningModal,closeModel:this.closeModel,hasMembership:this.state.hasMembership,health_conditionId:this.state.health_conditionId,afterUpgrade:this.startVideo}),s.a.createElement(Mi,{condition:this.props.match.params.condition,programId:this.state.programId,workoutId:this.props.match.params.id,history:this.props.history,ondemand_detail_data:this.state.ondemand_detail_data}))}}]),a}(s.a.Component),ji={ondemandDetail:$t,scheduleModelOpen:ia,hasMembership:ea,loginModelOpen:pt,startVideo:ta,saveTimeSpent:oa,updateAfterModelState:ca,setGoback:ma,checkCron:aa,registerformUpdate:Ot,updateMyConditions:oo,setConditionIndex:Bt,updateUserdataRedex:Ba,changePlan:so,getPlanByCountry:Gt,isOpenAfterModel:va,isEnableVideo:Ea,isOpenBeforeModel:ya,isOpenPostPollModel:_a,isOpenResearchModel:ka,isOpenSafetyModel:Na,isWarningModal:Ca,isConditionModalOpen:xa,isPlayOndemand:Sa,likeMoreOndemand:function(e,t){return t=t?_o.replaceChar(t,!0):t,function(a,o){var s=tt();return fetch(h+"/api/ondemand/likeMore/"+e+"/"+t,s).then((function(e){return go(e,a)})).then((function(e){return e&&a({type:"update_workout_detail",payload:e.onDemandVideo}),e}))}}},Ti=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,condition:e.auth.condition,workout_detail_data:e.workout.workout_detail_data,logged_userData:e.header.logged_userData,scheduleRoomId:e.workout.scheduleRoomId,prevPath:e.workout.prevPath,healthcondition_list:e.register.healthcondition_list,registerFormvalues:e.register.registerFormValues,openPlayOndemand:e.workout.openPlayOndemand}}),ji)(Ii),Fi=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={group:o.props.params.group,aboutGroup:{},groupLeader:{}},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.fetchAboutGroup(),console.log("this.prs.about",this.props)}},{key:"fetchAboutGroup",value:function(){var e=this;this.props.start_loader();var t={group:this.state.group};this.props.fetchAboutGroup(t).then((function(t){t&&e.setState({aboutGroup:t.groups,groupLeader:t.groups.User}),e.props.stop_loader()}),(function(t){e.setState({Loading:!1}),at.b.error(t)}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"card col-md-8 col-lg-8 col-sm-10 m-auto"},!this.props.params.condition.toLowerCase().includes("research")&&s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"m-b-20 font-medium font-24"}," About Us "),this.state.aboutGroup&&this.state.aboutGroup.long_desc?s.a.createElement(gn,{className:"font-qregular font-15",htmlData:this.state.aboutGroup.long_desc}):s.a.createElement("p",{className:"font-qregular font-15"})))}}]),a}(s.a.Component),Pi={fetchAboutGroup:$a,start_loader:ht,stop_loader:gt},Ui=Object(i.b)((function(e){return{}}),Pi)(Fi),Ri=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={emails:"",submitted:!1,loading:!1,isSuccessModel:!1,isValidEmail:!1},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.sendInvitation=o.sendInvitation.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.setState({emails:""})}},{key:"componentWillReceiveProps",value:function(){this.setState({emails:""})}},{key:"onCloseModal",value:function(){}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.state.workout;this.setState(Object(rs.a)({},a,o)),console.log("handleChange")}},{key:"sendInvitation",value:function(){var e=this;console.log("sendInvitation"),this.setState({submitted:!0});var t=this.state.emails;if(t){var a=!1;if(t=t.replace(/ /g,"").replace(/\r?\n|\r/g,"")){console.log("emails==>",t);var o=t.includes(",")?t.split(","):t;if(Array.isArray(o)?o.map((function(e,t){a=!_o.mailPatternCheck(e),console.log("Emailcheck--",a)})):(a=!_o.mailPatternCheck(t),console.log("elseEmailcheck--",a)),a)return void this.setState({isValidEmail:a})}this.setState({loading:!0});var s={emails:t,groupName:this.props.group,condition:_o.replaceChar(this.props.groupState.condition,!0)};this.props.sendGroupInvitation(s).then((function(t){e.setState({submitted:!1,loading:!1}),t.status?(e.setState({isSuccessModel:!0}),at.b.success(t.message)):at.b.error(t.message)}),(function(t){e.setState({submitted:!1,loading:!1})}))}}},{key:"renderSuccessModal",value:function(){var e=this;return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.state.isSuccessModel,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog common_design modal-width--custom plain-popup m-t-50",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.props.modelClose()}},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value"},s.a.createElement("div",null,s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("img",{src:"/images/signupimg1.png"})),s.a.createElement("div",{className:"col-md-6 align-self-center text-center"},s.a.createElement("p",{className:"font-20 twitter-color"},"Success!"),s.a.createElement("p",{className:"font-14 twitter-color"},"Your email has been sent.")))),s.a.createElement("div",{className:"buttons-read col-md-4 m-t-20 pointer pull-right"},s.a.createElement("a",{disabled:this.state.loading,className:"btn btn-blue-inverse font-14 read-later pointer w-100",onClick:function(){e.props.modelClose(),e.setState({isSuccessModel:!1})}},"Close")))))))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open&&!this.state.isSuccessModel,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog common_design modal-width--custom plain-popup m-t-50",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 black-txt col-md-12 p-0 font-book font-24",id:"exampleModalLabel "},"Send invite to participants"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.props.modelClose()}},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value"},s.a.createElement("div",null,s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("p",{className:"black-txt"},"Send to: ",s.a.createElement("span",{className:"gray-txt"},"(copy and paste email addresses -  separate using a comma ,)")),s.a.createElement("textarea",{className:"form-control",rows:"3",name:"emails",onChange:this.handleChange,value:this.state.emails}),this.state.submitted&&!this.state.emails&&s.a.createElement("div",{className:"text-danger"},"This is required."),this.state.submitted&&this.state.isValidEmail&&s.a.createElement("div",{className:"text-danger"},"Please check that only valid email addresses are provided, separated by a comma.")),s.a.createElement("div",{className:"buttons-read col-md-4 m-t-20 pointer pull-right"},s.a.createElement("button",{disabled:this.state.loading,className:"btn btn-login font-14 read-later pointer w-100",onClick:function(){e.sendInvitation()}},"SEND")))),s.a.createElement("div",{className:"text-center w-100"},this.state.loading&&s.a.createElement(qs,null))))),this.state.isSuccessModel&&this.renderSuccessModal())}}]),a}(s.a.Component),Wi={sendGroupInvitation:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/groups/sendInvitation",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}},Ai=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData,is_group_mode:e.header.is_group_mode}}),Wi)(Ri),Bi=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={membersList:[],memberDetails:{},group:o.props.params.group,modelState:!1},o.modelClose=o.modelClose.bind(Object(is.a)(o)),o.bindUsername=o.bindUsername.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;if(this.props.is_auth){if(this.props.history.location.pathname&&!this.props.groupState.isMember&&(!e||e&&!e.isCreator&&!e.isStudyLeader)&&!this.props.groupState.canEdit){var t={from:{pathname:"/group/about/"+this.props.groupState.group+"/"+this.props.groupState.condition}}.from;this.props.history.push(t)}}else{var a={pathname:"/home"};this.props.history.push(a)}}},{key:"componentDidMount",value:function(){this.fetchGroupMembers()}},{key:"fetchGroupMembers",value:function(){var e=this;this.props.start_loader();var t={group:this.state.group};this.props.fetchGroupMembers(t).then((function(t){if(t){var a=t.groups.Members;e.setState({membersList:a,memberDetails:t.groups})}e.props.stop_loader()}),(function(t){e.setState({Loading:!1}),at.b.error(t)}))}},{key:"modelClose",value:function(){this.setState({modelState:!1})}},{key:"bindUsername",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="",a=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;return e&&(a.isStudyLeader||this.props.groupState.canEdit?(t=e.name&&e.lastName?e.name+" "+e.lastName:"",e.nickname&&e.nickname.trim()&&"null"!==e.nickname.trim()&&(t=t+" ("+e.nickname+")")):t=e.nickname&&e.nickname.trim()&&"null"!==e.nickname.trim()?e.nickname:e.name&&e.lastName?e.name+" "+e.lastName:""),t}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-10 col-lg-8 col-sm-12 m-auto row"},(this.props.logged_userData.isStudyLeader||this.props.logged_userData.isGroupLeader)&&(this.props.is_group_mode||this.props.is_create_mode)&&s.a.createElement("div",{className:"col-md-4 text-right mb-2"},s.a.createElement("span",{onClick:function(){e.setState({modelState:!0})},className:"btn button-filter close-btn font-medium font-14 pointer w-100 btn-purple"}," Invite Members "))),s.a.createElement("div",{className:"col-md-10 col-lg-8 col-sm-12 m-auto row"},this.state.membersList.map((function(t,a){return s.a.createElement("div",{key:a,className:"col-md-6 col-lg-6 col-sm-12 "},s.a.createElement("div",{className:"card p-l-20 style-card  m-b-20"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("div",{className:"border-0 float-left"},s.a.createElement(hn,{className:"img-fluid rounded-circle",src:t.User&&t.User.profilePic?O+t.User.profilePic:D+"no-profile-pic.png",width:"50",height:"50"})),s.a.createElement("p",{className:"float-left m-t-5 font-14 font-qregular black-txt p-l-10"},e.bindUsername(t.User)))))}))),s.a.createElement(Ai,{is_model_open:this.state.modelState,modelClose:this.modelClose,group:this.state.group,groupState:this.props.groupState}))}}]),a}(s.a.Component),qi={fetchGroupMembers:function(e){return function(t,a){var o=tt(),s=h+"/api/groups/members/"+e.group;return fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},start_loader:ht,stop_loader:gt},Yi=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData,is_group_mode:e.header.is_group_mode,user_data:e.header.logged_userData,is_create_mode:e.header.is_create_mode}}),qi)(Bi),Gi=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={submitted:!1,loading:!1,scheduledFor:"",usernameError:"",authData:[],successFlag:!1,consent:"",username:"",note:""},o.submitSchedule=o.submitSchedule.bind(Object(is.a)(o)),o.submitJoin=o.submitJoin.bind(Object(is.a)(o)),o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.backToGroups=o.backToGroups.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.setState({successFlag:!1,submitted:!1});var e=JSON.parse(localStorage.getItem("userDetails"));e&&this.setState({username:e.nickname,authData:e})}},{key:"componentWillReceiveProps",value:function(){this.setState({successFlag:!1});var e=JSON.parse(localStorage.getItem("userDetails"));e&&this.setState({username:e.nickname})}},{key:"onCloseModal",value:function(){}},{key:"closeModel",value:function(){this.state.successFlag&&this.props.closeCallback(),this.setState({submitted:!1,loading:!1,scheduledFor:"",usernameError:"",authData:[],successFlag:!1,consent:"",username:"",note:""}),this.props.joinModelOpen(!1)}},{key:"backToGroups",value:function(){this.closeModel(),this.props.closeCallback()}},{key:"formatDate",value:function(e){var t=new Date(e),a=""+(t.getMonth()+1),o=""+t.getDate(),s=t.getFullYear();return a.length<2&&(a="0"+a),o.length<2&&(o="0"+o),[s,a,o].join("/")}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(rs.a)({usernameError:""},a,o))}},{key:"handleCheckboxChange",value:function(e){console.log("handleCheckboxChange");var t=this.state.consent;this.setState({consent:!t})}},{key:"submitJoin",value:function(e){var t=this;this.props.group_details;this.props.joinrequest(e,this.props.group_details.id).then((function(e){t.setState({submitted:!1,loading:!1,successFlag:!0})}),(function(e){t.setState({loading:!1,successFlag:!1})}))}},{key:"submitSchedule",value:function(){var e=this,t=this.state,a=t.note,o=t.consent,s=t.username,n=t.authData;this.setState({submitted:!0});var r={note:a,consent:o,username:s};if(a)if(s){var i={email:s,isEmail:0,id:n.id};console.log("dataObj",i),this.setState({loading:!0}),this.props.checkUserExist(i).then((function(t){console.log("response",t),e.submitJoin(r)}),(function(t){e.setState({usernameError:t}),e.setState({loading:!1}),console.log("response-error",t)}))}else this.submitJoin(r)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_join_modal,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog schedule_block common_design join_group modal-width--custom m-t-80",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title text-center col-md-12 p-0  font-book white-txt",id:"exampleModalLabel"},"Send a request to join ",this.props.group_details.community_name),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},!this.state.successFlag&&s.a.createElement("div",null,s.a.createElement("p",{class:"font-semibold mx-auto  font-15 text-center"},"The ",this.props.group_details.community_name," group is a closed group for privacy or confidentiality reasons as decided by the group leader."),s.a.createElement("p",{class:"font-qregular mx-auto "},s.a.createElement("span",{className:"font-semibold font-15"},"Send a note to the group leader")," telling them why you\u2019d like to join this group.  Please include your full name (or the person you care for) if they are likely to recognise you:"),s.a.createElement("div",{className:"form-group"},s.a.createElement("textarea",{className:"form-control input-control",onChange:this.handleChange,name:"note",value:this.state.note})),this.state.submitted&&!this.state.note&&s.a.createElement("p",{className:"text-danger font-semibold text-center"},"A note is required"),s.a.createElement("p",{class:"font-semibold mx-auto font-15 m-b-0"},"Your nickname (optional)"),s.a.createElement("p",{className:"font-qregular"},"If you would prefer to stay anonymous to the other members in the group please add or confirm your account nickname below:"),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control input-control",name:"username",onChange:this.handleChange,value:this.state.username})),this.state.submitted&&this.state.usernameError&&s.a.createElement("p",{className:"text-danger font-semibold text-center"},this.state.usernameError),s.a.createElement("p",{class:"font-qregular mx-autofont-15"},"We will share your full name with the organisaton/person who runs this group for authorisation purposes but additionally, if you would like us to, we can share with them your activity data collected on Beam, which classes you attended, when and your feedback so they can better support you.  "),s.a.createElement("div",{className:"toggle-btns float-left w-100"},s.a.createElement("span",{className:"font-14 font-semibold black-txt"},"I consent to sharing my activity data with the organisation/person who runs this group (optional) "),s.a.createElement("label",{className:"switch m-l-10 m-t-10 pull-right",htmlFor:"consent"},s.a.createElement("input",{type:"checkbox",name:"consent",id:"consent",onChange:this.handleCheckboxChange,value:this.state.consent,defaultChecked:this.state.consent}),s.a.createElement("div",{className:"slider round"}))),s.a.createElement("div",{className:""},s.a.createElement("button",{disabled:this.state.loading,className:"btn btn-login  popup-btn font-medium font-14 w-75 mx-auto m-t-20 m-b-20",onClick:this.submitSchedule}," Send request"))),this.state.successFlag&&s.a.createElement("div",null,s.a.createElement("p",{class:"font-semibold mx-auto  font-15 text-center"},"Thank you!  Your request has been sent and you should hear back from the group leader us shortly\u2026"),s.a.createElement("div",{className:""},s.a.createElement("button",{className:"btn btn-login  popup-btn font-medium font-14 w-75 mx-auto m-t-20 m-b-20",onClick:this.backToGroups}," Back to groups"))))))))))}}]),a}(s.a.Component),Vi={joinrequest:Ja,checkUserExist:Ut,joinModelOpen:Za},Hi=Object(i.b)((function(e){return{is_join_modal:e.group.is_join_modal,group_details:e.group.group_details}}),Vi)(Gi),zi=a(145),Ki=a.n(zi),Ji=a(382),Qi=a.n(Ji),Zi=(a(1446),a(537)),Xi=a.n(Zi),$i=a(546),el=(a(1453),a(2352)),tl=a(916),al=a.n(tl),ol=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){return Object(Ro.a)(this,a),t.call(this,e)}return Object(Wo.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.loader_state&&s.a.createElement("div",{className:"loading"},s.a.createElement(al.a,{type:"Triangle",color:"#00BFFF",height:"100",width:"100"})))}}]),a}(s.a.Component),sl={start_loader:ht,stop_loader:gt},nl=(Object(i.b)((function(e){return{loader_state:e.header.loader_state}}),sl)(ol),a(302)),rl=a(917),il=new(a.n(rl).a);il.add("@",{validate:function(e,t,a){var o=e.slice(t);return a.re.prinzio||(a.re.prinzio=new RegExp("([(.*?)]()(.+?)())")),a.re.prinzio.test(o)?!(t>=2&&"@"===o[t-2])&&o.match(a.re.prinzio)[0].length:0},normalize:function(e){console.log(e),e.url="https://sherly.prinzio.com/"+e.url.replace(/^@/,"")}});s.a.Component;var ll,cl=il,ml=[],dl=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).handleChange=function(e,t,a,s,n){var r=s;o.setState({commentsData:Object(m.a)(Object(m.a)({},o.state.commentsData),{},Object(rs.a)({},t,r)),memberName:""})},o.onImageChange=function(e){e.target.files&&e.target.files[0]&&(console.log("onImageChange-functionscall"),o.setState({fileTypeErr:!1,postImage:URL.createObjectURL(e.target.files[0]),postFile:e.target.files[0]}))},o._handleKeyDown=function(e,t,a){var s=a.key,n=s.charAt(0);switch(s){case"Enter":(o.state.commentsData[e]||o.state.replyImage&&o.state.replyImage[e])&&o.createPostComments(e);break;case"@":"@"===n&&(console.log("@ key pressed"),o.setState({showUserList:t,memberName:""}));break;case"Backspace":console.log("BackSpace space pressed"),o.setState({showUserList:null,memberName:""});break;case"Delete":console.log("Delete space pressed"),o.setState({showUserList:null,memberName:""})}},o.bindUserName=function(e,t){console.log("bindUserName-commentsData",o.state.commentsData),console.log("i=",t),console.log("Member Name=",e.target.value);var a=e.target.value;o.setState({memberName:a,showUserList:null,commentsData:Object(m.a)(Object(m.a)({},o.state.commentsData),{},Object(rs.a)({},t,o.state.commentsData[t]+a))})},o.handleEditCommentChange=function(e,t,a,s,n){o.setState({editCommentsData:Object(m.a)(Object(m.a)({},o.state.editCommentsData),{},Object(rs.a)({},t,s))})},o.onReplyImageChange=function(e,t){t.target.files&&t.target.files[0]&&("image/png"===t.target.files[0].type||"image/jpg"===t.target.files[0].type||"image/jpeg"===t.target.files[0].type||"image/gif"===t.target.files[0].type?(o.setState({replyFileTypeErr:!1,replyImage:Object(m.a)(Object(m.a)({},o.state.replyImage),{},Object(rs.a)({},e,URL.createObjectURL(t.target.files[0]))),replyFile:Object(m.a)(Object(m.a)({},o.state.replyFile),{},Object(rs.a)({},e,t.target.files[0]))}),t.target.value=null):o.setState({replyFileTypeErr:!0,replyImage:[],replyFile:[]}))},o.state={allOriginal:[],feedList:[],offset:0,commentsOffset:0,condition:o.props.params.condition,group:o.props.params.group,groupDetail:{},cuurentDate:new Date,commentsData:[],postComment:"",userDetails:{},postImage:"",editCommentsData:[],postFile:{},editPostComment:[],editPostImage:[],editPostFile:[],totalPost:0,is_model_open:!1,is_postmodel_open:!1,postErr:!1,fileTypeErr:!1,editFileTypeErr:!1,replyImage:[],replyFile:[],editReplyImage:[],editReplyFile:[],feedMessage:"",feedErrMessage:"",textAreaRows:5,percentCompleted:0,isEditForm:!1,isEditPost:!1,showUserList:null,memberName:"",showPinned:!1,limit:3,comments:[],comment:""},o.onImageChange=o.onImageChange.bind(Object(is.a)(o)),o._handleKeyDown=o._handleKeyDown.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentWillMount",value:function(){if(!this.props.is_auth){var e={pathname:"/home"};this.props.history.push(e)}}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;if(!this.props.history.location.pathname||this.props.groupState.isMember||t&&(!t||t.isCreator||t.isStudyLeader)||this.props.groupState.canEdit){var a=localStorage.getItem("user");a=JSON.parse(a),this.setState({userDetails:a},(function(){e.fetchAllFeeds()}))}else{var o={from:{pathname:"/group/about/"+this.props.groupState.group+"/"+this.props.groupState.condition}}.from;this.props.history.push(o)}}},{key:"fetchAllFeeds",value:function(){var e=this;this.props.start_loader();var t={group:this.state.group,offset:this.state.offset,type:this.props.componentType,limit:this.state.limit};this.props.fetchAllFeeds(t).then((function(t){if(t){console.log("response",t),t.groups.Members.forEach((function(e,t){ml.push(e.User.name+" "+e.User.lastName)})),ll=ml.map((function(e,t){return{id:t,display:e}})),e.groupListResult(t)}e.props.stop_loader()}),(function(t){e.setState({Loading:!1}),at.b.error(t),e.props.stop_loader()}))}},{key:"groupListResult",value:function(e){var t=this.state.feedList,a=e.post,o=[];if(0!=this.state.offset){a.map((function(e,a){var s=t.filter((function(t){return t.id===e.id}));if(s&&s.length>0){var n=t.findIndex((function(t){return t.id===e.id}));t[n]=e}else o.push(e)})),console.log("existingData",t),console.log("helper",o);var s=[].concat(Object(Lo.a)(t),o)}else s=a;console.log("newList",s),this.setState({allOriginal:e,feedList:s,groupDetail:e.groups,totalPost:e.totalpost}),this.state.feedMessage&&(at.b.success(this.state.feedMessage),this.setState({feedMessage:""})),this.state.feedErrMessage&&(at.b.error(this.state.feedErrMessage),this.setState({feedErrMessage:""}))}},{key:"loadMorePosts",value:function(){var e=this;this.setState({offset:0,limit:100},(function(){e.fetchAllFeeds()}))}},{key:"likePost",value:function(e,t){var a=this;if(this.props.is_auth){this.props.start_loader();var o={postId:e.id,isLike:t};this.props.likeThePost(o).then((function(e){e&&a.setState({offset:0,feedMessage:e.message},(function(){a.fetchAllFeeds()})),a.props.stop_loader()}),(function(e){a.setState({Loading:!1,feedErrMessage:e}),a.props.stop_loader()}))}else this.props.loginModelOpen(!0)}},{key:"renderLikeButton",value:function(e){var t=this,a=e.wallUsers,o={};return console.log("wallUsers",a),this.props.user_data&&this.props.user_data.id&&(o=a.filter((function(e){return e.UserId===t.props.user_data.id}))),e&&(!e.wallUsers||e.wallUsers.length<1||!o||o&&o[0]&&"no"===o[0].hasLiked)?s.a.createElement("span",{onClick:function(){t.likePost(e,"like")},className:"m-r-30 graytext pointer"+(this.state.isEditPost?" not-active":"")},s.a.createElement("img",{src:D+"like.png",alt:""})," Like"):s.a.createElement("span",{onClick:function(){t.likePost(e,"unlike")},className:"m-r-30 graytext pointer"+(this.state.isEditPost?" not-active":"")},s.a.createElement("img",{src:D+"like.png",alt:""})," Unlike")}},{key:"likeComments",value:function(e,t,a){var o=this;if(this.props.is_auth){this.props.start_loader(),console.log("items",e);var s={postId:e.PostId,commentId:e.id,isLike:t};console.log("data",s),this.props.likeTheComments(s).then((function(e){e&&o.setState({offset:0,feedMessage:e.message},(function(){o.fetchAllFeeds()})),o.props.stop_loader()}),(function(e){o.setState({Loading:!1,feedErrMessage:e}),o.props.stop_loader()}))}else this.props.loginModelOpen(!0)}},{key:"renderCommentsLikeButton",value:function(e,t){var a=this;console.log("myitem",e),console.log("this.props.user_data",this.props.user_data);var o=e.CommentUsers,n={};return this.props.user_data&&this.props.user_data.id&&(n=o.filter((function(e){return e.UserId===a.props.user_data.id})),console.log("userExist",n)),e&&(!e.CommentUsers||e.CommentUsers.length<1||!n||n&&n[0]&&"no"===n[0].hasCommentLiked)?s.a.createElement("span",{onClick:function(){a.likeComments(e,"like",t)},className:"m-r-30 graytext pointer"+(this.state.isEditPost?" not-active":"")},s.a.createElement("img",{src:D+"like.png",alt:""})," Like"):s.a.createElement("span",{onClick:function(){a.likeComments(e,"unlike",t)},className:"m-r-30 graytext pointer"+(this.state.isEditPost?" not-active":"")},s.a.createElement("img",{src:D+"like.png",alt:""})," Unlike")}},{key:"pinPost",value:function(e,t,a){var o=this;if(this.setState({showPinned:!this.state.showPinned}),this.props.is_auth){this.props.start_loader();var s={postId:e.id,value:t};this.props.pinnedPost(s).then((function(e){e&&o.setState({offset:0,feedMessage:e.message},(function(){o.fetchAllFeeds()})),o.props.stop_loader()}),(function(e){o.setState({Loading:!1,feedErrMessage:e}),o.props.stop_loader()}))}else this.props.loginModelOpen(!0)}},{key:"renderPinButton",value:function(e,t){var a=this,o=e.wallUsers,n=1,r=0;return this.props.user_data&&this.props.user_data.id&&o.filter((function(e){return e.UserId===a.props.user_data.id})),e&&(!e.User||e.User.length<1||!e.User||!1===e.pinnedPost)?s.a.createElement("span",{onClick:function(){a.pinPost(e,n,t)},className:" graytext pointer"+(this.state.isEditPost?" not-active":"")},s.a.createElement("img",{src:D+"pin-image.png",alt:"",className:"w-30"})," Pin"):s.a.createElement("span",{onClick:function(){a.pinPost(e,r,t)},className:" graytext pointer"+(this.state.isEditPost?" not-active":"")},s.a.createElement("img",{src:D+"pin-image.png",alt:"",className:"w-30 "})," Unpin")}},{key:"renderFollowButton",value:function(e){var t=this,a=e.wallUsers,o={};if(this.props.user_data&&this.props.user_data.id&&(o=a.filter((function(e){return e.UserId===t.props.user_data.id}))),this.props.is_auth&&e.postedBy!==this.props.user_data.id)return e&&(!e.wallUsers||e.wallUsers.length<1||!o||o&&o[0]&&"no"===o[0].hasFollowed)?s.a.createElement("span",{onClick:function(){t.followThePost(e,"follow")},className:"graytext pointer"},s.a.createElement("img",{src:D+"follow-plus.png",alt:""})," Follow Post"):s.a.createElement("span",{onClick:function(){t.followThePost(e,"unfollow")},className:"graytext pointer"},s.a.createElement("img",{src:D+"follow-plus.png",alt:""})," Unfollow Post")}},{key:"followThePost",value:function(e,t){var a=this;if(this.props.is_auth){this.props.start_loader();var o={postId:e.id,isFollow:t};this.props.followPost(o).then((function(e){e&&a.setState({offset:0,feedMessage:e.message},(function(){a.fetchAllFeeds()})),a.props.stop_loader()}),(function(e){a.setState({Loading:!1,feedErrMessage:e}),a.props.stop_loader()}))}else this.props.loginModelOpen(!0)}},{key:"deleteItem",value:function(e,t,a){var o=this;if(this.props.start_loader(),"comment"===t)a={postId:e.id,itemType:t,commentId:a.id};else a={postId:e.id,itemType:t};this.props.deletePostItem(a).then((function(e){e&&o.setState({offset:0,feedMessage:e.message},(function(){o.fetchAllFeeds()})),o.props.stop_loader()}),(function(e){o.setState({Loading:!1,feedErrMessage:e}),o.props.stop_loader()}))}},{key:"editComment",value:function(e,t){this.props.start_loader(),this.setState({editRplyFileTypeErr:!1});var a=this.state.editCommentsData[t]?this.state.editCommentsData[t]:"",o=new FormData;o.append("file",this.state.editReplyFile[t]),o.append("commentId",t),o.append("postId",e);var s=this.isUrlValid(a);o.append("commentData",s);var n=h+"/api/groups/feed/editcomment",r={headers:{"content-type":"multipart/form-data",Authorization:JSON.parse(localStorage.getItem("user")).token}};this.postUpdateAction(n,o,r,e)}},{key:"createPostComments",value:function(e){this.props.start_loader(),this.setState({replyFileTypeErr:!1});var t=this.state.commentsData[e]?this.state.commentsData[e]:"",a=new FormData;a.append("file",this.state.replyFile[e]),a.append("postId",e);var o=this.isUrlValid(t);a.append("commentData",o);var s=h+"/api/groups/feed/comment",n={headers:{"content-type":"multipart/form-data",Authorization:JSON.parse(localStorage.getItem("user")).token}};this.postUpdateAction(s,a,n,e)}},{key:"loadMoreComments",value:function(e){var t=this,a={postId:e.id,offset:this.state.commentsOffset};this.props.start_loader(),this.props.loadComments(a).then((function(a){if(a){var o=a.comments,s=e.Comments;o&&o.length>0&&(e.Comments=[].concat(Object(Lo.a)(s),Object(Lo.a)(o)))}t.props.stop_loader()}),(function(e){t.setState({Loading:!1}),at.b.error(e),t.props.stop_loader()}))}},{key:"dataURLtoFile",value:function(e,t){for(var a=e.split(","),o=a[0].match(/:(.*?);/)[1],s=atob(a[1]),n=s.length,r=new Uint8Array(n);n--;)r[n]=s.charCodeAt(n);return new File([r],t,{type:o})}},{key:"_canvasRotate",value:function(e,t,a){console.log("orientation",t);var o=this.refs.canvas.getContext("2d"),s=URL.createObjectURL(e),n=this,r=new Image;r.onload=function(){var e=Object(el.b)(r.height,r.width);console.log("maxDim",e),(!t||t>8)&&(n.refs.canvas.width=r.width,n.refs.canvas.height=r.height),t>4&&(n.refs.canvas.width=r.height,n.refs.canvas.height=r.width);var s=r.width,i=r.height;switch(t){case 0:console.log("oth case"),o.setTransform(1,0,0,1,e/2,e/2),o.drawImage(this,-e/2,-e/2);break;case 2:o.translate(s,0),o.scale(-1,1),o.setTransform(1,0,0,1,e/2,e/2),o.drawImage(this,-this.width/2,-this.height/2);break;case 3:o.translate(s,i),o.rotate(el.c),o.setTransform(1,0,0,1,e/2,e/2),o.drawImage(this,-this.width/2,-this.height/2);break;case 4:o.translate(0,i),o.scale(1,-1),o.setTransform(1,0,0,1,e/2,e/2),o.drawImage(this,-this.width/2,-this.height/2);break;case 5:o.rotate(.5*el.c),o.scale(1,-1),o.setTransform(1,0,0,1,e/2,e/2),o.drawImage(this,-this.width/2,-this.height/2);break;case 6:console.log("6th orinetation"),o.translate(n.refs.canvas.width/2,n.refs.canvas.height/2),o.rotate(el.c/2),o.drawImage(this,-this.width/2,-this.height/2);break;case 7:o.rotate(.5*el.c),o.translate(s,-i),o.scale(-1,1),o.setTransform(1,0,0,1,e/2,e/2),o.drawImage(this,-this.width/2,-this.height/2);break;case 8:o.rotate(-.5*el.c),o.translate(-s,0),o.setTransform(1,0,0,1,e/2,e/2),o.drawImage(this,-this.width/2,-this.height/2)}o.getImageData(0,0,n.refs.canvas.width,n.refs.canvas.height);var l=n.refs.canvas.toDataURL("image/png");console.log("dataImg",l);var c=n.dataURLtoFile(l,"hello.png");console.log(c),a(c)},r.src=s}},{key:"loadEditComment",value:function(e,t){if(t.showTextInput=!t.showTextInput,t.showTextInput){var a=t.commentImg?h+M+t.commentImg:D+"no-image.png";this.setState({editCommentsData:Object(m.a)(Object(m.a)({},this.state.editCommentsData),{},Object(rs.a)({},t.id,t.commentMsg)),editReplyImage:Object(m.a)(Object(m.a)({},this.state.editReplyImage),{},Object(rs.a)({},t.id,a))})}}},{key:"_handleCommentsKeyDown",value:function(e,t,a){"Enter"===a.key&&(this.state.editCommentsData[e]||this.state.editReplyImage&&this.state.editReplyImage[e])&&this.editComment(t,e)}},{key:"handlePostChange",value:function(e){this.setState({postComment:e.target.value,postErr:!1})}},{key:"isUrlValid",value:function(e){e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g);var t=/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g;return console.log(e.replace(t,(function(e){return'<a target="_blank" href="'+e+'">'+e+"</a>"}))),e.match(t)?e.replace(t,(function(e){return'<a target="_blank" href="'+e+'">'+e+"</a>"})):e}},{key:"preCreatePost",value:function(){this.setState({isEditForm:!1}),console.log("precreatepost"),this.state.allOriginal.canEdit&&"wall"==this.props.componentType?this.setState({is_postmodel_open:!0}):this.createPost()}},{key:"createPost",value:function(){var e=this;if(this.state.postComment||this.state.postFile&&this.state.postFile.name){this.setState({postErr:!1,fileTypeErr:!1});var t=new FormData,a=this;if(console.log("typesof",this.state.postFile),console.log("this.state.postFile",this.state.postFile),!this.state.postFile||"image/png"!==this.state.postFile.type&&"image/jpg"!==this.state.postFile.type&&"image/jpeg"!==this.state.postFile.type&&"image/gif"!==this.state.postFile.type){this.state.postFile&&this.state.postFile.type&&"image/png"!==this.state.postFile.type&&"image/jpg"!==this.state.postFile.type&&"image/jpeg"!==this.state.postFile.type&&"image/gif"!==this.state.postFile.type&&(console.log("test postfile",this.state.postFile.type),t.append("file",this.state.postFile)),t.append("comId",this.state.groupDetail.id);var o=this.isUrlValid(this.state.postComment);t.append("postData",o),t.append("type",this.props.componentType),t.append("condition",this.props.groupState.condition);var s=h+"/api/groups/feed/post",n={headers:{"content-type":"multipart/form-data",Authorization:JSON.parse(localStorage.getItem("user")).token},onUploadProgress:function(t){console.log("progressEvent",t);var a=Object(el.a)(100*t.loaded/t.total);e.setState({percentCompleted:a}),console.log("percentCompleted",a)}};this.postUpdateAction(s,t,n)}else{console.log("object exist-img");var r={canvas:!0,orientation:!0};$i.parseMetaData(this.state.postFile,(function(o){var s=0;o.exif&&o.exif.get("Orientation")&&(s=o.exif.get("Orientation"),r.orientation=s,console.log("orientation",r.orientation)),e._canvasRotate(e.state.postFile,s,(function(e){console.log("dataimgeload",e),t.append("file",e),t.append("comId",a.state.groupDetail.id);var o=a.isUrlValid(a.state.postComment);t.append("postData",o),t.append("type",a.props.componentType),t.append("condition",a.props.groupState.condition),console.log("postData");var s=h+"/api/groups/feed/post",n={headers:{"content-type":"multipart/form-data",Authorization:JSON.parse(localStorage.getItem("user")).token},onUploadProgress:function(e){console.log("progressEvent",e);var t=Object(el.a)(100*e.loaded/e.total);a.setState({percentCompleted:t}),console.log("percentCompleted",t)}};a.postUpdateAction(s,t,n)}))}))}}else this.setState({postErr:!0})}},{key:"postUpdateAction",value:function(e,t,a){var o=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;console.log("postUpdateAction start"),this.setState({isLoading:!0}),this.props.start_loader(),Ki.a.post(e,t,a).then((function(e){console.log("postUpdateAction end"),o.fileInput.value="",o.setState({isLoading:!1,offset:0,postComment:"",postImage:"",postFile:{},feedMessage:e.data.message,percentCompleted:"100"},(function(){s&&o.replyCallback(s),o.fetchAllFeeds()})),o.props.stop_loader()})).catch((function(e){o.setState({feedErrMessage:e}),o.props.stop_loader()}))}},{key:"replyCallback",value:function(e){this.setState({commentsData:Object(m.a)(Object(m.a)({},this.state.commentsData),{},Object(rs.a)({},e,"")),replyImage:[],replyFile:[]})}},{key:"loadEditPost",value:function(e){e.showEditPost=!e.showEditPost;var t=Object(Lo.a)(this.state.feedList);console.log("Loadeditpost",t);var a=Qi()(e.postMsg),o=t.findIndex((function(t){return t.id===e.id}));if(o>-1&&t.splice(o,1),this.setState({isEditPost:!this.state.isEditPost,feedList:Object(Lo.a)(this.state.feedList)}),e.showEditPost){var s=e.postImg?h+M+e.postImg:e.postImg;this.setState({editPostComment:Object(m.a)(Object(m.a)({},this.state.editPostComment),{},Object(rs.a)({},e.id,a[0])),editPostImage:Object(m.a)(Object(m.a)({},this.state.editPostImage),{},Object(rs.a)({},e.id,s))},(function(){this.setFilledTextareaHeight(e.id)}))}}},{key:"handleEditPostChange",value:function(e,t){this.setState({editPostComment:Object(m.a)(Object(m.a)({},this.state.editPostComment),{},Object(rs.a)({},e,t.target.value))})}},{key:"editPostSubmit",value:function(e){var t=this;if(this.setState({isEditForm:!0}),this.state.editPostComment[e]||this.state.editPostFile[e]&&this.state.editPostFile[e].name){this.setState({editFileTypeErr:!1});var a=new FormData,o=this,s=this.state.editPostFile[e];if(console.log("edit typesof",s),!s||"image/png"!==s.type&&"image/jpg"!==s.type&&"image/jpeg"!==s.type&&"image/gif"!==s.type){a.append("comId",this.state.groupDetail.id),a.append("postId",e);var n=this.isUrlValid(this.state.editPostComment[e]);a.append("postData",n),s&&"image/png"!==s.type&&"image/jpg"!==s.type&&"image/jpeg"!==s.type&&"image/gif"!==s.type&&(console.log("edit file"),a.append("file",this.state.editPostFile[e])),a.append("condition",this.props.groupState.condition);var r=h+"/api/groups/feed/editpost",i={headers:{"content-type":"multipart/form-data",Authorization:JSON.parse(localStorage.getItem("user")).token},onUploadProgress:function(e){console.log("progressEvent",e);var a=Object(el.a)(100*e.loaded/e.total);t.setState({percentCompleted:a}),console.log("percentCompleted",a)}};this.postUpdateAction(r,a,i)}else{console.log("edit object exist-img");var l={canvas:!0,orientation:!0};$i.parseMetaData(s,(function(n){var r=0;n.exif&&n.exif.get("Orientation")&&(r=n.exif.get("Orientation"),l.orientation=r,console.log("edit orientation",l.orientation)),t._canvasRotate(s,r,(function(t){a.append("comId",o.state.groupDetail.id),a.append("postId",e);var s=o.isUrlValid(o.state.editPostComment[e]);a.append("postData",s),a.append("file",t),a.append("condition",o.props.groupState.condition);var n=h+"/api/groups/feed/editpost",r={headers:{"content-type":"multipart/form-data",Authorization:JSON.parse(localStorage.getItem("user")).token},onUploadProgress:function(e){console.log("progressEvent",e);var t=Object(el.a)(100*e.loaded/e.total);o.setState({percentCompleted:t}),console.log("percentCompleted",t)}};o.postUpdateAction(n,a,r)}))}))}}}},{key:"_handleEditPostKeyDown",value:function(e,t,a){if(("Enter"===a.key||t)&&(this.state.editPostComment[e]||this.state.editPostFile[e]&&this.state.editPostFile[e].name)){this.setState({editFileTypeErr:!1});var o=new FormData;o.append("file",this.state.editPostFile[e]),o.append("comId",this.state.groupDetail.id),o.append("postId",e);var s=this.isUrlValid(this.state.editPostComment[e]);o.append("postData",s),o.append("condition",this.props.groupState.condition);var n=h+"/api/groups/feed/editpost",r={headers:{"content-type":"multipart/form-data",Authorization:JSON.parse(localStorage.getItem("user")).token}};this.postUpdateAction(n,o,r)}}},{key:"setFilledTextareaHeight",value:function(e){if(document.getElementsByClassName("textarea-"+e).length>0){console.log("height",document.getElementsByClassName("textarea-"+e));var t=document.getElementsByClassName("textarea-"+e)[0].getBoundingClientRect().height;console.log("height",t),this.setState(Object(rs.a)({},"textAreaRows"+e,t+80))}}},{key:"onEditImageChange",value:function(e,t){t.target.files&&t.target.files[0]&&this.setState({editFileTypeErr:!1,editPostImage:Object(m.a)(Object(m.a)({},this.state.editPostImage),{},Object(rs.a)({},e,URL.createObjectURL(t.target.files[0]))),editPostFile:Object(m.a)(Object(m.a)({},this.state.editPostFile),{},Object(rs.a)({},e,t.target.files[0]))})}},{key:"openModalPopup",value:function(e,t,a){this.setState({is_model_open:!0,deleteItem:e,deleteItemType:t,deleteData:a})}},{key:"closeModel",value:function(){this.setState({is_model_open:!1,is_postmodel_open:!1})}},{key:"onCloseModal",value:function(){}},{key:"confirmPopup",value:function(){var e=this.state,t=e.deleteItem,a=e.deleteItemType,o=e.deleteData;this.closeModel(),this.deleteItem(t,a,o)}},{key:"confirmPostPopup",value:function(){this.createPost(),this.closeModel()}},{key:"renderAdminPostModal",value:function(){var e=this;if(console.log("renderAdminPostModal",this.state.is_postmodel_open),this.state.is_postmodel_open)return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.state.is_postmodel_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog  start-popup forgot-pass common_design modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-semibold white-txt",id:"exampleModalLabel font-medium"},"Wait!"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.closeModel()}},"\xd7"))),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("div",{className:"mx-auto w-80"},s.a.createElement("p",{className:"font-book black-txt text-center font-15 m-t-60 font-normal"},"Are you sure you want to post this message to the wall?"),s.a.createElement("p",{className:"font-book black-txt text-center font-15 m-t-60 font-normal"},"Note that all ",this.state.groupDetail.Members.length," members of your group will be informed of your post by email. (We don't send this email for another 5 minutes yet so you will have time to edit if needs be)!")),s.a.createElement("div",{className:"mx-auto w-80"},s.a.createElement("button",{type:"button",className:"w-50 btn btn-login  ",onClick:function(){e.confirmPostPopup()}},"I'm sure"),s.a.createElement("button",{type:"button",onClick:function(){e.closeModel()},className:"btn btn-login m-t-20 m-b-20 m-l-5"},"I'd better not"))))))}},{key:"renderModalPopup",value:function(){var e=this;if(this.state.is_model_open)return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.state.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog schedule_block modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"modal-title",id:"exampleModalLiveLabel"},"Delete"),s.a.createElement("button",{type:"button",className:"close",onClick:function(){e.closeModel()}},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null," Are you sure want to delete? ")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-login ",onClick:function(){e.confirmPopup()}}," Continue "),s.a.createElement("button",{type:"button",onClick:function(){e.closeModel()},className:"btn btn-login "},"Cancel")))))}},{key:"onReplyEditImageChange",value:function(e,t){t.target.files&&t.target.files[0]&&("image/png"===t.target.files[0].type||"image/jpg"===t.target.files[0].type||"image/jpeg"===t.target.files[0].type||"image/gif"===t.target.files[0].type?this.setState({editRplyFileTypeErr:!1,editReplyImage:Object(m.a)(Object(m.a)({},this.state.editReplyImage),{},Object(rs.a)({},e,URL.createObjectURL(t.target.files[0]))),editReplyFile:Object(m.a)(Object(m.a)({},this.state.editReplyFile),{},Object(rs.a)({},e,t.target.files[0]))}):this.setState({editRplyFileTypeErr:!0,editReplyImage:[],editReplyFile:[]}))}},{key:"_renderImageContent",value:function(e){var t=e.postImg?M+e.postImg:D+"no-image.png";return t.match(/\.(jpeg|jpg|gif|png)$/)?s.a.createElement(hn,{src:t,className:"size-fix img-fluid img-responsive"}):t.includes("pdf")?s.a.createElement("div",null,s.a.createElement("a",{href:t,target:"_blank"},s.a.createElement(hn,{src:w+"/pdf-icon.png",className:"pdfImage"})),_o.removeTimestampFilename(e.postImg)):s.a.createElement($o.a,{url:t,playing:!1,controls:!0,style:{width:"100%",height:"439px"}})}},{key:"_renderEditImageContent",value:function(e,t){if(t&&t.type)return this._renderThumbnailContent(e,t);var a=e;return a.match(/\.(jpeg|jpg|gif|png)$/)?s.a.createElement("img",{src:a,height:"100",width:"100"}):a.match("pdf")?s.a.createElement(hn,{src:w+"/pdf-icon.png",className:"pdfImage"}):s.a.createElement($o.a,{url:a,playing:!0,controls:!1,width:"30%",height:"50%",style:{width:"100%",height:"100%"}})}},{key:"_renderThumbnailContent",value:function(e,t){var a=t.type;return a.includes("image/")?s.a.createElement(Xi.a,{src:e,height:"100",width:"100"}):a.includes("video/")?s.a.createElement($o.a,{url:e,playing:!0,controls:!1,width:"30%",height:"50%",style:{width:"100%",height:"100%"}}):a.includes("application/pdf")?s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement(hn,{src:w+"/pdf-icon.png",className:"pdfImage"})," "):void alert("here came")}},{key:"render",value:function(){var e=this;console.log("userdata=>>>",this.props.user_data.id),console.log("aboutdata=>>>",this.props.groupState.aboutGroup.OwnerId),console.log("this.props.is_group_admin=>>>",this.props.is_group_admin);this.state.commentsData;var t=this.state,a=t.comments,o=(t.comment,JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData);return s.a.createElement("div",{className:"col-md-8 col-lg-8 col-sm-10 m-auto"},s.a.createElement("canvas",{ref:"canvas",width:"100",height:"100",style:{display:"none"}}),this.renderModalPopup(),this.renderAdminPostModal(),this.props.is_auth&&((this.props.is_group_admin||o&&o.isStudyLeader)&&"feed"==this.props.componentType||"wall"==this.props.componentType)&&s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h3",{className:"m-b-20 text-body font-mregular"}," Create a post "),s.a.createElement("div",{className:"inputbox-field"},s.a.createElement("textarea",{col:"5",rows:"5",styles:"resize:none",value:this.state.postComment,name:"postComment",onChange:this.handlePostChange.bind(this),className:"form-control input-style",placeholder:"What's on your mind?"})),s.a.createElement("div",{className:"file-bg"},s.a.createElement("input",{ref:function(t){return e.fileInput=t},type:"file",onChange:this.onImageChange,accept:"image/*, video/*, application/pdf",className:"filetype pointer post_image",id:"post_image"})),this.state.postImage&&this._renderThumbnailContent(this.state.postImage,this.state.postFile),this.state.postErr&&s.a.createElement("div",{className:"text-danger"},"Please write something"),this.state.fileTypeErr&&s.a.createElement("div",{className:"text-danger"},"Please select png, jpg, jpeg, gif files"),s.a.createElement("div",{className:"text-center m-t-30 m-b-10 buttonstyle-align"},s.a.createElement("a",{onClick:function(){e.preCreatePost()},className:"btn-blue-inverse font-book text-center pointer post-progress-bar"+(this.state.isLoading?" not-active":"")}," Post","0"!=this.state.percentCompleted&&"100"!=this.state.percentCompleted&&!this.state.isEditForm&&s.a.createElement("div",{className:"c100 p"+this.state.percentCompleted+" small"},s.a.createElement("span",null,this.state.percentCompleted,"%"),s.a.createElement("div",{class:"slice"},s.a.createElement("div",{class:"bar"}),s.a.createElement("div",{class:"fill"}))))))),this.state.feedList&&this.state.feedList.length>0&&s.a.createElement("div",{className:"w-100 m-t-20 card-body pl-0 pr-0"},this.state.feedList.map((function(t,o){return s.a.createElement("div",{key:o,className:"col-lg-12 col-md-12 m-t-30 col-sm-12 pl-0 pr-0"},s.a.createElement("div",{className:"card mb-5 mb-lg-0"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"w-100"},s.a.createElement("div",{className:"card border-0 flex-row flex-wrap"},s.a.createElement("div",{className:"pull-left border-0  main-comment image-size"},s.a.createElement("img",{className:"img-fluid",src:t.User&&t.User.profilePic?O+t.User.profilePic:D+"no-profile-pic.png",alt:"",width:"50",height:"50"})),s.a.createElement("div",{className:"card-block p-l-10 m-t-5 pr-0"},s.a.createElement("div",{className:"card-text font-SFregular  font-14 float-left"}," ",t.User.nickname?t.User.nickname:t.User.name+" "+t.User.lastName),s.a.createElement("div",{className:"card-text font-SFregular graytext m-l-30 font-14 float-left clearfix p-l-0"},bo()(t.updatedAt).fromNow()," "),s.a.createElement("i",{class:"fa-solid fa-thumbtack"})),0==e.state.showPinned&&1==t.pinnedPost&&s.a.createElement("div",{className:"card-block p-l-10 m-t-5 pr-0"},e.renderPinButton(t,o)),e.state.showPinned&&1==t.pinnedPost&&s.a.createElement("div",{className:"card-block p-l-10 m-t-5 pr-0"},e.renderPinButton(t,o)),0==e.state.showPinned&&0==t.pinnedPost&&s.a.createElement("div",{className:"card-block p-l-10 m-t-5 pr-0"},e.renderPinButton(t,o)),e.props.is_auth&&t.postedBy===e.props.user_data.id&&s.a.createElement("div",{className:"card-block p-l-10 m-t-10 pr-0"},s.a.createElement("a",{className:"card-text graytext m-l-30 font-SFregular float-left pointer",onClick:function(){e.loadEditPost(t)}},s.a.createElement("i",{className:"fa fa-edit"})),s.a.createElement("a",{className:"card-text graytext m-l-20 font-SFregular float-left pointer",onClick:function(){e.openModalPopup(t,"post")}},s.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})))),t.postImg&&!t.showEditPost&&s.a.createElement("div",{className:"w-100 m-t-20 overflow-hidden"},e._renderImageContent(t)),!t.showEditPost&&s.a.createElement("p",{className:"allow-white-space paragraph-style font-SFregular font-14 m-t-20"},Qi()(t.postMsg)),t.showEditPost&&s.a.createElement("div",null,s.a.createElement("div",{className:"inputbox-field"},s.a.createElement("textarea",{rows:e.state["textAreaRows"+t.id]>5?"":5,value:e.state.editPostComment[t.id].replace(/<{1}[^<>]{1,}>{1}/g,""),name:e.state.editPostComment[t.id],onChange:e.handleEditPostChange.bind(e,t.id),style:{height:e.state["textAreaRows"+t.id]>5?e.state["textAreaRows"+t.id]:""},className:"form-control input-style ",placeholder:"What's on your mind?"}),s.a.createElement("p",{className:"textarea-"+t.id+" hidden-textarea-p"},e.state.editPostComment[t.id].replace(/<{1}[^<>]{1,}>{1}/g,""))),s.a.createElement("div",{className:"file-editpost-bg"},s.a.createElement("input",{type:"file",onChange:e.onEditImageChange.bind(e,t.id),accept:"image/*, video/*, application/pdf",className:"filetype",id:"post_image"})),s.a.createElement("div",{className:"up_img_sec position-relative"},e.state.editPostImage[t.id]&&e._renderEditImageContent(e.state.editPostImage[t.id],e.state.editPostFile[t.id]),!1),s.a.createElement("div",{className:"text-center m-t-30 m-b-10 buttonstyle-align"},s.a.createElement("a",{onClick:function(){e.editPostSubmit(t.id)},className:"btn-blue-inverse font-book text-center pointer post-progress-bar"+(e.state.isLoading?" not-active":"")},"Save","0"!=e.state.percentCompleted&&e.state.isEditForm&&"100"!=e.state.percentCompleted&&s.a.createElement("div",{className:"c100 p"+e.state.percentCompleted+" small"},s.a.createElement("span",null,e.state.percentCompleted,"%"),s.a.createElement("div",{class:"slice"},s.a.createElement("div",{class:"bar"}),s.a.createElement("div",{class:"fill"})))))),e.state.editFileTypeErr&&s.a.createElement("span",{className:"text-danger"},"Please select png, jpg, jpeg, gif files"),s.a.createElement("hr",{className:"linestyle"}),s.a.createElement("div",{className:"w-100 like-share"},e.renderLikeButton(t),"wall"==e.props.componentType&&e.renderFollowButton(t)),e.props.is_auth&&"wall"==e.props.componentType&&s.a.createElement("div",null,s.a.createElement("div",{className:"w-100 m-t-10 inputbox-field"},a.map((function(e){return s.a.createElement(cl,null,e)})),s.a.createElement(nl.b,{className:"form-control input-style",value:e.state.commentsData[t.id],markup:"@name",name:e.state.commentsData[t.id],onKeyDown:e._handleKeyDown.bind(e,t.id,o),onChange:function(a,o,s,n){return e.handleChange(a,t.id,o,s,n)},placeholder:"Write your reply",type:"text"},s.a.createElement(nl.a,{className:"testMention",trigger:"@",data:ll}))),s.a.createElement("input",{type:"file",onChange:e.onReplyImageChange.bind(e,t.id),accept:"image/*, video/*",className:"filetype post_image",id:"post_image"})),e.state.replyImage&&e.state.replyImage[t.id]&&e._renderEditImageContent(e.state.replyImage[t.id],e.state.replyFile[t.id]),e.state.replyFileTypeErr&&s.a.createElement("div",{className:"text-danger"},"Please select png, jpg, jpeg, gif files"),t.Comments.map((function(o,n){return s.a.createElement("div",{key:"comments_"+n,className:"w-100 m-t-30 reply"},s.a.createElement("div",{className:"card border-0 flex-row flex-wrap"},s.a.createElement("div",{className:"pull-left border-0  main-comment image-size"},s.a.createElement("img",{className:"img-fluid",src:o.User&&o.User.profilePic?O+o.User.profilePic:D+"no-profile-pic.png",alt:""})),s.a.createElement("div",{className:"card-block p-l-20 m-t-10 pr-0"},s.a.createElement("div",{className:"card-text font-SFregular font-14 float-left"},o.User.nickname?o.User.nickname:o.User.name+" "+o.User.lastName,"  "),s.a.createElement("span",{className:"card-text graytext m-l-30 font-SFregular font-14 float-left"},bo()(o.updatedAt).fromNow())),e.props.is_auth&&o.commentedBy===e.props.user_data.id&&s.a.createElement("div",{className:"card-block p-l-20 m-t-10 pr-0"},s.a.createElement("a",{className:"card-text graytext m-l-30 font-qregular float-left pointer",onClick:function(){e.loadEditComment(t,o)}},s.a.createElement("i",{className:"fa fa-edit","aria-hidden":"true"})),s.a.createElement("a",{className:"card-text graytext m-l-20 font-qregular float-left pointer",onClick:function(){e.openModalPopup(t,"comment",o)}},s.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})))),!o.showTextInput&&s.a.createElement("div",null,s.a.createElement("p",{className:"allow-white-space paragraph-style font-SFregular font-14 m-t-20"},Qi()(o.commentMsg)),s.a.createElement("div",null,e.renderCommentsLikeButton(o,n))),o.commentImg&&!o.showTextInput&&s.a.createElement("div",{className:"w-100 m-t-20"},s.a.createElement("img",{src:o.commentImg?M+o.commentImg:D+"no-image.png",className:"size-fix img-fluid img-responsive"})),o.showTextInput&&s.a.createElement("div",null,s.a.createElement("div",{className:"w-100 inputbox-field"},a.map((function(e){return s.a.createElement(cl,null,e)})),s.a.createElement(nl.b,{className:"form-control input-style",value:e.state.editCommentsData[o.id],markup:"@name",name:e.state.editCommentsData[o.id],onKeyDown:e._handleCommentsKeyDown.bind(e,o.id,t.id),onChange:function(t,a,s,n){return e.handleEditCommentChange(t,o.id,a,s,n)},placeholder:"Update Comment",type:"text"},s.a.createElement(nl.a,{className:"testMention",trigger:"@",data:ll}))),s.a.createElement("input",{type:"file",onChange:e.onReplyEditImageChange.bind(e,o.id),accept:"image/*, video/*",className:"filetype post_image",id:"reply_image"}),e.state.editRplyFileTypeErr&&s.a.createElement("div",{className:"text-danger"},"Please select png, jpg, jpeg, gif files"),e.state.editReplyImage[o.id]&&e._renderEditImageContent(e.state.editReplyImage[o.id],e.state.editReplyFile[o.id])))})),t.Comments.length>0&&s.a.createElement("hr",null)))))})),this.state.totalPost&&this.state.totalPost>this.state.feedList.length&&s.a.createElement("div",{className:"text-center m-t-80 m-b-40 buttonstyle-align"},s.a.createElement("a",{onClick:function(){e.loadMorePosts()},className:"btn-blue-inverse font-book text-center pointer"},"Load more posts"))),0==this.state.feedList.length&&s.a.createElement("div",{className:"w-100 m-t-20 card-body pl-0 pr-0 "},s.a.createElement("p",{className:"font-qbold text-center"},"There are no posts here yet")))}}]),a}(s.a.Component),pl={fetchAllFeeds:function(e){return console.log("Datt",e),function(t,a){var o=tt(),s=e.limit;console.log("limit",s);var n=h+"/api/groups/feed/"+e.group+"/"+e.type+"/"+e.limit+"?offset="+e.offset;return fetch(n,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},loadMoreFeeds:function(e){return function(t,a){var o=tt(),s=h+"/api/groups/loadPosts/"+e.groupId+"?offset="+e.offset;return fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},start_loader:ht,stop_loader:gt,likeThePost:function(e){return function(t,a){var o=et({postId:e.postId}),s=h+"/api/groups/feed/likePost";return s="like"===e.isLike?h+"/api/groups/feed/likePost":h+"/api/groups/feed/unlikePost",fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},likeTheComments:function(e){return function(t,a){var o=et({postId:e.postId,commentId:e.commentId,isLike:e.isLike}),s=h+"/api/groups/feed/likeComments";return e&&(s=h+"/api/groups/feed/likeComments"),fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},pinnedPost:function(e){return function(t,a){var o=et({postId:e.postId,pin:e.value}),s=h+"/api/groups/feed/pin";return e&&(s=h+"/api/groups/feed/pin"),fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},followPost:function(e){return function(t,a){var o=et({postId:e.postId});return fetch(h+"/api/groups/feed/followpost",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},deletePostItem:function(e){return function(t,a){if("post"===e.itemType)var o={postId:e.postId};else o={postId:e.postId,commentId:e.commentId};var s=et(o),n=h+"/api/groups/feed/deletepost";return n="post"===e.itemType?h+"/api/groups/feed/deletepost":h+"/api/groups/feed/deletecomment",fetch(n,s).then((function(e){return go(e,t)})).then((function(e){return e}))}},updateComments:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/groups/feed/editcomment",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},loadComments:function(e){return function(t,a){var o=tt(),s=h+"/api/groups/feed/loadcomments/"+e.postId+"?offset="+e.offset;return fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},createComments:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/groups/feed/comment",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},loginModelOpen:pt},ul=Object(i.b)((function(e){return{is_detail:e.group.group_details,is_auth:e.auth.is_auth,user_data:e.header.logged_userData,is_group_admin:e.group.is_group_admin}}),pl)(dl),hl=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={},o}return Object(Wo.a)(a,[{key:"onCloseModal",value:function(){}},{key:"loginSubmit",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props.modelData;return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"false"!=Go.Cookies.get("closeBanner")||this.props.close_banner?"modal-dialog common_design modal-width--custom live-classes--popup m-t-80":"modal-dialog common_design modal-width--custom live-classes--popup m-t-50",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center white-txt col-md-12 p-0 font-book font-24",id:"exampleModalLabel "},"You're signed up!"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.props.modelClose()}},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-5"},Object.keys(t).length>0&&t.constructor===Object&&s.a.createElement("div",null,s.a.createElement("h3",{className:"font-qregular font-24 black-txt heading-3 text-center text-uppercase"},t.Workout.shortDescription),s.a.createElement("div",{className:"col-md-12 text-center m-t-20 m-b-30 mr-auto ml-auto"},s.a.createElement("p",{className:"font-15 font-semibold black-txt"},t.Workout.title),s.a.createElement("img",{className:"img-fluid rounded-circle",src:t.Workout&&t.Workout.Instructor&&t.Workout.Instructor.img?S+t.Workout.Instructor.img:D+"no-image.png",ref:function(t){return e.img=t},onError:function(){return e.img.src=D+"no-image.png"},width:"50",height:"50"}),s.a.createElement("span",{className:"text-uppercase font-qregular font-12 black-txt name-styling p-l-10"},t.Workout&&t.Workout.Instructor&&t.Workout.Instructor.User?_o.bindUsername(t.Workout.Instructor.User):"")),s.a.createElement("span",{className:"text-center w-100 float-left m-t-20 m-b-50"},s.a.createElement("div",{className:"w-100 float-left"},s.a.createElement("img",{src:D+"calendar-popup.png",alt:"Calendar"})),s.a.createElement("div",{className:"w-100 float-left m-t-10"},s.a.createElement("span",{className:"p-l-10 font-15 black-txt font-book dateformat-styling"},bo()(t.scheduledFor).format("dddd DD MMMM")),s.a.createElement("div",{className:"font-13 font-book grey-text m-t-5"},bo()(new Date(t.scheduledFor)).format("hh:mm")," - ",bo()(_o.addMintues(t.scheduledFor,t.Workout.length)).format("hh:mm"))),s.a.createElement("div",{className:"w-100 float-left m-t-10"},s.a.createElement(xn,{item:t,type:t.type,title:t.Workout.title,length:t.Workout.length}))),(!this.props.condition.toLowerCase().includes("research")||this.props.condition.toLowerCase().includes("research")&&!this.props.isRejoin)&&s.a.createElement("div",{className:"text-center m-b-30"},s.a.createElement("div",{className:"w-100 float-left font-14 black-txt font-book"},"You will be emailed details of how to join the live session."),s.a.createElement("div",{className:"w-100 float-left font-14 black-txt font-book"},"You can also familiarise yourself with the process right now.")),(!this.props.condition.toLowerCase().includes("research")||this.props.condition.toLowerCase().includes("research")&&!this.props.isRejoin)&&s.a.createElement("div",{className:"buttons-read w-100 m-t-20 float-left text-center pointer"},s.a.createElement(Qo.b,{className:"btn btn-blue-inverse font-14 read-now m-r-20 m-t-10",to:"/liveClass"},"Read now"),s.a.createElement("a",{className:"btn btn-blue-inverse font-14 read-later m-r-20 pointer m-t-10",onClick:function(){return e.props.modelClose()}},"Read later")))))))}}]),a}(s.a.Component),gl=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={group:o.props.params,offset:0,count:0,show_more_cnt:10,calenderLiveClassList:[],selectDate:o.props.firstScheduleDate,isCurrentWeek:!0,condition:o.props.props.params.condition,modelState:!1,modelData:{},total_tags:[],all_levels:[],init_weeks_days:[],Liveclass_Weeks:8},o.submitStartNow=o.submitStartNow.bind(Object(is.a)(o)),o.modelClose=o.modelClose.bind(Object(is.a)(o)),o.joinClassService=o.joinClassService.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"submitStartNow",value:function(e){this.props.is_auth?this.joinClassService(e):this.props.loginModelOpen(!0)}},{key:"joinClassService",value:function(e){var t=this,a={roomId:e.id};this.props.start_loader(),this.props.joinClass(a).then((function(a){t.props.stop_loader(),a&&t.setState({modelState:!0,modelData:e})}),(function(e){t.props.stop_loader(),t.setState({modelState:!0,modelData:{}}),at.b.error(e)}))}},{key:"modelClose",value:function(){this.setState({group:this.props.params,offset:0,count:0,show_more_cnt:10,calenderLiveClassList:[],selectDate:this.props.firstScheduleDate,isCurrentWeek:!0,condition:this.props.props.params.condition,modelState:!1,modelData:{},total_tags:[],all_levels:[]},(function(){this.fetchLiveClassList()}))}},{key:"componentDidMount",value:function(){for(var e=this,t=new Date,a=bo()().add(6,"d"),o=[_o.getWeekDays(t,a)],s=1;s<this.state.Liveclass_Weeks;s++)t=bo()(a).add(1,"d"),a=bo()(a).add(7,"d"),o.push(_o.getWeekDays(t,a));this.setState({init_weeks_days:o});var n=o[0],r=0,i=new Date;if(this.props.firstScheduleDate)for(var l=bo()(this.props.firstScheduleDate).format("YYYY-MM-DD"),c=0;c<this.state.Liveclass_Weeks;c++)o[c].indexOf(l)>=0&&(console.log("key",c),n=o[c],r=c),i=this.props.firstScheduleDate;this.setState({selectDate:i,selectedWeek:n,isCurrentWeek:r},(function(){e.fetchLiveClassList()}))}},{key:"componentWillReceiveProps",value:function(e){!this.props.is_auth&&e.is_auth?(this.setState({calenderLiveClassList:[]}),this.fetchLiveClassList()):this.setState({calenderLiveClassList:[]},(function(){this.toggleLiveClasses()}))}},{key:"fetchLiveClassList",value:function(){var e=this;this.setState({Loading:!0});var t=_o.replaceChar(this.state.condition,!0),a={offset:this.state.offset,limit:10,condition:t,dateChosen:bo()(this.state.selectDate).format("YYYY-MM-DD"),group:this.state.group};this.props.fetchGroupWorkout(a).then((function(t){if(t){var a=t.list;if(a&&a.liveClasses){var o=a.liveClasses;e.setState({allLiveClassData:o}),e.toggleLiveClasses()}e.setState({Loading:!1,count:a.count,total_tags:t.list.tags?t.list.tags:[],all_levels:t.list.levelTags?t.list.levelTags:[]},(function(){}))}}),(function(t){e.setState({Loading:!1})}))}},{key:"toggleLiveClasses",value:function(){var e=this.state.allLiveClassData,t=Go.Cookies.get("is_toggled");if("true"===t)console.log("show all is_toggled",t),this.groupListResult(e);else{var a=[];e.map((function(e,t){var o=bo()(e.scheduledFor).toDate(),s=bo()(bo()(e.scheduledFor).hour("0").minute("01").second("0")).toDate(),n=bo()(bo()(e.scheduledFor).hour("4").minute("59").second("0")).toDate();o>=s&&o<=n||(console.log("schedule "+o+" midnight12 "+s+" morninig5 "+n),console.log(e.id+"************NOT MID NIGHT*****************"),a.push(e))})),this.groupListResult(a)}}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+10},(function(){this.fetchLiveClassList()}))}},{key:"groupListResult",value:function(e){var t,a=this.state.calenderLiveClassList,o=e;t=[].concat(Object(Lo.a)(a),Object(Lo.a)(o)),this.setState({calenderLiveClassList:t})}},{key:"cancelCalss",value:function(e,t){var a=this;if(!this.state.cancelLoading){this.setState({cancelLoading:!0});var o={roomId:e.id};this.props.cancelClass(o).then((function(e){e&&at.b.success(e.message);var o=Object(Lo.a)(a.state.calenderLiveClassList);o[t].Signedup=!1,a.setState({calenderLiveClassList:o,cancelLoading:!1})}),(function(e){a.setState({cancelLoading:!1})}))}}},{key:"renderSubItemList",value:function(){var e=this;return this.state.calenderLiveClassList.map((function(t,a){return s.a.createElement("div",{className:"list-group-item",key:a},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-md-3 col-lg-3 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+e.props.props.params.condition+"/"+t.Workout.id,onClick:function(){e.props.pushHistory(e.props.history.location.pathname),localStorage.setItem("prevPath",e.props.history.location.pathname),localStorage.setItem("group",e.props.group),localStorage.setItem("groupId",e.props.groupId)}},s.a.createElement(hn,{className:"media-object image-size img-rounded img-fluid",src:x+t.Workout.id+"-img.png"})),s.a.createElement("div",{className:"time-box"},s.a.createElement("i",{className:"fa fa-clock-o w-100"}),s.a.createElement("div",{className:"w-100"},t.Workout.length," mins")))),s.a.createElement("div",{className:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{className:"col-md-9 col-lg-9 col-sm-9 float-left pl-20"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left m-b-10 p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:t.Workout&&t.Workout.Instructor&&t.Workout.Instructor.img?S+t.Workout.Instructor.img:D+"no-image.png",alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+e.props.props.params.condition+"/"+t.Workout.id,onClick:function(){e.props.pushHistory(e.props.history.location.pathname),localStorage.setItem("prevPath",e.props.history.location.pathname),localStorage.setItem("group",e.props.group),localStorage.setItem("groupId",e.props.groupId)}}," ",t.Workout.title)),s.a.createElement("div",{className:"w-80"},"with",t.Workout.Instructor.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+t.Workout.Instructor.id+"/"+e.props.props.params.condition,className:"font-16 font-semibold black-txt p-l-5"},t.Workout.Instructor.User.name," ",t.Workout.Instructor.User.lastName),!t.Workout.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},t.Workout.Instructor.User.name," ",t.Workout.Instructor.User.lastName)))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("discipline",e.state.total_tags,t.WorkoutId))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("level",e.state.all_levels,t.WorkoutId)))),s.a.createElement("div",{className:"col-lg-3 float-left col-md-3 p-0 text-center"},e.renderSchedule(t),t.Signedup&&s.a.createElement("a",{href:"javascript:void(0)",className:"grey-text font-14 font-qregular m-b-5",onClick:function(){return e.cancelCalss(t,a)}},"Cancel Class"),s.a.createElement("span",{className:"btn btn-default-list-blue clearfix pad_list_btn"},bo()(t.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),s.a.createElement("span",{className:"btn btn-default-list-orange clearfix pad_list_btn"},"Live Session"))))))}))}},{key:"changeSelectedDate",value:function(e){var t=this;this.setState({selectDate:e,calenderLiveClassList:[],offset:0},(function(){t.fetchLiveClassList()}))}},{key:"getDate",value:function(e){var t=bo()(e).format("DD");return bo()(e,"YYYY-MM-DD HH:mm:ss").format("ddd")+" "+t}},{key:"renderWeekDays",value:function(e){var t=this;if(e){var a=this.state.selectDate,o=bo()(a).format("YYYY-MM-DD");return e.map((function(e,a){return s.a.createElement("div",{className:"months-list float-left",key:a},s.a.createElement("span",{onClick:function(){t.changeSelectedDate(e)},className:e===o?"active":""},t.getDate(e)))}))}}},{key:"seletedMonthDay",value:function(){var e=this.state.selectDate;return bo()(e).format("MMMM")}},{key:"goToPreviousWeek",value:function(e){var t=this;this.setState({selectedWeek:this.state.init_weeks_days[e],isCurrentWeek:e,calenderLiveClassList:[],selectDate:this.state.init_weeks_days[e][0],offset:0},(function(){t.fetchLiveClassList()}))}},{key:"goToNextWeek",value:function(e){var t=this;this.setState({selectedWeek:this.state.init_weeks_days[e],isCurrentWeek:e,calenderLiveClassList:[],selectDate:this.state.init_weeks_days[e][0],offset:0},(function(){t.fetchLiveClassList()}))}},{key:"renderPreviousWeekIcon",value:function(){var e=this;if(this.state.isCurrentWeek>0)return s.a.createElement("i",{onClick:function(){e.goToPreviousWeek(e.state.isCurrentWeek-1)},className:"fa fa-angle-left float-left"})}},{key:"renderNextWeekIcon",value:function(){var e=this;if(this.state.isCurrentWeek<7)return s.a.createElement("i",{onClick:function(){e.goToNextWeek(e.state.isCurrentWeek+1)},className:"fa fa-angle-right float-right"})}},{key:"renderListData",value:function(){return this.state.calenderLiveClassList&&this.state.calenderLiveClassList.length>0?s.a.createElement("div",{className:"w-100"},this.renderSubItemList()):s.a.createElement("h3",{className:"w-100 text-center m-t-20 m-b-20"},"Oh no!  There are no live classes scheduled for this day, try selecting another day or schedule an",s.a.createElement(Qo.b,{to:"/on-demand/"+this.state.type}," on-demand class "))}},{key:"renderLoadMore",value:function(){var e=this;if(this.state.calenderLiveClassList&&this.state.count>this.state.calenderLiveClassList.length)return s.a.createElement("div",{className:"w-100 text-center"},s.a.createElement("a",{onClick:function(){e.incrementShowmoreCnt()},className:"btn btn-orange m-t-40 m-b-40 text-center font-book"},"Load more live classes"))}},{key:"renderSchedule",value:function(e){var t=this;return e.reference&&"coming soon"===e.reference.toLowerCase()?s.a.createElement("a",{className:"btn btn-purple w-100 font-medium m-b-10"}," ",e.reference," "):e.Signedup?s.a.createElement("a",{className:"btn btn-purple w-100 font-medium m-b-10",href:e.Attendees[0].reference||"#",target:"_blank"}," Go to room "):s.a.createElement("a",{onClick:function(){return t.submitStartNow(e)},className:"btn btn-purple w-100 font-medium m-b-10"}," Sign up ")}},{key:"getMobileDate",value:function(e){return bo()(e,"YYYY-MM-DD HH:mm:ss").format("dd").charAt(0)}},{key:"getMobileDay",value:function(e){return bo()(e).format("DD")}},{key:"renderMobileWeekDays",value:function(e){var t=this;if(e){var a=this.state.selectDate,o=bo()(a).format("YYYY-MM-DD");return e.map((function(e,a){return s.a.createElement("div",{className:"months-list float-left",key:a},s.a.createElement("span",{onClick:function(){t.changeSelectedDate(e)},className:e===o?"active":"pointer"},s.a.createElement("div",{className:"text-center"},t.getMobileDate(e)),s.a.createElement("div",{className:"text-center"},t.getMobileDay(e))))}))}}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"row border-box m-b-50"},s.a.createElement("h4",{className:"card-header section_header date-heading w-100 font-medium text-center text-white"},this.seletedMonthDay()),s.a.createElement("div",{className:"listname w-100 desktop-view"},this.renderPreviousWeekIcon(),this.renderWeekDays(this.state.selectedWeek),this.renderNextWeekIcon()),s.a.createElement("div",{className:"listname w-100 mobile-view"},this.renderPreviousWeekIcon(),this.renderMobileWeekDays(this.state.selectedWeek),this.renderNextWeekIcon()),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null)),!this.state.Loading&&this.renderListData()),s.a.createElement(hl,{is_model_open:this.state.modelState,modelData:this.state.modelData,modelClose:this.modelClose}))}}]),a}(s.a.Component),fl={fetchClassList:Ia,start_loader:ht,stop_loader:gt,loginModelOpen:pt,joinClass:ja,fetchGroupWorkout:eo,cancelClass:Ta,pushHistory:Qt},bl=(Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),fl)(gl),a(200)),vl=a(383),El=a(919),yl=function(e){return e.allowSelectAll&&e.creatable?s.a.createElement(vl.a,Object.assign({},e,{styles:{menuPortal:function(e){return Object(m.a)(Object(m.a)({},e),{},{zIndex:9999,textTransform:"capitalize"})}},menuPortalTarget:document.querySelector("modal-dialog"),className:e.className,placeholder:e.placeholder,isClearable:!0,options:[e.allOption].concat(Object(Lo.a)(e.options)),ref:e.innerRef,onChange:function(t,a){if(null!==t&&t.length>0){if(t[t.length-1].value===e.allOption.value)return e.onChange([e.allOption].concat(Object(Lo.a)(e.options)),a.name);var o=[];if(t.length===e.options.length)return t.includes(e.allOption)?o=t.filter((function(t){return t.value!==e.allOption.value})):"select-option"===a.action&&(o=[e.allOption].concat(Object(Lo.a)(e.options))),e.onChange(o,a.name)}return e.onChange(t,a.name)},onCreateOption:e.onCreateOption})):!e.allowSelectAll&&e.creatable?s.a.createElement(vl.a,Object.assign({},e,{styles:{menuPortal:function(e){return Object(m.a)(Object(m.a)({},e),{},{zIndex:9999,textTransform:"capitalize"})}},menuPortalTarget:document.querySelector("modal-dialog"),className:e.className,placeholder:e.placeholder,isClearable:!0,options:Object(Lo.a)(e.options),ref:e.innerRef,onChange:function(t,a){return e.onChange(t,a.name)},onCreateOption:e.onCreateOption})):e.allowSelectAll&&!e.creatable?s.a.createElement(bl.a,Object.assign({},e,{styles:{menuPortal:function(e){return Object(m.a)(Object(m.a)({},e),{},{zIndex:9999,textTransform:"capitalize"})}},menuPortalTarget:document.querySelector("modal-dialog"),className:e.className,placeholder:e.placeholder,isClearable:!0,options:[e.allOption].concat(Object(Lo.a)(e.options)),ref:e.innerRef,onChange:function(t,a){if(null!==t&&t.length>0){if(t[t.length-1].value===e.allOption.value)return e.onChange([e.allOption].concat(Object(Lo.a)(e.options)),a.name);var o=[];if(t.length===e.options.length)return t.includes(e.allOption)?o=t.filter((function(t){return t.value!==e.allOption.value})):"select-option"===a.action&&(o=[e.allOption].concat(Object(Lo.a)(e.options))),e.onChange(o,a.name)}return e.onChange(t,a.name)}})):e.allowSelectAll||e.creatable||e.isAsync?e.isAsync?s.a.createElement(El.a,Object.assign({},e,{styles:{menuPortal:function(e){return Object(m.a)(Object(m.a)({},e),{},{zIndex:9999,textTransform:"capitalize"})}},menuPortalTarget:document.querySelector("modal-content"),placeholder:e.placeholder,onChange:function(t,a){return e.onChange(t,a.name)},className:e.className,ref:e.innerRef,cacheOptions:!0,loadOptions:e.loadOptions,defaultOptions:e.defaultOptions})):s.a.createElement(vl.a,Object.assign({},e,{styles:{menuPortal:function(e){return Object(m.a)(Object(m.a)({},e),{},{zIndex:9999,textTransform:"capitalize"})}},menuPortalTarget:document.querySelector("modal-dialog"),className:e.className})):s.a.createElement(bl.a,Object.assign({},e,{styles:{menuPortal:function(e){return Object(m.a)(Object(m.a)({},e),{},{zIndex:9999,textTransform:"capitalize"})}},menuPortalTarget:document.querySelector("modal-dialog"),placeholder:e.placeholder,options:e.options,ref:e.innerRef,onChange:function(t,a){return e.onChange(t,a.name)},className:e.className}))};yl.defaultProps={allOption:{label:"Select all",value:"*"}};var _l=yl,kl=a(78),Nl=a.n(kl),wl=a(33),Cl=a(177),xl=a(920),Sl=a.n(xl),Ol=a(549),Ll=a.n(Ol),Dl=(a(1485),function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e))._isMounted=!1,o.onSelectFile=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){return o.setState({src:t.result})})),t.readAsDataURL(e.target.files[0])}},o.onImageLoaded=function(e){o.imageRef=e},o.onCropComplete=function(e){o.makeClientCrop(e)},o.onCropChange=function(e,t){o.setState({crop:e})},o.state={src:null,crop:{},imageModalOpen:o.props.is_image_model},o.imageElement=s.a.createRef(),o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.cancelCrop=o.cancelCrop.bind(Object(is.a)(o)),o.saveCrop=o.saveCrop.bind(Object(is.a)(o)),o.cropperInitiate=o.cropperInitiate.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("viji-Componentdidmount",this.imageElement);this.props.crop}},{key:"componentWillReceiveProps",value:function(){}},{key:"_setCropBoxData",value:function(){console.log("_setcripboxdata");var e=this.props.width,t=this.props.height;this.refs.cropper.setCropBoxData({width:e,height:t})}},{key:"_crop",value:function(){var e=this;console.log("_crop",this.refs.cropper.getCroppedCanvas());var t=this.refs.cropper.getCroppedCanvas();t.toBlob((function(t){t?(window.URL.revokeObjectURL(e.fileUrl),e.fileUrl=window.URL.createObjectURL(t),e.setState({blobFile:t})):console.error("Canvas is empty")}),"image/jpeg"),this.setState({croppedImageUrl:t.toDataURL("image/png")})}},{key:"onCropperInit",value:function(e){console.log("onCropperInit",e),this.cropper=e}},{key:"cropperInitiate",value:function(){var e=this;console.log("viji-cropperInitiate",this.props);var t=new Ll.a(this.imageElement.current,{scalable:!1,cropBoxResizable:!1,aspectRatio:this.props.aspectRatio,background:!1,width:800,height:485,crop:function(){var a=t.getCroppedCanvas();a.toBlob((function(t){t?(window.URL.revokeObjectURL(e.fileUrl),e.fileUrl=window.URL.createObjectURL(t),e.setState({blobFile:t})):console.error("Canvas is empty")}),"image/jpeg"),e.setState({imageDestination:a.toDataURL("image/png"),croppedImageUrl:a.toDataURL("image/png")})}})}},{key:"makeClientCrop",value:function(){var e=Object(nt.a)(st.a.mark((function e(t){var a;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,this.getCroppedImg(this.imageRef,t,"newFile.jpeg");case 3:a=e.sent,this.setState({croppedImageUrl:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCroppedImg",value:function(e,t,a){var o=this,s=document.createElement("canvas"),n=e.naturalWidth/e.width,r=e.naturalHeight/e.height;return s.width=t.width,s.height=t.height,s.getContext("2d").drawImage(e,t.x*n,t.y*r,t.width*n,t.height*r,0,0,t.width,t.height),new Promise((function(e,t){s.toBlob((function(t){t?(t.name=a,window.URL.revokeObjectURL(o.fileUrl),o.fileUrl=window.URL.createObjectURL(t),o.setState({blobFile:t}),e(o.fileUrl)):console.error("Canvas is empty")}),"image/jpeg")}))}},{key:"closeModel",value:function(){this.props.imageCropOpenPopup(!1);var e={croppedImageUrl:"",blobFile:1+99*Math.random()};this.props.setCroppedImage(e)}},{key:"cancelCrop",value:function(){this.setState({src:null}),this.props.imageCropOpenPopup(!1),this.closeModel()}},{key:"saveCrop",value:function(){var e=this.state,t={croppedImageUrl:e.croppedImageUrl,blobFile:e.blobFile};this.props.setCroppedImage(t),this.props.imageCropOpenPopup(!1)}},{key:"render",value:function(){var e=this.state,t=(e.src,e.croppedImageUrl,e.crop,this.props.is_image_crop_open);return console.log("this.props.src",this.props),s.a.createElement("div",null,s.a.createElement(ls.a,{classNames:{overlay:"customOverlay",modal:"customModal"},open:t,onClose:function(){},center:!0},s.a.createElement("div",{className:("false"!=Go.Cookies.get("closeBanner")||this.props.close_banner,"modal-dialog modal-width--custom cms-model m-t-80"),role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling"},s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value"},s.a.createElement("div",null,s.a.createElement(Ll.a,{ref:"cropper",src:this.props.src,autoCropArea:0,style:{height:"500px"},aspectRatio:this.props.aspectRatio?this.props.aspectRatio:"NAN",guides:!1,crop:this._crop.bind(this),minCropBoxWidth:400,minCropBoxHeight:100,minContainerWidth:this.props.width,minContainerHeight:this.props.height,ready:this._setCropBoxData.bind(this),dragMode:"none",viewMode:1})),s.a.createElement("div",{className:"col-12 col-md-12 col-lg-12 text-center p-0 m-b-15 float-right"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 text-right mt-3"},s.a.createElement("button",{onClick:this.cancelCrop,className:" btn btn-red tx-tfm font-book font-14 mr-3"},"Cancel "),s.a.createElement("button",{className:" btn btn-login tx-tfm font-book font-14",onClick:this.saveCrop},"Crop and Save ")))))))))}}]),a}(s.a.Component)),Ml={imageCropOpenPopup:ba,setCroppedImage:function(e){return function(t,a){t({type:"set_cropped_image",payload:e})}}},Il=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,is_image_crop_open:e.workout.is_image_crop_open}}),Ml)(Dl),jl=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={isRead:!1},o}return Object(Wo.a)(a,[{key:"onCloseModal",value:function(){}},{key:"render",value:function(){var e=this;Go.Cookies.get("condition");return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog common_design modal-width--custom live-classes--popup",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center white-txt col-md-12 p-0 font-book font-24",id:"exampleModalLabel "},this.props.title?this.props.title:"Heads Up!"),this.props.isCloseRequired&&s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.props.closeConfirmationPopup("Yes")}},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},s.a.createElement("div",null,"policy"==this.props.type&&s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 text-center m-b-30 mr-auto ml-auto"},s.a.createElement("p",{className:"font-18 font-qregular black-txt"},"We\u2019ve been reviewing our ",s.a.createElement("a",{className:"black-txt font-semibold",href:"/terms",target:"_blank"}," ",s.a.createElement("u",null,"terms and conditions"))," and ",s.a.createElement("a",{className:"black-txt font-semibold",href:"/terms",target:"_blank"}," ",s.a.createElement("u",null,"privacy policy"))," and have made a few changes that we need you to agree to before continuing to use Beam. Please read these and confirm that you are happy to agree to them below:")),s.a.createElement("div",{className:"toggle-btns float-left w-100"},s.a.createElement("span",{className:"font-18 font-qregular black-txt"},"I agree to Beam\u2019s T&Cs and privacy policy\u2026"),s.a.createElement("label",{className:"switch m-l-10 pull-right",htmlFor:"terms"},s.a.createElement("input",{type:"checkbox",name:"terms",id:"terms",defaultChecked:this.props.terms,onChange:this.props.handleCheckboxChange,value:this.props.terms}),s.a.createElement("div",{className:"slider round"})),this.props.submitted&&!this.props.terms&&s.a.createElement("p",{className:"text-danger m-t-10"},"* We require this consent to allow you to use Beam."))),"policy"!=this.props.type&&s.a.createElement("div",{className:"col-md-12 text-center m-b-30 mr-auto ml-auto"},s.a.createElement("p",{className:"font-15 font-semibold black-txt"},this.props.desc?this.props.desc:"Are you sure you want to close and lose your changes?")),this.props.isConfirmation&&s.a.createElement("div",{className:"buttons-read w-100 m-t-20 float-left text-center pointer"},s.a.createElement("a",{className:"btn btn-blue-inverse font-14 read-now m-r-20",onClick:function(){return e.props.closeConfirmationPopup("Yes")}},this.props.yesButton?this.props.yesButton:"Yes"),s.a.createElement("a",{className:"btn btn-blue-inverse font-14 read-later m-l-20 pointer",onClick:function(){return e.props.closeConfirmationPopup("No")}},this.props.noButton?this.props.noButton:"No")),!this.props.isConfirmation&&s.a.createElement("div",{className:"buttons-read w-100 m-t-20 float-left text-center pointer"},s.a.createElement("a",{className:"btn btn-blue-inverse font-14 read-later m-l-20 pointer",onClick:function(){return e.props.closeConfirmationPopup(e.props.terms)}},"Continue")))))))}}]),a}(s.a.Component),Tl=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData}}),{})(jl),Fl=a(236),Pl=a.n(Fl),Ul=(a(753),a(153)),Rl=a.n(Ul),Wl=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={loading:!1,submitted:!1,pollList:{workoutId:"",pollName:"",pollValues:{}},randomArray:[1,2,3,4,5,6,7,8,9,10],pollQuestionsArray:[],questionTemplate:{name:"",type:"single",answers:[]},isQueSecError:!1,showQuestions:!0,isEdit:!1,editingKey:"",titleText:"Add",isShowSave:!0},o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.renderQuestions=o.renderQuestions.bind(Object(is.a)(o)),o.addQuestion=o.addQuestion.bind(Object(is.a)(o)),o.removeQuestion=o.removeQuestion.bind(Object(is.a)(o)),o.handleChangeQuestions=o.handleChangeQuestions.bind(Object(is.a)(o)),o.validateQuestions=o.validateQuestions.bind(Object(is.a)(o)),o.handleChangeAnswers=o.handleChangeAnswers.bind(Object(is.a)(o)),o.clearQuestionTemplate=o.clearQuestionTemplate.bind(Object(is.a)(o)),o.editQuestion=o.editQuestion.bind(Object(is.a)(o)),o.submitQuestion=o.submitQuestion.bind(Object(is.a)(o)),o.saveQuestion=o.saveQuestion.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.liveclass_detail_data.liveClasses?this.props.liveclass_detail_data.liveClasses.liveclass.Polls:[],t=this.props.liveclass_detail_data.liveClasses?this.props.liveclass_detail_data.liveClasses.liveclass.id:"";if(console.log("props",this.props),console.log("this.props.editPollKey",this.props.editPollKey),"string"!=typeof this.props.editPollKey&&this.props.editPollKey>=0){e.workoutId=t;var a="string"==typeof e[this.props.editPollKey].pollValues?JSON.parse(e[this.props.editPollKey].pollValues):e[this.props.editPollKey].pollValues;e[this.props.editPollKey].pollValues=a,this.setState({pollList:e[this.props.editPollKey],pollQuestionsArray:a,titleText:"Edit"})}else e&&(e.workoutId=t,this.setState({pollList:e}))}},{key:"componentWillReceiveProps",value:function(e){}},{key:"onCloseModal",value:function(){}},{key:"closeModel",value:function(){this.props.setPollModal(!1)}},{key:"handleChange",value:function(e){console.log("handleChange",e.target);var t=e.target,a=t.name,o=t.value,s=this.state.pollList;this.setState({pollList:Object(m.a)(Object(m.a)({},s),{},Object(rs.a)({},a,o))})}},{key:"handleChangeQuestions",value:function(e){var t=e.target,a=t.name,o=t.value,s=(this.state.questionTemplate,this.state.questionTemplate);s[a]=o,this.setState({questionTemplate:s})}},{key:"handleChangeAnswers",value:function(e,t){console.log("handleChange",e.target);var a=e.target,o=(a.name,a.value),s=this.state.questionTemplate;this.state.questionTemplate.answers[t]=o,this.setState({questionTemplate:s})}},{key:"validateQuestions",value:function(e){var t=e;return!!(t.name&&t.type&&t.answers.length>=2)}},{key:"clearQuestionTemplate",value:function(){var e=this.state.questionTemplate;e.name="",e.type="single",e.answers=[],this.setState({questionTemplate:e}),console.log("clearQuestionTemplate",this.state.questionTemplate)}},{key:"addQuestion",value:function(){this.setState({showQuestions:!0}),this.clearQuestionTemplate()}},{key:"saveQuestion",value:function(){var e=Object.assign({},this.state.questionTemplate),t=this.state.pollQuestionsArray;this.validateQuestions(e)?(this.setState({showQuestions:!1,isShowSave:!1}),this.state.isEdit?t[this.state.editingKey]=e:t.push(e),this.setState({pollQuestionsArray:t,isQueSecError:!1,isEdit:!1,editingKey:""},(function(){}))):this.setState({isQueSecError:!0})}},{key:"removeQuestion",value:function(e){var t=this.state.pollQuestionsArray;this.clearQuestionTemplate(),e>-1&&t.splice(e,1),this.setState({pollQuestionsArray:t})}},{key:"editQuestion",value:function(e){var t=this.state.pollQuestionsArray;this.state.questionTemplate;console.log("temp",t),this.setState({showQuestions:!0,isShowSave:!0,isEdit:!0,questionTemplate:t[e],editingKey:e})}},{key:"submitQuestion",value:function(){var e=this;this.setState({submitted:!0});var t=this.state,a=t.pollList,o=t.pollQuestionsArray;console.log("polllist",a),console.log("pollQuestionsArray",o),a.pollValues=o,console.log("params",a),!a.workoutId||!a.pollName||!a.pollValues.length>0||(console.log("params",a),this.setState({submitted:!1}),this.props.savePoll(a).then((function(t){e.props.setPollModal(!1);var a=t;a.status?at.b.success(a.message):at.b.error(a.message)}),(function(e){})))}},{key:"renderQuestions",value:function(){var e=this,t=this.state;t.submitted,t.showQuestions;return console.log("this.state.questionTemplate",this.state.questionTemplate),s.a.createElement("div",{class:"m-b-10"},s.a.createElement("div",{className:"poll-questions-section"},s.a.createElement("div",{className:"form-group"},s.a.createElement("textarea",{row:"3",className:"form-control",name:"name",placeholder:"Type your question here.",onChange:function(t){e.handleChangeQuestions(t)},value:this.state.questionTemplate.name})),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"row col-lg-12"},s.a.createElement("div",{className:""},s.a.createElement("input",{id:"radio-single",name:"type",value:"single",defaultChecked:"single"===this.state.questionTemplate.type,type:"radio",onChange:function(t){e.handleChangeQuestions(t)}})),s.a.createElement("label",{htmlFor:"radio-single",className:"radio-label col-md-4"},"Single Choice"),s.a.createElement("div",{className:""},s.a.createElement("input",{id:"radio-multiple",name:"type",value:"multiple",defaultChecked:"multiple"===this.state.questionTemplate.type,type:"radio",onChange:function(t){e.handleChangeQuestions(t)}})),s.a.createElement("label",{htmlFor:"radio-multiple",className:"radio-label col-md-4"},"Multiple Choice"))),this.state.randomArray.map((function(t,a){return s.a.createElement("div",{key:a,className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",id:"title","aria-describedby":"emailHelp",placeholder:"Answer "+t+(t>2?" (Optional)":""),name:"answer_"+a,value:e.state.questionTemplate.answers[a]?e.state.questionTemplate.answers[a]:"",onChange:function(t){e.handleChangeAnswers(t,a)}}))}))))}},{key:"renderQuestionsData",value:function(){var e=this;return s.a.createElement("div",{class:"m-b-10"},this.state.pollQuestionsArray.map((function(t,a){return s.a.createElement("div",{className:"row",key:a},s.a.createElement("div",{className:"col-md-1"},s.a.createElement("p",null,a+1,".")),s.a.createElement("div",{className:"col-md-9"},t.name),s.a.createElement("div",{className:"col-md-2"},s.a.createElement("span",{onClick:function(){e.removeQuestion(a)},className:"pull-right pointer twitter-color"},"Delete"),s.a.createElement("span",{onClick:function(){e.editQuestion(a)},className:"pull-right pointer twitter-color m-r-10"},"Edit")))})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.submitted,o=t.titleText;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_poll_modal_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog modal-width--custom cms-model m-t-80",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling"},s.a.createElement("h5",{className:"modal-title text-left col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"},o," a Poll"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){e.closeModel()}},"\xd7"))),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("div",{className:"form-group"+(a&&!this.state.pollList.pollName?"has-error":"")},s.a.createElement("input",{type:"text",className:"form-control poll-title",id:"title","aria-describedby":"emailHelp",placeholder:"Enter a title for this poll.",name:"pollName",value:this.state.pollList.pollName,onChange:this.handleChange}),a&&!this.state.pollList.pollName&&s.a.createElement("div",{className:"text-danger"},"Class Name is required")),this.renderQuestionsData(),this.state.showQuestions&&this.renderQuestions(),s.a.createElement("div",{className:"row"},this.state.isQueSecError&&s.a.createElement("div",{className:"col-md-12"},s.a.createElement("p",{className:"text-danger"},"Please add a title and at least two answers to this question before adding another.")),!this.state.isShowSave&&s.a.createElement("div",{className:"col-md-12 text-center"},s.a.createElement("p",{onClick:function(){e.setState({isShowSave:!0}),e.addQuestion()},className:"pointer twitter-color"},"+ Add a Question")),this.state.isShowSave&&s.a.createElement("div",{className:"col-md-12 text-center"},s.a.createElement("p",{onClick:function(){e.saveQuestion()},className:"pointer twitter-color"},"Save Question")),this.state.submitted&&s.a.createElement("div",{className:"col-md-12"},s.a.createElement("p",{className:"text-danger"},"Please give required details before save.")),s.a.createElement("div",{className:"col-md-12 m-b-20 m-t-20"},s.a.createElement("button",{className:"btn btn-blue-inverse popup-btn pull-right col-md-4",onClick:function(){e.closeModel()}},"   Cancel"),s.a.createElement("button",{className:"btn btn-login popup-btn m-r-10 h-auto pull-right col-md-4",onClick:function(){e.submitQuestion()}},"Save"))))))))}}]),a}(s.a.Component),Al={setPollModal:Wa,savePoll:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/liveclass/savePoll",o).then((function(e){return go(e,t)})).then((function(e){return console.log("response-savepoll",e),t({type:"update_poll_values",payload:e.polls}),e}))}}},Bl=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,is_poll_modal_open:e.liveclass.is_poll_modal_open,liveclass_detail_data:e.liveclass.liveclass_detail_data}}),Al)(Wl);Option=function(e){return s.a.createElement("div",null,s.a.createElement("div",{className:0==e.data.tagCount&&e.selectProps.isRemoveable?"pull-left optionWidth":"pull-left w-100"},s.a.createElement(wl.f.Option,e,s.a.createElement("input",{type:"checkbox",checked:e.isSelected,onChange:function(){return null}})," ",s.a.createElement("label",null,e.label," ","*"!=e.value&&e.selectProps.isRemoveable&&s.a.createElement("span",{className:"black-txt font-semibold"},"(",e.data.tagCount,")"),"  "))),0===e.data.tagCount&&e.selectProps.isRemoveable&&s.a.createElement("button",{onClick:function(){return e.selectProps.removeTag(e.value,e.selectProps.name)},className:"btn pull-right orangefont removeTagBtn"},"X"))};var ql="*",Yl=function(e){var t=e.children,a=Object(Yo.a)(e,["children"]),o=t;return a.getValue().some((function(e){return e.value===ql}))&&(o=[[t[0][0]],t[1]]),s.a.createElement(wl.f.ValueContainer,a,o)},Gl=function(e){var t="".concat(e.data.label);return e.data.value===ql&&(t="All is selected"),s.a.createElement(wl.f.MultiValue,e,s.a.createElement("span",null,t))},Vl=Object(Cl.a)(),Hl=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).handleChangeDate=function(e){var t=o.state.liveclass;o.setState({liveclass:Object(m.a)(Object(m.a)({},t),{},{startdate:e})});var a=o.formatDate(e)+" "+t.whentime+" "+t.whenam;o.calculateZoneBasedDate(a)},o.handleChangeEndDate=function(e){console.log("handleChangeEndDate"+e);var t=o.state.liveclass;o.setState({liveclass:Object(m.a)(Object(m.a)({},t),{},{enddate:e})})},o.handleChangeTextEdit=function(e){var t=e.editor.getData();"edit"===o.props.cms_model_type&&o.state.workoutDescription!==t&&o.setState({enableButton:!1});var a=o.state.workout;o.setState({editorValue:e,workout:Object(m.a)(Object(m.a)({},a),{},{description:e.editor.getData()}),description:e.editor.getData()})},o.createOption=function(e){return{label:e,value:e.toLowerCase().replace(/\W/g,"")}},o.handleCreate=function(e,t){var a=o.state.optionSelected,s={type:t,tag:e},n=Object(is.a)(o);o.props.createNewTag(s).then((function(e){console.log("result",e);var t=e.data,o=t.type,s={label:t.tag,value:t.id,tagCount:0};switch(a[o].push(s),n.setState({optionSelected:a}),o){case"videotype":(r=n.state.classTypeOptions).push(s),console.log("newOptions",r),n.setState({classTypeOptions:r});break;case"discipline":(r=n.state.disciplineOptions).push(s),n.setState({disciplineOptions:r});break;case"benefit":(r=n.state.benefitOptions).push(s),n.setState({benefitOptions:r});break;case"equipment":var r;(r=n.state.equipmentOptions).push(a),n.setState({equipmentOptions:r})}})),o.setState({isLoading:!1,optionSelected:a})},o.onImageChange=function(e){if(e.target.files&&e.target.files[0]){o.props.imageCropOpenPopup(!0),o.setState({imageModel:!0});var t=URL.createObjectURL(e.target.files[0]),a=o.state.workout;o.setState({workout:Object(m.a)(Object(m.a)({},a),{},{postFile:e.target.files[0],videoImg:t})})}},o.state={zoomUsers:[],timeList:[],amPmList:["AM","PM"],hrsOptions:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],minsOptions:[0,15,30,45],recurrenceOptions:["Daily","Weekly","Monthly"],ocurrencesOptions:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],repeatOptions:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],repeatWeekOptions:[1,2,3,4,5,6,7,8,9,10,11,12],repeatMonthOptions:[1,2,3],repeatText:"day",occursonWeeklyDay:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],occursonMonthlyDay:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],occursonMonthlyWeek:["First","Second","Third","Fourth","Last"],occursonMonthlyWeekDay:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],timeZoneOptions:Sl.a,editorValue:Nl.a.createEmptyValue(),submitted:!1,submittedSchedule:!1,loading:!1,isCropped:!1,error:"",workout:{isLive:0,isPhysioLed:0},isLive:1,workoutId:"",workoutDescription:"",disciplineOptions:[],conditionOptions:[],classTypeOptions:[],benefitOptions:[],equipmentOptions:[],levelOptions:[],instructorOptions:[],recordingofOptions:[],enableButton:!0,openModel:!1,optionSelected:{discipline:[],benefit:[],instructor:[],equipment:[],level:[],condition:[],classType:[],instructorUser:[],recordingof:[]},videoUrlError:!1,crop:{unit:"px",x:0,y:0,width:800,height:485,aspect:16/9,disabled:!0,locked:!0},liveclass:{startdate:new Date,whentime:"1:00",whenam:"AM"},showZoomOptions:!1,classList:[],loadingSchedule:!1,saveClassError:!1,savePollError:!1,editSec:"",cancelSec:"",pollList:[],editPoll:[],editPollKey:"",videoTypeLiveclass:[],isTagCreatable:!0,isValidWorkoutId:!1},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.handleChangeDate=o.handleChangeDate.bind(Object(is.a)(o)),o.calculateZoneBasedDate=o.calculateZoneBasedDate.bind(Object(is.a)(o)),o.handleChangeTextEdit=o.handleChangeTextEdit.bind(Object(is.a)(o)),o.handleMultiSelectChange=o.handleMultiSelectChange.bind(Object(is.a)(o)),o.handleLiveClassChange=o.handleLiveClassChange.bind(Object(is.a)(o)),o.handleRecurrenceChange=o.handleRecurrenceChange.bind(Object(is.a)(o)),o.handleInstructorChange=o.handleInstructorChange.bind(Object(is.a)(o)),o.handleMultiCheckboxChange=o.handleMultiCheckboxChange.bind(Object(is.a)(o)),o.handleCreate=o.handleCreate.bind(Object(is.a)(o)),o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.onSubmitWorkout=o.onSubmitWorkout.bind(Object(is.a)(o)),o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.clearState=o.clearState.bind(Object(is.a)(o)),o.onCloseModel=o.onCloseModel.bind(Object(is.a)(o)),o.closeConfirmationPopup=o.closeConfirmationPopup.bind(Object(is.a)(o)),o.fillTimeList=o.fillTimeList.bind(Object(is.a)(o)),o.defaultDateTime=o.defaultDateTime.bind(Object(is.a)(o)),o.removeTag=o.removeTag.bind(Object(is.a)(o)),o.addToSchedule=o.addToSchedule.bind(Object(is.a)(o)),o.confirmCancel=o.confirmCancel.bind(Object(is.a)(o)),o.resetZoom=o.resetZoom.bind(Object(is.a)(o)),o.renderAddScheduleSection=o.renderAddScheduleSection.bind(Object(is.a)(o)),o.renderCancelSection=o.renderCancelSection.bind(Object(is.a)(o)),o.updateFreeClass=o.updateFreeClass.bind(Object(is.a)(o)),o.getInstructor=o.getInstructor.bind(Object(is.a)(o)),o.deletePollData=o.deletePollData.bind(Object(is.a)(o)),o.presetZoom=o.presetZoom.bind(Object(is.a)(o)),o.checkWatchPartyWorkoutId=o.checkWatchPartyWorkoutId.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.defaultDateTime(),console.log("timeZoneOptions",this.state.timeZoneOptions),this.fillTimeList();var t=this.props.liveclass_detail_data.liveClasses?this.props.liveclass_detail_data.liveClasses.liveclass:{},a=this.props.liveclass_detail_data.liveClasses?this.props.liveclass_detail_data.liveClasses.occurrences:[],o=this.props.liveclass_detail_data.liveClasses?this.props.liveclass_detail_data.liveClasses.liveclass.Polls:[];t.vlength=t.length;var s=t?t.id:"",n=(t&&t.recordingOf,t&&t.InstructorId?t.InstructorId:"");console.log("classList",t);var r=!this.props.logged_userData.isStudyLeader&&(this.props.logged_userData.isCreator||!this.props.is_group_admin&&!this.props.is_group_leader);this.setState({classList:a||[],pollList:o||[],workout:t,workoutId:s,workoutDescription:t.description,editorValue:Nl.a.createValueFromString(t.description,"html"),isTagCreatable:r}),setTimeout((function(){console.log("Latetime-desc"),e.setState({description:t.description})}),1500);var i=_o.replaceChar(Go.Cookies.get("condition"),!0),l=this.props.groupId;this.props.getZoomUsers(i,l).then((function(t){t&&t.list.length>0&&e.setState({zoomUsers:t.list})}),(function(e){})),this.props.getTags("discipline",s).then((function(t){if(t){if(t.data.editTags.length>0){var a=t.data.editTags,o=e.state.optionSelected;a.forEach((function(e){o.discipline.push(e.Tag)})),e.setState({optionSelected:o})}e.setState({disciplineOptions:t.data.tags})}}),(function(e){})),this.props.getTags("benefit",s).then((function(t){if(t){if(t.data.editTags.length>0){var a=t.data.editTags,o=e.state.optionSelected;a.forEach((function(e){o.benefit.push(e.Tag)})),e.setState({optionSelected:o})}e.setState({benefitOptions:t.data.tags})}}),(function(e){})),this.props.getTags("equipment",s).then((function(t){if(t){if(t.data.editTags.length>0){var a=t.data.editTags,o=e.state.optionSelected;a.forEach((function(e){o.equipment.push(e.Tag)})),e.setState({optionSelected:o})}e.setState({equipmentOptions:t.data.tags})}}),(function(e){})),this.props.getTags("level",s).then((function(t){if(t){if(t.data.editTags.length>0){var a=t.data.editTags,o=e.state.optionSelected;a.forEach((function(e){o.level.push(e.Tag)})),e.setState({optionSelected:o})}e.setState({levelOptions:t.data.tags})}}),(function(e){})),this.props.getTags("condition",s).then((function(t){if(t){if(t.data.editTags.length>0){var a=t.data.editTags,o=e.state.optionSelected;a.forEach((function(e){o.condition.push(e.Tag)})),e.setState({optionSelected:o})}if(!s){o=e.state.optionSelected;var r=Eo.a.filter(t.data.tags,(function(e){return e.label===_o.replaceChar(Go.Cookies.get("condition"),!0)}));o.condition=r,e.setState({optionSelected:o})}e.setState({conditionOptions:t.data.tags});var i=Eo.a.map(e.state.optionSelected.condition,"value");console.log("ids-condition",i),e.getInstructor(n,i)}}),(function(e){})),this.props.getTags("videoType",s).then((function(t){if(t){if(t.data.editTags.length>0){var a=t.data.editTags,o=e.state.optionSelected;a.forEach((function(t){var a=[];"Live Class Recording"==t.Tag.label&&(a.push(t.tag),e.setState({videoTypeLiveclass:a})),o.classType.push(t.Tag)})),e.setState({optionSelected:o})}var s=t.data.tags.filter((function(e){return"Exercise"===e.label||"Education"===e.label}));e.setState({classTypeOptions:s})}}),(function(e){}))}},{key:"componentWillReceiveProps",value:function(e){this.defaultDateTime(),console.log("CMS-componentWillReceiveProps",e);var t=this.state.workout;this.props.is_poll_modal_open!=e.is_poll_modal_open&&this.setState({pollList:e.liveclass_detail_data.liveClasses.liveclass.Polls?e.liveclass_detail_data.liveClasses.liveclass.Polls:[]}),this.props.cropped_image!=e.cropped_image&&e.cropped_image?this.setState({isCropped:!0,workout:Object(m.a)(Object(m.a)({},t),{},{videoImg:e.cropped_image,postFile:e.cropped_file})}):e.cropped_image||this.setState({workout:Object(m.a)(Object(m.a)({},t),{},{videoImg:e.cropped_image,postFile:e.cropped_file})})}},{key:"getInstructor",value:function(e,t){var a=this;this.props.getInstructor(e,t,this.props.groupId,_o.replaceChar(Go.Cookies.get("condition"),!0)).then((function(e){if(e){if(e.data.editTags){var t=e.data.editTags;(o=a.state.optionSelected).instructorUser.push(t),a.setState({optionSelected:o}),console.log("optionSelected",a.state.optionSelected)}else{var o;(o=a.state.optionSelected).instructorUser=null,a.setState({optionSelected:o})}a.setState({instructorOptions:e.data.instructors})}}),(function(e){var t=a.state.optionSelected;t.instructorUser=null,a.setState({optionSelected:t,instructorOptions:[]})}))}},{key:"removeTag",value:function(e,t){var a=this;console.log("removeTags",e),console.log("type",t);var o={type:t,tag:e};this.props.removeTag(o).then((function(o){if(o.status){var s=a.state.optionSelected,n=Eo.a.filter(s[t],(function(t){return t.value!=e}));s[t]=n,console.log("newArra",n),a.setState({optionSelected:s});var r=a;switch(t){case"condition":s=Eo.a.filter(r.state.conditionOptions,(function(t){return t.value!=e}));r.setState({conditionOptions:s});break;case"classType":s=Eo.a.filter(r.state.classTypeOptions,(function(t){return t.value!=e}));r.setState({classTypeOptions:s});break;case"discipline":s=Eo.a.filter(r.state.disciplineOptions,(function(t){return t.value!=e}));r.setState({disciplineOptions:s});break;case"benefit":s=Eo.a.filter(r.state.benefitOptions,(function(t){return t.value!=e}));r.setState({benefitOptions:s});break;case"equipment":s=Eo.a.filter(r.state.equipmentOptions,(function(t){return t.value!=e}));r.setState({equipmentOptions:s});case"classType":s=Eo.a.filter(r.state.classTypeOptions,(function(t){return t.value!=e}));r.setState({classTypeOptions:s})}}}),(function(e){}))}},{key:"defaultDateTime",value:function(){var e=bo()().format("hh:mm A"),t=bo()(),a=this.state.liveclass,o=bo()().add(a.enddate_occur*a.repeat_every-1,"days").toString(),s=e.split(" ")[0].split(":")[1];console.log("currentTime",e),s<"30"?t.minutes(30):t.minutes(60);var n=_o.localTimeZoneName();console.log("newDate",new Date(o)),console.log("futureDateTime",t),this.setState({liveclass:Object(m.a)(Object(m.a)({},a),{},{whentime:t.format("h:mm"),whenam:t.format("A"),enddate:new Date(o),timezone:n})})}},{key:"resetZoom",value:function(){this.defaultDateTime();var e=this.state.liveclass;this.setState({editSec:"",submittedSchedule:!1,liveclass:Object(m.a)(Object(m.a)({},e),{},{userId:"",reason:"",isPreset:!1})})}},{key:"presetZoom",value:function(e){var t=this.state,a=t.liveclass,o=t.classList,s=o[e],n=s.scheduledFor.split(" "),r=bo()(s.scheduledFor),i=Eo.a.filter(this.state.zoomUsers,(function(e){return e.id===s.zoomUserId}));console.log("presetZoom",i);var l=i.length?i[0].zoomUserId:"",c=o[0].watchPartyWorkoutId,d=this.formatDate(n[0])+" "+a.whentime+" "+a.whenam;this.calculateZoneBasedDate(d),this.setState({editSec:"",submittedSchedule:!1,liveclass:Object(m.a)(Object(m.a)({},a),{},{userId:l,watchPartyWorkoutId:c,startdate:new Date(n[0]),reason:"",whentime:r.format("h:mm"),whenam:r.format("A"),isPreset:!!l})})}},{key:"onCloseModel",value:function(){}},{key:"closeConfirmationPopup",value:function(e){"Yes"===e&&this.props.ondemandCMSModelOpen(!1),this.setState({openModel:!1})}},{key:"fillTimeList",value:function(){for(var e=[],t=1;t<=12;t++){var a=t+":00";e.push(a),a=t+":15",e.push(a),a=t+":30",e.push(a),a=t+":45",e.push(a)}this.setState({timeList:e})}},{key:"calculateZoneBasedDate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){if(t)t=t;else t=e.formatDate(e.state.liveclass.startdate)+" "+e.state.liveclass.whentime+" "+e.state.liveclass.whenam;var a=e.state.liveclass.timezone,o=e.state.timeZoneOptions[a];console.log("STRIN",o),console.log("this.propsclasculae",e.props);var s=o.substring(o.indexOf("("),o.lastIndexOf(")")+1),n=o.replace(s,"(GMT"+bo()(t).tz(a).format("Z")+")"),r=e.state.timeZoneOptions;r[a]=n,e.setState({timeZoneOptions:r})}(t)}},{key:"handleChange",value:function(e){console.log("handleChange",e.target);var t=e.target,a=t.name,o=t.value,s=this.state.workout;"edit"===this.props.cms_model_type&&this.setState({enableButton:!1}),this.setState({videoLengthError:!1,videoUrlError:!1,workout:Object(m.a)(Object(m.a)({},s),{},Object(rs.a)({},a,o))})}},{key:"handleLiveClassChange",value:function(e){var t=e.target,a=t.name,o=t.value;console.log("handleLiveClassChange",a);var s=this.state.liveclass;console.log("handleLiveClassChange",s);var n,r,i=0;if("userId"==a){var l=Eo.a.filter(this.state.zoomUsers,(function(e){return e.zoomUserId===o}));console.log("newArra",l),r=l.length?l[0].id:"",console.log("zoomUserId",r),s.zoomUserId=r}if(this.setState({isValidWorkoutId:!1}),"day"==this.state.repeatText){var c;"enddate_occur"==a?n=o:"repeat_every"==a&&(i=o);var d=(n||s.enddate_occur)>1*(i||s.repeat_every),p=new Date(bo()().add(d-1,"days").toString());console.log("calculateEndDate"+p),this.setState({liveclass:Object(m.a)(Object(m.a)({},s),{},(c={},Object(rs.a)(c,a,o),Object(rs.a)(c,"enddate",p),c))})}else this.setState({liveclass:Object(m.a)(Object(m.a)({},s),{},Object(rs.a)({},a,o))});this.calculateZoneBasedDate(),console.log("handleLiveClassChange-end",this.state.liveclass)}},{key:"handleRecurrenceChange",value:function(e){var t=e.target,a=t.name,o=t.value;console.log("handleRecurrenceChange",o);var s=this.state.liveclass,n=1==o?"day":2==o?"week":3==o?"month":"day";this.setState({liveclass:Object(m.a)(Object(m.a)({},s),{},Object(rs.a)({},a,o)),repeatText:n})}},{key:"handleMultiSelectChange",value:function(e,t){var a=this.state.optionSelected;a[t]=e,console.log("handleMultiSelectChange",a),this.setState({optionSelected:a});var o=[];if("edit"===this.props.cms_model_type&&this.setState({enableButton:!1}),"condition"==t){var s=Eo.a.map(this.state.optionSelected.condition,"value");console.log("ids-condition",s),this.getInstructor("",s)}if("classType"==t){o=Eo.a.filter(a[t],(function(e){return"Live Class Recording"==e.label})),this.setState({videoTypeLiveclass:o});var n=Eo.a.filter(this.state.optionSelected.classType,(function(e){return e.label.toLowerCase()=="Education".toLowerCase()})),r=Eo.a.filter(this.state.disciplineOptions,(function(e){return e.label.toLowerCase()=="Education".toLowerCase()})),i=Eo.a.filter(this.state.optionSelected.discipline,(function(e){return e.label.toLowerCase()=="Education".toLowerCase()}));0==i.length&&n.length?(a.discipline=a.discipline?a.discipline:[],a.discipline.push(r[0])):i.length&&0==n.length&&a.discipline.splice(this.state.optionSelected.discipline.findIndex((function(e){return e.label.toLowerCase()=="Education".toLowerCase()})),1)}}},{key:"handleInstructorChange",value:function(e,t){var a=this.state.optionSelected;a[t]=e,"edit"===this.props.cms_model_type&&this.setState({enableButton:!1}),this.setState({optionSelected:a})}},{key:"handleCheckboxChange",value:function(e){var t=e.target,a=(t.name,t.value,this.state.workout.isPhysioLed),o=this.state.workout;"edit"===this.props.cms_model_type&&this.state.workout.isPhysioLed!==!a&&this.setState({enableButton:!1}),this.setState({workout:Object(m.a)(Object(m.a)({},o),{},{isPhysioLed:!a})})}},{key:"handleMultiCheckboxChange",value:function(e){var t=e.target.value,a=[];if(this.state.liveclass.occurson.length>0){a=Object(Lo.a)(this.state.liveclass.occurson);var o=this.state.liveclass.occurson.findIndex((function(e){return e===t}));o>-1?a.splice(o,1):a.push(t)}else(a=Object(Lo.a)(this.state.liveclass.occurson)).push(t);this.state.liveclass.occurson=a}},{key:"clearState",value:function(){this.setState({submitted:!1,loading:!1})}},{key:"closeModel",value:function(){this.clearState(),this.state.enableButton?this.props.ondemandCMSModelOpen(!1):this.setState({openModel:!0})}},{key:"formatDate",value:function(e){var t=new Date(e),a=""+(t.getMonth()+1),o=""+t.getDate(),s=t.getFullYear();return a.length<2&&(a="0"+a),o.length<2&&(o="0"+o),[s,a,o].join("/")}},{key:"normalTorails",value:function(e,t){var a="";if(e){var o=e.split(":"),s=o[0],n=o[1];"PM"===t&&(s=parseInt(s),24===(s+=12)&&(s="00"),(s=s.toString()).length<2&&(s="0"+s)),a=s+":"+n+":00"}return a}},{key:"onSubmitWorkout",value:function(){var e=this;this.setState({submitted:!0});var t=this.state,a=t.optionSelected,o=t.workout,s=t.videoTypeLiveclass;if(console.log("onSubmitWorkout",this.state),o.title&&o.vlength&&a.instructorUser&&a.condition&&o.description&&!(s.length>0&&0==a.recordingof.length))if(o.vlength&&null==String(o.vlength).match(/^[0-9\b]+$/))this.setState({videoLengthError:!0});else{this.setState({loading:!0}),console.log("this.state.optionSelected",this.state.optionSelected);var n=new FormData;if(n.append("title",this.state.workout.title),n.append("videoActualUrl",""),n.append("length",this.state.workout.vlength),n.append("videotype",JSON.stringify(this.state.optionSelected.classType)),n.append("discipline",JSON.stringify(this.state.optionSelected.discipline)),n.append("condition",JSON.stringify(this.state.optionSelected.condition)),n.append("instructorId",JSON.stringify(this.state.optionSelected.instructorUser[0].value)),n.append("benefit",JSON.stringify(this.state.optionSelected.benefit)),n.append("equipment",JSON.stringify(this.state.optionSelected.equipment)),n.append("level",JSON.stringify(this.state.optionSelected.level)),n.append("recordingof",JSON.stringify(this.state.optionSelected.recordingof.value)),n.append("description",this.state.workout.description.toString("html").replace(/<a /g,'<a target="_blank" ')),n.append("isLive",this.state.workout.isLive),n.append("videoImg",this.state.workout.postFile),n.append("functionalType","liveclass"),n.append("isPhysioLed",this.state.workout.isPhysioLed),this.props.group&&n.append("communityId",this.props.groupId),this.state.workoutId){n.append("workoutId",this.state.workoutId);var r=h+"/api/ondemand/update"}else r=h+"/api/ondemand/create";var i={headers:{"content-type":"multipart/form-data",Authorization:(localStorage.getItem("userAuthToken")?JSON.parse(localStorage.getItem("userAuthToken")):JSON.parse(localStorage.getItem("user"))).token}};Ki.a.post(r,n,i).then((function(t){var a=t.data;e.state.workoutId?a.status?at.b.success("Live class updated successfully."):at.b.error("Failed to update Live class."):a.status?at.b.success("Live class created successfully."):at.b.error("Failed to create Live class.");var o=_o.replaceChar(e.state.optionSelected.condition[0].label,!1);Go.Cookies.set("condition",o),e.setState({loading:!1,workoutId:a.workout.id,saveClassError:!1,submitted:!1,savePollError:!1,enableButton:!0});var s=null;e.props.group&&(s=e.props.groupId),e.props.liveclassDetail(e.state.workoutId,o,null,s),e.props.logged_userData.isStudyLeader&&(window.location.href="/liveclasses/"+o)}),(function(t){e.setState({error:t,loading:!1,submitted:!1,enableButton:!0})}))}}},{key:"checkWatchPartyWorkoutId",value:function(){var e=Object(nt.a)(st.a.mark((function e(){var t,a,o=this;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_o.replaceChar(Go.Cookies.get("condition"),!0),a={watchPartyWorkoutId:this.state.liveclass.watchPartyWorkoutId,conditionName:t},e.abrupt("return",this.props.checkWatchPartyWorkoutId(a).then((function(e){return e.isValidWorkoutId||o.setState({isValidWorkoutId:!0,loading:!1,submitted:!1,enableButton:!0}),e.isValidWorkoutId}),(function(e){return o.setState({error:e,loading:!1,submitted:!1,enableButton:!0}),!1})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addToSchedule",value:function(){var e=Object(nt.a)(st.a.mark((function e(t,a){var o,s,n,r,i,l,c,m=this;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=_o.replaceChar(Go.Cookies.get("condition"),!0),this.setState({submittedSchedule:!0}),s=this.formatDate(this.state.liveclass.startdate)+" "+this.state.liveclass.whentime+" "+this.state.liveclass.whenam,n=6e4*new Date(s).getTimezoneOffset(),r=new Date(new Date(s)-n).toISOString(),i=new Date(new Date(s).toUTCString()).toISOString(),console.log("localISOTime*********",r),console.log("classlist***",this.state.classList),!(Eo.a.filter(this.state.classList,(function(e){return e.scheduledFor===i})).length>0)){e.next=12;break}return at.b.error("Oops! There is already a class at that time."),e.abrupt("return");case 12:if(l=this.state.liveclass,console.log("params",l),l.workoutId=this.state.workoutId,l.start_time=r,l.conditionName=o,c="add",!t){e.next=24;break}if(l.reference=t.reference,l.roomId=t.id,c="edit",this.state.liveclass.reason||!(t.Attendees.length>0)){e.next=24;break}return e.abrupt("return");case 24:if(this.props.group&&(l.group=this.props.groupId),console.log("addToSchedule",l),this.state.liveclass.userId){e.next=28;break}return e.abrupt("return");case 28:if(!this.state.liveclass.watchPartyWorkoutId){e.next=34;break}return e.next=31,this.checkWatchPartyWorkoutId();case 31:if(e.sent){e.next=34;break}return e.abrupt("return");case 34:this.setState({loadingSchedule:!0}),this.props.createZoomMeeting(l,c).then((function(e){if(e.status){if("add"==c){var t=m.state.liveclass.startdate;t.setDate(t.getDate()+7);var o=Object(Lo.a)(m.state.classList);e.room&&(e.room.Attendees||(e.room.Attendees=[]),o.push(e.room)),o=Eo.a.sortBy(o,(function(e){return new bo.a(e.scheduledFor)})),m.setState({classList:o,startdate:t});var s=m.formatDate(t)+" "+m.state.liveclass.whentime+" "+m.state.liveclass.whenam;m.calculateZoneBasedDate(s)}else{(o=Object(Lo.a)(m.state.classList))[a].scheduledFor=e.room.scheduledFor,o=Eo.a.sortBy(o,(function(e){return new bo.a(e.scheduledFor)})),console.log("newItems",o);m.state.classList;m.setState({classList:o}),m.resetZoom()}at.b.success("add"==c?"Class added to timetable successfully.":"Class updated in timetable successfully")}else at.b.error("add"==c?"Failed to create timetable for class.":"Failed to update timetable of the class.");m.setState({loadingSchedule:!1})}),(function(e){at.b.error("add"==c?"Failed to create timetable for class.":"Failed to update timetable of the class."),m.setState({loadingSchedule:!1})}));case 36:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"confirmCancel",value:function(e,t){var a=this,o=_o.replaceChar(Go.Cookies.get("condition"),!0);this.setState({submittedSchedule:!0});var s=this.state.liveclass;s.workoutId=this.state.workoutId,s.reference=e.reference,s.roomId=e.id,s.conditionName=o,e.Attendees.length>0&&!this.state.liveclass.reason||(console.log("confirmcancel",s),this.setState({loadingSchedule:!0}),this.props.cancelZoomMeeting(s).then((function(e){if(e.status){var o=Object(Lo.a)(a.state.classList);o.splice(t,1),a.setState({classList:o,cancelSec:""}),at.b.success("Class cancelled in timetable successfully.")}else at.b.error("Failed to cancel timetable of the class.");a.setState({loadingSchedule:!1})}),(function(e){at.b.error("Failed to cancel timetable of the class."),a.setState({loadingSchedule:!1})})))}},{key:"updateFreeClass",value:function(e,t){var a=this;this.setState({submittedSchedule:!0});var o={};o.isFree=e.isFree?0:1,o.roomId=e.id,console.log("updateFreeClass",o),this.setState({loadingSchedule:!0}),this.props.updateFreeLiveclass(o).then((function(o){if(o.status){var s=Object(Lo.a)(a.state.classList);s[t].isFree=!e.isFree;a.state.classList;a.setState({classList:s}),at.b.success("Class updated in timetable successfully.")}else at.b.error("Failed to update timetable of the class.");a.setState({loadingSchedule:!1})}),(function(e){at.b.error("Failed to update timetable of the class."),a.setState({loadingSchedule:!1})}))}},{key:"deletePollData",value:function(e,t){var a=this;this.props.deletePoll({pollId:e}).then((function(e){if(e.status){var o=a.state.pollList;o.splice(t,1),a.setState({pollList:o}),at.b.success(e.message)}else at.b.error(e.message)}))}},{key:"renderAddScheduleSection",value:function(e,t,a){var o=this,n=this.state,r=n.submittedSchedule,i=n.loadingSchedule,l=function(e){var t=e.value,a=e.onClick;return t=bo()(t).format("dddd D MMMM"),console.log("ExampleCustomInput",t),s.a.createElement("div",null,s.a.createElement("input",{className:"form-control popup-txt float-left w-90",value:t,type:"text",name:"startdate",onClick:a}),s.a.createElement("span",{className:"float-right"},s.a.createElement("i",{onClick:a,"aria-hidden":"true",className:"fa fa-calendar"})))};return s.a.createElement("div",null,s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("div",{class:"row"},s.a.createElement("label",{class:"control-label font-book label-text col-md-3 col-3 pb-10",htmlFor:"fname"},"Schedule For"),s.a.createElement("div",{class:"col-md-9 col-9"},s.a.createElement("div",{className:"dropdown "},s.a.createElement("select",{name:"userId",disabled:this.state.liveclass.isPreset,value:this.state.liveclass.userId,className:"form-control popup-txt",onChange:this.handleLiveClassChange,placeholder:"Select User"},s.a.createElement("option",{className:"pointer",value:""},"Select User"),this.state.zoomUsers.map((function(e,t){return s.a.createElement("option",{className:"pointer",key:"time_"+e.id,value:e.zoomUserId},e.first_name," ",e.last_name)}))),r&&!this.state.liveclass.userId&&s.a.createElement("div",{className:"text-danger"},"This is required"))))),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("div",{class:"row"},s.a.createElement("label",{class:"control-label font-book label-text col-md-3 col-3 pb-10",for:"fname"},"When"),s.a.createElement("div",{class:"col-md-5 col-9 liveclass-instance"},s.a.createElement(Pl.a,{selected:this.state.liveclass.startdate,onChange:this.handleChangeDate,minDate:new Date,customInput:s.a.createElement(l,null)})),s.a.createElement("div",{class:"col-md-2 col-8 p-0"},s.a.createElement("div",{className:"dropdown "},s.a.createElement("select",{name:"whentime",value:this.state.liveclass.whentime,className:"form-control popup-txt",onChange:this.handleLiveClassChange},this.state.timeList.map((function(e,t){return s.a.createElement("option",{className:"pointer",key:"time_"+e,value:e},e)}))))),s.a.createElement("div",{class:"col-md-2 col-8"},s.a.createElement("div",{className:"dropdown "},s.a.createElement("select",{name:"whenam",value:this.state.liveclass.whenam,className:"form-control popup-txt",onChange:this.handleLiveClassChange},this.state.amPmList.map((function(e,t){return s.a.createElement("option",{className:"pointer",key:"ampm_"+e,value:e},e)}))))))),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("div",{class:"row"},s.a.createElement("label",{class:"control-label font-book label-text col-md-3 col-3 pb-10",for:"fname"},"Time Zone"),s.a.createElement("div",{class:"col-md-9 col-9"},s.a.createElement("div",{className:"dropdown "},s.a.createElement("select",{name:"timezone",value:this.state.liveclass.timezone,className:"form-control popup-txt",onChange:this.handleLiveClassChange},s.a.createElement("option",{className:"pointer",value:""},"Select Timezone"),Object.keys(this.state.timeZoneOptions).map((function(e){return s.a.createElement("option",{className:"pointer",key:"time_"+e,value:e},o.state.timeZoneOptions[e])}))))))),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("div",{class:"row"},s.a.createElement("label",{class:"control-label font-book label-text col-md-3 col-3 pb-10",for:"fname"},"Watch Party Workout Id"),s.a.createElement("div",{class:"col-md-3 col-3"},s.a.createElement("input",{className:"form-control popup-txt float-right",type:"text",id:"watchPartyWorkoutId","aria-describedby":"emailHelp",placeholder:"",name:"watchPartyWorkoutId",key:a,value:this.state.liveclass.watchPartyWorkoutId,onChange:this.handleLiveClassChange}),this.state.isValidWorkoutId&&this.state.liveclass.watchPartyWorkoutId&&s.a.createElement("div",{className:"text-danger"},"Invalid watch party workout id")))),"edit"==e&&t.Attendees.length>0&&s.a.createElement("div",null,s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("p",{className:"font-semibold"},"Please provide an explanation of why this class has been changed (this text will directly be used in an email to explain to anyone signed up why the class has changed)")),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("textarea",{className:"form-control",rows:"3",name:"reason",onChange:this.handleLiveClassChange,value:this.state.liveclass.reason}),r&&!this.state.liveclass.reason&&s.a.createElement("div",{className:"text-danger"},"This is required"))),s.a.createElement("div",{className:"col-md-12 text-center p-0 m-b-15"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"mx-auto col-md-6"},s.a.createElement("button",{disabled:i||this.state.isValidWorkoutId,onClick:function(){return o.addToSchedule(t,a)},className:" btn btn-block mybtn btn-login tx-tfm font-book font-16"},"add"==e?"Add to schedule":"Change Class")))))}},{key:"renderCancelSection",value:function(e,t){var a=this,o=this.state,n=o.submittedSchedule,r=o.loadingSchedule;return s.a.createElement("div",null,e.Attendees.length>0&&s.a.createElement("div",null,s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("p",{className:"font-semibold"},"Please provide an explanation of why this class is cancelled (this text will directly be used in an email to explain to anyone signed up why the class is cancelled)")),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("textarea",{className:"form-control",rows:"3",name:"reason",onChange:this.handleLiveClassChange,value:this.state.liveclass.reason}),n&&!this.state.liveclass.reason&&s.a.createElement("div",{className:"text-danger"},"This is required"))),s.a.createElement("div",{className:"col-md-12 text-center p-0 m-b-15"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"mx-auto col-md-6"},s.a.createElement("button",{disabled:r,onClick:function(){return a.confirmCancel(e,t)},className:" btn btn-block mybtn btn-login tx-tfm font-book font-16"},"Confirm cancellation")))))}},{key:"render",value:function(){var e=this,t=Go.Cookies.get("condition").toLowerCase().includes("research"),a=_o.replaceChar(Go.Cookies.get("condition"),!0),o=this;var n=this.state,r=n.submitted,i=n.loading,l=n.showZoomOptions;n.submittedSchedule,n.loadingSchedule;return s.a.createElement(s.a.Fragment,null,this.state.imageModel&&s.a.createElement(Il,{crop:this.state.crop,aspectRatio:7/4,width:800,height:485,src:this.state.workout.videoImg,text:"Upload Thumbnail"}),s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_cms_model,onClose:this.onCloseModel,center:!0},s.a.createElement("div",{className:("false"!=Go.Cookies.get("closeBanner")||this.props.close_banner,"modal-dialog modal-width--custom cms-model m-t-80"),role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling "+(this.props.logged_userData.isGroupLeader&&-1!=this.props.logged_userData.GLCondition.indexOf(a)&&-1==this.props.logged_userData.SLCondition.indexOf(a)||this.props.logged_userData.isStudyLeader||this.props.logged_userData.isCreator||this.props.is_group_leader?"h-auto":"")},(!this.props.group||this.props.group&&!this.state.workout.Instructor)&&s.a.createElement("h5",{className:"modal-title text-left col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"},"edit"==this.props.cms_model_type?"Modify a Live Class":"Add a Live Class"),this.props.group&&this.state.workout.Instructor&&(this.props.logged_userData.isGroupLeader&&-1!=this.props.logged_userData.GLCondition.indexOf(a)&&-1==this.props.logged_userData.SLCondition.indexOf(a)||this.props.logged_userData.isStudyLeader||this.props.logged_userData.isCreator||this.props.is_group_leader)&&s.a.createElement("h5",{class:"modal-title text-left col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"},s.a.createElement("p",{class:"col-md-12 m-0 modal-title text-left p-0 font-semibold"},this.props.group," - ",this.state.workout.title),s.a.createElement("p",{class:"col-md-12 font-18 modal-title m-0 text-left p-0"}," Instructor : "+this.state.workout.Instructor.User.name+" "+this.state.workout.Instructor.User.lastName)),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},(!this.props.group&&this.props.logged_userData.isStudyLeader||(this.props.logged_userData.isCreator||this.props.is_group_leader)&&!t)&&s.a.createElement("div",null,s.a.createElement("div",{className:"avatar-upload col-md-12 clearfix p-0 m-t-20 m-b-20"},s.a.createElement("div",{className:"ondemand-preview"},!this.state.workout.videoImg&&s.a.createElement("img",{className:"img-fluid",src:D+"ondemand-placeholder.png"}),!this.state.isCropped&&this.state.workout.videoImg&&s.a.createElement("img",{className:"img-fluid",src:x+this.state.workout.videoImg,onError:function(e){return _o.checkImageCrop(e,"ondemand-placeholder.png")}}),this.state.isCropped&&this.state.workout.videoImg&&s.a.createElement("img",{className:"img-fluid",src:this.state.workout.videoImg,onError:function(e){return _o.checkImageCrop(e,"ondemand-placeholder.png")}})),s.a.createElement("a",{className:"font-book font-16 upload-btn color-blue",href:"javascript:void(0)",onClick:function(){document.getElementById("post_image").click()}},s.a.createElement("u",null,"Upload Thumbnail"),s.a.createElement("input",{type:"file",onChange:this.onImageChange,onClick:function(e){e.target.value=null},className:"filetype",style:{display:"none"},accept:"image/x-png,image/jpg,image/jpeg",id:"post_image"}))),s.a.createElement("div",{className:"form-group"+(r&&!this.state.workout.title?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Class Name ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement("input",{type:"text",className:"form-control",id:"title","aria-describedby":"emailHelp",placeholder:"",name:"title",value:this.state.workout.title,onChange:this.handleChange}),this.state.workout.title?s.a.createElement("div",{className:"pull-right font-13 twitter-color mt-1"},"Characters Left: ",255-this.state.workout.title.length):null,r&&!this.state.workout.title&&s.a.createElement("div",{className:"text-danger"},"Class Name is required")),!this.props.logged_userData.isStudyLeader&&s.a.createElement("div",{className:"form-group"+(r&&this.state.optionSelected.condition&&0==this.state.optionSelected.condition.length?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Condition(s) ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement(_l,{className:"select-container text-capitalize",options:this.state.conditionOptions,isMulti:!0,placeholder:"Select Condition",closeMenuOnSelect:!1,hideSelectedOptions:!1,components:{Option:Option,MultiValue:Gl,ValueContainer:Yl,animatedComponents:Vl},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"condition")},allowSelectAll:!0,creatable:!1,value:this.state.optionSelected.condition,name:"condition",removeTag:this.removeTag,isRemoveable:!0}),r&&this.state.optionSelected.condition&&0==this.state.optionSelected.condition.length&&s.a.createElement("div",{className:"text-danger"},"Condition is required")),s.a.createElement("div",{className:"form-group"+(!r||this.state.optionSelected.instructorUser&&0!=this.state.optionSelected.instructorUser.length?"":" has-error")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Instructor ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement(_l,{isMulti:!0,className:"select-container text-capitalize",options:null==this.state.optionSelected.instructorUser?this.state.instructorOptions:this.state.optionSelected.instructorUser&&1===this.state.optionSelected.instructorUser.length?[]:this.state.instructorOptions,noOptionsMessage:function(){return null!=e.state.optionSelected.instructorUser&&(e.state.optionSelected.instructorUser&&1===e.state.optionSelected.instructorUser.length?"You've reached the max number of options.":"No options available")},placeholder:"Select Instructor",closeMenuOnSelect:!0,hideSelectedOptions:!1,components:{Option:Option,MultiValue:Gl,ValueContainer:Yl,animatedComponents:Vl},onChange:this.handleInstructorChange,allowSelectAll:!1,creatable:!1,value:this.state.optionSelected.instructorUser,name:"instructorUser"}),r&&(!this.state.optionSelected.instructorUser||0==this.state.optionSelected.instructorUser.length)&&s.a.createElement("div",{className:"text-danger"},"Instructor is required")),s.a.createElement("div",{className:"row col-md-12"},s.a.createElement("div",{className:"w-50 form-group"+(r&&(!this.state.workout.vlength||this.state.workout.vlength&&this.state.videoLengthError)?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Class Length (minutes) ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement("input",{type:"text",className:"form-control",id:"vlength","aria-describedby":"emailHelp",placeholder:"",name:"vlength",value:this.state.workout.vlength,onChange:this.handleChange}),r&&!this.state.workout.vlength&&s.a.createElement("div",{className:"text-danger"},"Video Length is required"),r&&this.state.workout.vlength&&this.state.videoLengthError&&s.a.createElement("div",{className:"text-danger"},"Video Length should be number")),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("label",{class:"m-t-5 pull-left",for:"isPhysioLed"},s.a.createElement("input",{type:"checkbox",name:"isPhysioLed",id:"isPhysioLed",value:this.state.workout.isPhysioLed,onChange:this.handleCheckboxChange,checked:this.state.workout.isPhysioLed})),s.a.createElement("label",{class:"font-semibold black-txt m-l-5"}," Physio Led"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Discipline"),s.a.createElement(_l,{className:"select-container text-capitalize",options:this.state.disciplineOptions,isMulti:!0,placeholder:"Select Discipline",closeMenuOnSelect:!1,hideSelectedOptions:!1,components:{Option:Option,MultiValue:Gl,ValueContainer:Yl,animatedComponents:Vl},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"discipline")},allowSelectAll:!1,creatable:this.state.isTagCreatable,value:this.state.optionSelected.discipline,name:"discipline",removeTag:this.removeTag,isRemoveable:this.state.isTagCreatable})),s.a.createElement("div",{className:"form-group"+(r&&0==this.state.optionSelected.classType.length?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Class Type ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement(_l,{className:"select-container text-capitalize",options:null==this.state.optionSelected.classType?this.state.classTypeOptions:this.state.optionSelected.classType&&1===this.state.optionSelected.classType.length?[]:this.state.classTypeOptions,noOptionsMessage:function(){return null!=e.state.optionSelected.classType&&(e.state.optionSelected.classType&&1===e.state.optionSelected.classType.length?"You've reached the max number of options.":"No options available")},isMulti:!0,placeholder:"Select Class Type",closeMenuOnSelect:!0,hideSelectedOptions:!1,components:{Option:Option,MultiValue:Gl,ValueContainer:Yl,animatedComponents:Vl},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"classType")},allowSelectAll:!1,creatable:this.state.isTagCreatable,value:this.state.optionSelected.classType,name:"classType",removeTag:this.removeTag,isRemoveable:!1}),r&&0==this.state.optionSelected.classType.length&&s.a.createElement("div",{className:"text-danger"},"Class Type is required")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Level"),s.a.createElement(_l,{isMulti:!0,className:"select-container text-capitalize",options:this.state.levelOptions,placeholder:"Select Level",closeMenuOnSelect:!1,hideSelectedOptions:!1,components:{Option:Option,MultiValue:Gl,ValueContainer:Yl,animatedComponents:Vl},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"level")},allowSelectAll:!1,creatable:!1,value:this.state.optionSelected.level,name:"level",removeTag:this.removeTag,isRemoveable:this.state.isTagCreatable})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Benefits"),s.a.createElement(_l,{className:"select-container text-capitalize",options:this.state.benefitOptions,isMulti:!0,placeholder:"Select Benefits",closeMenuOnSelect:!1,hideSelectedOptions:!1,components:{Option:Option,MultiValue:Gl,ValueContainer:Yl,animatedComponents:Vl},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"benefit")},allowSelectAll:!1,creatable:this.state.isTagCreatable,value:this.state.optionSelected.benefit,name:"benefit",removeTag:this.removeTag,isRemoveable:this.state.isTagCreatable})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Equipment"),s.a.createElement(_l,{className:"select-container text-capitalize",options:this.state.equipmentOptions,isMulti:!0,placeholder:"Select Equipment",closeMenuOnSelect:!1,hideSelectedOptions:!1,components:{Option:Option,MultiValue:Gl,ValueContainer:Yl,animatedComponents:Vl},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"equipment")},allowSelectAll:!1,creatable:this.state.isTagCreatable,value:this.state.optionSelected.equipment,name:"equipment",removeTag:this.removeTag,isRemoveable:this.state.isTagCreatable})),s.a.createElement("div",{className:"form-group"+(r&&!this.state.workout.description?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Class Description ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement(Rl.a,{data:this.state.description,config:{toolbar:[["Bold","Italic"],["NumberedList","BulletedList"],["Link","Unlink"],["Image","Table"]],height:"300px",resize_enabled:!1,font_defaultLabel:"Qregular",fontSize_defaultLabel:"28px",contentsCss:"../../../ckeditor.css",stylesSet:[{element:"p",styles:{"font-family":"#(Qregular)"},overrides:[{element:"font",attributes:{face:null}}]}],font_style:[{element:"p",styles:{"font-family":"#(Qregular)"},overrides:[{element:"font",attributes:{face:null}}]}],font_names:"Qregular"},onChange:function(t){e.handleChangeTextEdit(t)},onBeforeLoad:function(e){return e.on("dialogDefinition",(function(e){"link"==e.data.name&&(e.data.definition.getContents("target").get("linkTargetType").default="_blank",e.data.definition.getContents("info").get("protocol").default="https://")}))}}),r&&!this.state.workout.description&&s.a.createElement("div",{className:"text-danger"},"Description is required")),s.a.createElement("div",{className:"col-md-12 text-center p-0 m-b-15"},s.a.createElement("div",{className:"row"},"edit"===this.props.cms_model_type?s.a.createElement("div",{className:"offset-md-6 col-md-6 col-sm-12"},s.a.createElement("button",{disabled:this.state.enableButton,onClick:this.onSubmitWorkout,className:" btn btn-block mybtn btn-login tx-tfm font-book font-14"},"Save Changes ")):s.a.createElement("div",{className:"offset-md-6 col-md-6 col-sm-12"},s.a.createElement("button",{disabled:i,onClick:this.onSubmitWorkout,className:" btn btn-block mybtn btn-login tx-tfm font-book font-14"},"Save Changes "))))),!this.props.logged_userData.isStudyLeader&&!this.props.logged_userData.isGroupLeader&&s.a.createElement("hr",null),(this.props.group||!this.props.logged_userData.isStudyLeader)&&s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8 m-b-15"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Polls")),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},this.state.pollList&&this.state.pollList.map((function(e,t){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-10"},s.a.createElement("p",null,"Poll ",t+1,": ",e.pollName)),s.a.createElement("div",{className:"col-2 text-right font-24"},s.a.createElement("span",{className:"p-r-20 ",onClick:function(){o.props.setPollModal(!0),o.setState({editPoll:e,editPollKey:t})}},s.a.createElement("i",{className:"fa fa-pencil flow-text pointer"})),s.a.createElement("span",{onClick:function(){o.deletePollData(e.id,t)}},s.a.createElement("i",{className:"fa fa-times-circle-o flow-text pointer"}))))})),0==this.state.pollList.length&&s.a.createElement("p",null,"No polls exists for this class yet."))),(this.props.group||!this.props.logged_userData.isStudyLeader)&&s.a.createElement("div",{className:"col-md-12 text-center p-0 m-b-15"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"offset-11 col-1",onClick:function(){e.state.workoutId?(e.props.setPollModal(!0),o.setState({editPoll:{},editPollKey:""})):e.setState({savePollError:!0,saveClassError:!1})}},s.a.createElement("img",{src:D+"add-plus.png",class:"pointer pull-right"})))),!this.props.logged_userData.isStudyLeader&&!this.props.logged_userData.isGroupLeader&&s.a.createElement("hr",null),(this.props.group||!this.props.logged_userData.isStudyLeader)&&s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4 m-b-15"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Class Timetable")),!t&&s.a.createElement("div",{className:"col-md-2 m-b-15 text-center"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Free Class")),s.a.createElement("div",{className:"col-md-4 m-b-15 text-center"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Watch Party Workout Id")),s.a.createElement("div",{className:"text-width col-md-12"},this.state.classList&&this.state.classList.map((function(e,a){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4"},s.a.createElement("p",null,bo.a.tz(e.scheduledFor,_o.localTimeZoneName()).format("dddd Do MMMM [at] hh:mma")," "," ("+bo.a.tz(e.scheduledFor,_o.localTimeZoneName()).format("z")+")"," "," - ",!t&&e.Attendees.length>0&&s.a.createElement("a",{href:"https://"+o.props.liveclass_prismic_data.prefix+e.id+o.props.liveclass_prismic_data.suffix,target:"_blank",className:"pointer flow-text"},e.Attendees.length," ",1==e.Attendees.length?" attendee":" attendees"," "),(!t&&0==e.Attendees.length||t)&&s.a.createElement("span",{className:" flow-text"}," ",e.Attendees.length," ",1==e.Attendees.length?" attendee":" attendees"))),!t&&s.a.createElement("div",{className:"col-2 text-center"},s.a.createElement("input",{type:"checkbox",name:"recurring",id:"isLive",defaultChecked:e.isFree,value:e.isFree,onChange:function(){o.updateFreeClass(e,a)}})),!t&&s.a.createElement("div",{className:"col-2 text-right"},s.a.createElement("p",{className:"text-right"},e.watchPartyWorkoutId)),s.a.createElement("div",{className:"col-4 text-right font-24"},s.a.createElement("span",{className:"p-r-20 ",onClick:function(){o.calculateZoneBasedDate(),o.presetZoom(a),o.setState({cancelSec:"",editSec:a,showZoomOptions:!1})}},s.a.createElement("i",{className:"fa fa-pencil flow-text pointer"})),s.a.createElement("span",{onClick:function(){o.resetZoom(),o.setState({cancelSec:a,showZoomOptions:!1,editSec:""})}},s.a.createElement("i",{className:"fa fa-times-circle-o flow-text pointer"}))),o.state.editSec===a&&s.a.createElement("div",{className:"col-md-12"},o.renderAddScheduleSection("edit",e,a)),o.state.cancelSec===a&&s.a.createElement("div",{className:"col-md-12"},o.renderCancelSection(e,a)))})),0==this.state.classList.length&&s.a.createElement("p",null,"No occurrences of this class are currently scheduled."))),(this.props.group||!this.props.logged_userData.isStudyLeader)&&s.a.createElement("div",{className:"col-md-12 text-center p-0 m-b-15"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"offset-11 col-1",onClick:function(){e.calculateZoneBasedDate(),e.state.workoutId?(e.resetZoom(),e.setState({showZoomOptions:!0,editSec:""})):e.setState({saveClassError:!0,savePollError:!1})}},s.a.createElement("img",{src:D+"add-plus.png",class:"pointer pull-right"}))),this.state.saveClassError&&!this.state.workoutId&&s.a.createElement("p",{className:"text-danger"},"Please save the class before creating the class timetable."),this.state.savePollError&&!this.state.workoutId&&s.a.createElement("p",{className:"text-danger"},"Please save the class before creating the poll.")),l&&this.renderAddScheduleSection("add"))))),this.props.is_poll_modal_open&&s.a.createElement(Bl,{editPoll:this.state.editPoll,editPollKey:this.state.editPollKey,location:this.props.location,history:this.props.history}),s.a.createElement(Tl,{is_model_open:this.state.openModel,type:"liveclass",isConfirmation:!0,isCloseRequired:!0,title:"Heads Up!",closeConfirmationPopup:this.closeConfirmationPopup}))}}]),a}(s.a.Component),zl={getZoomUsers:function(e,t){return function(a,o){var s=tt();if(null==t)var n=h+"/api/liveclass/get/zoom/users/"+e;else n=h+"/api/liveclass/get/zoom/users/"+e+"/"+t;return fetch(n,s).then((function(e){return go(e,a)})).then((function(e){return e}))}},getTags:da,getRecordingOf:ua,getInstructor:pa,ondemandCMSModelOpen:ha,removeTag:fa,createNewTag:ga,clearOndemandList:Zt,imageCropOpenPopup:ba,createZoomMeeting:function(e,t){return function(a,o){var s=et(e);if("add"==t)var n=h+"/api/liveclass/createZoom";else n=h+"/api/liveclass/updateZoom";return fetch(n,s).then((function(e){return go(e,a)})).then((function(e){return e}))}},cancelZoomMeeting:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/liveclass/cancelZoomMeeting",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},updateFreeLiveclass:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/liveclass/updateFreeLiveclass",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},setPollModal:Wa,deletePoll:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/liveclass/deletePoll",o).then((function(e){return go(e,t)})).then((function(e){return console.log("response-deletepoll",e),e}))}},liveclassDetail:Fa,checkWatchPartyWorkoutId:function(e){return function(t,a){var o=et(e);if(e)var s=h+"/api/liveclass/checkWorkoutId";return fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}}},Kl=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,is_model_open:e.header.is_loginModelOpen,init_condition:e.auth.initial_condition,all_condition:e.register.healthcondition_list,is_cms_model:e.workout.is_cms_model,cms_model_type:e.workout.cms_model_type,liveclass_detail_data:e.liveclass.liveclass_detail_data,cropped_image:e.workout.cropped_image,cropped_file:e.workout.cropped_file,liveclass_prismic_data:e.liveclass.liveclass_prismic_data,is_poll_modal_open:e.liveclass.is_poll_modal_open,logged_userData:e.header.logged_userData,is_group_admin:e.group.is_group_admin,is_group_leader:e.group.is_group_leader}}),zl)(Hl),Jl=a(86),Ql={display:["INLINE_STYLE_BUTTONS","BLOCK_TYPE_BUTTONS","LINK_BUTTONS"],INLINE_STYLE_BUTTONS:[{label:"Bold",style:"BOLD",className:"custom-css-class"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],BLOCK_TYPE_BUTTONS:[{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}]},Zl=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).handleChangeTextEdit=function(e,t,a){var s=o.state.editorValue,n=o.state.notes;s[t][a]=e,n[t][a]=e,o.setState({editorValue:s,notes:n})},o.state={Loading:!0,signupLoader:!1,offset:0,count:0,show_more_cnt:10,liveClassList:[],allLiveClassData:[],displayLayout:!0,type:o.props.params,modelState:!1,modelData:{},firstScheduleDate:"",total_tags:[],total_levels:[],is_toggled:!1,currentPageName:"",is_add_note:{},is_edit_note:[],editorValue:[],notes:[],allClassTotal:0,originalliveClassData:[],headerUrl:"",openResearchModel:!1,current_attendee:{},redirectUrl:"",workoutId:""},o.submitStartNow=o.submitStartNow.bind(Object(is.a)(o)),o.modelClose=o.modelClose.bind(Object(is.a)(o)),o.joinClassService=o.joinClassService.bind(Object(is.a)(o)),o.toggleClasses=o.toggleClasses.bind(Object(is.a)(o)),o.getLiveClassList=o.getLiveClassList.bind(Object(is.a)(o)),o.recallLiveclass=o.recallLiveclass.bind(Object(is.a)(o)),o.handleChangeTextEdit=o.handleChangeTextEdit.bind(Object(is.a)(o)),o.saveLiveclassNotes=o.saveLiveclassNotes.bind(Object(is.a)(o)),o.deleteLiveclassNotes=o.deleteLiveclassNotes.bind(Object(is.a)(o)),o.initiateNotesFlag=o.initiateNotesFlag.bind(Object(is.a)(o)),o.getLiveClassDetail=o.getLiveClassDetail.bind(Object(is.a)(o)),o.closeResearchModel=o.closeResearchModel.bind(Object(is.a)(o)),o.viewPrepoll=o.viewPrepoll.bind(Object(is.a)(o)),o.beforeReview=o.beforeReview.bind(Object(is.a)(o)),o.lastState=o.props.params,o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname,t=e.split("/")[1];this.setState({currentPageName:t,headerUrl:e}),this.props.clearOndemandList(),this.props.ondemandCMSModelOpen({open:!1}),this.fetchLiveClassList()}},{key:"fetchLiveClassList",value:function(){switch(this.props.componentType){case"Liveclass":this.getLiveClassList(this.props.liveclass_filter_instructor);break;case"Group":this.getGroupLiveClassList();break;default:this.getLiveClassList()}}},{key:"getLiveClassDetail",value:function(e,t){var a=this;this.props.liveclassDetail(e,this.state.type,t,this.props.groupId).then((function(e){a.props.ondemandCMSModelOpen({open:!0,type:"edit"})}),(function(e){console.log("err",e)}))}},{key:"submitStartNow",value:function(e){this.props.is_auth?this.joinClassService(e):this.props.loginModelOpen(!0)}},{key:"closeResearchModel",value:function(){this.setState({openResearchModel:!1})}},{key:"beforeReview",value:function(){window.open(this.state.redirectUrl)}},{key:"viewPrepoll",value:function(e){var t=this;e.Attendees.forEach((function(e){e.UserId===t.props.logged_userData.id&&t.setState({redirectUrl:e.reference,current_attendee:e})})),this.setState({openResearchModel:!0,workoutId:e.WorkoutId})}},{key:"componentWillReceiveProps",value:function(e){console.log("pastlive-props",this.props),console.log("pastlive-nextProps",e),this.props.liveclass_filter_instructor!=e.liveclass_filter_instructor&&this.setState({liveClassList:[],originalliveClassData:[]},(function(){this.getLiveClassList(e.liveclass_filter_instructor)})),!this.props.is_auth&&e.is_auth?(this.setState({liveClassList:[]}),this.getLiveClassList()):this.setState({liveClassList:[]},(function(){this.toggleLiveClasses()})),this.lastState!=e.params&&(this.lastState=e.params,this.setState({type:e.params},(function(){this.setState({liveClassList:[],originalliveClassData:[]}),this.getLiveClassList()})))}},{key:"saveLiveclassNotes",value:function(e,t,a){var o=this,s=this.state,n=(s.is_add_note,s.is_edit_note,this.state.notes[t][a]?this.state.notes[t][a].toString("html").replace(/<a /g,'<a target="_blank" '):this.state.liveClassList[t][a].RoomExtension.notes.toString("html").replace(/<a /g,'<a target="_blank" ')),r={roomId:e,notes:n};this.props.addLiveclassNotes(r).then((function(e){var s=Object(Lo.a)(o.state.liveClassList),r=o.state.is_add_note,i=o.state.is_edit_note;s[t][a].RoomExtension=s[t][a].RoomExtension?s[t][a].RoomExtension:[],s[t][a].RoomExtension.notes=n,r[t][a]=!1,i[t][a]=!1,o.setState({liveClassList:s,is_add_note:r,is_edit_note:i}),at.b.success(e.message)}),(function(e){at.b.error(e)}))}},{key:"deleteLiveclassNotes",value:function(e,t,a){var o=this,s=(this.state.is_add_note,{roomId:e});this.props.deleteLiveclassNotes(s).then((function(e){var s=Object(Lo.a)(o.state.liveClassList);s[t][a].RoomExtension.notes="",o.setState({liveClassList:s}),at.b.success(e.message)}),(function(e){at.b.error(e)}))}},{key:"initiateNotesFlag",value:function(){var e=this.state.editorValue,t=this.state.notes,a=[];Eo.a.forEach(this.state.liveClassList,(function(o,s){a[s]=[],e[s]=[],t[s]=[],Eo.a.forEach(o,(function(o,n){a[s][n]=!1,e[s][n]=Nl.a.createEmptyValue(),t[s][n]=""}))})),this.setState({editorValue:e,notes:t})}},{key:"joinClassService",value:function(e){var t=this,a={roomId:e.id};this.setState({signupLoader:!0}),this.props.joinClass(a).then((function(a){a&&t.setState({signupLoader:!1,modelState:!0,modelData:e})}),(function(e){t.setState({signupLoader:!1,modelState:!1,modelData:{}}),at.b.error(e)}))}},{key:"modelClose",value:function(){this.setState({Loading:!1,offset:0,count:0,show_more_cnt:10,liveClassList:[],displayLayout:!0,type:this.props.params,modelState:!1,modelData:{}},(function(){this.getLiveClassList()}))}},{key:"recallLiveclass",value:function(){this.setState({allLiveClassData:[]}),this.getLiveClassList()}},{key:"getLiveClassList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({Loading:!0});var a={offset:this.state.offset,limit:10,condition:_o.replaceChar(this.state.type,!0),filter:t};this.props.getPastClassList(a).then((function(t){if(t){var a=t.list;if(a&&a.liveClasses){var o=a.liveClasses,s=e.state.originalliveClassData;console.log("this.state.originalliveClassData",e.state.originalliveClassData);[].concat(Object(Lo.a)(s),Object(Lo.a)(a.liveClasses));var n=e.state.allClassTotal;e.setState({allLiveClassData:o,originalliveClassData:[].concat(Object(Lo.a)(s),Object(Lo.a)(a.liveClasses)),allClassTotal:n+o.length}),e.toggleLiveClasses()}e.setState({Loading:!1,count:a.count,total_tags:t.list.tags?t.list.tags:[],total_levels:t.list.levelTags?t.list.levelTags:[]},(function(){}))}}),(function(t){e.setState({Loading:!1}),e.props.stop_loader()}))}},{key:"getGroupLiveClassList",value:function(){var e=this;this.setState({Loading:!0});var t={offset:this.state.offset,limit:10,condition:_o.replaceChar(this.state.type,!0),group:this.props.group};console.log("getGroupLiveClassList",t),this.props.fetchGroupPastWorkout(t).then((function(t){if(t){var a=t.list;if(a&&a.liveClasses){var o=a.liveClasses,s=e.state.originalliveClassData;console.log("this.state.originalliveClassData",e.state.originalliveClassData);[].concat(Object(Lo.a)(s),Object(Lo.a)(a.liveClasses));var n=e.state.allClassTotal;e.setState({allLiveClassData:o,originalliveClassData:[].concat(Object(Lo.a)(s),Object(Lo.a)(a.liveClasses)),allClassTotal:n+o.length}),e.toggleLiveClasses()}e.setState({Loading:!1,count:a.count,total_tags:t.list.tags?t.list.tags:[],total_levels:t.list.levelTags?t.list.levelTags:[],total_videotype:t.list.videotype?t.list.videotype:[]},(function(){}))}}),(function(t){e.setState({Loading:!1}),e.props.stop_loader()}))}},{key:"toggleClasses",value:function(e){this.setState({is_toggled:e,liveClassList:[]},(function(){this.toggleLiveClasses()}))}},{key:"toggleLiveClasses",value:function(){var e=this.state.originalliveClassData,t=Go.Cookies.get("is_toggled");if(console.log("is_toggled",t),"true"===t)this.groupListResult(e);else{var a=[];e.map((function(e,t){var o=bo()(e.scheduledFor).toDate(),s=bo()(bo()(e.scheduledFor).hour("0").minute("01").second("0")).toDate(),n=bo()(bo()(e.scheduledFor).hour("4").minute("59").second("0")).toDate();o>=s&&o<=n||a.push(e)})),this.groupListResult(a)}}},{key:"renderDisciplineList",value:function(e,t){var a=_o.returnTag("discipline",this.state.total_tags,e.WorkoutId);return"None"===a?s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"}):s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5"},s.a.createElement("span",{className:"orangefont w-60 float-left font-medium p-l-5 capitalize_text"},a)))}},{key:"renderDificulty",value:function(e,t){var a=_o.returnTag("level",this.state.total_levels,e.WorkoutId);return"None"!==a?s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},a)):s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"})}},{key:"renderSchedule",value:function(e){var t=this;bo()().format("YYYY-MM-DD hh:mm::ss"),bo()(e.scheduledFor).format("YYYY-MM-DD hh:mm::ss");if(e.reference&&"coming soon"===e.reference.toLowerCase())return s.a.createElement("a",{className:"btn-purple-inverse pad_list_btn clearfix"}," ",e.reference," ");var a=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();return e.Signedup&&this.props.logged_userData.isStudyParticipant&&Q.includes(a)?s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.viewPrepoll(e)}}," Go to class "):e.Signedup&&!this.props.logged_userData.isStudyParticipant||e.Signedup&&this.props.logged_userData.isStudyParticipant&&!Q.includes(a)?s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",href:e.Attendees[0].reference||"#",target:"_blank"}," Go to class "):s.a.createElement("button",{disabled:this.state.signupLoader,onClick:function(){return t.submitStartNow(e)},className:"btn btn-purple-inverse w-100 font-medium m-b-10 pad_list_btn"}," Sign up ")}},{key:"cancelCalss",value:function(e,t,a){var o=this;if(!this.state.cancelLoading){this.setState({cancelLoading:!0});var s={roomId:e.id};this.props.cancelClass(s).then((function(e){e&&at.b.success(e.message);var s=Object(Lo.a)(o.state.liveClassList);s[t][a].Signedup=!1,o.setState({liveClassList:s,cancelLoading:!1})}),(function(e){o.setState({cancelLoading:!1})}))}}},{key:"renderSubItemList",value:function(e,t){var a=this,o=this.state.editorValue,n=this.state.is_add_note;n[t]=n[t]?n[t]:[];var r=this.state.is_edit_note;return r[t]=r[t]?r[t]:[],e.map((function(e,i){return s.a.createElement("div",{className:"list-group-item liveclass-listing",key:i},s.a.createElement("div",{className:"col-md-12 desktop-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-md-3 col-lg-3 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.state.type+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},s.a.createElement("img",{className:"media-object image-size img-rounded img-fluid",src:x+e.Workout.id+"-img.png",onError:function(e){return _o.checkImageCrop(e,"ondemand-placeholder.png")}})),s.a.createElement("span",{class:"position-absolute vid_time"},s.a.createElement("span",null,e.Workout.length," mins")))),s.a.createElement("div",{className:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{className:"col-md-9 col-lg-9 col-sm-9 float-left pl-20"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left m-b-10 p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e.Workout&&e.Workout.Instructor&&e.Workout.Instructor.img?S+e.Workout.Instructor.img:D+"instructor-placeholder.png",onError:function(e){return _o.checkImageCrop(e,"instructor-placeholder.png")},alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.state.type+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},"  ",e.Workout.title)),(a.props.logged_userData.isStudyLeader||a.props.logged_userData.isGroupLeader||a.props.logged_userData.isStudyInstructor)&&s.a.createElement("div",{className:"w-80"},e.Community&&e.Community.community_name&&s.a.createElement("span",{className:"font-16 font-semibold black-txt"},"Group : ",e.Community.community_name)),s.a.createElement("div",{className:"w-80"},"with",e.Workout.Instructor.hasProfile&&s.a.createElement("span",null,s.a.createElement(Qo.b,{to:"/instructor/"+e.Workout.Instructor.id+"/"+a.state.type,className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName),a.props.group&&s.a.createElement(Jl.CopyToClipboard,{text:u+"/group/liveclasses/list/"+_o.decodeUrl(a.props.group)+"/"+_o.decodeUrl(_o.replaceChar(a.state.type,!0))+"/"+e.id+"/pollReview",onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"}))),"kidney disease"===a.props.params&&"Education"==_o.returnTagCheck("Education","discipline",e.WorkoutId,a.state.total_tags?a.state.total_tags:[])&&s.a.createElement(Jl.CopyToClipboard,{text:pe,onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"}))),"kidney disease"===a.props.params&&"Education"!=_o.returnTagCheck("Education","discipline",e.WorkoutId,a.state.total_tags?a.state.total_tags:[])&&s.a.createElement(Jl.CopyToClipboard,{text:"https://docs.google.com/forms/d/e/1FAIpQLSdqWnzI0Oaaz9scOtH8_f74AcOsNSyvpk4HWb0j91QedUMXCQ/viewform?usp=sf_link",onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"}))),"cystic fibrosis"===a.props.params&&"Education"==_o.returnTagCheck("Education","discipline",e.WorkoutId,a.state.total_tags?a.state.total_tags:[])&&s.a.createElement(Jl.CopyToClipboard,{text:ue,onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"}))),"cystic fibrosis"===a.props.params&&"Education"!=_o.returnTagCheck("Education","discipline",e.WorkoutId,a.state.total_tags?a.state.total_tags:[])&&s.a.createElement(Jl.CopyToClipboard,{text:"https://docs.google.com/forms/d/e/1FAIpQLSebBKKkkWAqTAcB_Hf1eGQudjr_DZM30jl2ADktRtn4LOZdpA/viewform?usp=sf_link",onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"})))),!e.Workout.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName,a.props.group&&s.a.createElement(Jl.CopyToClipboard,{text:u+"/group/liveclasses/list/"+_o.decodeUrl(a.props.group)+"/"+_o.decodeUrl(_o.replaceChar(a.state.type,!0))+"/"+e.id+"/pollReview",onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"}))))))),a.renderDisciplineList(e,"desktop"),a.renderDificulty(e,"desktop"),e.RoomExtension&&e.RoomExtension.notes&&!r[t][i]&&s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0 m-t-10"},s.a.createElement("span",{className:"w-40 font-16 font-bold black-txt float-left"},"A note about this class"),a.props.is_auth&&a.props.is_create_mode&&s.a.createElement("span",{className:"font-16 float-right font-medium p-l-5 capitalize_text"},s.a.createElement("span",{className:"flow-text note-actions",onClick:function(){var o=a.state.is_edit_note;o[t][i]=!0;var s=a.state.editorValue;s[t][i]=Nl.a.createValueFromString(e.RoomExtension.notes,"html"),a.setState({is_edit_note:o,editorValue:s})}},"Edit"),s.a.createElement("span",{className:"m-l-10 flow-text note-actions",onClick:function(){a.deleteLiveclassNotes(e.id,t,i)}},"Delete"))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0 liveclass-notes"},s.a.createElement("span",{className:"w-40 font-16 font-medium flow-text float-left",dangerouslySetInnerHTML:{__html:e.RoomExtension.notes}}))),(!e.RoomExtension||!e.RoomExtension.notes)&&!n[t][i]&&a.props.is_auth&&a.props.is_create_mode&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0 m-t-10"},s.a.createElement("span",{className:"font-16 float-left font-medium note-actions flow-text",onClick:function(){var e=a.state.is_add_note;e[t][i]=!0,a.setState({is_add_note:e})}},"Add a short note about this class")),(!e.RoomExtension||!e.RoomExtension.notes)&&n[t][i]&&s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-bold gray-txt float-left"},"Add a short note about this class"),n[t][i]&&s.a.createElement("span",{className:"font-16 float-right font-medium p-l-5 capitalize_text"},s.a.createElement("span",{className:"flow-text note-actions",onClick:function(){var e=a.state.is_add_note;e[t][i]=!1,a.setState({is_add_note:e})}},"Cancel"),s.a.createElement("span",{className:"m-l-10 flow-text note-actions",onClick:function(){a.saveLiveclassNotes(e.id,t,i)}},"Save"))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-100 font-16 font-semibold float-left"},s.a.createElement(Nl.a,{className:" font-qregular",toolbarConfig:Ql,value:o[t][i],onChange:function(e){return a.handleChangeTextEdit(e,t,i)}})))),r[t][i]&&s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-bold gray-txt float-left"},"Edit a short note about this class"),r[t][i]&&s.a.createElement("span",{className:"font-16 float-right font-medium p-l-5 capitalize_text"},s.a.createElement("span",{className:"flow-text note-actions",onClick:function(){var e=a.state.is_edit_note;e[t][i]=!1,a.setState({is_edit_note:e})}},"Cancel"),s.a.createElement("span",{className:"m-l-10 flow-text note-actions",onClick:function(){a.saveLiveclassNotes(e.id,t,i)}},"Save"))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-100 font-16 font-semibold float-left"},s.a.createElement(Nl.a,{className:" font-qregular",toolbarConfig:Ql,value:a.state.editorValue[t][i],onChange:function(e){return a.handleChangeTextEdit(e,t,i)}}))))),s.a.createElement("div",{className:"col-lg-3 float-left col-md-3 p-0 text-center"},s.a.createElement("span",{className:"btn btn-default-list-blue w-100 clearfix pad_list_btn"},bo()(e.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),s.a.createElement("span",{className:"btn btn-default-list-orange w-100 clearfix pad_list_btn"},"Live Session"),"Dashboard"==a.props.componentType&&s.a.createElement(xn,{item:e,type:e.type,title:e.Workout.title,length:e.Workout.length}),a.props.is_auth&&a.props.is_create_mode&&!a.props.logged_userData.isStudyLeader&&s.a.createElement("div",{className:"pointer",onClick:function(){a.getLiveClassDetail(e.Workout.id,e.id)}},s.a.createElement("img",{src:D+"edit-pencil.png",class:"float-right"})),a.props.is_auth&&a.props.is_create_mode&&a.props.logged_userData.isStudyLeader&&!a.props.group&&s.a.createElement("span",{className:"btn btn-darkblue-inverse w-100 clearfix pad_list_btn",onClick:function(){a.getLiveClassDetail(e.Workout.id,e.id)}},"Edit Template"),a.props.is_auth&&(a.props.is_group_mode||a.props.is_create_mode)&&(a.props.logged_userData.isGroupLeader||a.props.logged_userData.isStudyLeader)&&a.props.group&&s.a.createElement("span",{className:"btn btn-default-list-orange w-100 clearfix pad_list_btn",onClick:function(){a.getLiveClassDetail(e.Workout.id,e.id)}},"Manage Class"))))),s.a.createElement("div",{className:"col-md-12 mobile-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-12 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.state.type+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},s.a.createElement("img",{className:"media-object image-size img-rounded img-fluid",src:x+e.Workout.id+"-img.png",onError:function(e){return _o.checkImageCrop(e,"ondemand-placeholder.png")}})),s.a.createElement("span",{class:"position-absolute vid_time"},s.a.createElement("span",null,e.Workout.length," mins")))),s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"col-12 float-left p-0 "},s.a.createElement("div",{className:"col-12  float-left p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100 m-t-5 m-b-5"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e.Workout&&e.Workout.Instructor&&e.Workout.Instructor.img?S+e.Workout.Instructor.img:D+"instructor-placeholder.png",onError:function(e){return _o.checkImageCrop(e,"instructor-placeholder.png")},alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.state.type+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}}," ",e.Workout.title)),(a.props.logged_userData.isStudyLeader||a.props.logged_userData.isGroupLeader||a.props.logged_userData.isStudyInstructor)&&s.a.createElement("div",{className:"w-80"},e.Community&&e.Community.community_name&&s.a.createElement("span",{className:"font-16 font-semibold black-txt"},"Group : ",e.Community.community_name)),s.a.createElement("div",{className:"w-80"},"with",e.Workout.Instructor.hasProfile&&s.a.createElement("span",null,s.a.createElement(Qo.b,{to:"/instructor/"+e.Workout.Instructor.id+"/"+a.state.type,className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName),a.props.group&&s.a.createElement(Jl.CopyToClipboard,{text:u+"/group/liveclasses/list/"+_o.decodeUrl(a.props.group)+"/"+_o.decodeUrl(_o.replaceChar(a.state.type,!0))+"/"+e.id+"/pollReview",onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"})))),!e.Workout.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName,a.props.group&&s.a.createElement(Jl.CopyToClipboard,{text:u+"/group/liveclasses/list/"+_o.decodeUrl(a.props.group)+"/"+_o.decodeUrl(_o.replaceChar(a.state.type,!0))+"/"+e.id+"/pollReview",onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"}))))))),s.a.createElement("div",{className:"font-medium col-12 p-0 m-b-10 float-left "},a.renderDisciplineList(e,"mobile"),a.renderDificulty(e,"mobile"),e.RoomExtension&&e.RoomExtension.notes&&s.a.createElement("div",{className:" liveclass-notes"},s.a.createElement("span",{className:"w-40 font-16 font-bold black-txt float-left m-t-10"},"A note about this class"),s.a.createElement("span",{className:"w-40 font-16 font-medium flow-text float-left",dangerouslySetInnerHTML:{__html:e.RoomExtension.notes}}))))),s.a.createElement("div",{className:"col-12 float-left p-0 text-center"},a.renderSchedule(e),e.Signedup&&s.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-purple w-100 pad_list_btn font-medium m-b-10 joinclass-blue-btn",onClick:function(){return a.cancelCalss(e,t,i)}},"Oops, I can't make it"),s.a.createElement("span",{className:"w-100 btn btn-default-list-blue clearfix pad_list_btn"},bo()(e.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),s.a.createElement("span",{className:"w-100 btn btn-default-list-orange clearfix pad_list_btn"},"Live Session")))))}))}},{key:"renderCreateLiveclass",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{class:"list-group-item"},s.a.createElement("div",{class:"col-md-12 desktop-view-live"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"media col-md-3 col-lg-3 p-0"},s.a.createElement("figure",{class:"pull-left position-relative"},s.a.createElement("img",{class:"media-object image-size img-rounded img-fluid",src:D+"ondemand-placeholder.png"}))),s.a.createElement("div",{class:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{class:"col-12 col-md-9 col-lg-12 col-sm-9 float-left pl-20"},s.a.createElement("div",{class:"col-md-12 col-lg-12 col-sm-6 small-device float-left m-b-10 p-0"},s.a.createElement("div",{class:"p-0 border-0 float-left w-100"},s.a.createElement("div",{class:"font-24 font-medium m-b-5 w-80"},"New Live Beam Class"),s.a.createElement("p",{class:"w-80 font-16 font-qregular black-txt"},"Click the plus sign to create a new Live Class!"),s.a.createElement("p",{class:"w-80 font-16 font-qregular black-txt"},"You will need..."),s.a.createElement("div",{className:"font-qregular w-100"},s.a.createElement("ul",{className:"col-md-12 col-sm-12 float-left black-txt"},s.a.createElement("li",null,s.a.createElement("span",{className:"w-40 font-16 font-qregular float-left"},"Beam Live Class Details Google Form Response")),s.a.createElement("li",null,s.a.createElement("span",{className:"w-40 font-16 font-qregular float-left col-11 p-0"},"Class Image"),s.a.createElement("div",{onClick:function(){e.props.ondemandCMSModelOpen({open:!0,type:"add"}),e.props.clearLiveclassDetail()},className:"pointer"},s.a.createElement("img",{src:D+"add-plus.png",class:"float-right"})))))))))))))}},{key:"renderLiveClassList",value:function(){var e=this;return this.state.liveClassList.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("p",{className:"section_header font-semibold bg-purple-color"},_o.getDayNameFromDate(t[0].scheduledFor)),e.renderSubItemList(t,a))}))}},{key:"renderLoadMore",value:function(){var e=this;if(this.state.count>this.state.allClassTotal)return s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement("span",{onClick:function(){e.incrementShowmoreCnt()},className:"btn btn-orange m-t-40 m-b-40 font-book pointer"},"Show more past live classes"))}},{key:"renderListData",value:function(){return s.a.createElement("div",null,s.a.createElement(s.a.Fragment,null,this.renderLiveClassComponent()),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null)))}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+10},(function(){this.getLiveClassList(this.props.liveclass_filter_instructor)}))}},{key:"groupListResult",value:function(e){var t=[],a=this.state.liveClassList,o=e,s={},n=[],r="";o.map((function(e,i){if(0===i&&(r=e.scheduledFor),a&&a.length>0&&o&&e&&bo()(a[a.length-1][0].scheduledFor).format("DD/MM/YYYY")===bo()(e.scheduledFor).format("DD/MM/YYYY"))a[a.length-1].push(e),t=a;else{i=bo()(e.scheduledFor).format("DD/MM/YYYY");s[i]?s[i].push(e):(s[i]=[],s[i].push(e),n.push(s[i])),t=[].concat(Object(Lo.a)(a),n)}})),this.setState({liveClassList:t,firstScheduleDate:r}),this.initiateNotesFlag()}},{key:"renderLiveClassComponent",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(hi,{is_model_open:this.state.openResearchModel,closeResearchModel:this.closeResearchModel,classType:"Live",beforeReview:this.beforeReview,workoutId:this.state.workoutId,current_attendee:this.state.current_attendee}),this.state.liveClassList&&this.state.liveClassList.length>0&&s.a.createElement("div",{id:"products",className:"row"},s.a.createElement("div",{className:"list-group w-100"},this.renderLiveClassList()),this.renderLoadMore()))}},{key:"changeViewLayout",value:function(){var e=this.state.displayLayout;this.setState({displayLayout:!e})}},{key:"render",value:function(){return s.a.createElement("div",{className:""},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Live classes - ",this.state.type,ye),s.a.createElement("meta",{property:"og:title",content:"Live classes - "+this.state.type+ye}),s.a.createElement("meta",{property:"og:description",content:Ne}),s.a.createElement("meta",{property:"og:image",content:we}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:Ce})),this.renderListData(),s.a.createElement(hl,{is_model_open:this.state.modelState,modelData:this.state.modelData,modelClose:this.modelClose}),this.props.is_cms_model&&s.a.createElement(Kl,{getList:this.recallLiveclass,componentType:this.props.componentType,group:this.props.group,groupId:this.props.groupId}))}}]),a}(s.a.Component),Xl={fetchClassList:Ia,start_loader:ht,stop_loader:gt,joinClass:ja,loginModelOpen:pt,cancelClass:Ta,fetchGroupWorkout:eo,fetchDashboardSchedule:qa,ondemandCMSModelOpen:ha,clearOndemandList:Zt,addLiveclassNotes:Pa,deleteLiveclassNotes:Ua,liveclassDetail:Fa,clearLiveclassDetail:Ra,getPastClassList:function(e){return function(t,a){var o,s=tt(),n=(new Date).getTimezoneOffset();return o=h+"/api/liveclass/get/PastLiveclass/"+e.condition+"?offset="+e.offset+"&limit="+e.limit+"&zone="+n+"&filter="+e.filter,fetch(o,s).then((function(e){return go(e,t)})).then((function(e){return e&&t({type:"liveclass_prismic_param",payload:e.list.prismic_params}),e}))}},fetchGroupPastWorkout:function(e){return function(t,a){var o,s=tt(),n=(new Date).getTimezoneOffset();return o=h+"/api/groups/pastliveclass/"+e.condition+"/"+e.group+"?offset="+e.offset+"&limit="+e.limit+"&zone="+n,fetch(o,s).then((function(e){return go(e,t)})).then((function(e){return e}))}}},$l=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,is_create_mode:e.header.is_create_mode,is_cms_model:e.workout.is_cms_model,liveclass_filter_instructor:e.liveclass.liveclass_filter_instructor,is_group_mode:e.header.is_group_mode,logged_userData:e.header.logged_userData}}),Xl)(Zl),ec={display:["INLINE_STYLE_BUTTONS","BLOCK_TYPE_BUTTONS","LINK_BUTTONS"],INLINE_STYLE_BUTTONS:[{label:"Bold",style:"BOLD",className:"custom-css-class"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],BLOCK_TYPE_BUTTONS:[{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}]},tc=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).handleChangeTextEdit=function(e,t,a){var s=o.state.editorValue,n=o.state.notes;s[t][a]=e,n[t][a]=e,o.setState({editorValue:s,notes:n})},o.state={Loading:!0,signupLoader:!1,offset:0,count:0,show_more_cnt:10,liveClassList:[],allLiveClassData:[],displayLayout:!0,type:o.props.params,modelState:!1,modelData:{},firstScheduleDate:"",total_tags:[],total_levels:[],is_toggled:!1,currentPageName:"",is_add_note:{},is_edit_note:[],editorValue:[],notes:[],allClassTotal:0,headerUrl:"",openResearchModel:!1,current_attendee:{},redirectUrl:"",workoutId:"",openPostPollModel:!1},o.submitStartNow=o.submitStartNow.bind(Object(is.a)(o)),o.modelClose=o.modelClose.bind(Object(is.a)(o)),o.joinClassService=o.joinClassService.bind(Object(is.a)(o)),o.toggleClasses=o.toggleClasses.bind(Object(is.a)(o)),o.getLiveClassList=o.getLiveClassList.bind(Object(is.a)(o)),o.recallLiveclass=o.recallLiveclass.bind(Object(is.a)(o)),o.handleChangeTextEdit=o.handleChangeTextEdit.bind(Object(is.a)(o)),o.saveLiveclassNotes=o.saveLiveclassNotes.bind(Object(is.a)(o)),o.deleteLiveclassNotes=o.deleteLiveclassNotes.bind(Object(is.a)(o)),o.initiateNotesFlag=o.initiateNotesFlag.bind(Object(is.a)(o)),o.getLiveClassDetail=o.getLiveClassDetail.bind(Object(is.a)(o)),o.closeResearchModel=o.closeResearchModel.bind(Object(is.a)(o)),o.closeResearchPostModel=o.closeResearchPostModel.bind(Object(is.a)(o)),o.viewPrepoll=o.viewPrepoll.bind(Object(is.a)(o)),o.beforeReview=o.beforeReview.bind(Object(is.a)(o)),o.lastState=o.props.params,o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname,t=e.split("/")[1];e.split("/")[6],e.split("/")[7];this.setState({currentPageName:t,headerUrl:e}),this.props.clearOndemandList(),this.props.ondemandCMSModelOpen({open:!1}),this.getLiveClassList(this.props.liveclass_filter_instructor);this.props}},{key:"getLiveClassDetail",value:function(e){var t=this;this.props.liveclassDetail(e,this.state.type,0,this.props.groupId).then((function(e){t.props.ondemandCMSModelOpen({open:!0,type:"edit"})}),(function(e){console.log("err",e)}))}},{key:"submitStartNow",value:function(e){this.props.is_auth?this.joinClassService(e):this.props.loginModelOpen(!0)}},{key:"closeResearchModel",value:function(){this.setState({openResearchModel:!1})}},{key:"beforeReview",value:function(){window.open(this.state.redirectUrl)}},{key:"viewPrepoll",value:function(e){var t=this;e.Attendees.forEach((function(e){e.UserId===t.props.logged_userData.id&&t.setState({redirectUrl:e.reference,current_attendee:e})})),this.setState({openResearchModel:!0,workoutId:e.WorkoutId})}},{key:"closeResearchPostModel",value:function(){this.setState({openPostPollModel:!1})}},{key:"componentWillReceiveProps",value:function(e){this.props.liveclass_filter_instructor!=e.liveclass_filter_instructor&&this.setState({liveClassList:[],allLiveClassData:[]},(function(){this.getLiveClassList(e.liveclass_filter_instructor)})),!this.props.is_auth&&e.is_auth?(this.setState({liveClassList:[]}),this.getLiveClassList()):(console.log("resdddddddddddddddd"),this.setState({liveClassList:[]},(function(){this.toggleLiveClasses()}))),this.lastState!=e.params&&(this.lastState=e.params,this.setState({type:e.params},(function(){this.setState({liveClassList:[]}),this.getLiveClassList()})))}},{key:"saveLiveclassNotes",value:function(e,t,a){var o=this,s=this.state,n=(s.is_add_note,s.is_edit_note,this.state.notes[t][a]?this.state.notes[t][a].toString("html").replace(/<a /g,'<a target="_blank" '):this.state.liveClassList[t][a].RoomExtension.notes.toString("html").replace(/<a /g,'<a target="_blank" ')),r={roomId:e,notes:n};this.props.addLiveclassNotes(r).then((function(e){var s=Object(Lo.a)(o.state.liveClassList),r=o.state.is_add_note,i=o.state.is_edit_note;s[t][a].RoomExtension=s[t][a].RoomExtension?s[t][a].RoomExtension:[],s[t][a].RoomExtension.notes=n,r[t][a]=!1,i[t][a]=!1,o.setState({liveClassList:s,is_add_note:r,is_edit_note:i}),at.b.success(e.message)}),(function(e){at.b.error(e)}))}},{key:"deleteLiveclassNotes",value:function(e,t,a){var o=this,s=(this.state.is_add_note,{roomId:e});this.props.deleteLiveclassNotes(s).then((function(e){var s=Object(Lo.a)(o.state.liveClassList);s[t][a].RoomExtension.notes="",o.setState({liveClassList:s}),at.b.success(e.message)}),(function(e){at.b.error(e)}))}},{key:"initiateNotesFlag",value:function(){var e=this.state.editorValue,t=this.state.notes,a=[];Eo.a.forEach(this.state.liveClassList,(function(o,s){a[s]=[],e[s]=[],t[s]=[],Eo.a.forEach(o,(function(o,n){a[s][n]=!1,e[s][n]=Nl.a.createEmptyValue(),t[s][n]=""}))})),this.setState({editorValue:e,notes:t})}},{key:"joinClassService",value:function(e){var t=this,a={roomId:e.id};this.setState({signupLoader:!0}),this.props.joinClass(a).then((function(a){a&&t.setState({signupLoader:!1,modelState:!0,modelData:e})}),(function(e){t.setState({signupLoader:!1,modelState:!1,modelData:{}}),at.b.error(e)}))}},{key:"modelClose",value:function(){this.setState({Loading:!1,offset:0,count:0,show_more_cnt:10,liveClassList:[],displayLayout:!0,type:this.props.params,modelState:!1,modelData:{}},(function(){this.getLiveClassList()}))}},{key:"recallLiveclass",value:function(){this.setState({allLiveClassData:[]}),this.getLiveClassList()}},{key:"getLiveClassList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({Loading:!0});var a={offset:this.state.offset,limit:10,condition:_o.replaceChar(this.state.type,!0),filter:t,communityId:this.props.groupId};this.props.getUnscheduledClassList(a).then((function(t){if(t){var a=t.list;if(a&&a.liveClasses){var o=a.liveClasses,s=e.state.allClassTotal;e.setState({allLiveClassData:o,allClassTotal:s+o.length}),e.toggleLiveClasses()}e.setState({Loading:!1,count:a.count,total_tags:t.list.tags?t.list.tags:[],total_levels:t.list.levelTags?t.list.levelTags:[]},(function(){}))}}),(function(t){e.setState({Loading:!1}),e.props.stop_loader()}))}},{key:"toggleClasses",value:function(e){this.setState({is_toggled:e,liveClassList:[]},(function(){this.toggleLiveClasses()}))}},{key:"toggleLiveClasses",value:function(){var e=this.state.allLiveClassData,t=Go.Cookies.get("is_toggled");console.log("is_toggled",t),this.groupListResult(e)}},{key:"renderDisciplineList",value:function(e,t){var a=_o.returnTag("discipline",this.state.total_tags,e.id);return"None"===a?s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"}):s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5"},s.a.createElement("span",{className:"orangefont w-60 float-left font-medium p-l-5 capitalize_text"},a)))}},{key:"renderDificulty",value:function(e,t){var a=_o.returnTag("level",this.state.total_levels,e.id);return"None"!==a?s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},a)):s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"})}},{key:"renderSchedule",value:function(e){var t=this;bo()().format("YYYY-MM-DD hh:mm::ss"),bo()(e.scheduledFor).format("YYYY-MM-DD hh:mm::ss");if(e.reference&&"coming soon"===e.reference.toLowerCase())return s.a.createElement("a",{className:"btn-purple-inverse pad_list_btn clearfix"}," ",e.reference," ");var a=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();return e.Signedup&&this.props.logged_userData.isStudyParticipant&&Q.includes(a)?s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.viewPrepoll(e)}}," Go to class "):e.Signedup&&!this.props.logged_userData.isStudyParticipant||e.Signedup&&this.props.logged_userData.isStudyParticipant&&!Q.includes(a)?s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",href:e.Attendees[0].reference||"#",target:"_blank"}," Go to class "):s.a.createElement("button",{disabled:this.state.signupLoader,onClick:function(){return t.submitStartNow(e)},className:"btn btn-purple-inverse w-100 font-medium m-b-10 pad_list_btn"}," Sign up ")}},{key:"cancelCalss",value:function(e,t,a){var o=this;if(!this.state.cancelLoading){this.setState({cancelLoading:!0});var s={roomId:e.id};this.props.cancelClass(s).then((function(e){e&&at.b.success(e.message);var s=Object(Lo.a)(o.state.liveClassList);s[t][a].Signedup=!1,o.setState({liveClassList:s,cancelLoading:!1})}),(function(e){o.setState({cancelLoading:!1})}))}}},{key:"renderSubItemList",value:function(e,t){var a=this,o=this.state.editorValue,n=this.state.is_add_note;n[t]=n[t]?n[t]:[];var r=this.state.is_edit_note;return r[t]=r[t]?r[t]:[],e.map((function(e,i){return s.a.createElement("div",{className:"list-group-item liveclass-listing",key:i},s.a.createElement("div",{className:"col-md-12 desktop-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-md-3 col-lg-3 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"#"},s.a.createElement("img",{className:"media-object image-size img-rounded img-fluid",src:x+e.id+"-img.png",onError:function(e){return _o.checkImageCrop(e,"ondemand-placeholder.png")}})),s.a.createElement("span",{class:"position-absolute vid_time"},s.a.createElement("span",null,e.length," mins")))),s.a.createElement("div",{className:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{className:"col-md-9 col-lg-9 col-sm-9 float-left pl-20"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left m-b-10 p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e&&e.Instructor&&e.Instructor.img?S+e.Instructor.img:D+"instructor-placeholder.png",onError:function(e){return _o.checkImageCrop(e,"instructor-placeholder.png")},alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"#"},"  ",e.title)),s.a.createElement("div",{className:"w-80"},"with",e.Instructor&&e.Instructor.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+e.Instructor.id+"/"+a.state.type,className:"font-16 font-semibold black-txt p-l-5"},e.Instructor.User.name," ",e.Instructor.User.lastName),e.Instructor&&!e.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},e.Instructor.User.name," ",e.Instructor.User.lastName)))),a.renderDisciplineList(e,"desktop"),a.renderDificulty(e,"desktop"),e.Room&&e.Room.RoomExtension&&e.Room.RoomExtension.notes&&!r[t][i]&&s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0 m-t-10"},s.a.createElement("span",{className:"w-40 font-16 font-bold black-txt float-left"},"A note about this class"),a.props.is_auth&&a.props.is_create_mode&&s.a.createElement("span",{className:"font-16 float-right font-medium p-l-5 capitalize_text"},s.a.createElement("span",{className:"flow-text note-actions",onClick:function(){var o=a.state.is_edit_note;o[t][i]=!0;var s=a.state.editorValue;s[t][i]=Nl.a.createValueFromString(e.Room.RoomExtension.notes,"html"),a.setState({is_edit_note:o,editorValue:s})}},"Edit"),s.a.createElement("span",{className:"m-l-10 flow-text note-actions",onClick:function(){a.deleteLiveclassNotes(e.Room.id,t,i)}},"Delete"))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0 liveclass-notes"},s.a.createElement("span",{className:"w-40 font-16 font-medium flow-text float-left",dangerouslySetInnerHTML:{__html:e.Room.RoomExtension.notes}}))),e.Room&&(!e.Room.RoomExtension||!e.Room.RoomExtension.notes)&&!n[t][i]&&a.props.is_auth&&a.props.is_create_mode&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0 m-t-10"},s.a.createElement("span",{className:"font-16 float-left font-medium note-actions flow-text",onClick:function(){var e=a.state.is_add_note;e[t][i]=!0,a.setState({is_add_note:e})}},"Add a short note about this class")),e.Room&&(!e.Room.RoomExtension||!e.Room.RoomExtension.notes)&&n[t][i]&&s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-bold gray-txt float-left"},"Add a short note about this class"),n[t][i]&&s.a.createElement("span",{className:"font-16 float-right font-medium p-l-5 capitalize_text"},s.a.createElement("span",{className:"flow-text note-actions",onClick:function(){var e=a.state.is_add_note;e[t][i]=!1,a.setState({is_add_note:e})}},"Cancel"),s.a.createElement("span",{className:"m-l-10 flow-text note-actions",onClick:function(){a.saveLiveclassNotes(e.id,t,i)}},"Save"))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-100 font-16 font-semibold float-left"},s.a.createElement(Nl.a,{className:" font-qregular",toolbarConfig:ec,value:o[t][i],onChange:function(e){return a.handleChangeTextEdit(e,t,i)}})))),r[t][i]&&s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-bold gray-txt float-left"},"Edit a short note about this class"),r[t][i]&&s.a.createElement("span",{className:"font-16 float-right font-medium p-l-5 capitalize_text"},s.a.createElement("span",{className:"flow-text note-actions",onClick:function(){var e=a.state.is_edit_note;e[t][i]=!1,a.setState({is_edit_note:e})}},"Cancel"),s.a.createElement("span",{className:"m-l-10 flow-text note-actions",onClick:function(){a.saveLiveclassNotes(e.id,t,i)}},"Save"))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-100 font-16 font-semibold float-left"},s.a.createElement(Nl.a,{className:" font-qregular",toolbarConfig:ec,value:a.state.editorValue[t][i],onChange:function(e){return a.handleChangeTextEdit(e,t,i)}}))))),s.a.createElement("div",{className:"col-lg-3 float-left col-md-3 p-0 text-center"},s.a.createElement("span",{className:"btn btn-default-list-orange w-100 clearfix pad_list_btn"},"Live Session"),"Dashboard"==a.props.componentType&&s.a.createElement(xn,{item:e,type:e.type,title:e.Workout.title,length:e.Workout.length}),a.props.is_auth&&(a.props.is_create_mode||a.props.is_group_mode)&&a.props.logged_userData.isStudyLeader&&!a.props.group&&s.a.createElement("span",{className:"btn btn-darkblue-inverse w-100 clearfix pad_list_btn",onClick:function(){a.getLiveClassDetail(e.id)}},"Edit Template"),a.props.is_auth&&(a.props.is_group_mode||a.props.is_create_mode)&&(a.props.logged_userData.isGroupLeader||a.props.logged_userData.isStudyLeader)&&a.props.group&&s.a.createElement("span",{className:"btn btn-default-list-orange w-100 clearfix pad_list_btn",onClick:function(){a.getLiveClassDetail(e.id)}},"Manage Class"),a.props.is_auth&&a.props.is_create_mode&&E.includes(a.state.currentPageName)&&!a.props.logged_userData.isStudyLeader&&s.a.createElement("div",{className:"pointer",onClick:function(){a.getLiveClassDetail(e.id)}},s.a.createElement("img",{src:D+"edit-pencil.png",class:"float-right"})))))),s.a.createElement("div",{className:"col-md-12 mobile-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-12 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"#"},s.a.createElement("img",{className:"media-object image-size img-rounded img-fluid",src:x+e.id+"-img.png",onError:function(e){return _o.checkImageCrop(e,"ondemand-placeholder.png")}})),s.a.createElement("span",{class:"position-absolute vid_time "},s.a.createElement("span",null,e.length," mins")))),s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"col-12 float-left p-0 "},s.a.createElement("div",{className:"col-12  float-left p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100 m-t-5 m-b-5"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e&&e.Instructor&&e.Instructor.img?S+e.Instructor.img:D+"instructor-placeholder.png",onError:function(e){return _o.checkImageCrop(e,"instructor-placeholder.png")},alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"#"}," ",e.title)),s.a.createElement("div",{className:"w-80"},"with",e.Instructor&&e.Instructor.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+e.Instructor.id+"/"+a.state.type,className:"font-16 font-semibold black-txt p-l-5"},e.Instructor.User.name," ",e.Instructor.User.lastName),e.Instructor&&!e.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},e.Instructor.User.name," ",e.Instructor.User.lastName)))),s.a.createElement("div",{className:"font-medium col-12 p-0 m-b-10 float-left "},a.renderDisciplineList(e,"mobile"),a.renderDificulty(e,"mobile"),e.Room&&e.RoomExtension&&e.RoomExtension.notes&&s.a.createElement("div",{className:" liveclass-notes"},s.a.createElement("span",{className:"w-40 font-16 font-bold black-txt float-left m-t-10"},"A note about this class"),s.a.createElement("span",{className:"w-40 font-16 font-medium flow-text float-left",dangerouslySetInnerHTML:{__html:e.RoomExtension.notes}}))))),s.a.createElement("div",{className:"col-12 float-left p-0 text-center"},e.Signedup&&s.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-purple w-100 pad_list_btn font-medium m-b-10 joinclass-blue-btn",onClick:function(){return a.cancelCalss(e,t,i)}},"Oops, I can't make it"),s.a.createElement("span",{className:"w-100 btn btn-default-list-orange clearfix pad_list_btn"},"Live Session")))))}))}},{key:"renderCreateLiveclass",value:function(){var e=this,t=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;return s.a.createElement("div",null,s.a.createElement("div",{class:"list-group-item"},s.a.createElement("div",{class:"col-md-12 desktop-view-live"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"media col-md-3 col-lg-3 p-0"},s.a.createElement("figure",{class:"pull-left position-relative"},s.a.createElement("img",{class:"media-object image-size img-rounded img-fluid",src:D+"ondemand-placeholder.png"}))),s.a.createElement("div",{class:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{class:"col-12 col-md-9 col-lg-12 col-sm-9 float-left pl-20"},s.a.createElement("div",{class:"col-md-12 col-lg-12 col-sm-6 small-device float-left m-b-10 p-0"},s.a.createElement("div",{class:"p-0 border-0 float-left w-100"},s.a.createElement("div",{class:"font-24 font-medium m-b-5 w-80"},"New Live Beam Class"),s.a.createElement("p",{class:"w-80 font-16 font-qregular black-txt"},"Click the plus sign to create a new Live Class!"),!t.isStudyLeader&&s.a.createElement("p",{class:"w-80 font-16 font-qregular black-txt"},"You will need..."),s.a.createElement("div",{className:"font-qregular w-100"},s.a.createElement("ul",{className:"col-md-12 col-sm-12 float-left black-txt"},!t.isStudyLeader&&s.a.createElement("li",null,s.a.createElement("span",{className:"w-40 font-16 font-qregular float-left"},"Beam Live Class Details Google Form Response")),!t.isStudyLeader&&s.a.createElement("li",null,s.a.createElement("span",{className:"w-40 font-16 font-qregular float-left col-11 p-0"},"Class Image")),s.a.createElement("div",{onClick:function(){e.props.ondemandCMSModelOpen({open:!0,type:"add"}),e.props.clearLiveclassDetail()},className:"pointer"},s.a.createElement("img",{src:D+"add-plus.png",class:"float-right"}))))))))))))}},{key:"renderLiveClassList",value:function(){var e=this;return this.state.liveClassList.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("p",{className:"section_header font-semibold bg-dark-blue p-4"}," "),e.renderSubItemList(t,a))}))}},{key:"renderLoadMore",value:function(){var e=this;if(console.log("this.state.allLiveClassData",this.state.allClassTotal),this.state.count>this.state.allClassTotal)return s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement("span",{onClick:function(){e.incrementShowmoreCnt()},className:"btn btn-orange m-t-40 m-b-40 font-book pointer"},"Show more unscheduled live classes"))}},{key:"renderListData",value:function(){return s.a.createElement("div",null,this.props.is_auth&&(this.props.is_create_mode&&this.props.logged_userData.isCreator||this.props.is_create_mode&&!this.props.logged_userData.isCreator&&!this.state.headerUrl.includes("/group/liveclasses")||this.props.is_group_mode&&this.props.is_group_leader&&!_o.replaceChar(this.state.type,!0).toLowerCase().includes("research"))&&s.a.createElement("div",{id:"products",className:"row"},s.a.createElement("div",{className:"list-group w-100"},this.renderCreateLiveclass())),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null)),"                ",s.a.createElement(s.a.Fragment,null,this.renderLiveClassComponent()))}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+10},(function(){this.getLiveClassList(this.props.liveclass_filter_instructor)}))}},{key:"groupListResult",value:function(e){var t=[];console.log("this.state.liveClassList",this.state.liveClassList.length);var a=this.state.liveClassList,o={},s=[];e.map((function(e,n){n=bo()(e.createdAt).format("DD/MM/YYYY");o[n]=[],o[n].push(e),s.push(o[n]),t=[].concat(Object(Lo.a)(a),s)})),this.setState({liveClassList:t,firstScheduleDate:""}),this.initiateNotesFlag()}},{key:"renderLiveClassComponent",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(bi,{is_model_open:this.state.openPostPollModel,closeResearchPostModel:this.closeResearchPostModel,classType:"Live",beforeReview:this.beforeReview,workoutId:this.state.workoutId,current_attendee:this.state.current_attendee,condition:this.state.type,history:this.props.props.history}),s.a.createElement(hi,{is_model_open:this.state.openResearchModel,closeResearchModel:this.closeResearchModel,classType:"Live",beforeReview:this.beforeReview,workoutId:this.state.workoutId,current_attendee:this.state.current_attendee}),this.state.liveClassList&&this.state.liveClassList.length>0&&s.a.createElement("div",{id:"products",className:"row"},s.a.createElement("div",{className:"list-group w-100"},this.renderLiveClassList()),this.renderLoadMore()))}},{key:"changeViewLayout",value:function(){var e=this.state.displayLayout;this.setState({displayLayout:!e})}},{key:"render",value:function(){return s.a.createElement("div",{className:""},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Live classes - ",this.state.type,ye),s.a.createElement("meta",{property:"og:title",content:"Live classes - "+this.state.type+ye}),s.a.createElement("meta",{property:"og:description",content:Ne}),s.a.createElement("meta",{property:"og:image",content:we}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:Ce})),this.renderListData(),s.a.createElement(hl,{is_model_open:this.state.modelState,modelData:this.state.modelData,modelClose:this.modelClose}),this.props.is_cms_model&&s.a.createElement(Kl,{getList:this.recallLiveclass,group:this.props.group,groupId:this.props.groupId}))}}]),a}(s.a.Component),ac={fetchClassList:Ia,start_loader:ht,stop_loader:gt,joinClass:ja,loginModelOpen:pt,cancelClass:Ta,fetchGroupWorkout:eo,fetchDashboardSchedule:qa,ondemandCMSModelOpen:ha,clearOndemandList:Zt,addLiveclassNotes:Pa,deleteLiveclassNotes:Ua,liveclassDetail:Fa,clearLiveclassDetail:Ra,getUnscheduledClassList:function(e){return function(t,a){var o,s=tt(),n=(new Date).getTimezoneOffset();return o=h+"/api/liveclass/get/UnscheduledLiveclass/"+e.condition+"?offset="+e.offset+"&limit="+e.limit+"&zone="+n+"&filter="+e.filter+"&communityId="+e.communityId,fetch(o,s).then((function(e){return go(e,t)})).then((function(e){return e&&t({type:"liveclass_prismic_param",payload:e.list.prismic_params}),e}))}}},oc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,is_create_mode:e.header.is_create_mode,is_cms_model:e.workout.is_cms_model,logged_userData:e.header.logged_userData,liveclass_filter_instructor:e.liveclass.liveclass_filter_instructor,is_group_mode:e.header.is_group_mode,is_group_leader:e.group.is_group_leader}}),ac)(tc),sc=a(113),nc=a.n(sc),rc=(a(1570),a(1577),window.google),ic=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).onCloseModal=function(){},o.handleChange=function(e){var t=e.target,a=t.name,s=t.value;o.setState(Object(rs.a)({},a,s)),"country"==a&&230==s&&(o.autocomplete=new rc.maps.places.Autocomplete(document.getElementById("autocomplete"),{}),o.autocomplete.addListener("place_changed",o.handlePlaceSelect))},o.handleEmergencyChange=function(e){var t=e.target,a=t.name,s=t.value,n=o.state.emergencyContact;n[a]=s,o.setState({emergencyContact:n})},o.handlePrimaryChange=function(e){var t=e.target,a=t.name,s=t.value,n=o.state.primaryCare;n[a]=s,o.setState({primaryCare:n})},o.handleCheckboxChange=function(e){var t=e.target,a=t.name;t.value;o.setState(Object(rs.a)({},a,!o.state[a]))},o.handlePlaceSelect=function(){var e=o.autocomplete.getPlace().address_components;console.log("handlePlaceSelectaddress",e)},o.submitEmergencyDetails=function(){o.setState({submitted:!0});var e=o.state,t=e.emergencyContact,a=e.primaryCare,s=e.phoneNumber,n=e.country,r=e.address2,i=e.city,l=e.countryState,c=e.postcode,m=e.permission_contact,d=e.emergencyContactConsent,p=e.primaryCareConsent;if(s&&n&&r&&i&&l&&c&&t.name&&t.phoneNumber&&a.name&&a.phoneNumber&&m&&p&&d){var u=o.state;o.setState({loading:!0}),o.props.saveEmergencyContact(u).then((function(e){var t={hasEmergencyContact:!0};o.setState({loading:!1}),o.props.updateUserdataRedex(t),o.props.successAction(),o.props.closeModel(),at.b.success(e.message)}),(function(e){at.b.error(e),o.props.closeModel()}))}},o.logAddress=function(e){console.log(e)},o.state={isRead:!1,emergencyContact:{name:"",phoneNumber:"",type:"emergencyContact"},primaryCare:{name:"",phoneNumber:"",type:"primaryCareDoctor"},primaryCareConsent:!1,emergencyContactConsent:!1,permission_contact:!1,isUpdate:!1,loading:!1},o.autocomplete=null,o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.autocomplete=new rc.maps.places.Autocomplete(document.getElementById("autocomplete"),{}),this.autocomplete.addListener("place_changed",this.handlePlaceSelect),this.setState({country:this.props.logged_userData.country,countryCode:this.props.logged_userData.Country.countryCode.toLowerCase(),phoneNumber:this.props.logged_userData.phoneNumber?this.props.logged_userData.phoneNumber.toString():"",permission_contact:this.props.logged_userData.permission_contact,address1:this.props.logged_userData.address1,address2:this.props.logged_userData.address2,city:this.props.logged_userData.city,countryState:this.props.logged_userData.countryState,postcode:this.props.logged_userData.postcode});var e=this.props.logged_userData;if(console.log("authData",e),this.props.logged_userData&&this.props.logged_userData.UserEmergencyContacts&&this.props.logged_userData.UserEmergencyContacts.length>0){console.log("didmouyntauthData",e);var t=e.UserEmergencyContacts[0];t.phoneNumber=t.phoneNumber.toString();var a=e.UserEmergencyContacts[1];a.phoneNumber=a.phoneNumber.toString(),this.setState({isUpdate:!0,emergencyContact:t,primaryCareConsent:a.UserConsents.length>0&&a.UserConsents[0].consentGiven,primaryCare:a,emergencyContactConsent:t.UserConsents.length>0&&t.UserConsents[0].consentGiven})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.submitted,o=t.loading,n=t.phoneNumber,r=t.country,i=t.emergencyContact,l=t.addressFinder,c=t.address1,m=t.address2,d=t.city,p=t.countryState,u=t.postcode,h=t.permission_contact,g=t.primaryCare,f=t.primaryCareConsent,b=t.emergencyContactConsent,v=t.countryCode;return console.log("countryCode",v),s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog common_design modal-width--custom live-classes--popup",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center white-txt col-md-12 p-0 font-book font-24",id:"exampleModalLabel "},"Just one more thing\u2026"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.props.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},s.a.createElement("div",null,s.a.createElement("div",{name:"login",onSubmit:this.loginSubmit},s.a.createElement("div",{className:"col-md-12  m-b-30 mr-auto ml-auto"},s.a.createElement("p",{className:"font-18 font-qregular black-txt text-center"},"At Beam, we\u2019re committed to the safety of our members. Thank you for providing additional contact information that will be used in the event of an emergency during physio-led classes only.  "),s.a.createElement("p",{className:"font-18 font-qregular black-txt text-center"},"Our members' privacy is very important to us, and this information will not be used for any other purposes. For more information about our safety procedures ",s.a.createElement("a",{href:"/blog/Help",title:"_blank",className:"black-txt"},s.a.createElement("u",null,"follow this link")),"."),s.a.createElement("div",{className:"form-group"+(a&&!n?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Your phone number ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(nc.a,{defaultCountry:v,country:n?"":v,value:n,onChange:function(t){return e.setState({phoneNumber:t})},inputClass:"w-100"}),a&&!n&&s.a.createElement("div",{className:"text-danger"},"This information is required")),s.a.createElement("div",{className:"form-group mx-auto"},s.a.createElement("label",{htmlFor:"country",className:"text-label font-semibold"},"Your country ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("div",{className:"dropdown"},s.a.createElement("select",{name:"country",value:r,className:"form-control",onChange:this.handleChange},s.a.createElement("option",{className:"pointer"},"Select country"),this.props.countries_list.map((function(t,a){return s.a.createElement("option",{className:"pointer",key:"country_"+t.id,value:t.id,selected:e.props.logged_userData.country==t.id},t.countryName)})))),a&&!r&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required")),230==r&&0==r&&s.a.createElement("div",{className:"form-group "},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Address finder"),s.a.createElement("input",{type:"text",className:"form-control",id:"autocomplete","aria-describedby":"emailHelp",placeholder:"",name:"addressFinder",value:l,ref:"input"})),230==r&&0==r&&s.a.createElement("p",{className:"font-semibold font-14"}," Or enter address manually..."),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Flat, Apt, Suite etc. ",c),s.a.createElement("input",{type:"text",className:"form-control",id:"address1","aria-describedby":"emailHelp",placeholder:"",name:"address1",value:c,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"+(a&&!m?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Street address ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",className:"form-control",id:"address2","aria-describedby":"emailHelp",placeholder:"",name:"address2",value:m,onChange:this.handleChange}),a&&!m&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required")),s.a.createElement("div",{className:"form-group"+(a&&!d?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"City ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",className:"form-control",id:"city","aria-describedby":"emailHelp",placeholder:"",name:"city",value:d,onChange:this.handleChange}),a&&!d&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required")),s.a.createElement("div",{className:"form-group"+(a&&!p?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"County or State ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",className:"form-control",id:"countryState","aria-describedby":"emailHelp",placeholder:"",name:"countryState",value:p,onChange:this.handleChange}),a&&!p&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required")),s.a.createElement("div",{className:"form-group"+(a&&!u?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Postcode or Zipcode ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",className:"form-control",id:"postcode","aria-describedby":"emailHelp",placeholder:"",name:"postcode",value:u,onChange:this.handleChange}),a&&!u&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required")),s.a.createElement("div",{className:"toggle-btns float-left w-100 m-b-30"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},"I consent to being contacted by any employee or contractor of Beam in an emergency situation."),s.a.createElement("label",{className:"switch m-l-10 pull-right",htmlFor:"permission_contact"},s.a.createElement("input",{type:"checkbox",name:"permission_contact",id:"permission_contact",checked:h,onChange:this.handleCheckboxChange,value:h}),s.a.createElement("div",{className:"slider round"})),a&&!h&&s.a.createElement("p",{className:"help-block text-danger"},"We require this consent to allow you to sign up to this class.  If you would rather not share this information please feel free to check out our on-demand classes instead.")),s.a.createElement("hr",{className:"row m-11 mx-auto col-md-11 bg-turquoise-blue ht-05"}),s.a.createElement("div",{className:"form-group"+(a&&!i.name?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Name of your emergency contact ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",className:"form-control",id:"name","aria-describedby":"name",placeholder:"",name:"name",value:i.name,onChange:this.handleEmergencyChange}),a&&!i.name&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required")),s.a.createElement("div",{className:"form-group"+(a&&!i.phoneNumber?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Phone number of your emergency contact ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(nc.a,{defaultCountry:v,country:i.phoneNumber?"":v,value:i.phoneNumber,onChange:function(t){var a=e.state.emergencyContact;a.phoneNumber=t,e.setState({emergencyContact:a})},inputClass:"w-100"}),a&&!i.phoneNumber&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required")),s.a.createElement("div",{className:"toggle-btns float-left w-100 m-b-30"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},"I consent to this person being contacted by any employee or contractor of Beam in an emergency situation, disclosing health information I have submitted on Beam should they deem it necessary."),s.a.createElement("label",{className:"switch m-l-10 pull-right",htmlFor:"emergencyContactConsent"},s.a.createElement("input",{type:"checkbox",name:"emergencyContactConsent",id:"emergencyContactConsent",checked:b,onChange:function(){var t=e.state.emergencyContact;t.UserConsents&&t.UserConsents.length>0?(t.UserConsents[0].consentGiven=!t.UserConsents[0].consentGiven,e.setState({emergencyContact:t,emergencyContactConsent:!b})):e.setState({emergencyContactConsent:!b})},value:b}),s.a.createElement("div",{className:"slider round"})),a&&!b&&s.a.createElement("p",{className:"help-block text-danger"},"We require this consent to allow you to sign up to this class.  If you would rather not share this information please feel free to check out our on-demand classes instead.")),s.a.createElement("hr",{className:"row m-11 mx-auto col-md-11 bg-turquoise-blue ht-05"}),s.a.createElement("div",{className:"form-group"+(a&&!g.name?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Name of your GP or primary care doctor ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",className:"form-control",id:"name","aria-describedby":"emailHelp",placeholder:"",name:"name",value:g.name,onChange:this.handlePrimaryChange}),a&&!g.name&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required")),s.a.createElement("div",{className:"form-group"+(a&&!g.phoneNumber?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Phone number of your GP or primary care doctor *"),s.a.createElement(nc.a,{defaultCountry:v,country:g.phoneNumber?"":v,value:g.phoneNumber,onChange:function(t){var a=e.state.primaryCare;a.phoneNumber=t,e.setState({primaryCare:a})},inputClass:"w-100"}),a&&!g.phoneNumber&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required")),s.a.createElement("div",{className:"toggle-btns float-left w-100 m-b-30"},s.a.createElement("span",{className:"font-14 font-qregular black-txt"},"I consent to this person being contacted by any employee or contractor of Beam in an emergency situation, disclosing health information I have submitted on Beam should they deem it necessary."),s.a.createElement("label",{className:"switch m-l-10 pull-right",htmlFor:"primaryCareConsent"},s.a.createElement("input",{type:"checkbox",name:"primaryCareConsent",id:"primaryCareConsent",checked:f,onChange:function(){var t=e.state.primaryCare;t.UserConsents&&t.UserConsents.length>0?(t.UserConsents[0].consentGiven=!t.UserConsents[0].consentGiven,e.setState({primaryCare:t,primaryCareConsent:!f})):e.setState({primaryCareConsent:!f})},value:f}),s.a.createElement("div",{className:"slider round"})),a&&!f&&s.a.createElement("p",{className:"help-block text-danger"},"We require this consent to allow you to sign up to this class.  If you would rather not share this information please feel free to check out our on-demand classes instead.")),s.a.createElement("div",{className:" w-100"},s.a.createElement("p",{className:"font-18 font-qregular text-center"},"For your own safety and security please make sure you keep these details up-to-date on your account page."))),s.a.createElement("div",{className:"buttons-read w-100 float-left text-center pointer"},s.a.createElement("a",{className:"btn btn-beam-blue-inverse font-14 m-r-20 pointer col-md-5 m-t-20",onClick:this.props.closeModel},"Go back"),s.a.createElement("button",{className:"btn btn-beam-blue font-14 col-md-6 m-t-20",onClick:this.submitEmergencyDetails,disabled:o},"Go to class"))))))))}}]),a}(s.a.Component),lc={saveEmergencyContact:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/account/saveEmergencyContact",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},updateUserdataRedex:Ba},cc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData,countries_list:e.register.countries_list}}),lc)(ic),mc=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).onCloseModal=function(){},o.getEmergency=function(e){if(console.log("getEmergencylist",e),e.User.UserEmergencyContacts.length>0){var t=e.User.UserEmergencyContacts;o.setState({emergencyContact:t[0],primaryCare:t[1],isemergencyDetail:!0,userList:e})}},o.state={isemergencyDetail:!1,emergencyData:[],primaryCare:[],userList:[]},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("attendee-list",this.props)}},{key:"getBack",value:function(){this.setState({isemergencyDetail:!1})}},{key:"render",value:function(){var e=this,t=this.props.attendeesClassList.attendees,a=this.state,o=a.isemergencyDetail,n=a.emergencyContact,r=a.primaryCare,i=a.userList;return console.log("emergencyContact",n),console.log("primaryCare",r),s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog modal-width--custom live-classes--popup liveclasses_modal",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0 d-flex align-items-center"},o&&s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.getBack()},className:"arrow_span_long"},s.a.createElement("span",{class:"fa fa-long-arrow-left"})),s.a.createElement("h5",{className:"modal-title1 text-center white-txt col-md-12 p-0 font-bold font-22",id:"exampleModalLabel "},"Class List"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.props.closeModel},"\xd7"))),s.a.createElement("div",{className:o?"modal-body body-padding--value pb-0 d-none":"modal-body body-padding--value pb-0 "},s.a.createElement("div",{className:"col-md-12  m-b-30 mr-auto ml-auto"},t.length&&s.a.createElement("ul",{className:"class_list_persons_names"},t.map((function(t,a){return s.a.createElement("li",null,e.props.isPhysioLed&&t.User.UserEmergencyContacts.length>1?s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.getEmergency(t)}},a+1,". ",t.fullName):s.a.createElement("div",null,a+1,". ",t.fullName))})))||s.a.createElement("p",{className:""},"No attendees found.")),s.a.createElement("div",{className:"buttons-read w-100 m-t-20 float-left text-center pointer"},s.a.createElement("a",{className:"btn btn-blue-inverse font-14 read-later m-r-20 pointer",onClick:this.props.closeModel},"Close"))),o&&s.a.createElement("div",{className:o?"modal-body body-padding--value pb-0 ":"modal-body body-padding--value pb-0 d-none"},s.a.createElement("div",{className:"col-md-12  m-b-30 mr-auto ml-auto"},s.a.createElement("div",{className:"media col-md-12 col-lg-12 p-0 align-items-center mb-4 pb-3"},s.a.createElement("img",{className:"img-fluid rounded-circle pull-left mr-4",src:i.User.profilePic?S+i.User.profilePic:D+"instructor-placeholder.png",onError:function(e){return _o.checkImageCrop(e,"instructor-placeholder.png")},alt:"",width:"75",height:"75"}),s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-24 font-medium black-txt"},i.fullName)),s.a.createElement("div",{className:"form-group phone_inputs_field"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Phone number"),s.a.createElement(nc.a,{country:i.User.phoneNumber,value:i.User.phoneNumber?i.User.phoneNumber.toString():i.User.phoneNumber,inputClass:"w-100 input_field font-qregular"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Country"),s.a.createElement("input",{type:"text",className:"form-control input_field font-qregular input-control",id:"city","aria-describedby":"emailHelp",placeholder:"",name:"",value:i.User.countryState})),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-5 col-md-6 col-sm-12 m-b-10 p-l-0"},s.a.createElement("label",{class:"font-14 font-semibold black-txt"},"Flat, Apt, Suite etc."),s.a.createElement("input",{type:"text",class:"form-control input_field font-qregular ",id:"address1","aria-describedby":"emailHelp",placeholder:"",name:"address1",value:i.User.address1})),s.a.createElement("div",{class:"col-lg-7 col-md-6 col-sm-12 m-b-10 p-l-18"},s.a.createElement("label",{class:"font-14 font-semibold black-txt"},"Street address"),s.a.createElement("input",{type:"text",class:"form-control input_field font-qregular",id:"address2","aria-describedby":"emailHelp",placeholder:"",name:"address2",value:i.User.address2}))))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-5 col-md-6 col-sm-12 m-b-10 p-l-0"},s.a.createElement("label",{class:"font-14 font-semibold black-txt"},"City"),s.a.createElement("input",{type:"text",class:"form-control input_field font-qregular ",id:"address1","aria-describedby":"emailHelp",placeholder:"",name:"address1",value:i.User.city})),s.a.createElement("div",{class:"col-lg-7 col-md-6 col-sm-12 m-b-10 p-l-18"},s.a.createElement("label",{class:"font-14 font-semibold black-txt"},"Country or State"),s.a.createElement("input",{type:"text",class:"form-control input_field font-qregular",id:"address2","aria-describedby":"emailHelp",placeholder:"",name:"address2",value:i.User.countryState}))))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Postcode or Zipcode"),s.a.createElement("input",{type:"text",className:"form-control input_field font-qregular input-control",id:"postcode","aria-describedby":"emailHelp",placeholder:"",name:"postcode",value:i.User.postcode})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Emergency contact name"),s.a.createElement("input",{type:"text",className:"form-control input_field font-qregular input-control",id:"name","aria-describedby":"name",placeholder:"",name:"name",value:n.name})),s.a.createElement("div",{className:"form-group phone_inputs_field"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Emergency contact number"),s.a.createElement(nc.a,{country:n.phoneNumber,value:n.phoneNumber?n.phoneNumber.toString():n.phoneNumber,inputClass:"w-100 input_field font-qregular"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"GP or primary care doctor name"),s.a.createElement("input",{type:"text",className:"form-control input_field font-qregular input-control",id:"name","aria-describedby":"",placeholder:"",name:"name",value:r.name})),s.a.createElement("div",{className:"form-group phone_inputs_field"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"GP or primary care contact number"),s.a.createElement(nc.a,{country:r.phoneNumber,value:r.phoneNumber?r.phoneNumber.toString():r.phoneNumber,inputClass:"w-100 input_field font-qregular"}))),s.a.createElement("div",{className:"buttons-read w-100 float-left text-center pointer"},s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.getBack()},className:"btn btn-beam-blue-inverse font-14 m-r-20 pointer col-md-6 m-t-20"},"Back to class list"),s.a.createElement("a",{className:"btn btn-beam-blue font-14 col-md-5 m-t-20",onClick:this.props.closeModel},"Close"))))))}}]),a}(s.a.Component),dc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData}}),{})(mc),pc=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).renderClassListModel=function(e){o.props.is_auth?o.classListModel(e):o.props.loginModelOpen(!0)},o.classListModel=function(e){o.setState({isPhysioLed:e.Workout.isPhysioLed}),o.props.attendeesClassList({workoutId:e.Workout.id,roomId:e.id}).then((function(e){e&&(o.setState({attendeesClassList:e}),o.setState({isAttendeesModelOpen:!0}))}),(function(e){o.setState({Loading:!1}),o.props.stop_loader()}))},o.closeLiveClassAttendeesModel=function(){o.setState({isAttendeesModelOpen:!1})},o.hasMembership=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o.props.is_auth){var a=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();o.authData=o.props.logged_userData;var s=_o.checkUserHasMembership(o.authData,a);if(a.includes("research"))1!=s?o.setState({enable_video:!1,isWarningModal:!0}):o.setState({enable_video:!1,isWarningModal:!1,isGoToClass:t,currentClass:e},(function(){this.afterUpgrade()}));else{var n=Object(is.a)(o),r=Eo.a.filter(o.props.healthcondition_list,(function(e){return e.tag===_o.replaceChar(n.state.condition,!0)})),i=_o.returnCurrentPlan(o.authData,a),l=r[0].id;if(o.props.registerFormvalues.health_condition=r,o.setState({hasMembership:s,health_conditionId:l,currentPlanId:i.length?i[0].id:0,currentClass:e,isGoToClass:t}),e.isFree)o.setState({isConditionModalOpen:!1,isWarningModal:!1},(function(){this.afterUpgrade()}));else switch(s){case 0:o.props.setConditionIndex(0),o.props.registerformUpdate(o.props.registerFormvalues),o.setState({enable_video:!1,isWarningModal:!0});break;case 1:o.setState({isConditionModalOpen:!1,isWarningModal:!1},(function(){this.afterUpgrade()}));break;case 2:o.props.setConditionIndex(0),o.props.registerformUpdate(o.props.registerFormvalues),o.setState({enable_video:!1,isWarningModal:!0})}}}else o.props.loginModelOpen(!0)},o.closeModel=function(){o.setState({isConditionModalOpen:!1,isWarningModal:!1,isUpgradeModalOpen:!1})},o.closeEmergencyModel=function(){o.setState({isEmergencyModalOpen:!1})},o.afterUpgrade=function(){o.state.isGoToClass?window.open(o.state.currentClass.Attendees[0].reference):o.joinClassService()},o.state={signupLoader:!1,Loading:!0,offset:0,count:0,show_more_cnt:10,calenderLiveClassList:[],selectDate:o.props.firstScheduleDate,isCurrentWeek:0,type:o.props.params,isMobileView:!1,modelState:!1,modelData:{},total_tags:[],total_levels:[],total_videotype:[],init_weeks_days:[],Liveclass_Weeks:8,openResearchModel:!1,current_attendee:{},redirectUrl:"",workoutId:"",condition:o.props.params,currentClass:{},isConditionModalOpen:!1,isWarningModal:!1,isAttendeesModelOpen:!1,attendeesClassList:[],isPhysioLed:!1},o.submitStartNow=o.submitStartNow.bind(Object(is.a)(o)),o.modelClose=o.modelClose.bind(Object(is.a)(o)),o.joinClassService=o.joinClassService.bind(Object(is.a)(o)),o.getLiveClassList=o.getLiveClassList.bind(Object(is.a)(o)),o.getGroupLiveClassList=o.getGroupLiveClassList.bind(Object(is.a)(o)),o.getDashboardLiveclassList=o.getDashboardLiveclassList.bind(Object(is.a)(o)),o.closeResearchModel=o.closeResearchModel.bind(Object(is.a)(o)),o.viewPrepoll=o.viewPrepoll.bind(Object(is.a)(o)),o.beforeReview=o.beforeReview.bind(Object(is.a)(o)),o.lastState=o.props.params,o}return Object(Wo.a)(a,[{key:"closeResearchModel",value:function(){this.setState({openResearchModel:!1})}},{key:"beforeReview",value:function(){window.open(this.state.redirectUrl)}},{key:"viewPrepoll",value:function(e){var t=this;e.Attendees.forEach((function(e){e.UserId===t.props.logged_userData.id&&t.setState({redirectUrl:e.reference,current_attendee:e})})),"Education"!=_o.returnTag("videoType",this.state.total_videotype,e.WorkoutId)?this.setState({openResearchModel:!0,workoutId:e.WorkoutId}):this.beforeReview()}},{key:"componentDidMount",value:function(){var e=this;this.setState({allLiveClassData:this.props.allLiveClassData});for(var t=new Date,a=bo()().add(6,"d"),o=[_o.getWeekDays(t,a)],s=1;s<this.state.Liveclass_Weeks;s++)t=bo()(a).add(1,"d"),a=bo()(a).add(7,"d"),o.push(_o.getWeekDays(t,a));this.setState({init_weeks_days:o});var n=o[0],r=0,i=new Date;if(this.props.firstScheduleDate)for(var l=bo()(this.props.firstScheduleDate).format("YYYY-MM-DD"),c=0;c<this.state.Liveclass_Weeks;c++)o[c].indexOf(l)>=0&&(n=o[c],r=c),i=this.props.firstScheduleDate;this.setState({selectDate:i,selectedWeek:n,isCurrentWeek:r},(function(){e.fetchLiveClassList()}))}},{key:"toggleLiveClasses",value:function(){var e=this.state.allLiveClassData;if("true"===Go.Cookies.get("is_toggled"))this.groupListResult(e);else{var t=[];e.map((function(e,a){var o=bo()(e.scheduledFor).toDate(),s=bo()(bo()(e.scheduledFor).hour("0").minute("01").second("0")).toDate(),n=bo()(bo()(e.scheduledFor).hour("4").minute("59").second("0")).toDate();o>=s&&o<=n||t.push(e)})),this.groupListResult(t)}}},{key:"getLiveClassList",value:function(){var e=this;this.setState({Loading:!0});var t={offset:this.state.offset,limit:10,condition:_o.replaceChar(this.state.type,!0),dateChosen:bo()(this.state.selectDate).format("YYYY-MM-DD")};this.props.fetchClassList(t).then((function(t){if(t){var a=t.list;if(a&&a.liveClasses){var o=a.liveClasses;e.setState({allLiveClassData:o}),e.toggleLiveClasses()}e.setState({Loading:!1,count:a.count,total_tags:t.list.tags?t.list.tags:[],total_levels:t.list.levelTags?t.list.levelTags:[],total_videotype:t.list.videotype?t.list.videotype:[]})}}),(function(t){e.setState({Loading:!1})}))}},{key:"getGroupLiveClassList",value:function(){var e=this;this.setState({Loading:!0});var t={offset:this.state.offset,limit:10,condition:_o.replaceChar(this.state.type,!0),dateChosen:bo()(this.state.selectDate).format("YYYY-MM-DD"),group:this.props.group};this.props.fetchGroupWorkout(t).then((function(t){if(t){var a=t.list;if(a&&a.liveClasses){var o=a.liveClasses;e.setState({allLiveClassData:o}),e.toggleLiveClasses()}e.setState({Loading:!1,count:a.count,total_tags:t.list.tags?t.list.tags:[],total_levels:t.list.levelTags?t.list.levelTags:[],total_videotype:t.list.videotype?t.list.videotype:[]})}}),(function(t){e.setState({Loading:!1})}))}},{key:"getDashboardLiveclassList",value:function(){var e=this;this.setState({Loading:!0});var t={offset:this.state.offset,limit:10,condition:_o.replaceChar(this.state.type,!0),dateChosen:bo()(this.state.selectDate).format("YYYY-MM-DD")};this.props.fetchDashboardSchedule(t).then((function(t){if(t){var a=t.list;if(a&&a.liveClasses){var o=a.liveClasses;e.setState({allLiveClassData:o}),e.toggleLiveClasses()}e.setState({Loading:!1,count:a.count,total_tags:t.list.tags?t.list.tags:[],total_levels:t.list.levelTags?t.list.levelTags:[],total_videotype:t.list.videotype?t.list.videotype:[]})}}),(function(t){e.setState({Loading:!1})}))}},{key:"fetchLiveClassList",value:function(){switch(this.props.componentType){case"Liveclass":this.getLiveClassList();break;case"Group":this.getGroupLiveClassList();break;case"Dashboard":this.getDashboardLiveclassList();break;default:this.getLiveClassList()}}},{key:"componentWillReceiveProps",value:function(e){!this.props.is_auth&&e.is_auth?(this.setState({calenderLiveClassList:[]}),this.fetchLiveClassList()):this.setState({calenderLiveClassList:[]},(function(){this.toggleLiveClasses()})),this.lastState!=e.params&&(this.lastState=e.params,this.setState({type:e.params},(function(){this.setState({calenderLiveClassList:[]}),this.fetchLiveClassList()})))}},{key:"renderDisciplineList",value:function(e){var t=_o.returnTag("discipline",this.state.total_tags,e.WorkoutId);return"None"===t?s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"}):s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5"},s.a.createElement("span",{className:"orangefont w-60 float-left font-medium p-l-5 capitalize_text"},t)))}},{key:"renderDificulty",value:function(e,t){var a=_o.returnTag("level",this.state.total_levels,e.WorkoutId);return"None"!==a?s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},a)):s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"})}},{key:"renderSchedule",value:function(e){var t=this,a=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData,o="";Object.keys(a).length&&(o=a.Members.length?a.Members[0].Community:"");var n=new Date,r=!1;if(o&&o.endDate){var i=bo()(o.endDate).utc().format("YYYY-MM-DD");r=!(new Date(i).getTime()<n.getTime())}else r=!0;var l=!1;e.scheduledFor&&e.Workout.cutoffTime&&(l=n>new Date(bo()(e.scheduledFor).subtract(e.Workout.cutoffTime,"minutes").format("YYYY-MM-DD HH:mm:ss")));if(e.reference&&"coming soon"===e.reference.toLowerCase())return s.a.createElement("a",{className:"btn-purple-inverse pad_list_btn clearfix"}," ",e.reference," ");var c=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();return e.Signedup&&this.props.logged_userData.isStudyParticipant&&Q.includes(c)?"Live"==e.type?r?s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.viewPrepoll(e)}}," Go to class "):s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.hasMembership(e,!0)}}," Go to class"):s.a.createElement("a",{className:"btn btn-purple-inverse w-100 font-medium m-b-10",href:"/detail/"+e.Workout.id+"/"+_o.replaceChar(_o.replaceChar(Go.Cookies.get("condition"),!0),!1),onClick:function(){localStorage.setItem("scheduleRoomId",e.id)}},"Start Now"):e.Signedup&&!this.props.logged_userData.isStudyParticipant||e.Signedup&&this.props.logged_userData.isStudyParticipant&&!Q.includes(c)?"Live"==e.type?s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.hasMembership(e,!0)}}," Go to class "):s.a.createElement("a",{className:"btn btn-purple-inverse w-100 font-medium m-b-10",href:"/detail/"+e.Workout.id+"/"+_o.replaceChar(_o.replaceChar(Go.Cookies.get("condition"),!0),!1),onClick:function(){localStorage.setItem("scheduleRoomId",e.id)}},"Start Now"):l?s.a.createElement("button",{disabled:!0,className:"btn btn-gray w-100 font-medium m-b-10 pad_list_btn"}," ","Registration ended"," "):s.a.createElement("button",{disabled:this.state.signupLoader,onClick:function(){return t.submitStartNow(e)},className:"btn btn-purple-inverse w-100 font-medium m-b-10 pad_list_btn"}," Sign up ")}},{key:"cancelCalss",value:function(e,t){var a=this;if(!this.state.cancelLoading){this.setState({cancelLoading:!0});var o={roomId:e.id};this.props.cancelClass(o).then((function(e){e&&at.b.success(e.message);var o=Object(Lo.a)(a.state.calenderLiveClassList);o[t].Signedup=!1,"Dashboard"==a.props.componentType?(o.splice(t,1),a.setState({calenderLiveClassList:o,cancelLoading:!1})):a.setState({calenderLiveClassList:o,cancelLoading:!1})}),(function(e){a.setState({cancelLoading:!1})}))}}},{key:"renderSubItemList",value:function(){var e=this;return this.state.calenderLiveClassList.map((function(t,a){return s.a.createElement("div",{className:"list-group-item liveclass-listing",key:a},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-md-3 col-lg-3 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+e.state.type+"/"+t.Workout.id,onClick:function(){Go.Cookies.set("workoutId",t.id)}},s.a.createElement("img",{className:"media-object image-size img-rounded img-fluid",src:x+t.Workout.id+"-img.png",onError:function(e){return _o.checkImageCrop(e,"ondemand-placeholder.png")}})),s.a.createElement("span",{class:"position-absolute vid_time"},s.a.createElement("span",null,t.Workout.length," mins")),t.isFree&&s.a.createElement("div",{className:"time-box free-icon"},s.a.createElement("img",{className:"w-100",src:D+"FreeClassIcon.png"})))),s.a.createElement("div",{className:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{className:"col-md-9 col-lg-9 col-sm-9 float-left pl-20"},s.a.createElement("h3",{className:" font-24 font-medium orangefont m-b-5"},s.a.createElement(Qo.b,{to:"/liveClass/"+e.state.type+"/"+t.Workout.id,onClick:function(){Go.Cookies.set("workoutId",t.id)}}," ",t.Workout.title)),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left m-b-10 p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100"},s.a.createElement("img",{className:"img-fluid rounded-circle",src:t.Workout&&t.Workout.Instructor&&t.Workout.Instructor.img?S+t.Workout.Instructor.img:D+"instructor-placeholder.png",onError:function(e){return _o.checkImageCrop(e,"instructor-placeholder.png")},alt:"",width:"75",height:"75"}),t.Workout.Instructor.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+t.Workout.Instructor.id+"/"+e.state.type,className:"font-16 font-semibold black-txt p-l-5"},t.Workout.Instructor.User.name," ",t.Workout.Instructor.User.lastName),!t.Workout.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},t.Workout.Instructor.User.name," ",t.Workout.Instructor.User.lastName))),e.renderDisciplineList(t),e.renderDificulty(t),0!=t.Workout.cutoffTime&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0 m-t-10"},s.a.createElement("span",{className:"font-16 float-left font-medium "},"Please note that registration to this class ends 30 minutes prior to the class beginning")),t.RoomExtension&&t.RoomExtension.notes&&s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-bold black-txt float-left"},"A note about this class:")),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0 liveclass-notes"},s.a.createElement("span",{className:"w-40 font-16 font-semibold flow-text float-left",dangerouslySetInnerHTML:{__html:t.RoomExtension.notes}})))),s.a.createElement("div",{className:"col-lg-3 float-left col-md-3 p-0 text-center"},e.renderSchedule(t),t.Signedup&&s.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-purple w-100 pad_list_btn font-medium m-b-10 joinclass-blue-btn",onClick:function(){return e.cancelCalss(t,a)}},"Oops, I can't make it"),s.a.createElement("span",{className:"btn btn-default-list-blue w-100 clearfix pad_list_btn"},bo()(t.scheduledFor).format("hh:mm A")),"Live"==t.type&&s.a.createElement("span",{className:"btn btn-default-list-orange w-100 clearfix pad_list_btn"},"Live Session"),(e.props.logged_userData.id==t.Workout.Instructor.UserId||e.props.logged_userData.isCreator||e.props.is_group_admin)&&s.a.createElement("button",{disabled:e.state.signupLoader,onClick:function(){return e.renderClassListModel(t)},className:"btn btn-orange-inverse button-filter close-btn  font-medium font-14 pointer w-100"}," ","Class list"," "),"Dashboard"==e.props.componentType&&s.a.createElement(xn,{item:t,type:t.type,title:t.Workout.title,length:t.Workout.length}))))))}))}},{key:"renderLiveClassList",value:function(){return s.a.createElement("div",null,this.renderSubItemList())}},{key:"renderLoadMore",value:function(){var e=this;if(this.state.calenderLiveClassList&&this.state.count>this.state.calenderLiveClassList.length)return s.a.createElement("div",{className:"w-100 text-center"},s.a.createElement("a",{onClick:function(){e.incrementShowmoreCnt()},className:"btn btn-orange m-t-40 m-b-40 text-center font-book"},"Load more live classes"))}},{key:"renderListData",value:function(){return this.state.calenderLiveClassList&&this.state.calenderLiveClassList.length>0?s.a.createElement("div",{className:"w-100"},this.renderLiveClassList()):s.a.createElement("h3",{className:"w-100 text-center m-t-20 m-b-20"},"Oh no!  There are no live classes scheduled for this day, try selecting another day or schedule an",(this.props.group||this.props.location.pathname.includes("dashboard")&&this.props.logged_userData.isStudyParticipant)&&s.a.createElement(Qo.b,{to:"/group/ondemand/list/"+this.props.group+"/"+this.state.type}," on-demand class "),!this.props.group&&!this.props.logged_userData.isStudyParticipant&&s.a.createElement(Qo.b,{to:"/on-demand/"+this.state.type}," on-demand class "))}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+10},(function(){this.fetchLiveClassList()}))}},{key:"groupListResult",value:function(e){var t,a=this.state.calenderLiveClassList,o=e;t=[].concat(Object(Lo.a)(a),Object(Lo.a)(o)),this.setState({calenderLiveClassList:t})}},{key:"changeSelectedDate",value:function(e){var t=this;this.setState({selectDate:e,calenderLiveClassList:[],offset:0},(function(){t.fetchLiveClassList()}))}},{key:"getDate",value:function(e){var t=bo()(e).format("DD");return bo()(e,"YYYY-MM-DD HH:mm:ss").format("ddd")+" "+(t=1===t.toString().length?"-"+t:t)}},{key:"renderWeekDays",value:function(e){var t=this;if(e){var a=this.state.selectDate,o=bo()(a).format("YYYY-MM-DD");return e.map((function(e,a){return s.a.createElement("div",{className:"months-list float-left",key:a},s.a.createElement("span",{onClick:function(){t.changeSelectedDate(e)},className:e===o?"active":" pointer"},t.getDate(e)))}))}}},{key:"seletedMonthDay",value:function(){var e=this.state.selectDate;return bo()(e).format("MMMM")}},{key:"goToPreviousWeek",value:function(e){var t=this;this.setState({selectedWeek:this.state.init_weeks_days[e],isCurrentWeek:e,calenderLiveClassList:[],selectDate:this.state.init_weeks_days[e][0],offset:0},(function(){t.fetchLiveClassList()}))}},{key:"goToNextWeek",value:function(e){var t=this;this.setState({selectedWeek:this.state.init_weeks_days[e],isCurrentWeek:e,calenderLiveClassList:[],selectDate:this.state.init_weeks_days[e][0],offset:0},(function(){t.fetchLiveClassList()}))}},{key:"renderPreviousWeekIcon",value:function(){var e=this;if(this.state.isCurrentWeek>0)return s.a.createElement("i",{onClick:function(){e.goToPreviousWeek(e.state.isCurrentWeek-1)},className:"fa fa-angle-left float-left pointer"})}},{key:"renderNextWeekIcon",value:function(){var e=this;if(this.state.isCurrentWeek<7)return s.a.createElement("i",{onClick:function(){e.goToNextWeek(e.state.isCurrentWeek+1)},className:"fa fa-angle-right float-right pointer"})}},{key:"submitStartNow",value:function(e){this.props.is_auth?e.Workout.isPhysioLed&&this.props.logged_userData&&!this.props.logged_userData.hasEmergencyContact?this.setState({isEmergencyModalOpen:!0,liveclassItem:e}):this.hasMembership(e):this.props.loginModelOpen(!0)}},{key:"joinClassService",value:function(){var e=this.state.currentClass,t={roomId:e.id,condition:_o.replaceChar(this.state.type,!0)};this.setState({signupLoader:!0},(function(){var a=this;this.props.joinClass(t).then((function(t){t&&a.setState({signupLoader:!1,modelState:!0,modelData:e,isRejoin:t.isRejoin})}),(function(e){a.setState({signupLoader:!1,modelState:!1,modelData:{}}),at.b.error(e)}))}))}},{key:"modelClose",value:function(){this.setState({Loading:!1,offset:0,count:0,show_more_cnt:10,calenderLiveClassList:[],selectDate:new Date,isCurrentWeek:0,type:this.props.params,isMobileView:!1,modelState:!1,modelData:{}},(function(){this.componentDidMount()}))}},{key:"getMobileDate",value:function(e){return bo()(e,"YYYY-MM-DD HH:mm:ss").format("dd").charAt(0)}},{key:"getMobileDay",value:function(e){return bo()(e).format("DD")}},{key:"renderMobileWeekDays",value:function(e){var t=this;if(e){var a=this.state.selectDate,o=bo()(a).format("YYYY-MM-DD");return e.map((function(e,a){return s.a.createElement("div",{className:"months-list float-left",key:a},s.a.createElement("span",{onClick:function(){t.changeSelectedDate(e)},className:e===o?"active":"pointer"},s.a.createElement("div",{className:"text-center"},t.getMobileDate(e)),s.a.createElement("div",{className:"text-center"},t.getMobileDay(e))))}))}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(hi,{is_model_open:this.state.openResearchModel,closeResearchModel:this.closeResearchModel,classType:"Live",beforeReview:this.beforeReview,workoutId:this.state.workoutId,current_attendee:this.state.current_attendee}),s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Live classes - ",this.state.type,ye),s.a.createElement("meta",{property:"og:title",content:"Live classes - "+this.state.type+ye}),s.a.createElement("meta",{property:"og:description",content:Ne}),s.a.createElement("meta",{property:"og:image",content:we}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:Ce})),s.a.createElement("div",{className:"row border-box m-b-50"},s.a.createElement("h4",{className:"card-header section_header date-heading w-100 font-medium text-center text-white"},this.seletedMonthDay()),s.a.createElement("div",{className:"listname w-100 desktop-view"},this.renderPreviousWeekIcon(),this.renderWeekDays(this.state.selectedWeek),this.renderNextWeekIcon()),s.a.createElement("div",{className:"listname w-100 mobile-view"},this.renderPreviousWeekIcon(),this.renderMobileWeekDays(this.state.selectedWeek),this.renderNextWeekIcon()),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null)),!this.state.Loading&&this.renderListData()),s.a.createElement(hl,{is_model_open:this.state.modelState,modelData:this.state.modelData,modelClose:this.modelClose,isRejoin:this.state.isRejoin,condition:_o.replaceChar(this.state.type,!0)}),s.a.createElement(xi,{isConditionModalOpen:this.state.isConditionModalOpen,conditionName:this.state.condition,isWarningModal:this.state.isWarningModal,closeModel:this.closeModel,hasMembership:this.state.hasMembership,health_conditionId:this.state.health_conditionId,afterUpgrade:this.afterUpgrade}),this.state.isEmergencyModalOpen&&s.a.createElement(cc,{is_model_open:this.state.isEmergencyModalOpen,closeModel:this.closeEmergencyModel,successAction:function(){e.hasMembership(e.state.liveclassItem)}}),this.state.isAttendeesModelOpen&&s.a.createElement(dc,{is_model_open:this.state.isAttendeesModelOpen,closeModel:this.closeLiveClassAttendeesModel,attendeesClassList:this.state.attendeesClassList,isPhysioLed:this.state.isPhysioLed}))}}]),a}(s.a.Component),uc={fetchClassList:Ia,start_loader:ht,stop_loader:gt,joinClass:ja,loginModelOpen:pt,cancelClass:Ta,fetchGroupWorkout:eo,fetchDashboardSchedule:qa,setConditionIndex:Bt,registerformUpdate:Ot,attendeesClassList:Aa},hc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData,healthcondition_list:e.register.healthcondition_list,registerFormvalues:e.register.registerFormValues,is_group_admin:e.group.is_group_admin}}),uc)(pc),gc=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).handleChangeTextEdit=function(e,t,a){var s=o.state.editorValue,n=o.state.notes;s[t][a]=e.editor.getData(),n[t][a]=e.editor.getData(),o.setState({editorValue:s,notes:n})},o.closeModel=function(){o.setState({isConditionModalOpen:!1,isWarningModal:!1,isUpgradeModalOpen:!1})},o.closeEmergencyModel=function(){o.setState({isEmergencyModalOpen:!1})},o.afterUpgrade=function(){o.state.isGoToClass?window.open(o.state.currentClass.Attendees[0].reference):o.joinClassService()},o.hasMembership=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o.props.is_auth){var a=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();if(e.Workout.isPhysioLed&&o.props.logged_userData&&!o.props.logged_userData.hasEmergencyContact)return void o.setState({isEmergencyModalOpen:!0,liveclassItem:e});o.authData=o.props.logged_userData;var s=_o.checkUserHasMembership(o.authData,a);if(a.includes("research"))1!=s?o.setState({enable_video:!1,isWarningModal:!0}):o.setState({enable_video:!1,isWarningModal:!1,isGoToClass:t,currentClass:e},(function(){this.afterUpgrade()}));else{var n=Object(is.a)(o),r=Eo.a.filter(o.props.healthcondition_list,(function(e){return e.tag===_o.replaceChar(n.state.condition,!0)})),i=_o.returnCurrentPlan(o.authData,a),l=r[0].id;if(o.props.registerFormvalues.health_condition=r,o.setState({hasMembership:s,health_conditionId:l,currentPlanId:i.length?i[0].id:0,currentClass:e,isGoToClass:t}),e.isFree)o.setState({isConditionModalOpen:!1,isWarningModal:!1},(function(){this.afterUpgrade()}));else switch(s){case 0:o.props.setConditionIndex(0),o.props.registerformUpdate(o.props.registerFormvalues),o.setState({enable_video:!1,isWarningModal:!0});break;case 1:o.setState({isConditionModalOpen:!1,isWarningModal:!1},(function(){this.afterUpgrade()}));break;case 2:o.props.setConditionIndex(0),o.props.registerformUpdate(o.props.registerFormvalues),o.setState({enable_video:!1,isWarningModal:!0})}}}else o.props.loginModelOpen(!0)},o.closeLiveClassAttendeesModel=function(){o.setState({isAttendeesModelOpen:!1})},o.renderClassListModel=function(e){o.props.is_auth?o.classListModel(e):o.props.loginModelOpen(!0)},o.classListModel=function(e){o.setState({isPhysioLed:e.Workout.isPhysioLed}),o.props.attendeesClassList({workoutId:e.Workout.id,roomId:e.id}).then((function(e){e&&(o.setState({attendeesClassList:e}),o.setState({isAttendeesModelOpen:!0}))}),(function(e){o.setState({Loading:!1}),o.props.stop_loader()}))},o.state={Loading:!0,signupLoader:!1,offset:0,count:0,show_more_cnt:10,liveClassList:[],allLiveClassData:[],displayLayout:!0,type:o.props.params,modelState:!1,modelData:{},firstScheduleDate:"",total_tags:[],total_levels:[],total_videotype:[],is_toggled:!1,currentPageName:"",is_add_note:{},is_edit_note:[],editorValue:[],notes:[],headerUrl:"",openResearchModel:!1,current_attendee:{},redirectUrl:"",workoutId:"",condition:o.props.params,currentClass:{},isConditionModalOpen:!1,isWarningModal:!1,isEmergencyModalOpen:!1,isAttendeesModelOpen:!1,attendeesClassList:[],isPhysioLed:!1},o.fetchLiveClassList=o.fetchLiveClassList.bind(Object(is.a)(o)),o.submitStartNow=o.submitStartNow.bind(Object(is.a)(o)),o.modelClose=o.modelClose.bind(Object(is.a)(o)),o.joinClassService=o.joinClassService.bind(Object(is.a)(o)),o.toggleClasses=o.toggleClasses.bind(Object(is.a)(o)),o.getLiveClassList=o.getLiveClassList.bind(Object(is.a)(o)),o.getGroupLiveClassList=o.getGroupLiveClassList.bind(Object(is.a)(o)),o.getDashboardLiveclassList=o.getDashboardLiveclassList.bind(Object(is.a)(o)),o.recallLiveclass=o.recallLiveclass.bind(Object(is.a)(o)),o.handleChangeTextEdit=o.handleChangeTextEdit.bind(Object(is.a)(o)),o.saveLiveclassNotes=o.saveLiveclassNotes.bind(Object(is.a)(o)),o.deleteLiveclassNotes=o.deleteLiveclassNotes.bind(Object(is.a)(o)),o.initiateNotesFlag=o.initiateNotesFlag.bind(Object(is.a)(o)),o.getLiveClassDetail=o.getLiveClassDetail.bind(Object(is.a)(o)),o.closeResearchModel=o.closeResearchModel.bind(Object(is.a)(o)),o.viewPrepoll=o.viewPrepoll.bind(Object(is.a)(o)),o.beforeReview=o.beforeReview.bind(Object(is.a)(o)),o.authData=JSON.parse(localStorage.getItem("userDetails"))||o.props.logged_userData,o.lastState=o.props.params,o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname,t=e.split("/")[1];this.setState({currentPageName:t,headerUrl:e}),this.props.clearOndemandList(),this.props.ondemandCMSModelOpen({open:!1}),this.fetchLiveClassList()}},{key:"getLiveClassDetail",value:function(e){var t=this;this.props.liveclassDetail(e,this.state.type,null,this.props.groupId).then((function(e){t.props.ondemandCMSModelOpen({open:!0,type:"edit"})}),(function(e){console.log("err",e)}))}},{key:"submitStartNow",value:function(e){this.props.is_auth?this.hasMembership(e):this.props.loginModelOpen(!0)}},{key:"closeResearchModel",value:function(){this.setState({openResearchModel:!1})}},{key:"beforeReview",value:function(){window.open(this.state.redirectUrl)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.location.pathname.split("/")[1];this.setState({currentPageName:t}),this.props.liveclass_filter_instructor!=e.liveclass_filter_instructor&&this.setState({liveClassList:[],allLiveClassData:[]},(function(){this.getLiveClassList(e.liveclass_filter_instructor)})),!this.props.is_auth&&e.is_auth?(this.setState({liveClassList:[]}),this.fetchLiveClassList()):this.setState({liveClassList:[]},(function(){this.toggleLiveClasses()})),this.lastState!=e.params&&(this.lastState=e.params,this.setState({type:e.params},(function(){this.setState({liveClassList:[]}),this.fetchLiveClassList()})))}},{key:"saveLiveclassNotes",value:function(e,t,a){var o=this,s=this.state.notes[t][a]?this.state.notes[t][a].toString("html").replace(/<a /g,'<a target="_blank" '):this.state.liveClassList[t][a].RoomExtension.notes.toString("html").replace(/<a /g,'<a target="_blank" '),n={roomId:e,notes:s};this.props.addLiveclassNotes(n).then((function(e){var n=Object(Lo.a)(o.state.liveClassList),r=o.state.is_add_note,i=o.state.is_edit_note;n[t][a].RoomExtension=n[t][a].RoomExtension?n[t][a].RoomExtension:[],n[t][a].RoomExtension.notes=s,r[t][a]=!1,i[t][a]=!1,o.setState({liveClassList:n,is_add_note:r,is_edit_note:i}),at.b.success(e.message)}),(function(e){at.b.error(e)}))}},{key:"deleteLiveclassNotes",value:function(e,t,a){var o=this,s={roomId:e};this.props.deleteLiveclassNotes(s).then((function(e){var s=Object(Lo.a)(o.state.liveClassList);s[t][a].RoomExtension.notes="",o.setState({liveClassList:s}),at.b.success(e.message)}),(function(e){at.b.error(e)}))}},{key:"initiateNotesFlag",value:function(){var e=this.state.editorValue,t=this.state.notes,a=[];Eo.a.forEach(this.state.liveClassList,(function(o,s){a[s]=[],e[s]=[],t[s]=[],Eo.a.forEach(o,(function(o,n){a[s][n]=!1,e[s][n]="",t[s][n]=""}))})),this.setState({editorValue:e,notes:t})}},{key:"joinClassService",value:function(){var e=this,t=this.state.currentClass,a={roomId:t.id,condition:_o.replaceChar(this.state.type,!0)};this.setState({signupLoader:!0}),this.props.joinClass(a).then((function(a){a&&e.setState({signupLoader:!1,modelState:!0,modelData:t,isRejoin:a.isRejoin}),hs.a.event({category:"Live Class",action:"Signed Up - List Page",label:Go.Cookies.get("condition")+"-"+t.Workout.title+"-"+t.Workout.id})}),(function(t){e.setState({signupLoader:!1,modelState:!1,modelData:{}}),at.b.error(t)}))}},{key:"modelClose",value:function(){this.setState({Loading:!1,offset:0,count:0,show_more_cnt:10,liveClassList:[],displayLayout:!0,type:this.props.params,modelState:!1,modelData:{}},(function(){this.fetchLiveClassList()}))}},{key:"recallLiveclass",value:function(){this.setState({allLiveClassData:[]}),this.getLiveClassList()}},{key:"getLiveClassList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({Loading:!0});var a={offset:this.state.offset,limit:10,condition:_o.replaceChar(this.state.type,!0),filter:t};this.props.fetchClassList(a).then((function(t){if(t){var a=t.list;if(a&&a.liveClasses){var o=a.liveClasses;e.setState({allLiveClassData:o}),e.toggleLiveClasses()}e.setState({Loading:!1,count:a.count,total_tags:t.list.tags?t.list.tags:[],total_levels:t.list.levelTags?t.list.levelTags:[],total_videotype:t.list.videotype?t.list.videotype:[]})}}),(function(t){e.setState({Loading:!1}),e.props.stop_loader()}))}},{key:"getGroupLiveClassList",value:function(){var e=this;this.setState({Loading:!0});var t={offset:this.state.offset,limit:10,condition:_o.replaceChar(this.state.type,!0),group:this.props.group};this.props.fetchGroupWorkout(t).then((function(t){if(t){var a=t.list;if(a&&a.liveClasses){var o=a.liveClasses;e.setState({allLiveClassData:o}),e.toggleLiveClasses()}e.setState({Loading:!1,count:a.count,total_tags:t.list.tags?t.list.tags:[],total_levels:t.list.levelTags?t.list.levelTags:[],total_videotype:t.list.videotype?t.list.videotype:[]})}}),(function(t){e.setState({Loading:!1}),e.props.stop_loader()}))}},{key:"getDashboardLiveclassList",value:function(){var e=this;this.setState({Loading:!0});var t={offset:this.state.offset,limit:10,condition:_o.replaceChar(this.state.type,!0)};this.props.fetchDashboardSchedule(t).then((function(t){if(t){var a=t.list;if(a&&a.liveClasses){var o=a.liveClasses;e.setState({allLiveClassData:o}),e.toggleLiveClasses()}e.setState({Loading:!1,count:a.count,total_tags:t.list.tags?t.list.tags:[],total_levels:t.list.levelTags?t.list.levelTags:[],total_videotype:t.list.videotype?t.list.videotype:[]})}}),(function(t){e.setState({Loading:!1}),e.props.stop_loader()}))}},{key:"fetchLiveClassList",value:function(){switch(this.props.componentType){case"Liveclass":this.getLiveClassList(this.props.liveclass_filter_instructor);break;case"Group":this.getGroupLiveClassList();break;case"Dashboard":this.getDashboardLiveclassList();break;default:this.getLiveClassList()}}},{key:"toggleClasses",value:function(e){this.setState({is_toggled:e,liveClassList:[]},(function(){this.toggleLiveClasses()}))}},{key:"toggleLiveClasses",value:function(){var e=this.state.allLiveClassData;if("true"===Go.Cookies.get("is_toggled"))this.groupListResult(e);else{var t=[];e.map((function(e,a){var o=bo()(e.scheduledFor).toDate(),s=bo()(bo()(e.scheduledFor).hour("0").minute("01").second("0")).toDate(),n=bo()(bo()(e.scheduledFor).hour("4").minute("59").second("0")).toDate();o>=s&&o<=n||t.push(e)})),this.groupListResult(t)}}},{key:"renderDisciplineList",value:function(e,t){var a=_o.returnTag("discipline",this.state.total_tags,e.WorkoutId);return"None"===a?s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"}):s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5"},s.a.createElement("span",{className:"orangefont w-60 float-left font-medium p-l-5 capitalize_text"},a)))}},{key:"renderDificulty",value:function(e,t){var a=_o.returnTag("level",this.state.total_levels,e.WorkoutId);return"None"!==a?s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},a)):s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"})}},{key:"viewPrepoll",value:function(e){var t=this,a="";e.Attendees.forEach((function(e){e.UserId===t.props.logged_userData.id&&(a=e.reference,t.setState({redirectUrl:e.reference,current_attendee:e}))})),"Education"!=_o.returnTag("videoType",this.state.total_videotype,e.WorkoutId)?this.setState({openResearchModel:!0,workoutId:e.WorkoutId}):window.open(a)}},{key:"renderSchedule",value:function(e){var t=this,a=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData,o="";Object.keys(a).length&&(o=a.Members.length?a.Members[0].Community:"");var n=new Date,r=!1;if(o&&o.endDate){var i=bo()(o.endDate).utc().format("YYYY-MM-DD");r=!(new Date(i).getTime()<n.getTime())}else r=!0;var l=!1;e.scheduledFor&&e.Workout.cutoffTime&&(l=n>new Date(bo()(e.scheduledFor).subtract(e.Workout.cutoffTime,"minutes").format("YYYY-MM-DD HH:mm:ss")));if(e.reference&&"coming soon"===e.reference.toLowerCase())return s.a.createElement("a",{className:"btn-purple-inverse pad_list_btn clearfix"}," ",e.reference," ");var c=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();return e.Signedup&&this.props.logged_userData.isStudyParticipant&&Q.includes(c)?"Live"==e.type?r?s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.viewPrepoll(e)}}," Go to class "):s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.hasMembership(e,!0)}}," Go to class"):s.a.createElement("a",{className:"btn btn-purple-inverse w-100 font-medium m-b-10",href:"/detail/"+e.Workout.id+"/"+_o.replaceChar(_o.replaceChar(Go.Cookies.get("condition"),!0),!1),onClick:function(){localStorage.setItem("scheduleRoomId",e.id)}},"Start Now"):e.Signedup&&!this.props.logged_userData.isStudyParticipant||e.Signedup&&this.props.logged_userData.isStudyParticipant&&!Q.includes(c)?"Live"==e.type?s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.hasMembership(e,!0)}}," Go to class "):s.a.createElement("a",{className:"btn btn-purple-inverse w-100 font-medium m-b-10",href:"/detail/"+e.Workout.id+"/"+_o.replaceChar(_o.replaceChar(Go.Cookies.get("condition"),!0),!1),onClick:function(){localStorage.setItem("scheduleRoomId",e.id)}},"Start Now"):l?s.a.createElement("button",{disabled:!0,className:"btn btn-gray w-100 font-medium m-b-10 pad_list_btn"}," ","Registration ended"," "):s.a.createElement("button",{disabled:this.state.signupLoader,onClick:function(){return t.submitStartNow(e)},className:"btn btn-purple-inverse w-100 font-medium m-b-10 pad_list_btn"}," ","Sign up"," ")}},{key:"cancelCalss",value:function(e,t,a){var o=this;if(!this.state.cancelLoading){this.setState({cancelLoading:!0});var s={roomId:e.id};this.props.cancelClass(s).then((function(e){e&&at.b.success(e.message);var s=Object(Lo.a)(o.state.liveClassList);if(s[t][a].Signedup=!1,"Dashboard"==o.props.componentType){s[t].splice(a,1);var n=s.filter((function(e){return e.length>0}));o.setState({liveClassList:n,cancelLoading:!1})}else o.setState({liveClassList:s,cancelLoading:!1})}),(function(e){o.setState({cancelLoading:!1})}))}}},{key:"renderSubItemList",value:function(e,t){var a=this,o=this.state.editorValue,n=this.state.is_add_note;n[t]=n[t]?n[t]:[];var r=this.state.is_edit_note;return r[t]=r[t]?r[t]:[],e.map((function(e,i){return s.a.createElement("div",{className:"list-group-item liveclass-listing",key:i},s.a.createElement("div",{className:"col-md-12 desktop-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-md-3 col-lg-3 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.state.type+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id),localStorage.setItem("group",a.props.group),localStorage.setItem("groupId",a.props.groupId)}},s.a.createElement("img",{className:"media-object image-size img-rounded img-fluid",src:x+e.Workout.id+"-img.png",onError:function(e){return _o.checkImageCrop(e,"ondemand-placeholder.png")}})),s.a.createElement("span",{class:"position-absolute vid_time"},s.a.createElement("span",null,e.Workout.length," mins")),e.isFree&&s.a.createElement("div",{className:"time-box free-icon"},s.a.createElement("img",{className:"w-100",src:D+"FreeClassIcon.png"})))),s.a.createElement("div",{className:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{className:"col-md-9 col-lg-9 col-sm-9 float-left pl-20"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left m-b-10 p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e.Workout&&e.Workout.Instructor&&e.Workout.Instructor.img?S+e.Workout.Instructor.img:D+"instructor-placeholder.png",onError:function(e){return _o.checkImageCrop(e,"instructor-placeholder.png")},alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.state.type+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id),localStorage.setItem("group",a.props.group),localStorage.setItem("groupId",a.props.groupId)}},"  ",e.Workout.title)),(a.props.logged_userData.isStudyLeader||a.props.logged_userData.isGroupLeader||a.props.logged_userData.isStudyInstructor)&&s.a.createElement("div",{className:"w-80"},e.Community&&e.Community.community_name&&s.a.createElement("span",{className:"font-16 font-semibold black-txt"},"Group : ",e.Community.community_name)),s.a.createElement("div",{className:"w-80"},"with",e.Workout.Instructor.hasProfile&&s.a.createElement("span",null,s.a.createElement(Qo.b,{to:"/instructor/"+e.Workout.Instructor.id+"/"+a.state.type,className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName),a.props.group&&a.props.props.groupState&&a.props.props.groupState.groupLeader.id===a.props.logged_userData.id&&s.a.createElement(Jl.CopyToClipboard,{text:u+"/group/liveclasses/list/"+_o.decodeUrl(a.props.group)+"/"+_o.decodeUrl(_o.replaceChar(a.state.type,!0))+"/"+e.id+"/pollReview",onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"})))),e.Workout.Instructor.UserId==a.props.logged_userData.id&&_o.replaceChar(a.props.params,!0).toLowerCase()===N&&"Education"==_o.returnTag("discipline",a.state.total_tags,e.WorkoutId)&&s.a.createElement(Jl.CopyToClipboard,{text:pe,onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"}))),e.Workout.Instructor.UserId==a.props.logged_userData.id&&_o.replaceChar(a.props.params,!0).toLowerCase()===N&&"Education"!=_o.returnTag("discipline",a.state.total_tags,e.WorkoutId)&&s.a.createElement(Jl.CopyToClipboard,{text:"https://docs.google.com/forms/d/e/1FAIpQLSdqWnzI0Oaaz9scOtH8_f74AcOsNSyvpk4HWb0j91QedUMXCQ/viewform?usp=sf_link",onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"}))),e.Workout.Instructor.UserId==a.props.logged_userData.id&&_o.replaceChar(a.props.params,!0).toLowerCase()===k&&"Education"==_o.returnTag("discipline",a.state.total_tags,e.WorkoutId)&&s.a.createElement(Jl.CopyToClipboard,{text:ue,onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"}))),e.Workout.Instructor.UserId==a.props.logged_userData.id&&_o.replaceChar(a.props.params,!0).toLowerCase()===k&&"Education"!=_o.returnTag("discipline",a.state.total_tags,e.WorkoutId)&&s.a.createElement(Jl.CopyToClipboard,{text:"https://docs.google.com/forms/d/e/1FAIpQLSebBKKkkWAqTAcB_Hf1eGQudjr_DZM30jl2ADktRtn4LOZdpA/viewform?usp=sf_link",onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"}))),!e.Workout.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName,a.props.group&&a.props.props.groupState&&a.props.props.groupState.groupLeader.id===a.props.logged_userData.id&&s.a.createElement(Jl.CopyToClipboard,{text:u+"/group/liveclasses/list/"+_o.decodeUrl(a.props.group)+"/"+_o.decodeUrl(_o.replaceChar(a.state.type,!0))+"/"+e.id+"/pollReview",onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"}))))))),a.renderDisciplineList(e,"desktop"),a.renderDificulty(e,"desktop"),e.RoomExtension&&e.RoomExtension.notes&&!r[t][i]&&s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0 m-t-10"},s.a.createElement("span",{className:"w-40 font-16 font-bold black-txt float-left"},"A note about this class"),a.props.is_auth&&a.props.is_create_mode&&s.a.createElement("span",{className:"font-16 float-right font-medium p-l-5 capitalize_text"},s.a.createElement("span",{className:"flow-text note-actions",onClick:function(){var o=a.state.is_edit_note;o[t][i]=!0;var s=a.state.editorValue;s[t][i]=e.RoomExtension.notes,a.setState({is_edit_note:o,editorValue:s})}},"Edit"),s.a.createElement("span",{className:"m-l-10 flow-text note-actions",onClick:function(){a.deleteLiveclassNotes(e.id,t,i)}},"Delete"))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0 liveclass-notes"},s.a.createElement("span",{className:"w-40 font-16 font-medium flow-text float-left",dangerouslySetInnerHTML:{__html:e.RoomExtension.notes}}))),0!=e.Workout.cutoffTime&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0 m-t-10"},s.a.createElement("span",{className:"font-16 float-left font-medium "},"Please note that registration to this class ends 30 minutes prior to the class beginning")),(!e.RoomExtension||!e.RoomExtension.notes)&&!n[t][i]&&a.props.is_auth&&a.props.is_create_mode&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0 m-t-10"},s.a.createElement("span",{className:"font-16 float-left font-medium note-actions flow-text",onClick:function(){var e=a.state.is_add_note;e[t][i]=!0,a.setState({is_add_note:e})}},"Add a short note about this class")),(!e.RoomExtension||!e.RoomExtension.notes)&&n[t][i]&&s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-bold gray-txt float-left"},"Add a short note about this class"),n[t][i]&&s.a.createElement("span",{className:"font-16 float-right font-medium p-l-5 capitalize_text"},s.a.createElement("span",{className:"flow-text note-actions",onClick:function(){var e=a.state.is_add_note;e[t][i]=!1,a.setState({is_add_note:e})}},"Cancel"),s.a.createElement("span",{className:"m-l-10 flow-text note-actions",onClick:function(){a.saveLiveclassNotes(e.id,t,i)}},"Save"))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-100 font-16 font-semibold float-left"},s.a.createElement(Rl.a,{data:o[t][i],config:{toolbar:[["Bold","Italic"],["NumberedList","BulletedList"],["Link","Unlink"],["Image","Table"]],height:"70px",resize_enabled:!1,font_defaultLabel:"Qregular",fontSize_defaultLabel:"28px",contentsCss:"../../../ckeditor.css",stylesSet:[{element:"p",styles:{"font-family":"#(Qregular)"},overrides:[{element:"font",attributes:{face:null}}]}],font_style:[{element:"p",styles:{"font-family":"#(Qregular)"},overrides:[{element:"font",attributes:{face:null}}]}],font_names:"Qregular"},onChange:function(e){return a.handleChangeTextEdit(e,t,i)},onBeforeLoad:function(e){return e.on("dialogDefinition",(function(e){"link"==e.data.name&&(e.data.definition.getContents("target").get("linkTargetType").default="_blank",e.data.definition.getContents("info").get("protocol").default="https://")}))}}),"                                            "))),r[t][i]&&s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-bold gray-txt float-left"},"Edit a short note about this class"),r[t][i]&&s.a.createElement("span",{className:"font-16 float-right font-medium p-l-5 capitalize_text"},s.a.createElement("span",{className:"flow-text note-actions",onClick:function(){var e=a.state.is_edit_note;e[t][i]=!1,a.setState({is_edit_note:e})}},"Cancel"),s.a.createElement("span",{className:"m-l-10 flow-text note-actions",onClick:function(){a.saveLiveclassNotes(e.id,t,i)}},"Save"))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-100 font-16 font-semibold float-left"},s.a.createElement(Rl.a,{data:a.state.editorValue[t][i],config:{toolbar:[["Bold","Italic"],["NumberedList","BulletedList"],["Link","Unlink"],["Image","Table"]],height:"50px",resize_enabled:!1,font_defaultLabel:"Qregular",fontSize_defaultLabel:"28px",contentsCss:"../../../ckeditor.css",stylesSet:[{element:"p",styles:{"font-family":"#(Qregular)"},overrides:[{element:"font",attributes:{face:null}}]}],font_style:[{element:"p",styles:{"font-family":"#(Qregular)"},overrides:[{element:"font",attributes:{face:null}}]}],font_names:"Qregular"},onChange:function(e){return a.handleChangeTextEdit(e,t,i)},onBeforeLoad:function(e){return e.on("dialogDefinition",(function(e){"link"==e.data.name&&(e.data.definition.getContents("target").get("linkTargetType").default="_blank",e.data.definition.getContents("info").get("protocol").default="https://")}))}}))))),s.a.createElement("div",{className:"col-lg-3 float-left col-md-3 p-0 text-center"},a.renderSchedule(e),e.Signedup&&s.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-purple w-100 pad_list_btn font-medium m-b-10 joinclass-blue-btn",onClick:function(){return a.cancelCalss(e,t,i)}},"Oops, I can't make it"),s.a.createElement("span",{className:"btn btn-default-list-blue w-100 clearfix pad_list_btn"},bo()(e.scheduledFor).format("hh:mm A")),"Live"==e.type&&s.a.createElement("span",{className:"btn btn-default-list-orange w-100 clearfix pad_list_btn"},"Live Session"),(a.props.logged_userData.id==e.Workout.Instructor.UserId||a.props.logged_userData.isCreator||a.props.is_group_admin)&&s.a.createElement("button",{disabled:a.state.signupLoader,onClick:function(){return a.renderClassListModel(e)},className:"btn btn-orange-inverse button-filter close-btn  font-medium font-14 pointer w-100"}," ","Class list"," "),"Dashboard"==a.props.componentType&&s.a.createElement(xn,{item:e,type:e.type,title:e.Workout.title,length:e.Workout.length}),a.props.is_auth&&a.props.is_create_mode&&E.includes(a.state.currentPageName)&&!a.props.logged_userData.isStudyLeader&&s.a.createElement("div",{className:"pointer",onClick:function(){a.getLiveClassDetail(e.Workout.id)}},s.a.createElement("img",{src:D+"edit-pencil.png",class:"float-right"})),a.props.is_auth&&a.props.is_create_mode&&E.includes(a.state.currentPageName)&&a.props.logged_userData.isStudyLeader&&!a.props.group&&s.a.createElement("span",{className:"btn btn-darkblue-inverse w-100 clearfix pad_list_btn",onClick:function(){a.getLiveClassDetail(e.Workout.id)}},"Edit Template"),a.props.is_auth&&(a.props.is_group_mode||a.props.is_create_mode)&&(a.props.logged_userData.isGroupLeader||a.props.logged_userData.isStudyLeader)&&a.props.group&&s.a.createElement("span",{className:"btn btn-default-list-orange w-100 clearfix pad_list_btn",onClick:function(){a.getLiveClassDetail(e.Workout.id)}},"Manage Class"))))),s.a.createElement("div",{className:"col-md-12 mobile-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-12 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.state.type+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id),localStorage.setItem("group",a.props.group),localStorage.setItem("groupId",a.props.groupId)}},s.a.createElement("img",{className:"media-object image-size img-rounded img-fluid",src:x+e.Workout.id+"-img.png",onError:function(e){return _o.checkImageCrop(e,"ondemand-placeholder.png")}})),s.a.createElement("span",{class:"position-absolute vid_time"},s.a.createElement("span",null,e.Workout.length," mins")),e.isFree&&s.a.createElement("div",{className:"time-box free-icon"},s.a.createElement("img",{className:"w-100",src:D+"FreeClassIcon.png"})))),s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"col-12 float-left p-0 "},s.a.createElement("div",{className:"col-12  float-left p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100 m-t-5 m-b-5"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e.Workout&&e.Workout.Instructor&&e.Workout.Instructor.img?S+e.Workout.Instructor.img:D+"instructor-placeholder.png",onError:function(e){return _o.checkImageCrop(e,"instructor-placeholder.png")},alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.state.type+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id),localStorage.setItem("group",a.props.group),localStorage.setItem("groupId",a.props.groupId)}}," ",e.Workout.title)),(a.props.logged_userData.isStudyLeader||a.props.logged_userData.isGroupLeader||a.props.logged_userData.isStudyInstructor)&&s.a.createElement("div",{className:"w-80"},e.Community&&e.Community.community_name&&s.a.createElement("span",{className:"font-16 font-semibold black-txt"},"Group : ",e.Community.community_name)),s.a.createElement("div",{className:"w-80"},"with",e.Workout.Instructor.hasProfile&&s.a.createElement("span",null,s.a.createElement(Qo.b,{to:"/instructor/"+e.Workout.Instructor.id+"/"+a.state.type,className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName),a.props.group&&a.props.props.groupState&&a.props.props.groupState.groupLeader.id===a.props.logged_userData.id&&s.a.createElement(Jl.CopyToClipboard,{text:u+"/group/liveclasses/list/"+_o.decodeUrl(a.props.group)+"/"+_o.decodeUrl(_o.replaceChar(a.state.type,!0))+"/"+e.id+"/pollReview",onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"})))),!e.Workout.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName,a.props.group&&a.props.props.groupState&&a.props.props.groupState.groupLeader.id===a.props.logged_userData.id&&s.a.createElement(Jl.CopyToClipboard,{text:u+"/group/liveclasses/list/"+_o.decodeUrl(a.props.group)+"/"+_o.decodeUrl(_o.replaceChar(a.state.type,!0))+"/"+e.id+"/pollReview",onCopy:function(){return a.setState({copied:!0})}},s.a.createElement("span",{title:"Copy link to post class questionnaire"},s.a.createElement("i",{className:"p-l-15 fa fa-clipboard fa-2x blue-text p-r-15 pointer"}))))))),s.a.createElement("div",{className:"font-medium col-12 p-0 m-b-10 float-left "},a.renderDisciplineList(e,"mobile"),a.renderDificulty(e,"mobile"),e.RoomExtension&&e.RoomExtension.notes&&s.a.createElement("div",{className:" liveclass-notes"},s.a.createElement("span",{className:"w-40 font-16 font-bold black-txt float-left m-t-10"},"A note about this class"),s.a.createElement("span",{className:"w-40 font-16 font-medium flow-text float-left",dangerouslySetInnerHTML:{__html:e.RoomExtension.notes}}))))),s.a.createElement("div",{className:"col-12 float-left p-0 text-center"},a.renderSchedule(e),e.Signedup&&s.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-purple w-100 pad_list_btn font-medium m-b-10 joinclass-blue-btn",onClick:function(){return a.cancelCalss(e,t,i)}},"Oops, I can't make it"),s.a.createElement("span",{className:"w-100 btn btn-default-list-blue clearfix pad_list_btn"},bo()(e.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),"Live"==e.type&&s.a.createElement("span",{className:"w-100 btn btn-default-list-orange clearfix pad_list_btn"},"Live Session"),"Dashboard"==a.props.componentType&&s.a.createElement(xn,{item:e,type:e.type,title:e.Workout.title,length:e.Workout.length})))))}))}},{key:"renderCreateLiveclass",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{class:"list-group-item liveclass-listing"},s.a.createElement("div",{class:"col-md-12 desktop-view-live"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"media col-md-3 col-lg-3 p-0"},s.a.createElement("figure",{class:"pull-left position-relative"},s.a.createElement("img",{class:"media-object image-size img-rounded img-fluid",src:D+"ondemand-placeholder.png"}))),s.a.createElement("div",{class:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{class:"col-12 col-md-9 col-lg-12 col-sm-9 float-left pl-20"},s.a.createElement("div",{class:"col-md-12 col-lg-12 col-sm-6 small-device float-left m-b-10 p-0"},s.a.createElement("div",{class:"p-0 border-0 float-left w-100"},s.a.createElement("div",{class:"font-24 font-medium m-b-5 w-80"},"New Live Beam Class"),s.a.createElement("p",{class:"w-80 font-16 font-qregular black-txt"},"Click the plus sign to create a new Live Class!"),s.a.createElement("p",{class:"w-80 font-16 font-qregular black-txt"},"You will need..."),s.a.createElement("div",{className:"font-qregular w-100"},s.a.createElement("ul",{className:"col-md-12 col-sm-12 float-left black-txt"},s.a.createElement("li",null,s.a.createElement("span",{className:"w-40 font-16 font-qregular float-left"},"Beam Live Class Details Google Form Response")),s.a.createElement("li",null,s.a.createElement("span",{className:"w-40 font-16 font-qregular float-left col-11 p-0"},"Class Image"),s.a.createElement("div",{onClick:function(){e.props.ondemandCMSModelOpen({open:!0,type:"add"}),e.props.clearLiveclassDetail()},className:"pointer"},s.a.createElement("img",{src:D+"add-plus.png",class:"float-right"})))))))))))))}},{key:"renderLiveClassList",value:function(){var e=this;return this.state.liveClassList.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("p",{className:"section_header font-semibold"},_o.getDayNameFromDate(t[0].scheduledFor)),e.renderSubItemList(t,a))}))}},{key:"renderLoadMore",value:function(){var e=this;if(this.state.count>10)return s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement("span",{onClick:function(){e.incrementShowmoreCnt()},className:"btn btn-orange m-t-40 m-b-40 font-book pointer"},"Show more live classes"))}},{key:"renderListData",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null)),s.a.createElement(s.a.Fragment,null,this.renderLiveClassComponent()))}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+10},(function(){this.getLiveClassList(this.props.liveclass_filter_instructor)}))}},{key:"groupListResult",value:function(e){var t=[],a=this.state.liveClassList,o=e,s={},n=[],r="";o.map((function(e,i){if(0===i&&(r=e.scheduledFor),a&&a.length>0&&o&&e&&bo()(a[a.length-1][0].scheduledFor).format("DD/MM/YYYY")===bo()(e.scheduledFor).format("DD/MM/YYYY"))a[a.length-1].push(e),t=a;else{i=bo()(e.scheduledFor).format("DD/MM/YYYY");s[i]?s[i].push(e):(s[i]=[],s[i].push(e),n.push(s[i])),t=[].concat(Object(Lo.a)(a),n)}}));var i=this;this.setState({liveClassList:t,firstScheduleDate:r},(function(){var e=this.props.location.pathname,t=e.split("/")[6];if("prePollReview"==e.split("/")[7]&&i.props.logged_userData.isStudyParticipant&&i.state.liveClassList.length&&Q.includes(i.state.type.toLowerCase())){var a=Eo.a.filter(this.state.liveClassList,(function(e){return e[0].id===parseInt(t)}));a.length&&this.viewPrepoll(a[0][0])}})),this.initiateNotesFlag()}},{key:"renderLiveClassComponent",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(hi,{is_model_open:this.state.openResearchModel,closeResearchModel:this.closeResearchModel,classType:"Live",beforeReview:this.beforeReview,workoutId:this.state.workoutId,current_attendee:this.state.current_attendee}),this.state.liveClassList&&this.state.liveClassList.length>0&&s.a.createElement("div",{id:"products",className:"row"},s.a.createElement("div",{className:"list-group w-100"},this.renderLiveClassList())))}},{key:"changeViewLayout",value:function(){var e=this.state.displayLayout;this.setState({displayLayout:!e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:""},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Live classes - ",this.state.type,ye),s.a.createElement("meta",{property:"og:title",content:"Live classes - "+this.state.type+ye}),s.a.createElement("meta",{property:"og:description",content:Ne}),s.a.createElement("meta",{property:"og:image",content:we}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:Ce})),this.renderListData(),s.a.createElement(hl,{is_model_open:this.state.modelState,modelData:this.state.modelData,modelClose:this.modelClose,isRejoin:this.state.isRejoin,condition:_o.replaceChar(this.state.type,!0)}),this.props.is_cms_model&&s.a.createElement(Kl,{getList:this.recallLiveclass,group:this.props.group,groupId:this.props.groupId}),s.a.createElement(xi,{isConditionModalOpen:this.state.isConditionModalOpen,conditionName:this.state.condition,isWarningModal:this.state.isWarningModal,closeModel:this.closeModel,hasMembership:this.state.hasMembership,health_conditionId:this.state.health_conditionId,afterUpgrade:this.afterUpgrade}),this.state.isEmergencyModalOpen&&s.a.createElement(cc,{is_model_open:this.state.isEmergencyModalOpen,closeModel:this.closeEmergencyModel,successAction:function(){e.hasMembership(e.state.liveclassItem)}}),this.state.isAttendeesModelOpen&&s.a.createElement(dc,{is_model_open:this.state.isAttendeesModelOpen,closeModel:this.closeLiveClassAttendeesModel,attendeesClassList:this.state.attendeesClassList,isPhysioLed:this.state.isPhysioLed}))}}]),a}(s.a.Component),fc={fetchClassList:Ia,start_loader:ht,stop_loader:gt,joinClass:ja,loginModelOpen:pt,cancelClass:Ta,fetchGroupWorkout:eo,fetchDashboardSchedule:qa,ondemandCMSModelOpen:ha,clearOndemandList:Zt,addLiveclassNotes:Pa,deleteLiveclassNotes:Ua,liveclassDetail:Fa,clearLiveclassDetail:Ra,setConditionIndex:Bt,registerformUpdate:Ot,attendeesClassList:Aa},bc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,is_create_mode:e.header.is_create_mode,is_cms_model:e.workout.is_cms_model,logged_userData:e.header.logged_userData,liveclass_filter_instructor:e.liveclass.liveclass_filter_instructor,is_group_mode:e.header.is_group_mode,healthcondition_list:e.register.healthcondition_list,registerFormvalues:e.register.registerFormValues,is_group_admin:e.group.is_group_admin}}),fc)(gc),vc=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={Loading:!0,offset:0,count:0,show_more_cnt:10,scheduleList:[],allLiveClassData:[],displayLayout:!0,group:o.props.params.group,condition:o.props.params.condition,type:o.props.params.condition,modelState:!1,modelData:{},firstScheduleDate:"",total_tags:[],all_levels:[],openPostPollModel:!1,current_attendee:{},openResearchModel:!1,redirectUrl:"",workoutId:"",classType:o.props.is_create_mode||o.props.is_group_mode?"unscheduled":"upcoming"},o.submitStartNow=o.submitStartNow.bind(Object(is.a)(o)),o.modelClose=o.modelClose.bind(Object(is.a)(o)),o.joinClassService=o.joinClassService.bind(Object(is.a)(o)),o.toggleClasses=o.toggleClasses.bind(Object(is.a)(o)),o.renderLiveClassComponent=o.renderLiveClassComponent.bind(Object(is.a)(o)),o.closeResearchPostModel=o.closeResearchPostModel.bind(Object(is.a)(o)),o.beforeReview=o.beforeReview.bind(Object(is.a)(o)),o.viewPrepoll=o.viewPrepoll.bind(Object(is.a)(o)),o.closeResearchModel=o.closeResearchModel.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData,t=this.props.location.pathname,a=(t.split("/")[1],t.split("/")[6]),o=t.split("/")[7];console.log("paramUrl",o),console.log("group-liveclass-props",this.props),console.log("group-liveclass-authData",e);var s=new Date,n=!1,r="";if(Object.keys(e).length){var i=Eo.a.find(e.Members,{CommunityId:this.props.groupState.aboutGroup.id});console.log("findGroup",i),i&&void 0!=typeof i&&(r=Object.keys(i).length?i.Community:"")}if(console.log("communityDetails",r),r&&r.endDate){var l=bo()(r.endDate).utc().format("YYYY-MM-DD");n=!(new Date(l).getTime()<s.getTime())}else n=!0;if(console.log("group-liveclass-isShowPoll",n),(this.props.logged_userData.isGroupLeader||this.props.logged_userData.isStudyLeader)&&this.toggleClasses(!0),"undefined"==typeof Go.Cookies.get("is_toggled")&&Go.Cookies.get("CookieControl")&&Object.keys(JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies).length>0&&"accepted"==JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies.preferences&&Go.Cookies.set("is_toggled",!1),this.props.history.location.pathname&&this.props.groupState.isMember&&e&&!e.isCreator&&!this.props.groupState.canEdit&&"pollReview"==o&&e.isStudyParticipant&&n)console.log("pollreviewschedule",this.props.groupState.condition),this.setState({openPostPollModel:!0,current_attendee:{RoomId:a}});else if(!this.props.history.location.pathname||this.props.groupState.isMember||e&&(!e||e.isCreator||e.isStudyLeader)||this.props.groupState.canEdit)this.fetchGroupWorkout();else{var c={from:{pathname:"/group/about/"+this.props.groupState.group+"/"+this.props.groupState.condition}}.from;this.props.history.push(c)}}},{key:"closeResearchPostModel",value:function(){this.setState({openPostPollModel:!1})}},{key:"beforeReview",value:function(){window.open(this.state.redirectUrl)}},{key:"viewPrepoll",value:function(e){var t=this;e.Attendees.forEach((function(e){e.UserId===t.props.logged_userData.id&&(console.log("ref",e.reference),t.setState({redirectUrl:e.reference,current_attendee:e}))})),this.setState({openResearchModel:!0,workoutId:e.WorkoutId})}},{key:"closeResearchModel",value:function(){this.setState({openResearchModel:!1})}},{key:"fetchAboutGroup",value:function(){var e=this;this.props.start_loader();var t={group:this.state.group};this.props.fetchAboutGroup(t).then((function(t){t&&(e.setState({aboutGroup:t.groups,groupLeader:t.groups.User,notifications:t.groups.Notifications,totalMembers:t.groups&&t.groups.Members?t.groups.Members.length:0,isMember:t.isMember,aboutSection:t.groups.aboutSection,wallSection:t.groups.wallSection,liveClassSection:t.groups.liveClassSection,onDemandSection:t.groups.onDemandSection,membersSection:t.groups.membersSection,feedSection:t.groups.feedSection,canEdit:t.canEdit}),e.setAdminLeader()),e.props.stop_loader()}),(function(t){e.setState({Loading:!1}),at.b.error(t),e.props.stop_loader()}))}},{key:"componentWillReceiveProps",value:function(e){!this.props.is_auth&&e.is_auth&&this.setState({scheduleList:[]})}},{key:"submitStartNow",value:function(e){this.props.is_auth?this.joinClassService(e):this.props.loginModelOpen(!0)}},{key:"joinClassService",value:function(e){var t=this,a={roomId:e.id};this.props.start_loader(),this.props.joinClass(a).then((function(a){t.props.stop_loader(),a&&t.setState({modelState:!0,modelData:e})}),(function(e){t.props.stop_loader(),t.setState({modelState:!1,modelData:{}}),at.b.error(e)}))}},{key:"modelClose",value:function(){this.setState({Loading:!1,offset:0,count:0,show_more_cnt:10,scheduleList:[],displayLayout:!0,group:this.props.params.group,condition:this.props.params.condition,modelState:!1,modelData:{},firstScheduleDate:"",total_tags:[],all_levels:[]},(function(){this.fetchGroupWorkout()}))}},{key:"fetchGroupWorkout",value:function(){var e=this;this.setState({Loading:!0}),this.props.start_loader();var t=_o.replaceChar(this.state.condition,!0),a={offset:this.state.offset,limit:10,condition:t,group:this.state.group};this.props.fetchGroupWorkout(a).then((function(t){if(e.setState({Loading:!1}),e.props.stop_loader(),t){var a=t.list;if(a&&a.liveClasses){var o=a.liveClasses;e.setState({allLiveClassData:o}),e.toggleLiveClasses()}e.setState({Loading:!1,count:a.count,total_tags:t.list.tags?t.list.tags:[],all_levels:t.list.levelTags?t.list.levelTags:[]},(function(){}))}}),(function(t){e.setState({Loading:!1}),e.props.stop_loader()}))}},{key:"toggleClasses",value:function(e){Object.keys(JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies).length>0&&"accepted"==JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies.preferences&&Go.Cookies.set("is_toggled",e),this.setState({is_toggled:e,scheduleList:[]},(function(){this.toggleLiveClasses()}))}},{key:"toggleLiveClasses",value:function(){var e=this.state.allLiveClassData;Go.Cookies.get("is_toggled");if("undefined"==typeof Go.Cookies.get("is_toggled")&&this.state.is_toggled||"true"==Go.Cookies.get("is_toggled"))this.groupListResult(e);else{var t=[];e.map((function(e,a){var o=bo()(e.scheduledFor).toDate(),s=bo()(bo()(e.scheduledFor).hour("0").minute("01").second("0")).toDate(),n=bo()(bo()(e.scheduledFor).hour("4").minute("59").second("0")).toDate();o>=s&&o<=n||(console.log("schedule "+o+" midnight12 "+s+" morninig5 "+n),console.log(e.id+"************NOT MID NIGHT*****************"),t.push(e))})),this.groupListResult(t)}}},{key:"groupListResult",value:function(e){var t=[],a=this.state.scheduleList,o=e,s={},n=[],r="";o.map((function(e,i){if(0===i&&(r=e.scheduledFor),a&&a.length>0&&o&&e&&a[a.length-1][0].scheduledFor===e.scheduledFor)a[a.length-1].push(e),t=a;else{i=e.scheduledFor;s[i]?s[i].push(e):(s[i]=[],s[i].push(e),n.push(s[i])),t=[].concat(Object(Lo.a)(a),n)}})),this.setState({scheduleList:t,firstScheduleDate:r})}},{key:"changeViewLayout",value:function(){var e=this.state.displayLayout;this.setState({displayLayout:!e})}},{key:"cancelCalss",value:function(e,t,a){var o=this;if(!this.state.cancelLoading){this.setState({cancelLoading:!0});var s={roomId:e.id};this.props.cancelClass(s).then((function(e){e&&at.b.success(e.message);var s=Object(Lo.a)(o.state.scheduleList);s[t][a].Signedup=!1,o.setState({scheduleList:s,cancelLoading:!1})}),(function(e){o.setState({cancelLoading:!1})}))}}},{key:"renderSubItemList",value:function(e,t){var a=this;return console.log("renderSubItemList-history",this.props.history),console.log("renderSubItemList-local",this.props.location),e.map((function(e,o){return s.a.createElement("div",{className:"list-group-item",key:o},s.a.createElement("div",{className:"col-md-12 desktop-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-md-3 col-lg-3 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.params.condition+"/"+e.Workout.id,onClick:function(){a.props.pushHistory(a.props.history.location.pathname),localStorage.setItem("prevPath",a.props.history.location.pathname),localStorage.setItem("group",a.props.group),localStorage.setItem("groupId",a.props.groupId)}},s.a.createElement(hn,{className:"media-object image-size img-rounded img-fluid",src:x+e.Workout.id+"-img.png"})),s.a.createElement("div",{className:"time-box"},s.a.createElement("i",{className:"fa fa-clock-o w-100"}),s.a.createElement("div",{className:"w-100"},e.Workout.length," mins")))),s.a.createElement("div",{className:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{className:"col-md-9 col-lg-9 col-sm-9 float-left pl-20"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left m-b-10 p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e.Workout&&e.Workout.Instructor&&e.Workout.Instructor.img?S+e.Workout.Instructor.img:D+"no-image.png",alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.params.condition+"/"+e.Workout.id,onClick:function(){a.props.pushHistory(a.props.history.location.pathname),localStorage.setItem("prevPath",a.props.history.location.pathname),localStorage.setItem("group",a.props.group),localStorage.setItem("groupId",a.props.groupId)}},"  ",e.Workout.title)),s.a.createElement("div",{className:"w-80"},"with",e.Workout.Instructor.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+e.Workout.Instructor.id+"/"+a.props.params.condition,className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName),!e.Workout.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName)))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("discipline",a.state.total_tags,e.WorkoutId))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("level",a.state.all_levels,e.WorkoutId)))),s.a.createElement("div",{className:"col-lg-3 float-left col-md-3 p-0 text-center"},a.renderSchedule(e),e.Signedup&&s.a.createElement("a",{href:"javascript:void(0)",className:"grey-text font-14 font-qregular m-b-5",onClick:function(){return a.cancelCalss(e,t,o)}},"Cancel Class"),s.a.createElement("span",{className:"btn btn-default-list-blue clearfix pad_list_btn"},bo()(e.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),s.a.createElement("span",{className:"btn btn-default-list-orange clearfix pad_list_btn"},"Live Session"))))),s.a.createElement("div",{className:"col-md-12 mobile-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-12 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.params.condition+"/"+e.Workout.id,onClick:function(){a.props.pushHistory(a.props.history.location.pathname),localStorage.setItem("prevPath",a.props.history.location.pathname),localStorage.setItem("group",a.props.group),localStorage.setItem("groupId",a.props.groupId)}},s.a.createElement(hn,{className:"media-object image-size img-rounded img-fluid",src:x+e.Workout.id+"-img.png"})),s.a.createElement("div",{className:"time-box"},s.a.createElement("i",{className:"fa fa-clock-o w-100"}),s.a.createElement("div",{className:"w-100"},e.Workout.length," mins")))),s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"col-12 float-left p-0 "},s.a.createElement("div",{className:"col-12  float-left p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100 m-t-5 m-b-5"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e.Workout&&e.Workout.Instructor&&e.Workout.Instructor.img?S+e.Workout.Instructor.img:D+"no-image.png",alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.params.condition+"/"+e.Workout.id,onClick:function(){a.props.pushHistory(a.props.history.location.pathname),localStorage.setItem("prevPath",a.props.history.location.pathname),localStorage.setItem("group",a.props.group),localStorage.setItem("groupId",a.props.groupId)}},"  ",e.Workout.title)),s.a.createElement("div",{className:"w-80"},"with",e.Workout.Instructor.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+e.Workout.Instructor.id+"/"+a.props.params.condition,className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName),!e.Workout.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName)))),s.a.createElement("div",{className:"font-medium col-12 p-0 m-b-10 float-left "},s.a.createElement("div",{className:"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("discipline",a.state.total_tags,e.WorkoutId))),s.a.createElement("div",{className:"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("level",a.state.all_levels,e.WorkoutId)))))),s.a.createElement("div",{className:"col-12 float-left p-0 text-center"},a.renderSchedule(e),s.a.createElement("span",{className:"btn btn-default-list-blue clearfix pad_list_btn"},bo()(e.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),s.a.createElement("span",{className:"btn btn-default-list-orange clearfix pad_list_btn"},"Live Session")))))}))}},{key:"renderLoadMore",value:function(){var e=this;if(this.state.scheduleList&&this.state.count>this.state.scheduleList.length)return s.a.createElement("div",{className:"w-100 text-center"},s.a.createElement("a",{onClick:function(){e.incrementShowmoreCnt()},className:"btn btn-orange m-t-40 m-b-40 text-center font-book"},"Load more live classes"))}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+10},(function(){this.fetchLiveClassList()}))}},{key:"renderScheduleItem",value:function(){var e=this;return this.state.scheduleList.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("p",{className:"section_header font-semibold"},_o.getDayNameFromDate(t[0].scheduledFor)),e.renderSubItemList(t,a))}))}},{key:"renderSchedule",value:function(e){var t=this;if(e.reference&&"coming soon"===e.reference.toLowerCase())return s.a.createElement("a",{className:"btn btn-purple w-100 font-medium m-b-10"}," ",e.reference," ");var a=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();return e.Signedup&&this.props.logged_userData.isStudyParticipant&&Q.includes(a)?s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.viewPrepoll(e)}}," Go to class "):e.Signedup&&!this.props.logged_userData.isStudyParticipant||e.Signedup&&this.props.logged_userData.isStudyParticipant&&!Q.includes(a)?s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",href:e.Attendees[0].reference||"#",target:"_blank"}," Go to class "):s.a.createElement("a",{onClick:function(){return t.submitStartNow(e)},className:"btn btn-purple w-100 font-medium m-b-10"}," Sign up ")}},{key:"renderLiveClassComponent",value:function(){return this.state.displayLayout?s.a.createElement("div",null,"upcoming"==this.state.classType&&s.a.createElement(bc,{props:this.props,firstScheduleDate:this.state.firstScheduleDate,params:this.state.type,group:this.state.group,location:this.props.location,componentType:"Group",is_toggled:this.state.is_toggled,allLiveClassData:this.state.allLiveClassData,groupId:this.props.groupState.aboutGroup.id}),"past"==this.state.classType&&s.a.createElement($l,{props:this.props,firstScheduleDate:this.state.firstScheduleDate,params:this.state.type,group:this.state.group,location:this.props.location,liveClassList:this.state.liveClassList,allLiveClassData:this.state.allLiveClassData,componentType:"Group",groupId:this.props.groupState.aboutGroup.id}),this.props.is_auth&&(this.props.is_create_mode||this.props.is_group_mode)&&"unscheduled"==this.state.classType&&s.a.createElement(oc,{props:this.props,firstScheduleDate:this.state.firstScheduleDate,params:this.state.type,group:this.state.group,location:this.props.location,liveClassList:this.state.liveClassList,allLiveClassData:this.state.allLiveClassData,componentType:"Group",groupId:this.props.groupState.aboutGroup.id})):s.a.createElement(hc,{props:this.props,firstScheduleDate:this.state.firstScheduleDate,params:this.state.type,group:this.state.group,location:this.props.location,componentType:"Group",is_toggled:this.state.is_toggled,allLiveClassData:this.state.allLiveClassData})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(bi,{is_model_open:this.state.openPostPollModel,closeResearchPostModel:this.closeResearchPostModel,classType:"Live",beforeReview:this.beforeReview,workoutId:this.state.workoutId,current_attendee:this.state.current_attendee,condition:this.state.condition,history:this.props.history}),s.a.createElement(hi,{is_model_open:this.state.openResearchModel,closeResearchModel:this.closeResearchModel,classType:"Live",beforeReview:this.beforeReview,workoutId:this.state.workoutId,current_attendee:this.state.current_attendee}),s.a.createElement("div",{className:"list_section float-left w-100 p-t-20 p-b-20"},s.a.createElement("div",{className:"container"},s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 p-0"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-3"},s.a.createElement("p",{className:"row"},s.a.createElement("i",{className:this.state.displayLayout?"fa fa-calendar-o":"fa fa-list-ul","aria-hidden":"true"})," ",s.a.createElement("span",{onClick:function(){e.changeViewLayout()},className:"orangefont font-medium pointer p-l-10 "},s.a.createElement("u",null,this.state.displayLayout?"Switch to calendar view":"Switch to list view")))),!this.props.is_create_mode&&!this.props.is_group_mode&&s.a.createElement("div",{className:"col-md-6"},s.a.createElement("p",{className:"w-40 font-16 font-semibold black-txt text-center"},"All class times shown in "," "+_o.localTimeZoneName()," time")),(this.props.is_create_mode||this.props.is_group_mode)&&s.a.createElement("div",{className:"col-md-2 text-right mb-2"},s.a.createElement("span",{className:"p-1 btn button-filter close-btn font-medium font-14 pointer w-100 "+("upcoming"==this.state.classType?"btn-beam-blue white-txt":"btn-beam-blue-inverse"),onClick:function(){e.setState({classType:"upcoming"})}}," Upcoming ")),(this.props.is_create_mode||this.props.is_group_mode)&&s.a.createElement("div",{className:"col-md-2 text-right mb-2"},s.a.createElement("span",{className:"p-1 btn button-filter close-btn font-medium font-14 pointer w-100 "+("past"==this.state.classType?"btn-purple":"btn-purple-inverse"),onClick:function(){e.setState({classType:"past"})}}," Past ")),this.props.is_auth&&(this.props.is_create_mode||this.props.is_group_mode)&&s.a.createElement("div",{className:"col-md-2 text-right mb-2"},s.a.createElement("span",{className:"p-1 btn button-filter close-btn font-medium font-14 pointer w-100 "+("unscheduled"==this.state.classType?"btn-darkblue white-txt":"btn-darkblue-inverse"),onClick:function(){e.setState({classType:"unscheduled"})}},"  Templates ")),!this.state.condition.toLowerCase().includes("research")&&s.a.createElement("div",{className:"offset-9 col-md-3 text-right p-0 mb-2"},("undefined"==typeof Go.Cookies.get("is_toggled")&&!this.state.is_toggled||"false"==Go.Cookies.get("is_toggled"))&&s.a.createElement("span",{className:"btn btn-orange-inverse button-filter close-btn  font-medium font-14 pointer",onClick:function(){e.toggleClasses(!0)}},"Show all"),("undefined"==typeof Go.Cookies.get("is_toggled")&&this.state.is_toggled||"true"==Go.Cookies.get("is_toggled"))&&s.a.createElement("span",{className:"btn btn-orange pointer w-100",onClick:function(){e.toggleClasses(!1)}},"Show waking hours only")),(this.props.is_create_mode||this.props.is_group_mode)&&s.a.createElement("div",{className:"col-md-12"},s.a.createElement("p",{className:"w-40 font-16 font-semibold black-txt text-center"},"All class times shown in "," "+_o.localTimeZoneName()," time")))),this.renderLiveClassComponent(),s.a.createElement(hl,{is_model_open:this.state.modelState,modelData:this.state.modelData,modelClose:this.modelClose})))))}}]),a}(s.a.Component),Ec={fetchGroupWorkout:eo,start_loader:ht,stop_loader:gt,loginModelOpen:pt,joinClass:ja,cancelClass:Ta,pushHistory:Qt},yc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData,is_create_mode:e.header.is_create_mode,is_group_mode:e.header.is_group_mode,user_data:e.header.logged_userData}}),Ec)(vc),_c=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={isRead:!1},o}return Object(Wo.a)(a,[{key:"onCloseModal",value:function(){}},{key:"render",value:function(){var e=this;return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog common_design modal-width--custom live-classes--popup plain-popup",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.props.closeConfirmationPopup("Yes")}},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 text-center m-b-30 mr-auto ml-auto"},s.a.createElement("p",{className:"font-15 font-semibold black-txt"},"It can take some time to upload video files but don't worry, we'll keep working on it in the background and send you an email once the upload is complete.")),s.a.createElement("div",{className:"buttons-read w-100 m-t-20 float-left text-center pointer"},s.a.createElement("a",{className:"btn btn-blue-inverse font-14 read-later pointer",onClick:function(){return e.props.closeConfirmationPopup("Yes")}},"Ok, sure")))))))}}]),a}(s.a.Component),kc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData}}),{})(_c),Nc=a(551),wc=a.n(Nc),Cc=function(e){return s.a.createElement("div",null,s.a.createElement("div",{className:0==e.data.tagCount&&e.selectProps.isRemoveable?"pull-left optionWidth":"pull-left w-100"},s.a.createElement(wl.f.Option,e,s.a.createElement("input",{type:"checkbox",checked:e.isSelected,onChange:function(){return null}})," ",s.a.createElement("label",null,e.label," ","*"!=e.value&&e.selectProps.isRemoveable&&s.a.createElement("span",{className:"black-txt font-semibold"},"(",e.data.tagCount,")"),"  "))),0===e.data.tagCount&&e.selectProps.isRemoveable&&s.a.createElement("button",{onClick:function(){return e.selectProps.removeTag(e.value,e.selectProps.name)},className:"btn pull-right orangefont removeTagBtn"},"X"))},xc="*",Sc=function(e){var t=e.children,a=Object(Yo.a)(e,["children"]),o=t;return a.getValue().some((function(e){return e.value===xc}))&&(o=[[t[0][0]],t[1]]),s.a.createElement(wl.f.ValueContainer,a,o)},Oc=function(e){var t="".concat(e.data.label);return e.data.value===xc&&(t="All is selected"),s.a.createElement(wl.f.MultiValue,e,s.a.createElement("span",null,t))},Lc=Object(Cl.a)(),Dc=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).onImageChange=function(e){if(console.log("event.target",e.target),console.log("event. workout",o.state.workout),e.target.files&&e.target.files[0]){o.props.imageCropOpenPopup(!0),o.setState({imageModel:!0});var t=URL.createObjectURL(e.target.files[0]),a=o.state.workout;o.setState({workout:Object(m.a)(Object(m.a)({},a),{},{postFile:e.target.files[0],videoImg:t})})}},o.handleChangeTextEdit=function(e){console.log("handleChangeTextEdit");var t=o.state.workout;o.setState({editorValue:e,workout:Object(m.a)(Object(m.a)({},t),{},{description:e.editor.getData()}),description:e.editor.getData()})},o.createOption=function(e){return{label:e,value:e.toLowerCase().replace(/\W/g,"")}},o.handleCreate=function(e,t){var a=o.state.optionSelected,s={type:t,tag:e},n=Object(is.a)(o);o.props.createNewTag(s).then((function(e){console.log("result",e);var t=e.data,o=t.type,s={label:t.tag,value:t.id,tagCount:0};switch(a[o].push(s),n.setState({optionSelected:a}),o){case"videotype":(r=n.state.videoTypeOptions).push(s),console.log("newOptions",r),n.setState({videoTypeOptions:r});break;case"discipline":(r=n.state.disciplineOptions).push(s),n.setState({disciplineOptions:r});break;case"benefit":(r=n.state.benefitOptions).push(s),n.setState({benefitOptions:r});break;case"equipment":var r;(r=n.state.equipmentOptions).push(s),n.setState({equipmentOptions:r})}})),o.setState({isLoading:!1,optionSelected:a})},o.onVideoChange=function(e){console.log("event.target",e.target.files),console.log("event. workout",o.state.workout),e.target.files&&e.target.files[0]&&(o.props.setFile(e.target.files[0]),o.setState({fileTypeErr:!1,postVideo:URL.createObjectURL(e.target.files[0]),postVideoFile:e.target.files[0],isUpload:!0,workout:Object(m.a)(Object(m.a)({},o.state.workout),{},{postVideoFile:e.target.files[0]}),isVideoChanged:!0}))},o.handleChangeDate=function(e){console.log("handleChangeDate"+e),o.setState({publishDate:e})},o.uploadFile=function(e,t,a){var s={Bucket:"devpactstercdn",ACL:"public-read",Key:"_/video/workouts/"+t,ContentType:e.type,Body:e,partSize:10485760,queueSize:1};console.log("uploadFile",s),o.myBucket.upload(s).on("httpUploadProgress",(function(e){o.setState({progress:Math.round(e.loaded/e.total*100)}),console.log("directprogressing==>",Math.round(e.loaded/e.total*100))})).send((function(e){e?(console.log("errr",e),a.s3Completed=!1,o.props.sendFileuploadNotification(a)):(a.s3Completed=!0,o.props.sendFileuploadNotification(a))}))},o.renderOption=function(e){return s.a.createElement("div",null,s.a.createElement("div",null,e.label,s.a.createElement("span",{style:{display:"block",color:"gray",fontSize:12}},e.subLabel)))},o.state={editorValue:Nl.a.createEmptyValue(),submitted:!1,loading:!1,isCropped:!1,fileTypeErr:!1,error:"",workout:[],isLive:1,workoutId:"",postFile:{},postImage:"",videoTypeOptions:[],disciplineOptions:[],conditionOptions:[],benefitOptions:[],equipmentOptions:[],levelOptions:[],instructorOptions:[],recordingofOptions:[],isTagCreatable:!0,optionSelected:{videotype:[],discipline:[],benefit:[],instructor:[],equipment:[],level:[],condition:[],instructorUser:[],recordingof:[]},videoUrlError:!1,videoTypeLiveclass:[],crop:{unit:"px",x:0,y:0,width:800,height:485,aspect:16/9,disabled:!0,locked:!0},percentCompleted:0,isS3UrlChanged:!1,isVideoChanged:!1,for_redirect_selectedCondition:"",openModel:!1,isDraft:!1,publishDate:""},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.handleChangeTextEdit=o.handleChangeTextEdit.bind(Object(is.a)(o)),o.handleMultiSelectChange=o.handleMultiSelectChange.bind(Object(is.a)(o)),o.handleInstructorChange=o.handleInstructorChange.bind(Object(is.a)(o)),o.handleCreate=o.handleCreate.bind(Object(is.a)(o)),o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.onSubmitWorkout=o.onSubmitWorkout.bind(Object(is.a)(o)),o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.clearState=o.clearState.bind(Object(is.a)(o)),o.onCloseModel=o.onCloseModel.bind(Object(is.a)(o)),o.makeSelectedOptions=o.makeSelectedOptions.bind(Object(is.a)(o)),o.removeTag=o.removeTag.bind(Object(is.a)(o)),o.getInstructor=o.getInstructor.bind(Object(is.a)(o)),o.removeVideoFromUpload=o.removeVideoFromUpload.bind(Object(is.a)(o)),o.closeConfirmationPopup=o.closeConfirmationPopup.bind(Object(is.a)(o)),o.uploadFile=o.uploadFile.bind(Object(is.a)(o)),wc.a.config.update({accessKeyId:"AKIAVD3L4PWQPCE5TE5F",secretAccessKey:"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",httpOptions:{timeout:0,connectTimeout:0}}),o.myBucket=new wc.a.S3({params:{Bucket:"devpactstercdn"},region:"eu-west-1"}),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("cmsdidmount",this.props),console.log("Cookies.get",Go.Cookies.get("condition"));var t=this.props.workout_details.workout;console.log("work-out",t),t.vlength=t.length,t.isLive=1,t.videoS3Url=b+t.videoUrl;var a=this.props.workout_details.workout?this.props.workout_details.workout.id:"",o=this.props.workout_details.workout?this.props.workout_details.workout.recordingOf:"",s=this.props.workout_details.workout?this.props.workout_details.workout.InstructorId:"";t.postVideoFile=this.props.workout_details.workout?this.props.workout_details.workout.videoUrl:"";var n=!this.props.logged_userData.isStudyLeader&&(this.props.logged_userData.isCreator||!this.props.is_group_admin&&!this.props.is_group_leader);t.publishDate=t.publishDate&&"0000-00-00"!=t.publishDate?bo()(bo()(t.publishDate).format("YYYY-MM-DD")).toDate():null,console.log("cmsdidmount-groups.publishDate-after",t.publishDate),this.setState({postVideo:f+t.postVideoFile,workout:t,workoutId:a,isTagCreatable:n,publishDate:t.publishDate});this.state.workout;setTimeout((function(){console.log("Latetime-desc"),e.setState({description:t.description})}),1e3),this.props.getTags("videoType",a).then((function(t){if(t){if(t.data.editTags.length>0){var a=t.data.editTags,o=e.state.optionSelected;a.forEach((function(t){var a=[];"Live Class Recording"==t.Tag.label&&(a.push(t.tag),e.setState({videoTypeLiveclass:a})),o.videotype.push(t.Tag)})),e.setState({optionSelected:o})}var s=t.data.tags.filter((function(e){return"Exercise"===e.label||"Education"===e.label}));e.setState({videoTypeOptions:s})}}),(function(e){})),this.props.getTags("discipline",a).then((function(t){if(t){if(t.data.editTags.length>0){var a=t.data.editTags,o=e.state.optionSelected;a.forEach((function(e){o.discipline.push(e.Tag)})),e.setState({optionSelected:o})}e.setState({disciplineOptions:t.data.tags})}}),(function(e){})),this.props.getTags("benefit",a).then((function(t){if(t){if(t.data.editTags.length>0){var a=t.data.editTags,o=e.state.optionSelected;a.forEach((function(e){o.benefit.push(e.Tag)})),e.setState({optionSelected:o})}e.setState({benefitOptions:t.data.tags})}}),(function(e){})),this.props.getTags("equipment",a).then((function(t){if(t){if(t.data.editTags.length>0){var a=t.data.editTags,o=e.state.optionSelected;a.forEach((function(e){o.equipment.push(e.Tag)})),e.setState({optionSelected:o})}e.setState({equipmentOptions:t.data.tags})}}),(function(e){})),this.props.getTags("level",a).then((function(t){if(t){if(t.data.editTags.length>0){var a=t.data.editTags,o=e.state.optionSelected;a.forEach((function(e){o.level.push(e.Tag)})),e.setState({optionSelected:o})}e.setState({levelOptions:t.data.tags})}}),(function(e){})),this.props.getTags("condition",a).then((function(t){if(t){if(t.data.editTags.length>0){var o=t.data.editTags,n=e.state.optionSelected;o.forEach((function(e){n.condition.push(e.Tag)})),e.setState({optionSelected:n})}if(!a){n=e.state.optionSelected;var r=Eo.a.filter(t.data.tags,(function(e){return e.label===_o.replaceChar(Go.Cookies.get("condition"),!0)}));n.condition=r,e.setState({optionSelected:n})}e.setState({conditionOptions:t.data.tags});var i=Eo.a.map(e.state.optionSelected.condition,"value");console.log("ids-condition",i),e.getInstructor(s,i)}}),(function(e){})),s&&this.props.getRecordingOf(s,o).then((function(t){if(t){if(t.data.recording){var a=t.data.recording,o=e.state.optionSelected;o.recordingof=a.length>0?a[0]:[],e.setState({optionSelected:o})}e.setState({recordingofOptions:t.data.workout})}}),(function(e){}))}},{key:"componentWillReceiveProps",value:function(e){console.log("CMS-componentWillReceiveProps",e);var t=this.state.workout;this.props.cropped_image!=e.cropped_image&&e.cropped_image?(console.log("if"),this.setState({isCropped:!0,workout:Object(m.a)(Object(m.a)({},t),{},{videoImg:e.cropped_image,postFile:e.cropped_file})})):e.cropped_image||this.setState({workout:Object(m.a)(Object(m.a)({},t),{},{videoImg:e.cropped_image,postFile:e.cropped_file})})}},{key:"getInstructor",value:function(e,t){var a=this;this.props.getInstructor(e,t,this.props.groupId,_o.replaceChar(Go.Cookies.get("condition"))).then((function(e){if(e){if(e.data.editTags){var t=e.data.editTags;(o=a.state.optionSelected).instructorUser.push(t),a.setState({optionSelected:o})}else{var o;(o=a.state.optionSelected).instructorUser=null,a.setState({optionSelected:o})}a.setState({instructorOptions:e.data.instructors})}}),(function(e){var t=a.state.optionSelected;t.instructorUser=null,a.setState({optionSelected:t,instructorOptions:[]})}))}},{key:"prePopulateData",value:function(e){var t=this,a=this.state,o=a.workout,s=a.disciplineOptions,n=a.benefitOptions,r=a.equipmentOptions,i=a.levelOptions,l=a.conditionOptions;this.setState({workout:Object(m.a)(Object(m.a)({},o),{},{vlength:e.length,description:e.description}),description:e.description,editorValue:Nl.a.createValueFromString(e.description,"html")}),setTimeout((function(){console.log("Latetime-desc"),t.setState({description:e.description})}),1e3);var c=_o.returnTag("discipline",e.WorkoutTags,e.id),d=_o.returnTag("benefit",e.WorkoutTags,e.id),p=_o.returnTag("equipment",e.WorkoutTags,e.id),u=_o.returnTag("level",e.WorkoutTags,e.id),h=_o.returnTag("condition",e.WorkoutTags,e.id);this.makeSelectedOptions(s,c,"discipline"),this.makeSelectedOptions(n,d,"benefit"),this.makeSelectedOptions(r,p,"equipment"),this.makeSelectedOptions(i,u,"level"),this.makeSelectedOptions(l,h,"condition")}},{key:"makeSelectedOptions",value:function(e,t,a){var o=t.split(","),s=this.state.optionSelected,n=[];o.forEach((function(t){var a=Eo.a.filter(e,(function(e){return console.log("condition.label",e.label),e.label.trim()===t.trim()}));n.push(a[0])})),s[a]=n,this.setState({optionSelected:s})}},{key:"removeTag",value:function(e,t){var a=this;console.log("removeTags",e),console.log("type",t);var o={type:t,tag:e};this.props.removeTag(o).then((function(o){if(o.status){var s=a.state.optionSelected,n=Eo.a.filter(s[t],(function(t){return t.value!=e}));s[t]=n,a.setState({optionSelected:s});var r=a;switch(t){case"condition":s=Eo.a.filter(r.state.conditionOptions,(function(t){return t.value!=e}));r.setState({conditionOptions:s});break;case"videotype":s=Eo.a.filter(r.state.videoTypeOptions,(function(t){return t.value!=e}));r.setState({videoTypeOptions:s});break;case"discipline":s=Eo.a.filter(r.state.disciplineOptions,(function(t){return t.value!=e}));r.setState({disciplineOptions:s});break;case"benefit":s=Eo.a.filter(r.state.benefitOptions,(function(t){return t.value!=e}));r.setState({benefitOptions:s});break;case"equipment":s=Eo.a.filter(r.state.equipmentOptions,(function(t){return t.value!=e}));r.setState({equipmentOptions:s})}}}),(function(e){}))}},{key:"onCloseModel",value:function(){}},{key:"handleChange",value:function(e){console.log("handleChange",e.target);var t=e.target,a=t.name,o=t.value,s=this.state.workout;"videoS3Url"==a&&this.setState({isS3UrlChanged:!0,isBothFileOptions:!1,videoUrlError:!1,videoUrlNotExistsError:!1}),this.setState({videoLengthError:!1,videoUrlError:!1,clockStartError:!1,clockEndError:!1,workout:Object(m.a)(Object(m.a)({},s),{},Object(rs.a)({},a,o))})}},{key:"handleMultiSelectChange",value:function(e,t){var a=this,o=this.state.optionSelected;o[t]=e,this.setState({optionSelected:o});var s=[];if("condition"==t){var n=Eo.a.map(this.state.optionSelected.condition,"value");console.log("ids-condition",n),this.getInstructor("",n)}if("discipline"==t){var r=Eo.a.filter(this.state.optionSelected.discipline,(function(e){return e.label.toLowerCase()=="Education".toLowerCase()})),i=Eo.a.filter(this.state.videoTypeOptions,(function(e){return e.label.toLowerCase()=="Education".toLowerCase()}));0==(l=Eo.a.filter(this.state.optionSelected.videotype,(function(e){return e.label.toLowerCase()=="Education".toLowerCase()}))).length&&r.length?(o.videotype=o.videotype?o.videotype:[],o.videotype.push(i[0])):l.length&&0==r.length&&o.videotype.splice(this.state.optionSelected.videotype.findIndex((function(e){return e.label.toLowerCase()=="Education".toLowerCase()})),1)}if("videotype"==t){s=Eo.a.filter(o[t],(function(e){return"Live Class Recording"==e.label})),this.setState({videoTypeLiveclass:s});var l;r=Eo.a.filter(this.state.optionSelected.videotype,(function(e){return e.label.toLowerCase()=="Education".toLowerCase()})),i=Eo.a.filter(this.state.disciplineOptions,(function(e){return e.label.toLowerCase()=="Education".toLowerCase()}));0==(l=Eo.a.filter(this.state.optionSelected.discipline,(function(e){return e.label.toLowerCase()=="Education".toLowerCase()}))).length&&r.length?(o.discipline=o.discipline?o.discipline:[],o.discipline.push(i[0])):l.length&&0==r.length&&o.discipline.splice(this.state.optionSelected.discipline.findIndex((function(e){return e.label.toLowerCase()=="Education".toLowerCase()})),1)}else"recordingof"==t&&this.props.getRecordingOfDetails(e.value).then((function(e){e&&a.prePopulateData(e.data)}),(function(e){}));this.setState({optionSelected:o})}},{key:"handleInstructorChange",value:function(e,t){var a=this,o=this.state.optionSelected;o[t]=e,this.setState({optionSelected:o}),null!=e&&(this.setState({recordingofOptions:[]}),this.props.getRecordingOf(e[0].value).then((function(e){e&&a.setState({recordingofOptions:e.data.workout})}),(function(e){})))}},{key:"handleCheckboxChange",value:function(e){console.log("evntcheck",e.target.name);var t=this.state.workout;switch(e.target.name){case"isDraft":var a=this.state.workout.isDraft;"edit"===this.props.cms_model_type&&this.state.workout.isDraft!==!a&&this.setState({isLive:!1}),this.setState({workout:Object(m.a)(Object(m.a)({},t),{},{isDraft:!a})});break;case"isFree":var o=this.state.workout.isFree;this.setState({workout:Object(m.a)(Object(m.a)({},t),{},{isFree:!o})});break;case"isLive":var s=this.state.workout.isLive;this.setState({workout:Object(m.a)(Object(m.a)({},t),{},{isLive:!s})})}}},{key:"clearState",value:function(){this.setState({submitted:!1,loading:!1})}},{key:"closeModel",value:function(){this.clearState(),this.props.ondemandCMSModelOpen(!1)}},{key:"closeConfirmationPopup",value:function(){this.props.ondemandCMSModelOpen(!1),this.setState({openModel:!1})}},{key:"removeVideoFromUpload",value:function(){this.setState({fileTypeErr:!1,postVideo:"",postVideoFile:"",isUpload:!0,workout:Object(m.a)(Object(m.a)({},this.state.workout),{},{postVideoFile:""}),isVideoChanged:!1,isBothFileOptions:!1,videoUrlError:!1,videoUrlNotExistsError:!1})}},{key:"_renderThumbnailContent",value:function(e,t){return console.log("videoObj",t),console.log("source_url",void 0!=t),s.a.createElement("div",{className:"position-relative col-md-12"},s.a.createElement($o.a,{url:e,controls:!1,width:"30%",height:"100%",style:{width:"100%",height:"100%"}}),void 0!=t&&"0"!=this.state.percentCompleted&&"100"!=this.state.percentCompleted&&s.a.createElement("div",{class:"line-bar",style:{position:"relative",top:"-74px",left:"0",width:"30%",paddingLeft:"7px",paddingRight:"7px"}},s.a.createElement("div",{class:"progress"},s.a.createElement("div",{class:"progress-bar",role:"progressbar","aria-valuenow":"70","aria-valuemin":"0","aria-valuemax":"100",style:{width:this.state.percentCompleted+"%"}},s.a.createElement("span",{class:"sr-only"},this.state.percentCompleted," Complete"))),s.a.createElement("div",{className:"thumbnail-overlay text-center font-16 white-txt"},this.state.percentCompleted,"% complete")))}},{key:"onSubmitWorkout",value:function(){var e=Object(nt.a)(st.a.mark((function e(){var t,a,o,s,n,r,i,l,c,m,d,p,u,g=this;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onSubmitWorkout",this.state),this.setState({submitted:!0}),t=this.state,a=t.optionSelected,o=t.workout,s=t.videoTypeLiveclass,n=t.postVideoFile,o.title&&o.vlength&&a.instructorUser&&a.videotype&&a.condition&&o.description){e.next=9;break}return r="",a.instructorUser?a.videotype.length?o.title?o.vlength?a.condition?o.description||document.getElementsByClassName("description")[0].focus():this.condition.focus():r="vlength":r="title":(console.log("Elseif-videotype"),this.videotype.focus()):this.instructorUser.focus(),console.log("error_name",r),r&&document.getElementsByName(r)[0].focus(),e.abrupt("return");case 9:if(console.log("2nd if"),!(s.length>0&&0==a.recordingof.length)){e.next=13;break}return a.recordingof.length||this.recordingof.focus(),e.abrupt("return");case 13:if(console.log("last before if"),!this.props.logged_userData.isCreator){e.next=44;break}if(console.log("Creator***",this.props.is_group_mode),console.log("Creator*="+n+"+"+o.videoS3Url),!(n&&o.videoS3Url&&this.state.isS3UrlChanged&&this.state.isVideoChanged)){e.next=23;break}return console.log("Creator***both"),this.setState({isBothFileOptions:!0,videoUrlNotExistsError:!1}),e.abrupt("return");case 23:if(""!=n&&n||!o.videoS3Url||this.props.is_group_mode){e.next=39;break}if(i=_o.replaceValidBucketURL(this.state.workout.videoS3Url,!0),console.log("Creator***filename"),!_o.checkValidVideoURL(o.videoS3Url)||!this.state.isS3UrlChanged){e.next=32;break}return console.log("Creator***notvalidurl"),this.setState({isBothFileOptions:!1,videoUrlError:_o.checkValidVideoURL(o.videoS3Url),videoUrlNotExistsError:!1}),e.abrupt("return");case 32:return console.log("checkvideourlexist"),e.next=35,this.props.checkVideoUrlExists(i).then((function(e){console.log("checkVideoUrlExists-response",e),g.setState({isBothFileOptions:!1,videoUrlError:!1,videoUrlNotExistsError:!e.data})}),(function(e){g.setState({isBothFileOptions:!1,videoUrlError:!1,videoUrlNotExistsError:!0})}));case 35:if(!this.state.videoUrlNotExistsError){e.next=37;break}return e.abrupt("return");case 37:e.next=42;break;case 39:if(n||this.state.workout.videoS3Url){e.next=42;break}return console.log("Creator***no url"),e.abrupt("return");case 42:e.next=46;break;case 44:if(n||this.state.workout.postVideoFile){e.next=46;break}return e.abrupt("return");case 46:if(console.log("last if"),!o.vlength||null!=String(o.vlength).match(/^[0-9\b]+$/)||this.props.is_group_mode){e.next=51;break}return this.setState({videoLengthError:!0}),document.getElementsByName("vlength")[0].focus(),e.abrupt("return");case 51:this.setState({loading:!0}),console.log("this.state.workout==",this.state),i=_o.replaceValidBucketURL(this.state.workout.videoS3Url,!0),this.state.isVideoChanged?(i=(Math.random().toString(36)+"00000000000000000").slice(2,10)+Date.now()+"."+this.props.fileData.name.split(".").pop(),console.log("ifffilename",i)):(i=this.state.workout.videoS3Url?this.state.workout.videoS3Url?_o.replaceValidBucketURL(this.state.workout.videoS3Url,!0):"":this.state.workout.videoUrl?this.state.workout.videoUrl.replace("/_/video/workouts/",""):"",console.log("elsefilename",i)),console.log("filename",i),l=null,o.isDraft&&this.state.publishDate&&(l=bo()(this.state.publishDate).format("YYYY-MM-DD")),(c=new FormData).append("title",this.state.workout.title),c.append("videoUrl",i),c.append("length",this.state.workout.vlength),c.append("videotype",JSON.stringify(this.state.optionSelected.videotype)),c.append("discipline",JSON.stringify(this.state.optionSelected.discipline)),c.append("condition",JSON.stringify(this.state.optionSelected.condition)),c.append("instructorId",JSON.stringify(this.state.optionSelected.instructorUser[0].value)),c.append("benefit",JSON.stringify(this.state.optionSelected.benefit)),c.append("instructor",JSON.stringify(this.state.optionSelected.instructor)),c.append("equipment",JSON.stringify(this.state.optionSelected.equipment)),c.append("level",JSON.stringify(this.state.optionSelected.level)),c.append("recordingof",JSON.stringify(this.state.optionSelected.recordingof.value)),c.append("description",this.state.workout.description.toString("html").replace(/<a /g,'<a target="_blank" ')),c.append("isLive",this.state.workout.isLive),c.append("isDraft",this.state.workout.isDraft),c.append("videoImg",this.state.workout.postFile),c.append("isFileUpload",this.state.isVideoChanged?0:1),c.append("videoFilename",i||""),c.append("publishDate",l),c.append("isFree",this.state.workout.isFree),c.append("sclock",this.state.workout.clockStart?this.state.workout.clockStart:0),c.append("eclock",this.state.workout.clockEnd?this.state.workout.clockEnd:0),this.props.groupId&&c.append("communityId",this.props.groupId),console.log("postData",c),this.state.workoutId?(c.append("workoutId",this.state.workoutId),m=h+"/api/ondemand/update"):m=h+"/api/ondemand/create",d=localStorage.getItem("userAuthToken")?JSON.parse(localStorage.getItem("userAuthToken")):JSON.parse(localStorage.getItem("user")),p=this,u={headers:{"Access-Control-Allow-Origin":"*","content-type":"multipart/form-data",Authorization:d.token},onUploadProgress:function(e){console.log("progressEvent",e);var t=Object(el.a)(100*e.loaded/e.total);p.setState({percentCompleted:t}),console.log("percentCompleted",t)}},Ki.a.post(m,c,u).then((function(e){var t=e.data,a=_o.replaceChar(g.state.optionSelected.condition[0].label,!1);if(Go.Cookies.set("condition",a),t.status)if(g.state.isVideoChanged){var o={workoutId:e.data.workout.id,conditionName:a};g.uploadFile(g.props.fileData,i,o),g.setState({openModel:!0})}else at.b.success(e.data.message),g.closeModel();else at.b.error(e.data.message);g.props.clearOndemandList(),g.props.getList(),g.setState({for_redirect_selectedCondition:a})}),(function(e){g.setState({error:e,loading:!1})}));case 88:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.submitted,o=t.loading,n=function(e){var t=e.value,a=e.onClick;return console.log("value==>",t),t=t?bo()(t).format("dddd D MMMM"):null,console.log("ExampleCustomInput",t),s.a.createElement("div",{className:"w-100"},s.a.createElement("input",{className:"form-control popup-txt float-left w-90",value:t,type:"text",name:"publishDate",onClick:a}),s.a.createElement("span",{className:"float-right pt-2"},s.a.createElement("i",{onClick:a,"aria-hidden":"true",className:"fa fa-calendar"})))};return s.a.createElement(s.a.Fragment,null,this.state.imageModel&&s.a.createElement(Il,{crop:this.state.crop,aspectRatio:160/97,width:800,height:485,src:this.state.workout.videoImg,text:"Upload Class Thumbnail"}),s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_cms_model,onClose:this.onCloseModel,center:!0},s.a.createElement("div",{className:("false"!=Go.Cookies.get("closeBanner")||this.props.close_banner,"modal-dialog modal-width--custom cms-model m-t-80"),role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling"},s.a.createElement("h5",{className:"modal-title text-left col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"},"edit"==this.props.cms_model_type?"Modify ":"Add"," On Demand Class"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},s.a.createElement("div",{className:"avatar-upload col-md-12 clearfix p-0 m-t-20 m-b-20"},s.a.createElement("div",{className:"ondemand-preview"},!this.state.workout.videoImg&&s.a.createElement("img",{className:"img-fluid",src:D+"ondemand-placeholder.png"}),!this.state.isCropped&&this.state.workout.videoImg&&s.a.createElement("img",{className:"img-fluid",src:x+this.state.workout.videoImg,onError:function(e){return _o.checkImageCrop(e,"ondemand-placeholder.png")}}),this.state.isCropped&&this.state.workout.videoImg&&s.a.createElement("img",{className:"img-fluid",src:this.state.workout.videoImg,onError:function(e){return _o.checkImageCrop(e,"ondemand-placeholder.png")}})),s.a.createElement("a",{className:"font-book font-16 upload-btn color-blue",href:"javascript:void(0)",onClick:function(){document.getElementById("post_image").click()}},s.a.createElement("u",null,"Upload Class Thumbnail"),s.a.createElement("input",{type:"file",onChange:this.onImageChange,onClick:function(e){e.target.value=null},className:"filetype",style:{display:"none"},accept:"image/x-png,image/jpg,image/jpeg",id:"post_image"}))),s.a.createElement("div",{className:"form-group"+(a&&this.state.optionSelected.instructorUser&&0==this.state.optionSelected.instructorUser.length?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Instructor ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement(_l,{isMulti:!0,className:"select-container text-capitalize",options:null==this.state.optionSelected.instructorUser?this.state.instructorOptions:this.state.optionSelected.instructorUser&&1===this.state.optionSelected.instructorUser.length?[]:this.state.instructorOptions,noOptionsMessage:function(){return null!=e.state.optionSelected.instructorUser&&(e.state.optionSelected.instructorUser&&1===e.state.optionSelected.instructorUser.length?"You've reached the max number of options.":"No options available")},placeholder:"Select Instructor",closeMenuOnSelect:!0,hideSelectedOptions:!1,components:{Option:Cc,MultiValue:Oc,ValueContainer:Sc,animatedComponents:Lc},onChange:this.handleInstructorChange,allowSelectAll:!1,creatable:!1,value:this.state.optionSelected.instructorUser,name:"instructorUser",innerRef:function(t){return e.instructorUser=t}}),a&&(!this.state.optionSelected.instructorUser||0==this.state.optionSelected.instructorUser.length)&&s.a.createElement("div",{className:"text-danger"},"Instructor is required")),s.a.createElement("div",{className:"form-group"+(a&&this.state.optionSelected.videotype&&0==this.state.optionSelected.videotype.length?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Class Type ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement(_l,{className:"select-container text-capitalize",options:null==this.state.optionSelected.videotype?this.state.videoTypeOptions:this.state.optionSelected.videotype&&1===this.state.optionSelected.videotype.length?[]:this.state.videoTypeOptions,noOptionsMessage:function(){return null!=e.state.optionSelected.videotype&&(e.state.optionSelected.videotype&&1===e.state.optionSelected.videotype.length?"You've reached the max number of options.":"No options available")},isMulti:!0,placeholder:"Select Class Type",closeMenuOnSelect:!0,hideSelectedOptions:!1,components:{Option:Cc,MultiValue:Oc,ValueContainer:Sc,animatedComponents:Lc},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"videotype")},allowSelectAll:!1,creatable:!1,value:this.state.optionSelected.videotype,name:"videotype",removeTag:this.removeTag,isRemoveable:!1,innerRef:function(t){return e.videotype=t}}),a&&this.state.optionSelected.videotype&&0==this.state.optionSelected.videotype.length&&s.a.createElement("div",{className:"text-danger"},"Video Type is required")),this.state.videoTypeLiveclass.length>0&&s.a.createElement("div",{className:"form-group"+(a&&this.state.optionSelected.recordingof&&0==this.state.optionSelected.recordingof.length?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Recording Of ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement(_l,{className:"select-container text-capitalize",options:this.state.recordingofOptions,placeholder:"Select Recording Of",closeMenuOnSelect:!1,hideSelectedOptions:!1,components:{Option:Cc,MultiValue:Oc,ValueContainer:Sc,animatedComponents:Lc},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"recordingof")},allowSelectAll:!1,creatable:!1,value:this.state.optionSelected.recordingof,name:"recordingof",innerRef:function(t){return e.recordingof=t}}),a&&this.state.optionSelected.recordingof&&0==this.state.optionSelected.recordingof.length&&s.a.createElement("div",{className:"text-danger"},"Recording of is required")),s.a.createElement("div",{className:"form-group"+(a&&!this.state.workout.title?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Video Title ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement("input",{type:"text",className:"form-control",id:"title","aria-describedby":"emailHelp",placeholder:"",name:"title",value:this.state.workout.title,onChange:this.handleChange,maxLength:255}),this.state.workout.title?s.a.createElement("div",{className:"pull-right font-13 twitter-color mt-1"},"Characters Left: ",255-this.state.workout.title.length):null,a&&!this.state.workout.title&&s.a.createElement("div",{className:"text-danger"},"Title is required")),s.a.createElement("div",{className:"row col-md-12 p-0"},s.a.createElement("div",{className:"form-group col-md-4"+(a&&(!this.state.workout.vlength||this.state.workout.vlength&&this.state.videoLengthError)?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Video Length (minutes) ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement("input",{type:"text",className:"form-control",id:"vlength","aria-describedby":"emailHelp",placeholder:"",name:"vlength",value:this.state.workout.vlength,onChange:this.handleChange}),a&&!this.state.workout.vlength&&s.a.createElement("div",{className:"text-danger"},"Video Length is required"),a&&this.state.workout.vlength&&this.state.videoLengthError&&s.a.createElement("div",{className:"text-danger"},"Video Length should be number")),s.a.createElement("div",{className:"form-group col-md-2"},s.a.createElement("label",{class:"m-t-5 pull-left",for:"isDraft"},s.a.createElement("input",{type:"checkbox",name:"isDraft",id:"isDraft",value:this.state.workout.isDraft,onChange:function(t){e.handleCheckboxChange(t)},checked:this.state.workout.isDraft})),s.a.createElement("label",{class:"font-semibold black-txt m-l-5"}," Draft")),this.state.workout.isDraft&&s.a.createElement("div",{className:"form-group col-md-4"},s.a.createElement("label",{className:"font-semibold black-txt"},"Publish date "),s.a.createElement(Pl.a,{selected:this.state.publishDate,onChange:this.handleChangeDate,minDate:new Date,customInput:s.a.createElement(n,null)})),s.a.createElement("div",{className:"form-group col-md-2"},s.a.createElement("label",{class:"m-t-5 pull-left",for:"isFree"},s.a.createElement("input",{type:"checkbox",name:"isFree",id:"isFree",value:this.state.workout.isFree,onChange:function(t){e.handleCheckboxChange(t)},checked:this.state.workout.isFree})),s.a.createElement("label",{class:"font-semibold black-txt m-l-5"}," Free"))),s.a.createElement("div",{className:" col-md-12 p-0 row"},s.a.createElement("div",{className:"form-group col-md-4"+(a&&(!this.state.workout.clockStart||this.state.workout.clockStart&&this.state.clockStartError)?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Clock Start Time"),s.a.createElement("input",{type:"time",step:"1",className:"form-control",id:"clockStart","aria-describedby":"emailHelp",name:"clockStart",min:"0",value:this.state.workout.clockStart,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group col-md-4"+(a&&(!this.state.workout.clockEnd||this.state.workout.clockEnd&&this.state.clockEndError)?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Clock End Time"),s.a.createElement("input",{type:"time",step:"1",className:"form-control",id:"clockEnd","aria-describedby":"emailHelp",name:"clockEnd",min:"0",value:this.state.workout.clockEnd,onChange:this.handleChange}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Discipline"),s.a.createElement(_l,{className:"select-container text-capitalize",options:this.state.disciplineOptions,isMulti:!0,placeholder:"Select Discipline",closeMenuOnSelect:!1,hideSelectedOptions:!1,components:{Option:Cc,MultiValue:Oc,ValueContainer:Sc,animatedComponents:Lc},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"discipline")},allowSelectAll:!1,creatable:this.state.isTagCreatable,value:this.state.optionSelected.discipline,name:"discipline",removeTag:this.removeTag,isRemoveable:this.state.isTagCreatable,innerRef:function(t){return e.input=t}})),this.props.is_auth&&!this.props.is_group_mode&&!this.props.logged_userData.isStudyLeader&&s.a.createElement("div",{className:"form-group"+(a&&this.state.optionSelected.condition&&0==this.state.optionSelected.condition.length?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Condition(s) ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement(_l,{className:"select-container text-capitalize",options:this.state.conditionOptions,isMulti:!0,placeholder:"Select Condition",closeMenuOnSelect:!1,hideSelectedOptions:!1,components:{Option:Cc,MultiValue:Oc,ValueContainer:Sc,animatedComponents:Lc},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"condition")},allowSelectAll:!0,creatable:!1,value:this.state.optionSelected.condition,name:"condition",removeTag:this.removeTag,isRemoveable:!0,innerRef:function(t){return e.condition=t}}),a&&this.state.optionSelected.condition&&0==this.state.optionSelected.condition.length&&s.a.createElement("div",{className:"text-danger"},"Condition is required")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Benefits"),s.a.createElement(_l,{className:"select-container text-capitalize",options:this.state.benefitOptions,isMulti:!0,placeholder:"Select Benefits",closeMenuOnSelect:!1,hideSelectedOptions:!1,components:{Option:Cc,MultiValue:Oc,ValueContainer:Sc,animatedComponents:Lc},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"benefit")},allowSelectAll:!1,creatable:this.state.isTagCreatable,value:this.state.optionSelected.benefit,name:"benefit",removeTag:this.removeTag,isRemoveable:this.state.isTagCreatable,innerRef:function(t){return e.input=t}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Equipment"),s.a.createElement(_l,{className:"select-container text-capitalize",options:this.state.equipmentOptions,isMulti:!0,placeholder:"Select Equipment",closeMenuOnSelect:!1,hideSelectedOptions:!1,components:{Option:Cc,MultiValue:Oc,ValueContainer:Sc,animatedComponents:Lc},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"equipment")},allowSelectAll:!1,creatable:this.state.isTagCreatable,value:this.state.optionSelected.equipment,name:"equipment",removeTag:this.removeTag,isRemoveable:this.state.isTagCreatable,innerRef:function(t){return e.input=t}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Level"),s.a.createElement(_l,{isMulti:!0,className:"select-container text-capitalize",options:this.state.levelOptions,placeholder:"Select Level",closeMenuOnSelect:!1,hideSelectedOptions:!1,components:{Option:Cc,MultiValue:Oc,ValueContainer:Sc,animatedComponents:Lc},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"level")},allowSelectAll:!1,creatable:!1,value:this.state.optionSelected.level,name:"level",removeTag:this.removeTag,isRemoveable:this.state.isTagCreatable,innerRef:function(t){return e.input=t}})),s.a.createElement("div",{className:"form-group"+(a&&!this.state.workout.description?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt description"},"Description ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement(Rl.a,{data:this.state.description,config:{toolbar:[["Bold","Italic"],["NumberedList","BulletedList"],["Link","Unlink"],["Image","Table"]],height:"300px",resize_enabled:!1,font_defaultLabel:"Qregular",fontSize_defaultLabel:"28px",contentsCss:"../../../ckeditor.css",stylesSet:[{element:"p",styles:{"font-family":"#(Qregular)"},overrides:[{element:"font",attributes:{face:null}}]}],font_style:[{element:"p",styles:{"font-family":"#(Qregular)"},overrides:[{element:"font",attributes:{face:null}}]}],font_names:"Qregular"},onChange:function(t){e.handleChangeTextEdit(t)},onBeforeLoad:function(e){return e.on("dialogDefinition",(function(e){"link"==e.data.name&&(e.data.definition.getContents("target").get("linkTargetType").default="_blank",e.data.definition.getContents("info").get("protocol").default="https://")}))},ref:function(t){return e.description=t}}),a&&!this.state.workout.description&&s.a.createElement("div",{className:"text-danger"},"Description is required")),this.props.is_auth&&this.props.logged_userData.isCreator&&s.a.createElement("div",{className:"form-group"+(a&&(!this.state.workout.videoS3Url||this.state.workout.videoS3Url&&(this.state.videoUrlError||this.state.videoUrlNotExistsError))?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Video URL"),s.a.createElement("input",{type:"text",className:"form-control",id:"videoS3Url","aria-describedby":"emailHelp",placeholder:"",name:"videoS3Url",defaultValue:this.state.workout.videoS3Url||"",onChange:this.handleChange}),a&&!this.state.postVideoFile&&!this.state.workout.videoS3Url&&s.a.createElement("div",{className:"text-danger"},"Video URL is required"),a&&!this.state.postVideoFile&&this.state.workout.videoS3Url&&this.state.videoUrlError&&s.a.createElement("div",{className:"text-danger"},"That's not a valid URL. Please try again."),a&&this.state.videoUrlNotExistsError&&s.a.createElement("div",{className:"text-danger"},"That filename does not exist on S3. Please try again.")),a&&this.state.isBothFileOptions&&this.state.isS3UrlChanged&&this.state.isVideoChanged&&s.a.createElement("div",{className:"text-danger"},"Both S3 and file upload cannot be used at the same time. Please remove one before saving."),s.a.createElement("div",{className:"form-group row col-md-12 "+(a&&(!this.state.workout.postFile||this.state.workout.videoUrl&&this.state.workout.postErr)?" has-error":"")},s.a.createElement("div",{class:"button-wrapper pull-left"},s.a.createElement("span",{class:"label text-width"},"Upload video"),s.a.createElement("input",{type:"file",name:"upload",id:"upload",onChange:this.onVideoChange,class:"upload-box",placeholder:"Upload File",accept:"video/*",disabled:o})),this.state.isBothFileOptions&&this.state.isS3UrlChanged&&this.state.isVideoChanged&&s.a.createElement("span",{className:"text-danger label align-self-center p-t-10 pull-left pointer col-2 text-right",onClick:this.removeVideoFromUpload},"Remove"),this.state.postVideo&&this._renderThumbnailContent(this.state.postVideo,this.state.postVideoFile),this.state.postErr&&!this.state.workout.postVideoFile&&s.a.createElement("div",{className:"text-danger"},"Please upload Video"),this.state.fileTypeErr&&s.a.createElement("div",{className:"text-danger"},"Please select video File"),a&&(this.props.logged_userData.isCreator&&!this.state.workout.videoS3Url&&!this.state.workout.postVideoFile||!this.props.logged_userData.isCreator&&!this.state.postVideoFile&&!this.state.workout.postVideoFile)&&s.a.createElement("div",{className:"text-danger"},"Video is required")),a&&void 0!=this.state.postVideoFile&&"100"!=this.state.percentCompleted&&"0"!=this.state.percentCompleted&&s.a.createElement("div",{className:"text-danger"},"Please don\u2019t close this window until uploading has completed."),s.a.createElement("div",{className:"col-md-12 text-center p-0 m-b-15"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"offset-4 col-md-4"},s.a.createElement("button",{disabled:o,onClick:this.onSubmitWorkout,className:" btn btn-block mybtn btn-login tx-tfm font-book font-14 post-progress-bar"},"Save Changes ")))))))),s.a.createElement(kc,{is_model_open:this.state.openModel,closeConfirmationPopup:this.closeConfirmationPopup}))}}]),a}(s.a.Component),Mc={getTags:da,getRecordingOf:ua,getRecordingOfDetails:function(e){return function(t,a){var o=tt();return fetch(h+"/api/ondemand/getRecordingOfDetails?workoutId="+e,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},getInstructor:pa,ondemandCMSModelOpen:ha,createNewTag:ga,removeTag:fa,clearOndemandList:Zt,imageCropOpenPopup:ba,setFile:function(e){return function(t,a){t({type:"set_file_data",payload:e})}},checkVideoUrlExists:function(e){return function(t,a){var o=tt();return fetch(h+"/api/ondemand/checkS3FileExist/"+e,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},sendFileuploadNotification:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/ondemand/asyncFileUpload",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}},Ic=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,is_model_open:e.header.is_loginModelOpen,init_condition:e.auth.initial_condition,all_condition:e.register.healthcondition_list,is_cms_model:e.workout.is_cms_model,cms_model_type:e.workout.cms_model_type,workout_details:e.workout.workout_detail_data,cropped_image:e.workout.cropped_image,cropped_file:e.workout.cropped_file,is_group_mode:e.header.is_group_mode,logged_userData:e.header.logged_userData,fileData:e.workout.fileData,is_group_admin:e.group.is_group_admin,is_group_leader:e.group.is_group_leader}}),Mc)(Dc),jc=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).stringtoRange=function(e){var t={min:0,max:0};if(e){var a=e.split(",");t={min:parseInt(a[0]),max:parseInt(a[1])}}return t},o.renderMobileView=function(){return s.a.createElement("div",{className:"w-100 filter-sm-value "+(!0===o.props.is_filter_clicked?"filter-clicked":" "),id:"accordion"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-1"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{role:"button","data-toggle":"collapse",href:"#collapse-1","aria-expanded":"false","aria-controls":"collapse-1",className:"collapsed"},"Class Length",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-1",className:"collapse","data-parent":"#accordion","aria-labelledby":"heading-1"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{id:"accordion-1"},s.a.createElement("div",{className:"p-t-20 p-b-20 p-l-20 p-r-20"},s.a.createElement(Mr.a,{maxValue:60,minValue:0,value:o.stringtoRange(o.props.rangeSelectedValue),onChangeComplete:function(e){return o.props.rangeChangeFunction(e)},onChange:function(e){return o.props.handleChangeRangeSelector(e)}})))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-7"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-7","aria-expanded":"false","aria-controls":"collapse-7"},"Video Type",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-7",className:"collapse","data-parent":"#accordion","aria-labelledby":"heading-7"},s.a.createElement("div",{className:"card-body"},o.props.available_filter&&o.props.available_filter.videoType&&o.props.available_filter.videoType.map((function(e,t){return s.a.createElement("span",{key:"videoType_"+t,className:"font-medium black-txt extra-small-txt pointer clearfix capitalize_text",onClick:function(){return o.props.filterFunction("videoType",e)}},s.a.createElement("p",{className:o.props.selected_filter.videoType&&o.props.selected_filter.videoType.includes(e)?"orangefont":""},e))}))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-2"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-2","aria-expanded":"false","aria-controls":"collapse-2"},"Level",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-2",className:"collapse","data-parent":"#accordion","aria-labelledby":"heading-2"},s.a.createElement("div",{className:"card-body"},o.props.available_filter&&o.props.available_filter.level&&o.props.available_filter.level.map((function(e,t){return s.a.createElement("span",{key:"level_"+t,className:"font-medium black-txt extra-small-txt pointer clearfix capitalize_text",onClick:function(){return o.props.filterFunction("level",e)}},s.a.createElement("p",{className:o.props.selected_filter.level&&o.props.selected_filter.level.includes(e)?"orangefont":""},e))}))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-3"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-3","aria-expanded":"false","aria-controls":"collapse-3"},"Benefit",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-3",className:"collapse","data-parent":"#accordion","aria-labelledby":"heading-3"},s.a.createElement("div",{className:"card-body"},o.props.available_filter&&o.props.available_filter.benefit&&o.props.available_filter.benefit.map((function(e,t){return s.a.createElement("span",{key:"benefit_"+t,className:"font-medium black-txt extra-small-txt pointer clearfix capitalize_text",onClick:function(){return o.props.filterFunction("benefit",e)}},s.a.createElement("p",{className:o.props.selected_filter.benefit&&o.props.selected_filter.benefit.includes(e)?"orangefont":""},e))}))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-4"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-4","aria-expanded":"false","aria-controls":"collapse-4"},"Discipline",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-4",className:"collapse","data-parent":"#accordion","aria-labelledby":"heading-4"},s.a.createElement("div",{className:"card-body"},o.props.available_filter&&o.props.available_filter.discipline&&o.props.available_filter.discipline.map((function(e,t){return s.a.createElement("span",{key:"discipline_"+t,className:"font-medium black-txt extra-small-txt pointer clearfix capitalize_text",onClick:function(){return o.props.filterFunction("discipline",e)}},s.a.createElement("p",{className:o.props.selected_filter.discipline&&o.props.selected_filter.discipline.includes(e)?"orangefont":""},e))}))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-5"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-5","aria-expanded":"false","aria-controls":"collapse-5"},"Equipment",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-5",className:"collapse","data-parent":"#accordion","aria-labelledby":"heading-5"},s.a.createElement("div",{className:"card-body"},o.props.available_filter&&o.props.available_filter.equipment&&o.props.available_filter.equipment.map((function(e,t){return s.a.createElement("span",{key:"equipment_"+t,className:"font-medium black-txt extra-small-txt pointer clearfix capitalize_text",onClick:function(){return o.props.filterFunction("equipment",e)}},s.a.createElement("p",{className:o.props.selected_filter.equipment&&o.props.selected_filter.equipment.includes(e)?"orangefont":""},e))}))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-6"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-6","aria-expanded":"false","aria-controls":"collapse-6"},"Instructor",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-6",className:"collapse","data-parent":"#accordion","aria-labelledby":"heading-6"},s.a.createElement("div",{className:"card-body"},o.props.available_filter&&o.props.available_filter.instructor&&o.props.available_filter.instructor.map((function(e,t){return s.a.createElement("span",{key:"instructor_"+t,className:"font-medium black-txt extra-small-txt pointer clearfix capitalize_text",onClick:function(){return o.props.filterFunction("instructor",e)}},s.a.createElement("p",{className:o.props.selected_filter.instructor&&o.props.selected_filter.instructor.includes(e)?"orangefont":""},e))}))))))},o.renderWebView=function(){return s.a.createElement("div",{className:"col-md-12 filter_grid m-t-50 "},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-7"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-3 p-l-0 m-b-10"},s.a.createElement("div",{className:"filter_head  black-txt small-txt"}," "," Class Length"),s.a.createElement(Mr.a,{maxValue:60,minValue:0,value:o.stringtoRange(o.props.rangeSelectedValue),onChangeComplete:function(e){return o.props.rangeChangeFunction(e)},onChange:function(e){return o.props.handleChangeRangeSelector(e)}})),s.a.createElement("div",{className:"col-md-3 p-l-0 m-b-10"},s.a.createElement("div",{className:"filter_head  black-txt small-txt"}," ","Class type"),o.props.available_filter.videoType&&o.props.available_filter.videoType.map((function(e,t){return s.a.createElement("span",{key:"videotype_"+t,className:"font-medium black-txt extra-small-txt pointer clearfix capitalize_text",onClick:function(){return o.props.filterFunction("videoType",e)}},s.a.createElement("p",{className:o.props.selected_filter.videoType&&o.props.selected_filter.videoType.includes(e)?"orangefont":""},e))}))),s.a.createElement("div",{className:"col-md-3 p-l-0 m-b-10"},s.a.createElement("div",{className:"filter_head  black-txt small-txt"},"Level"),o.props.available_filter.level&&o.props.available_filter.level.map((function(e,t){return s.a.createElement("span",{key:"level_"+t,className:"font-medium black-txt extra-small-txt pointer clearfix capitalize_text",onClick:function(){return o.props.filterFunction("level",e)}},s.a.createElement("p",{className:o.props.selected_filter.level&&o.props.selected_filter.level.includes(e)?"orangefont":""},e))}))),s.a.createElement("div",{className:"col-md-3 p-l-0 m-b-10"},s.a.createElement("div",{className:"filter_head font-medium black-txt small-txt"},"Benefit"," "),o.props.available_filter.benefit&&o.props.available_filter.benefit.map((function(e,t){return s.a.createElement("span",{key:"benifit_"+t,className:"font-medium black-txt extra-small-txt pointer clearfix capitalize_text",onClick:function(){return o.props.filterFunction("benefit",e)}},s.a.createElement("p",{className:o.props.selected_filter.benefit&&o.props.selected_filter.benefit.includes(e)?"orangefont":""},e))}))))),s.a.createElement("div",{className:"col-md-5 "},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4 p-l-0 m-b-10"},s.a.createElement("div",{className:"filter_head font-medium black-txt small-txt"},"Discipline"),o.props.available_filter.discipline&&o.props.available_filter.discipline.map((function(e,t){return s.a.createElement("span",{key:"discipline_"+t,className:"font-medium black-txt extra-small-txt pointer clearfix capitalize_text",onClick:function(){return o.props.filterFunction("discipline",e)}},s.a.createElement("p",{className:o.props.selected_filter.discipline&&o.props.selected_filter.discipline.includes(e)?"orangefont":""},e))}))),s.a.createElement("div",{className:"col-md-4 p-l-0 m-b-10"},s.a.createElement("div",{className:"filter_head font-medium black-txt small-txt"},"Equipment"),o.props.available_filter.equipment&&o.props.available_filter.equipment.map((function(e,t){return s.a.createElement("span",{key:"equipment_"+t,className:"font-medium black-txt extra-small-txt pointer clearfix capitalize_text",onClick:function(){return o.props.filterFunction("equipment",e)}},s.a.createElement("p",{className:o.props.selected_filter.equipment&&o.props.selected_filter.equipment.includes(e)?"orangefont":""},e))}))),s.a.createElement("div",{className:"col-md-4 p-l-0 m-b-10"},s.a.createElement("div",{className:"filter_head font-medium black-txt small-txt"},"Instructor"),o.props.available_filter.instructor&&o.props.available_filter.instructor.map((function(e,t){return s.a.createElement("span",{key:"instructor_"+t,className:"font-medium black-txt extra-small-txt pointer clearfix capitalize_text",onClick:function(){return o.props.filterFunction("instructor",e)}},s.a.createElement("p",{className:o.props.selected_filter.instructor&&o.props.selected_filter.instructor.includes(e)?"orangefont":""},e))})))))))},o}return Object(Wo.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.available_filter&&this.renderMobileView(),this.props.available_filter&&this.props.is_filter_open&&this.renderWebView())}}]),a}(s.a.Component),Tc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData}}),{})(jc),Fc=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){return Object(Ro.a)(this,a),t.call(this,e)}return Object(Wo.a)(a,[{key:"render",value:function(){var e=this,t=(Go.Cookies.get("condition"),this.props.page&&"program"==this.props.page?Ee:z);return s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{type:"button",className:"btn btn-link ash-txt sort-btn font-medium font-14 dropdown-toggle","data-toggle":"dropdown"},"Sort by"," ",": ",this.props.sort_filter,s.a.createElement("i",{className:"fa fa-angle-down p-l-5","aria-hidden":"true"})),s.a.createElement("div",{className:"dropdown-menu"},t.map((function(t,a){return s.a.createElement("span",{key:a,className:"dropdown-item pointer",onClick:function(){return e.props.sortByFunction(t)}},s.a.createElement("p",{className:e.props.sort_filter===t?"orangefont":""},t))}))))}}]),a}(s.a.Component),Pc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData}}),{})(Fc),Uc=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){return Object(Ro.a)(this,a),t.call(this,e)}return Object(Wo.a)(a,[{key:"render",value:function(){Go.Cookies.get("condition");return this.props.isMobileView?s.a.createElement("div",{className:"input-group search-sm-btn col-sm-12 col-12 m-t-10 p-0"},s.a.createElement("input",{className:"form-control  py-2 border-right-0 font-qregular font-14 border",type:"search",name:"search_data",value:this.props.search_data,onKeyUp:this.props.searchBarEnter,onChange:this.props.handleChange,placeholder:"What exercise are you looking for?"}),s.a.createElement("span",{className:"input-group-append"},s.a.createElement("button",{disabled:this.props.loader,className:"btn btn-outline-secondary border-left-0 border",type:"button",onClick:this.props.searchFucntion},s.a.createElement("i",{className:"fa fa-search"})))):s.a.createElement("div",{className:"input-group mx-auto w-75 search-btn"},s.a.createElement("input",{type:"text",className:"form-control font-14 font-qregular",name:"search_data",value:this.props.search_data,onKeyUp:this.props.searchBarEnter,onChange:this.props.handleChange,placeholder:"What exercise are you looking for?"}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{disabled:this.props.loader,className:"btn btn-secondary font-14 font-medium",type:"button",onClick:this.props.searchFucntion},"Search")))}}]),a}(s.a.Component),Rc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData}}),{})(Uc),Wc=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).sortByFunction=function(e){o.props.clearGroupOndemandList(),o.setState({workoutList:[],all_levels:[],all_tags:[],sort_filter:e,offset:0},(function(){this.onHeadeUrlChange(null,null,e)}))},o.onHeadeUrlChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;console.log("existing search",o.props),console.log("existing-filterName",t);var n=o.props.history.location.search,r=o.props.history.location.search,i={condition:[],lengthFilter:"",videoType:[],level:[],benefit:[],discipline:[],equipment:[],instructor:[]},l="",c=Object(m.a)({},o.state.selected_filter),d="";if(r){var p=(r=r.split("?"))[1];if(p=p.split("&")){console.log("searchQuery",p);var u=[],h=[];p.map((function(n,r){var m=n.split("="),p=m[0];u.push(p);var g=m[1],f=g.split("-").join(" ");if(f=f.split(","),"sortby"!==p&&"len%3E"!==p&&"len%3C"!==p&&"len>"!==p&&"len<"!==p&&(i[p]=[],i[p]=f),t!==p&&"filter"===e){var b=c&&c[p]?c[p].join(","):"";(b=b.split(" ").join("-"))&&(d=d?"".concat(d,"&").concat(p,"=").concat(b):"".concat(d,"?").concat(p,"=").concat(b))}if(console.log("searchName",p),"sortby"===p)if(a){console.log("searchName-isSort-",a);var v=a.split(" ").join("-");d=d?"".concat(d,"&sortby=").concat(v):"".concat(d,"?sortby=").concat(v)}else l=g.split("-").join(" "),console.log("seachname-else-issort"),d=d?"".concat(d,"&sortby=").concat(g):"".concat(d,"?sortby=").concat(g);else if("len%3E"==p||"len%3C"==p||"len>"==p||"len<"==p){console.log("seachname-length",g);var E=o.state.selected_filter.lengthFilter?o.state.selected_filter.lengthFilter.split(","):[];s||(console.log("newValue",E),"len%3E"!==p&&"len>"!==p||(d=d?"".concat(d,"&").concat(p,"=").concat(E.length>0?E[0]:g):"".concat(d,"?").concat(p,"=").concat(E.length>0?E[0]:g),h.push(E.length>0?E[0]:g),p="len>"),"len%3C"!=p&&"len<"!==p||(d=d?"".concat(d,"&").concat(p,"=").concat(E.length>0?E[1]:g):"".concat(d,"?").concat(p,"=").concat(E.length>0?E[1]:g),h.push(E.length>0?E[1]:g),p="len<"),console.log("array_data",h),t?c.lengthFilter=h.toString():i.lengthFilter=h.toString(),o.setState({rangeSelectedValue:h.toString()}),console.log("newUrl***",d))}else if(!e){var y=c&&c[p]?c[p].join(","):"";(y=y.split(" ").join("-"))&&(d=d?"".concat(d,"&").concat(p,"=").concat(y):"".concat(d,"?").concat(p,"=").concat(y))}}))}}if(t){if(u&&u.indexOf(t)>-1&&"filter"===e){console.log("isfilter");var g=c&&c[t]?c[t].join(","):"";(g=g.split(" ").join("-"))&&(d=d?"".concat(d,"&").concat(t,"=").concat(g):"".concat(d,"?").concat(t,"=").concat(g))}else if(console.log("searchNameArr",u),"lengthFilter"==t){var f=o.state.selected_filter.lengthFilter?o.state.selected_filter.lengthFilter.split(","):[];console.log("newValue",f),u&&f.length&&-1==u.indexOf("len>")&&-1==u.indexOf("len<")&&-1==u.indexOf("len%3E")&&-1==u.indexOf("len%3C")?(console.log("if-searchNameArr",d),d=d?"".concat(d,"&len>=").concat(f[0],"&len<=").concat(f[1]):"".concat(d,"?len>=").concat(f[0],"&len<=").concat(f[1])):!u&&f.length&&(console.log("else-searchNameArr",d),d=d?"".concat(d,"&len>=").concat(f[0],"&len<=").concat(f[1]):"".concat(d,"?len>=").concat(f[0],"&len<=").concat(f[1]))}else if("lengthFilter"!=t){console.log("else isfilter");var b=c&&c[t]?c[t].join(","):"";(b=b.split(" ").join("-"))&&(d=d?"".concat(d,"&").concat(t,"=").concat(b):"".concat(d,"?").concat(t,"=").concat(b))}}else if(a){if(u&&u.indexOf("sortby")<0&&a){console.log("indexofissort",u.indexOf("sortby")),console.log("if issort",a);var v=a.split(" ").join("-");d=d?"".concat(d,"&sortby=").concat(v):"".concat(d,"?sortby=").concat(v)}else if(!u){v=a.split(" ").join("-");d=d?"".concat(d,"&sortby=").concat(v):"".concat(d,"?sortby=").concat(v)}}else console.log("else islenghtfilter",n),d=n;var E=o.props.history.location.pathname+d;o.props.history.push(E),console.log("sortbyOld",E),o.setState({sort_filter:a||(l||"Duration"),selected_filter:t?c:i,offset:0},(function(){this.fetchGroupOndemand()}))},o.handleChange=function(e){var t=e.target,a=t.name,s=t.value;o.setState(Object(rs.a)({},a,s))},o.searchBarEnter=function(e){"Enter"===e.key&&o.searchFucntion()},o.searchFucntion=function(){o.props.clearGroupOndemandList(),o.setState({sort_filter:"",offset:0,workoutList:[],all_levels:[],all_tags:[]},(function(){this.fetchGroupOndemand()}))},o.renderSelectedFilter=function(){var e=[];return o.state.filterNames.map((function(t,a){if(o.state.selected_filter&&o.state.selected_filter[t]&&o.state.selected_filter[t].length>0)if("lengthFilter"!==t)o.state.selected_filter[t].map((function(n,r){return e.push(s.a.createElement("div",{key:"filter_rm_"+r+a,onClick:function(){o.removeFilterItem(t,n)}},s.a.createElement("span",{className:"pointer"}," x "),s.a.createElement("span",{className:"capitalize_text pointer"},n)))}));else{var n=o.state.selected_filter[t].split(",");console.log("lengvalue",n),e.push(s.a.createElement("div",{key:"filter_rm_"+a,onClick:function(){o.removeFilterItem("lengthFilter","")}},s.a.createElement("span",{className:"pointer"}," x "),s.a.createElement("span",{className:"capitalize_text pointer"},"Class Length: ",n[0]+"-"+n[1]," mins")))}})),e},o.removeFilterItem=function(e,t){o.filterFunction(e,t)},o.removeLengthFilter=function(e){var t=Object(m.a)({},o.state.selected_filter);t[e]="",o.setState({selected_filter:t,offset:0},(function(){this.fetchGroupOndemand()}))},o.filterFunction=function(e,t){o.props.clearGroupOndemandList();var a=Object(m.a)({},o.state.selected_filter);if(a[e]||(a={condition:[],lengthFilter:"",videoType:[],level:[],benefit:[],discipline:[],equipment:[],instructor:[]}),"lengthFilter"!=e){var s=a[e].indexOf(t);s>-1?a[e].splice(s,1):a[e].push(t),o.setState({workoutList:[],all_levels:[],all_tags:[],selected_filter:a,offset:0},(function(){this.onHeadeUrlChange("filter",e)}))}else a[e]="",console.log("name",e),console.log("selected_filter-temp",a),o.setState({workoutList:[],all_levels:[],all_tags:[],selected_filter:a,offset:0,rangeSelectedValue:"0,0"},(function(){this.onHeadeUrlChange(null,e,null,!0)}))},o.checkFilterEmpty=function(e){var t=e;return Object.keys(e).length>0&&e.constructor===Object&&e.lengthFilter.length<=0&&e.videoType.length<=0&&e.equipment.length<=0&&e.level.length<=0&&e.benefit.length<=0&&e.discipline.length<=0&&e.instructor.length<=0&&(t={},o.setState({isInitFilter:!0})),t},o.rangeChangeFunction=function(e){if(e){o.props.clearGroupOndemandList();var t=Object(m.a)({},o.state.selected_filter);0===Object.keys(t).length&&t.constructor===Object&&(t={condition:[],lengthFilter:"",videoType:[],level:[],benefit:[],discipline:[],equipment:[],instructor:[]});var a=[e.min,e.max];t.lengthFilter=a.toString(),o.setState({selected_filter:t,workoutList:[],offset:0},(function(){o.onHeadeUrlChange("filter","lengthFilter")}))}},o.handleChangeRangeSelector=function(e){o.setState({rangeSelectedValue:e.min+","+e.max})},o.state={Loading:!0,offset:0,pageCounter:1,count:0,limit:6,workoutList:[],group:o.props.params.group,condition:o.props.params.condition,showAll:0,sort_filter:"Duration",search_data:"",lenthFilter_max:60,is_filter_open:!1,available_filter:{},selected_filter:{},filterNames:["condition","lengthFilter","videoType","level","benefit","discipline","equipment","instructor"],is_filter_clicked:!1},o.fetchGroupOndemand=o.fetchGroupOndemand.bind(Object(is.a)(o)),o.incrementShowmoreCnt=o.incrementShowmoreCnt.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;if(!this.props.history.location.pathname||this.props.groupState.isMember||e&&(!e||e.isCreator||e.isStudyLeader)||this.props.groupState.isMember||this.props.groupState.canEdit)this.props.clearGroupOndemandList();else{var t={from:{pathname:"/group/about/"+this.props.groupState.group+"/"+this.props.groupState.condition}}.from;this.props.history.push(t)}}},{key:"componentWillReceiveProps",value:function(e){!this.props.is_auth&&e.is_auth}},{key:"componentWillMount",value:function(){this.props.clearGroupOndemandList(),this.onHeadeUrlChange()}},{key:"loadMoreVideos",value:function(e){var t=this;console.log("offset****"+this.state.offset+"Limit***"+this.state.limit);var a=e?this.state.offset+this.state.limit:this.state.offset-this.state.limit;e?this.setState({pageCounter:this.state.pageCounter+1}):this.setState({pageCounter:this.state.pageCounter-1}),this.setState({offset:a},(function(){t.fetchGroupOndemand()}))}},{key:"incrementShowmoreCnt",value:function(e){if("all"==e){var t=this.state.count;this.props.clearGroupOndemandList(),this.setState({Loading:!0,offset:t,showAll:t},(function(){this.fetchGroupOndemand(!0)}))}else{var a=this.state.offset+6;this.setState({Loading:!0,offset:a,showAll:0},(function(){this.fetchGroupOndemand()}))}}},{key:"fetchGroupOndemand",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("this.state.offset",this.state.offset),console.log("Round***",this.state.pageCounter),this.setState({Loading:!0}),this.props.start_loader();var a=_o.replaceChar(this.state.condition,!0),o={offset:this.state.offset,showAll:t?this.state.showAll:0,limit:this.state.limit,condition:a,group:this.state.group,sortby:this.state.sort_filter,keywords:this.state.search_data,filters:this.checkFilterEmpty(this.state.selected_filter)};this.props.fetchGroupOndemand(o).then((function(t){e.setState({Loading:!1}),e.props.stop_loader(),t&&e.setState({disableButton:!1,count:t.count,available_filter:t.availableFilters,workoutList:e.props.group_ondemand_list})}),(function(t){e.setState({Loading:!1,disableButton:!1}),e.props.stop_loader()}))}},{key:"handlePosition",value:function(e){this.props.setGoback(!1),console.log("current postiion",e.target.getBoundingClientRect()),this.props.setCurrentPosition(e.target.getBoundingClientRect().top)}},{key:"getOnDemandDetail",value:function(e){var t=this;this.props.ondemandDetail(e,this.state.condition).then((function(e){t.props.ondemandCMSModelOpen({open:!0,type:"edit"})}),(function(e){console.log("err",e)}))}},{key:"renderActionComponent",value:function(e){return s.a.createElement("div",null,s.a.createElement(En,{from:"group_ondemand",ondemand_data:e,location:this.props.location,history:this.props.history}),s.a.createElement("b",{className:"m-l-10"},s.a.createElement(Kr,{className:"m-l-10",page:"group_ondemand",workoutData:e})))}},{key:"renderOndemandVideo",value:function(){var e=this;return this.state.workoutList.map((function(t,a){return s.a.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 mb-4 vidClass",key:a},s.a.createElement("div",{className:"card h-100 "},s.a.createElement(Qo.b,{className:"position-relative",to:"/detail/"+t.id+"/"+_o.replaceChar(e.props.params.condition,!1),onClick:function(){e.props.pushHistory(e.props.history.location.pathname)}},s.a.createElement(hn,{ref:function(t){e.wrapperRef=t},className:"card-img-top img-fluid",src:x+t.id+"-img.png",thumb:D+"ondemand-placeholder.png"}),s.a.createElement("span",{className:"position-absolute video_time"},s.a.createElement("span",null,t.length," mins"))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("div",{className:"col-md-10 col-lg-10 col-sm-10 col-10 float-left pl-0"},s.a.createElement("h3",{className:"black-txt font-16 font-semibold capitalize_text float-left w-90"},t.title)),s.a.createElement("div",{className:"bookmark-left float-right"},e.renderActionComponent(t))),s.a.createElement("div",{className:"w-100 float-left"},s.a.createElement("div",{className:"col-12 float-left m-b-10 p-0"},s.a.createElement("div",{className:"left-image leftwidth-set p-0 border-0 float-left"},s.a.createElement("img",{className:"img-fluid rounded-circle",src:t.Instructor&&t.Instructor.img?S+t.Instructor.img:D+"no-image.png"})),s.a.createElement("p",{className:"float-left font-16 black-txt font-qregular p-l-10 p-t-15"},_o.bindUsername(t.Instructor.User))),s.a.createElement("div",{className:"col-11 float-left p-0"},s.a.createElement("div",{className:"font-medium w-100"},s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"w-40  font-16 black-txt font-qbold float-left"},"Discipline:"),s.a.createElement("span",{className:" orangefont w-60 float-left font-16 font-qregular p-l-5 capitalize_text"},t.workoutTags?_o.returnTag("discipline",t.workoutTags,t.id):"None")),s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"w-40  font-16 black-txt font-qbold float-left"},"Level:"),s.a.createElement("span",{className:"font-16 font-qregular capitalize_text orangefont w-60 float-left p-l-5 capitalize_text"}," ",t.workoutTags?_o.returnTag("level",t.workoutTags,t.id):"None")))),e.props.is_auth&&e.props.is_create_mode&&s.a.createElement("div",{className:"col-1 float-left top-20 p-0 pl-2 pointer",onClick:function(){e.getOnDemandDetail(t.id)}},s.a.createElement("img",{src:D+"edit-pencil.png"}))))))}))}},{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;return s.a.createElement("div",{className:"videoclasses"},s.a.createElement("div",{className:"col-sm-12 four_grid pr-0"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"container-fluid mx-auto w-95 p-0 condemand"},s.a.createElement("div",{className:"w-100 m-b-10 float-left"},s.a.createElement("div",{className:"filter-section col-md-12 m-t-10 m-b-10 d-none d-sm-none d-md-block d-lg-block p-0"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-2 col-sm-2"},s.a.createElement(Pc,{sort_filter:this.state.sort_filter,sortByFunction:this.sortByFunction})),s.a.createElement("div",{className:"col-md-8 col-sm-8"},s.a.createElement(Rc,{search_data:this.state.search_data,searchBarEnter:this.searchBarEnter,handleChange:this.handleChange,searchFucntion:this.searchFucntion,loader:this.state.loader,isMobileView:!1})),s.a.createElement("div",{className:"col-md-2 col-sm-2 text-right"},!this.state.is_filter_open&&!this.state.loader&&this.state.workoutList.length>0&&s.a.createElement("button",{type:"button",className:"btn btn-purple-inverse button-filter close-btn  font-medium font-14 pointer",onClick:function(){return e.setState({is_filter_open:!0})}},"Filter"),this.state.is_filter_open&&s.a.createElement("span",{className:"btn btn-purple close-btn  font-medium font-14 pointer",onClick:function(){return e.setState({is_filter_open:!1})}},"Close")),this.state.selected_filter&&this.state.filterNames&&!this.state.is_filter_open&&s.a.createElement("div",{className:"font-14 orangefont filter-select w-100 m-t-20 m-b-20 font-book text-center"},this.renderSelectedFilter()))),s.a.createElement(Tc,{is_filter_open:this.state.is_filter_open,is_filter_clicked:this.state.is_filter_clicked,rangeSelectedValue:this.state.rangeSelectedValue,rangeChangeFunction:this.rangeChangeFunction,handleChangeRangeSelector:this.handleChangeRangeSelector,available_filter:this.state.available_filter,selected_filter:this.state.selected_filter,filterFunction:this.filterFunction}),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0 "},s.a.createElement("div",{className:"row"},this.props.is_auth&&this.props.is_create_mode&&s.a.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 mb-4"},s.a.createElement("div",{className:"card h-100"},s.a.createElement("div",{onClick:function(t){return e.handlePosition(t)}},s.a.createElement("div",{className:"position-relative"},s.a.createElement(hn,{ref:function(t){e.wrapperRef=t},className:"card-img-top img-fluid",src:D+"ondemand-placeholder.png"}))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"w-100 float-left m-b-10"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("h3",{className:"black-txt font-16 font-semibold capitalize_text float-left w-75"},s.a.createElement(fn,{text:"New On Demand Class"})),s.a.createElement("div",{className:"bookmark-left float-right text-right w-25"}),s.a.createElement("div",{className:"bookmark-left m-l-10 float-left"}))),s.a.createElement("div",{className:"w-100 float-left"},s.a.createElement("div",{className:"col-12 float-left m-b-10 p-0 font-medium"},s.a.createElement("p",{className:"float-left font-16 black-txt font-qregular"},"Click the plus sign to create a new On Demand Class!"),!t.isStudyLeader&&s.a.createElement("p",{className:"float-left font-16 black-txt font-qregular"},"You will need...")),!t.isStudyLeader&&s.a.createElement("div",{className:"col-11 float-left p-0"},s.a.createElement("div",{className:"font-medium w-100"},s.a.createElement("ul",{className:"col-md-12 col-sm-12 float-left black-txt"},s.a.createElement("li",null,s.a.createElement("span",{className:"w-40 font-16 font-qregular float-left"},"Link to ondemand video")),s.a.createElement("li",null,s.a.createElement("span",{className:"w-40 font-16 font-qregular float-left"},"Class thumbnail image"))))),this.props.is_auth&&this.props.is_create_mode&&s.a.createElement("div",{className:"col-1 float-left p-0 pl-2 pointer "+(t.isStudyLeader?"offset-11":"top-20"),onClick:function(){e.props.ondemandCMSModelOpen({open:!0,type:"add"}),e.props.clearOndemandDetail()}},s.a.createElement("img",{src:D+"add-plus.png"})))))),this.state.workoutList&&this.state.workoutList.length>0&&this.renderOndemandVideo()))),this.state.workoutList.length>0&&this.state.workoutList.length<this.state.count&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement("button",{disabled:this.state.loader,onClick:function(){e.incrementShowmoreCnt("")},className:"btn btn-orange m-t-40 m-b-40 font-book"},"Show more on-demand videos")),this.state.workoutList.length>0&&this.state.workoutList.length<this.state.count&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement("button",{disabled:this.state.Loading,onClick:function(){e.incrementShowmoreCnt("all")},className:"btn btn-purple m-b-40 font-book p-r-30 p-l-30"},"Show all")),!this.state.Loading&&0===this.state.workoutList.length&&s.a.createElement("div",{className:"row"},s.a.createElement("h3",{className:"col-md-12 col-lg-12 col-sm-12 p-1 text-center demand-msg"},"No on-demand videos")),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null))))),this.props.is_cms_model&&s.a.createElement(Ic,{getList:function(){return e.sortByFunction("Newest first")},groupId:this.props.groupState.aboutGroup.id,group:this.props.groupState}))}}]),a}(s.a.Component),Ac={fetchGroupOndemand:to,start_loader:ht,stop_loader:gt,clearGroupOndemandList:ra,pushHistory:Qt,clearOndemandDetail:Xt,ondemandDetail:$t},Bc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,group_ondemand_list:e.workout.group_ondemand_list,user_data:e.header.logged_userData,isGoback:e.workout.isGoback,is_create_mode:e.header.is_create_mode,is_cms_model:e.workout.is_cms_model,is_group_mode:e.header.is_group_mode}}),Ac)(Wc),qc=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={group:o.props.match.params.group,condition:o.props.match.params.condition,aboutGroup:{},groupLeader:{},totalMembers:0,isMember:!1,hideWorkoutSchedule:!1,notifications:[],is_model_open:!1,displayMessage:"",share_enable:!1,aboutSection:"",wallSection:"",liveClassSection:"",onDemandSection:"",membersSection:"",feedSection:"",canEdit:!1},o.goback=o.goback.bind(Object(is.a)(o)),o.joingroup=o.joingroup.bind(Object(is.a)(o)),o.reCallGroup=o.reCallGroup.bind(Object(is.a)(o)),o.setAdminLeader=o.setAdminLeader.bind(Object(is.a)(o)),o.showMobileListName=o.showMobileListName.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentWillMount",value:function(){console.log("willid here"),this.fetchAboutGroup()}},{key:"componentDidMount",value:function(){console.log("Didid here"),this.props.joinModelOpen(!1),this.fetchAboutGroup(),this.fetchGroupWorkout(),this.fetchGroupOndemand()}},{key:"setAdminLeader",value:function(){if(console.log("setAdminLeader"),this.props.is_auth){var e=JSON.parse(localStorage.getItem("userDetails"));if(e&&e.id){console.log("this.props.user_data",e);var t=Object(Lo.a)(this.state.aboutGroup.Members),a=Eo.a.find(t,{UserId:e.id}),o=!(!a||!a.isAdmin),s=this.state.aboutGroup.OwnerId===e.id;this.props.isAdmin(o),this.props.isLeader(s)}}}},{key:"reCallGroup",value:function(){this.fetchAboutGroup()}},{key:"goback",value:function(){window.location.href="/groups/"+_o.replaceChar("undefined"!=typeof Go.Cookies.get("condition")?Go.Cookies.get("condition"):this.state.condition,!1)}},{key:"fetchAboutGroup",value:function(){var e=this;this.props.start_loader();var t={group:this.state.group};this.props.fetchAboutGroup(t).then((function(t){t&&(e.setState({aboutGroup:t.groups,groupLeader:t.groups.User,notifications:t.groups.Notifications,totalMembers:t.groups&&t.groups.Members?t.groups.Members.length:0,isMember:t.isMember,aboutSection:t.groups.aboutSection,wallSection:t.groups.wallSection,liveClassSection:t.groups.liveClassSection,onDemandSection:t.groups.onDemandSection,membersSection:t.groups.membersSection,feedSection:t.groups.feedSection,canEdit:t.canEdit}),e.setAdminLeader()),e.props.stop_loader()}),(function(t){e.setState({Loading:!1}),at.b.error(t),e.props.stop_loader()}))}},{key:"fetchGroupWorkout",value:function(){var e=this,t={offset:0,limit:10,condition:_o.replaceChar(this.state.condition,!0),group:this.state.group};this.props.fetchGroupWorkout(t).then((function(t){t&&t.list&&t.list>0&&e.setState({hideWorkoutSchedule:!1})}),(function(t){e.setState({Loading:!1,hideWorkoutSchedule:!0})}))}},{key:"fetchGroupOndemand",value:function(){var e=this,t={offset:0,limit:6,condition:_o.replaceChar(this.state.condition,!0),group:this.state.group};this.props.fetchGroupOndemand(t).then((function(t){t&&t.list&&t.list.length>0?(e.setState({hideOndemand:!1}),e.props.clearGroupOndemandList()):e.setState({hideOndemand:!0})}),(function(t){e.setState({Loading:!1,hideOndemand:!0})}))}},{key:"joingroup",value:function(){var e=this;this.props.start_loader();var t={groupId:this.state.aboutGroup.id,groupType:this.state.aboutGroup.type};this.props.joinGroup(t).then((function(t){t&&!0===t.status&&e.setState({notifications:[{ter:"test"},{new:"new"}],isMember:"open"===e.state.aboutGroup.type}),e.fetchAboutGroup(),at.b.success(t.message),e.props.stop_loader()}),(function(t){e.setState({Loading:!1}),at.b.error(t),e.props.stop_loader()}))}},{key:"joinGroupMember",value:function(){this.props.is_auth?"open"==this.state.aboutGroup.type?this.joingroup():this.props.joinModelOpen(!0,this.state.aboutGroup):this.props.loginModelOpen(!0)}},{key:"checkUserIsMember",value:function(){if(this.props.is_auth){if(this.props.user_data&&this.props.user_data.id){var e=Object(Lo.a)(this.state.aboutGroup.Members),t=Eo.a.find(e,{UserId:this.props.user_data.id}),a=!(!t||!t.isAdmin)&&t.isAdmin,o=this.state.aboutGroup.OwnerId===this.props.user_data.id;this.props.isAdmin(a),this.props.isLeader(o),this.state.aboutGroup.OwnerId===this.props.user_data.id||a?this.showMessagePopup(!0,"Since you are the group admin you are not allowed to leave this group.  Please contact hello@beamfeelgood.com to make this request"):this.showMessagePopup(!1,"Are you sure want to leave this group?")}}else this.props.loginModelOpen(!0)}},{key:"checkIsAdmin",value:function(){if(console.log("checkIsAdmin"),this.props.is_auth&&this.props.user_data&&this.props.user_data.id){var e=Object(Lo.a)(this.state.aboutGroup.Members),t=Eo.a.find(e,{UserId:this.props.user_data.id}),a=!(!t||!t.isAdmin)&&t.isAdmin;(this.state.aboutGroup.OwnerId===this.props.user_data.id||a)&&(console.log("sert greefsd"),this.props.setGroupCreateMode(!0))}}},{key:"leaveFromGroup",value:function(){var e=this,t={comId:this.state.aboutGroup.id};this.props.leaveGroup(t).then((function(t){t&&t.success&&(e.setState({isMember:!1,notifications:[]}),e.closeModel()),e.fetchAboutGroup(),at.b.success(t.message);var a={from:{pathname:"/group/about/"+e.state.group+"/"+e.state.condition}}.from;e.props.history.push(a)}),(function(t){e.setState({Loading:!1}),at.b.error(t)}))}},{key:"showMessagePopup",value:function(e,t){this.setState({is_model_open:!0,displayMessage:t,isOwnerPopup:e})}},{key:"closeModel",value:function(){this.setState({is_model_open:!1,isOwnerPopup:!1})}},{key:"onCloseModal",value:function(){}},{key:"confirmPopup",value:function(){this.closeModel()}},{key:"confirmLeaveGroup",value:function(){this.leaveFromGroup()}},{key:"renderModalPopup",value:function(){var e=this;if(this.state.is_model_open)return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.state.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog schedule_block modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"modal-title",id:"exampleModalLiveLabel"},"Message"),s.a.createElement("button",{type:"button",className:"close",onClick:function(){e.closeModel()}},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,this.state.displayMessage," ")),this.state.isOwnerPopup&&s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-login ",onClick:function(){e.confirmPopup()}}," Ok ")),!this.state.isOwnerPopup&&s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-login ",onClick:function(){e.confirmLeaveGroup()}}," Continue "),s.a.createElement("button",{type:"button",onClick:function(){e.closeModel()},className:"btn btn-login "},"Cancel")))))}},{key:"renderMetaTags",value:function(){switch(-1!=window.location.href.indexOf("about")?"about":-1!=window.location.href.indexOf("feed")?"feed":-1!=window.location.href.indexOf("liveclass")?"liveclass":-1!=window.location.href.indexOf("members")?"members":"about"){case"about":return s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,this.state.aboutGroup.community_name," - About - Group",ye),s.a.createElement("meta",{property:"og:title",content:this.state.aboutGroup.community_name+" - About - Group"+ye}),s.a.createElement("meta",{property:"og:description",content:this.state.aboutGroup.long_desc}),s.a.createElement("meta",{property:"og:image",content:Ie}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:this.state.groupLeader.name+" "+this.state.groupLeader.lastName+"'s "+this.state.aboutGroup.community_name+" group"}));case"liveclass":return s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,this.state.aboutGroup.community_name," - Live class schedule - Group",ye),s.a.createElement("meta",{property:"og:title",content:this.state.aboutGroup.community_name+" - Live class schedule - Group"+ye}),s.a.createElement("meta",{property:"og:description",content:"Live class schedules within a group enable you to find classes led for you by the group leader. Join with your friends from the group to support one another."}),s.a.createElement("meta",{property:"og:image",content:Te}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:this.state.groupLeader.name+" "+this.state.groupLeader.lastName+"'s "+this.state.aboutGroup.community_name+" group"}));case"feed":return s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,this.state.aboutGroup.community_name," - Feed - Group",ye),s.a.createElement("meta",{property:"og:title",content:this.state.aboutGroup.community_name+" - Feed - Group"+ye}),s.a.createElement("meta",{property:"og:description",content:"The group feed is a place to share thoughts, ask questions, receive feedback, post pictures and encourage one another."}),s.a.createElement("meta",{property:"og:image",content:je}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:this.state.groupLeader.name+" "+this.state.groupLeader.lastName+"'s "+this.state.aboutGroup.community_name+" group"}));case"members":return s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,this.state.aboutGroup.community_name," - Members - Group",ye),s.a.createElement("meta",{property:"og:title",content:this.state.aboutGroup.community_name+" - Members - Group"+ye}),s.a.createElement("meta",{property:"og:description",content:"Members of a group can be involved as much or as little as they wish. Some want to sit back and observe, while others love taking full advantage of access to specialist knowledge and peer support."}),s.a.createElement("meta",{property:"og:image",content:Fe}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:this.state.groupLeader.name+" "+this.state.groupLeader.lastName+"'s "+this.state.aboutGroup.community_name+" group"}));default:return s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,this.state.aboutGroup.community_name," - About - Group",ye),s.a.createElement("meta",{property:"og:title",content:this.state.aboutGroup.community_name+" - About - Group"+ye}),s.a.createElement("meta",{property:"og:description",content:this.state.aboutGroup.long_desc}),s.a.createElement("meta",{property:"og:image",content:Ie}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:this.state.groupLeader.name+" "+this.state.groupLeader.lastName+"'s "+this.state.aboutGroup.community_name+" group"}))}}},{key:"showMobileListName",value:function(){var e;switch(this.props.match.path){case"/group/about/:group/:condition":e="About";break;case"/group/wall/:group/:condition":e="Wall";break;case"/group/feed/:group/:condition":e="Feed";break;case"/group/liveclasses/list/:group/:condition":e="Live Class Schedule";break;case"/group/ondemand/list/:group/:condition":e="On Demand Videos";break;case"/group/members/:group/:condition":e="Members";break;default:e="Select"}return e}},{key:"render",value:function(){var e=this,t=window.location.href,a=this.state.aboutGroup.community_name,o=_o.replaceChar(Go.Cookies.get("condition"),!0),n=o.substring(o.lastIndexOf(" ")+1).toLowerCase();n=n.charAt(0).toUpperCase()+n.slice(1)+"_Group_Banner.png",console.log("banner_img",n);var r=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;return s.a.createElement("section",{className:("undefined"!=typeof Go.Cookies.get("closeBanner")&&"false"!=Go.Cookies.get("closeBanner")||this.props.close_banner)&&("undefined"!=typeof Go.Cookies.get("closeBannerKD")&&"false"!=Go.Cookies.get("closeBannerKD")||this.props.close_banner_kd)?"groupdetails new-edited-page m-t-70":"groupdetails new-edited-page "},a&&this.renderMetaTags(),s.a.createElement("div",{className:"group_head col-md-12"},s.a.createElement("div",{className:"  container-fluid mx-auto w-95 p-0"},s.a.createElement("div",{className:"row "},s.a.createElement("div",{className:"col-md-6 col-8 m-t-30"},!r.isStudyUser&&s.a.createElement(Qo.b,{className:"font-15 font-book  font-normal black-txt p-b-20 clearfix pull-left w-100",onClick:this.goback},s.a.createElement("i",{className:"fa fa-chevron-left"})," Back to all groups"),s.a.createElement("h3",{className:"large-text font-semibold black-txt"},this.state.aboutGroup.community_name),s.a.createElement("p",null,s.a.createElement("span",{className:"medium-text font-semibold black-txt m-r-10"},"Group Leader:"),s.a.createElement("span",null,s.a.createElement("img",{className:"img-fluid rounded-circle",src:this.state.groupLeader&&this.state.groupLeader.profilePic?O+this.state.groupLeader.profilePic:D+"no-profile-pic.png",alt:"",width:"50",height:"50"}),s.a.createElement("span",{className:"font-book m-l-5"},this.state.groupLeader.name," ",this.state.groupLeader.lastName))),this.state.aboutGroup.endDate&&"0000-00-00"!=this.state.aboutGroup.endDate&&(this.props.user_data.isStudyLeader||this.props.user_data.isGroupLeader)&&s.a.createElement("p",null,s.a.createElement("span",{className:"medium-text font-semibold black-txt m-r-10"},"Intervention End Date:"),s.a.createElement("span",null,s.a.createElement("span",{className:"font-book m-l-5"},bo()(this.state.aboutGroup.endDate).utc().format("Do MMMM YYYY"))))),s.a.createElement("div",{className:"col-md-6 col-4 m-t-20 p-r-20"},s.a.createElement("span",{className:"position-relative pointer group-share pull-right text-right"},!r.isStudyLeader&&!r.isGroupLeader&&!r.isStudyInstructor&&!r.isStudyUser&&s.a.createElement("span",{className:"",onClick:function(){return e.setState({share_enable:!e.state.share_enable})}},s.a.createElement("span",{className:"font-qmedium font-13 black-txt m-r-10"},"Share"),s.a.createElement("em",{className:"fa fa-share pointer"})),this.state.share_enable&&s.a.createElement("div",{className:"position-absolute zindex share-value"},s.a.createElement("span",null,s.a.createElement(Zr.a,{url:t,subject:a,body:"body",className:"pointer"},s.a.createElement(Xr.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement($r.a,{url:t,quote:a,className:"pointer"},s.a.createElement(ei.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(ti.a,{url:t,title:a,separator:":: ",className:"pointer"},s.a.createElement(ai.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(oi.a,{url:t,title:a,className:"pointer"},s.a.createElement(si.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(ni.a,{url:t,windowWidth:750,windowHeight:600,className:"pointer"},s.a.createElement(ri.a,{size:32,round:!0}))))),!this.state.aboutGroup.inviteOnly&&s.a.createElement("a",{className:!this.state.isMember&&this.state.notifications&&this.state.notifications.length>0?"btn btn-yellow font-medium m-t-20 m-b-20 pull-right position-relative member-btn ":"btn btn-yellow font-medium m-t-20 m-b-20 pull-right position-relative member-btn pointer",onClick:function(){e.state.isMember||e.state.notifications&&0!==e.state.notifications.length?e.state.isMember&&e.checkUserIsMember():e.joinGroupMember()}},this.state.isMember?" Leave ":!this.state.isMember&&this.state.notifications&&this.state.notifications.length>0?" Requested ":"Join","open"===this.state.aboutGroup.type?"":s.a.createElement("i",{className:"fa fa-lock last-lock"})))))),s.a.createElement("div",{className:"banner_group p-t-20 p-b-60"},s.a.createElement("img",{src:-1!=this.state.condition.toLowerCase().indexOf("research")?D+n:D+"group_banner.png",className:"w-100"})),s.a.createElement("div",{className:"container-fluid mx-auto w-75 dash-drop"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"dropdown  tab-sm-group tab-btn d-block d-sm-block d-md-none d-lg-none"},s.a.createElement("button",{type:"button",className:"btn btn-default font-medium font-14 tab-select dropdown-toggle","data-toggle":"dropdown"},this.showMobileListName(),s.a.createElement("span",{className:"slt"})),s.a.createElement("div",{className:"dropdown-menu text-center"},(this.props.user_data.isStudyLeader||this.props.user_data.isCreator||this.state.groupLeader.id===this.props.user_data.id||this.state.isMember||!this.state.isMember||this.state.canEdit)&&(he.includes(this.state.aboutSection)||fe.includes(this.state.aboutSection)||ge.includes(this.state.aboutSection)||be.includes(this.state.aboutSection)||ve.includes(this.state.aboutSection))&&s.a.createElement(Qo.b,{className:"dropdown-item "+("/group/about/:group/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer",to:"/group/about/"+this.state.group+"/"+this.state.condition},"About"),this.props.is_auth&&((this.props.user_data.isCreator||this.props.user_data.isStudyLeader)&&he.includes(this.state.wallSection)||this.state.groupLeader.id===this.props.user_data.id&&ge.includes(this.state.wallSection)||this.state.canEdit&&fe.includes(this.state.wallSection)||this.state.isMember&&be.includes(this.state.wallSection)||ve.includes(this.state.wallSection))&&s.a.createElement(Qo.b,{className:"dropdown-item "+("/group/wall/:group/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer",to:"/group/wall/"+this.state.group+"/"+this.state.condition},"Wall"),this.props.is_auth&&((this.props.user_data.isCreator||this.props.user_data.isStudyLeader)&&he.includes(this.state.feedSection)||this.state.groupLeader.id===this.props.user_data.id&&ge.includes(this.state.feedSection)||this.state.canEdit&&fe.includes(this.state.feedSection)||this.state.isMember&&be.includes(this.state.feedSection)||ve.includes(this.state.feedSection))&&s.a.createElement(Qo.b,{className:"dropdown-item "+("/group/feed/:group/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer",to:"/group/feed/"+this.state.group+"/"+this.state.condition},"Feed"),this.props.is_auth&&((this.props.user_data.isCreator||this.props.user_data.isStudyLeader)&&he.includes(this.state.liveClassSection)||this.state.groupLeader.id===this.props.user_data.id&&ge.includes(this.state.liveClassSection)||this.state.canEdit&&fe.includes(this.state.liveClassSection)||this.state.isMember&&be.includes(this.state.liveClassSection)||ve.includes(this.state.liveClassSection))&&(!this.state.hideWorkoutSchedule||this.props.logged_userData.isGroupLeader||this.props.logged_userData.isStudyLeader||this.props.user_data.isCreator||this.state.groupLeader.id===this.props.user_data.id)&&s.a.createElement(Qo.b,{className:"dropdown-item "+("/group/liveclasses/list/:group/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer",to:"/group/liveclasses/list/"+this.state.group+"/"+this.state.condition},"Live Class Schedule"),this.props.is_auth&&((this.props.user_data.isCreator||this.props.user_data.isStudyLeader)&&he.includes(this.state.onDemandSection)||this.state.groupLeader.id===this.props.user_data.id&&ge.includes(this.state.onDemandSection)||this.state.canEdit&&fe.includes(this.state.onDemandSection)||this.state.isMember&&be.includes(this.state.onDemandSection)||ve.includes(this.state.onDemandSection)||this.props.logged_userData.isGroupLeader)&&(!this.state.hideOndemand||this.props.user_data.isGroupLeader||this.props.logged_userData.isStudyLeader||this.props.user_data.isCreator||this.state.groupLeader.id===this.props.user_data.id)&&s.a.createElement(Qo.b,{className:"dropdown-item "+("/group/ondemand/list/:group/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer",to:"/group/ondemand/list/"+this.state.group+"/"+this.state.condition},"On Demand Videos"),this.props.is_auth&&((this.props.user_data.isCreator||this.props.user_data.isStudyLeader)&&he.includes(this.state.membersSection)||this.state.groupLeader.id===this.props.user_data.id&&ge.includes(this.state.membersSection)||this.state.canEdit&&fe.includes(this.state.membersSection)||this.state.isMember&&be.includes(this.state.membersSection)||ve.includes(this.state.membersSection))&&s.a.createElement(Qo.b,{className:"dropdown-item "+("/group/members/:group/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer",to:"/group/members/"+this.state.group+"/"+this.state.condition},"Members (",this.state.totalMembers,")"))))),s.a.createElement("div",{className:"tab_group"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"mx-auto tab_full d-none d-sm-none d-md-block d-lg-block"},s.a.createElement("ul",{className:"nav nav-tabs small justify-content-left mx-auto  tab_ul",role:"tablist"},(this.props.user_data.isStudyLeader||this.props.user_data.isCreator||this.state.groupLeader.id===this.props.user_data.id||this.state.isMember||!this.state.isMember||this.state.canEdit)&&(he.includes(this.state.aboutSection)||fe.includes(this.state.aboutSection)||ge.includes(this.state.aboutSection)||be.includes(this.state.aboutSection)||ve.includes(this.state.aboutSection))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/group/about/:group/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer",to:"/group/about/"+this.state.group+"/"+this.state.condition},"About")),this.props.is_auth&&((this.props.user_data.isStudyLeader||this.props.user_data.isCreator)&&he.includes(this.state.wallSection)||this.state.groupLeader.id===this.props.user_data.id&&ge.includes(this.state.wallSection)||this.state.canEdit&&fe.includes(this.state.wallSection)||this.state.isMember&&be.includes(this.state.wallSection)||ve.includes(this.state.wallSection))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/group/wall/:group/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer",to:"/group/wall/"+this.state.group+"/"+this.state.condition},"Wall")),this.props.is_auth&&((this.props.user_data.isCreator||this.props.user_data.isStudyLeader)&&he.includes(this.state.feedSection)||this.state.groupLeader.id===this.props.user_data.id&&ge.includes(this.state.feedSection)||this.state.canEdit&&fe.includes(this.state.feedSection)||this.state.isMember&&be.includes(this.state.feedSection)||ve.includes(this.state.feedSection))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/group/feed/:group/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer",to:"/group/feed/"+this.state.group+"/"+this.state.condition},"Feed")),this.props.is_auth&&((this.props.user_data.isCreator||this.props.user_data.isStudyLeader)&&he.includes(this.state.liveClassSection)||this.state.groupLeader.id===this.props.user_data.id&&ge.includes(this.state.liveClassSection)||this.state.canEdit&&fe.includes(this.state.liveClassSection)||this.state.isMember&&be.includes(this.state.liveClassSection)||ve.includes(this.state.liveClassSection))&&(!this.state.hideWorkoutSchedule||this.props.logged_userData.isGroupLeader||this.props.logged_userData.isStudyLeader||this.props.user_data.isCreator||this.state.groupLeader.id===this.props.user_data.id)&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/group/liveclasses/list/:group/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer",to:"/group/liveclasses/list/"+this.state.group+"/"+this.state.condition},"Live Class Schedule")),this.props.is_auth&&((this.props.user_data.isCreator||this.props.user_data.isStudyLeader)&&he.includes(this.state.onDemandSection)||this.state.groupLeader.id===this.props.user_data.id&&ge.includes(this.state.onDemandSection)||this.state.canEdit&&fe.includes(this.state.onDemandSection)||this.state.isMember&&be.includes(this.state.onDemandSection)||ve.includes(this.state.onDemandSection))&&(!this.state.hideOndemand||this.props.logged_userData.isGroupLeader||this.props.logged_userData.isStudyLeader||this.props.user_data.isCreator||this.state.groupLeader.id===this.props.user_data.id)&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/group/ondemand/list/:group/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer",to:"/group/ondemand/list/"+this.state.group+"/"+this.state.condition},"On Demand Videos")),this.props.is_auth&&((this.props.user_data.isCreator||this.props.user_data.isStudyLeader)&&he.includes(this.state.membersSection)||this.state.groupLeader.id===this.props.user_data.id&&ge.includes(this.state.membersSection)||this.state.canEdit&&fe.includes(this.state.membersSection)||this.state.isMember&&be.includes(this.state.membersSection)||ve.includes(this.state.membersSection))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/group/members/:group/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer",to:"/group/members/"+this.state.group+"/"+this.state.condition},"Members (",this.state.totalMembers,")")))))),s.a.createElement("div",{className:"on-liveclasses w-100 m-t-20 m-b-20"},"/group/about/:group/:condition"===this.props.match.path&&s.a.createElement(Ui,{params:this.props.match.params}),"/group/wall/:group/:condition"===this.props.match.path&&this.state.wallSection&&s.a.createElement(ul,{params:this.props.match.params,history:this.props.history,groupState:this.state,componentType:"wall"}),"/group/feed/:group/:condition"===this.props.match.path&&this.state.feedSection&&s.a.createElement(ul,{params:this.props.match.params,history:this.props.history,groupState:this.state,componentType:"feed"}),"/group/liveclasses/list/:group/:condition"===this.props.match.path&&this.state.liveClassSection&&s.a.createElement(yc,{params:this.props.match.params,history:this.props.history,groupState:this.state,location:this.props.location}),"/group/ondemand/list/:group/:condition"===this.props.match.path&&this.state.onDemandSection&&s.a.createElement(Bc,{params:this.props.match.params,history:this.props.history,groupState:this.state,ondemandCMSModelOpen:this.props.ondemandCMSModelOpen}),"/group/members/:group/:condition"===this.props.match.path&&this.state.membersSection&&s.a.createElement(Yi,{params:this.props.match.params,history:this.props.history,groupState:this.state}))),this.renderModalPopup(),s.a.createElement(Hi,{closeCallback:this.reCallGroup}))}}]),a}(s.a.Component),Yc={fetchAboutGroup:$a,fetchGroupWorkout:eo,leaveGroup:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/groups/group/leave",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},start_loader:ht,stop_loader:gt,joinGroup:function(e){return function(t,a){var o=tt(),s=h+"/api/groups/joinrequest/"+e.groupId;return s="open"===e.groupType?h+"/api/groups/joingroup/"+e.groupId:h+"/api/groups/joinrequest/"+e.groupId,fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},loginModelOpen:pt,fetchGroupOndemand:to,clearGroupOndemandList:ra,joinModelOpen:Za,ondemandCMSModelOpen:ha,isAdmin:function(e){return console.log("GROUP_IS_ADMIN",e),function(t,a){t({type:"group_is_admin",payload:e})}},isLeader:function(e){return console.log("GROUP_IS_LEADER",e),function(t,a){t({type:"group_is_leader",payload:e})}}},Gc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,user_data:e.header.logged_userData,logged_userData:e.header.logged_userData,close_banner:e.workout.close_banner,close_banner_kd:e.workout.close_banner_kd}}),Yc)(qc),Vc=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(){return Object(Ro.a)(this,a),t.call(this)}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){}},{key:"renderAdminBanner",value:function(){var e=_o.replaceChar(this.props.condition,!0),t=(e=e.substring(e.lastIndexOf(" ")+1).toLowerCase()).charAt(0).toUpperCase()+e.slice(1)+"_Admin_Banner.png",a=e.charAt(0).toUpperCase()+e.slice(1)+"_Admin_Banner_mobile.png";return console.log("banner_img",t),(this.props.logged_userData.isStudyLeader||this.props.logged_userData.isGroupLeader||this.props.logged_userData.isStudyUser||this.props.logged_userData.isStudyInstructor)&&s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"web-banner-view"},s.a.createElement("img",{src:D+t,className:"w-100"})),s.a.createElement("div",{className:"mobile-banner-view"},s.a.createElement("img",{src:D+a,className:"w-100"})))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.renderAdminBanner())}}]),a}(s.a.Component),Hc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData}}),{})(Vc),zc=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e))._isMounted=!1,o.handleChangeRangeSelector=function(e){o.setState({rangeSelectedValue:e.min+","+e.max})},o.toggleHover=function(e){var t=o.state.hover;t[e]?t[e]=!t[e]:t[e]=!0,o.setState({hover:t})},o.state={ondemandList:[],typeFilter:o.props.params.condition,show_more_cnt:12,sort_filter:"Duration",search_data:"",offset:0,isDraft:0,list_count:0,lenthFilter_max:60,is_filter_open:!1,available_filter:{},selected_filter:{},filterNames:["condition","lengthFilter","videoType","level","benefit","discipline","equipment","instructor"],is_filter_clicked:!1,loader:!0,all_tags:[],all_levels:[],is_cms_model:!1,isInitFilter:!1,init_available_filter:[],quickLinks:[],hover:[]},o.lastState=o.props.params.condition,o.getOnDemandList=o.getOnDemandList.bind(Object(is.a)(o)),o.incrementShowmoreCnt=o.incrementShowmoreCnt.bind(Object(is.a)(o)),o.sortByFunction=o.sortByFunction.bind(Object(is.a)(o)),o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.searchFucntion=o.searchFucntion.bind(Object(is.a)(o)),o.filterFunction=o.filterFunction.bind(Object(is.a)(o)),o.rangeChangeFunction=o.rangeChangeFunction.bind(Object(is.a)(o)),o.filterClickUpdate=o.filterClickUpdate.bind(Object(is.a)(o)),o.handlePosition=o.handlePosition.bind(Object(is.a)(o)),o.handleClickOutside=o.handleClickOutside.bind(Object(is.a)(o)),o.afterSaveCMS=o.afterSaveCMS.bind(Object(is.a)(o)),o.getInitialAllFilters=o.getInitialAllFilters.bind(Object(is.a)(o)),o.getQuickLinks=o.getQuickLinks.bind(Object(is.a)(o)),o.DraftData=o.DraftData.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.props.ondemandCMSModelOpen({open:!1}),document.addEventListener("mousedown",this.handleClickOutside),window.scrollTo(0,0),this.getInitialAllFilters(),this.getQuickLinks()}},{key:"componentDidUpdate",value:function(){var e=document.getElementsByClassName("navbar navbar-expand-lg navbar-light bg-white fixed-top")[0].getBoundingClientRect().height;if(this.props.currentPosition){console.log("didupdate",this.props.currentPosition);var t=this.props.currentPosition>e?this.props.currentPosition-e:this.props.currentPosition;console.log("finalPosition",t),window.scrollTo(0,t)}}},{key:"componentWillMount",value:function(){this._isMounted=!0,this.props.clearOndemandList(),this.onHeadeUrlChange()}},{key:"componentWillReceiveProps",value:function(e){console.log("componentWillReceiveProps"),this.lastState!=e.params.condition&&(this.lastState=e.params.condition,this.setState({typeFilter:e.params.condition},(function(){this.getInitialAllFilters(),this.getQuickLinks(),this.componentWillMount()})))}},{key:"handlePosition",value:function(e){this.props.setGoback(!1),console.log("current postiion",e.target.getBoundingClientRect()),this.props.setCurrentPosition(e.target.getBoundingClientRect().top)}},{key:"handleClickOutside",value:function(e){console.log("event",e.target.className),(this.wrapperRef&&!this.wrapperRef.props.className.match(e.target.className)||"fa fa-calendar-o pointer"!==e.target.className)&&(console.log("yes"),this.props.setCurrentPosition(0))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside),this._isMounted=!1,this.props.clearOndemandList(),this.setState({ondemandList:[],all_levels:[],all_tags:[],typeFilter:this.props.params.condition,show_more_cnt:12,sort_filter:"",search_data:"",offset:0,list_count:0,is_filter_open:!1,available_filter:{},selected_filter:{}})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(rs.a)({},a,o))}},{key:"incrementShowmoreCnt",value:function(e){if(this.props.setGoback(!1),this.props.setCurrentPosition(0),"all"==e){hs.a.event({category:"On Demand Video List",action:"Clicked Show Button  ",label:"Show All"});var t=this.state.list_count;this.props.clearOndemandList(),this.props.updateOffset(t),this.setState({loader:!0,limit:0,offset:t},(function(){this.getOnDemandList(!0)}))}else{hs.a.event({category:"On Demand Video List",action:"Clicked Show Button  ",label:"Show More"});var a=this.state.offset+12;this.props.updateOffset(a),this.setState({loader:!0,offset:a},(function(){this.getOnDemandList()}))}}},{key:"DraftData",value:function(e){this.props.setGoback(!1),this.props.setCurrentPosition(0),e?(console.log("Draft-list"),this.props.clearOndemandList(),this.setState({loader:!0,isDraft:1},(function(){this.getOnDemandList(!0)}))):(console.log("Live-list"),this.props.clearOndemandList(),this.setState({loader:!0,isDraft:0},(function(){this.getOnDemandList(!0)})))}},{key:"sortByFunction",value:function(e){console.log("item",e),hs.a.event({category:"On Demand Video List",action:"Sorted ",label:e}),this.props.clearOndemandList(),this.setState({ondemandList:[],all_levels:[],all_tags:[],sort_filter:e,offset:0},(function(){this.onHeadeUrlChange(null,null,e)}))}},{key:"filterClickUpdate",value:function(){this.props.setGoback(!1),this.props.setCurrentPosition(0),!0===this.state.is_filter_clicked?this.setState({is_filter_clicked:!1}):this.setState({is_filter_clicked:!0})}},{key:"filterFunction",value:function(e,t){"discipline"===e&&hs.a.event({category:"On Demand Video List",action:"Filtered ",label:t}),this.props.clearOndemandList();var a=Object(m.a)({},this.state.selected_filter);if(a[e]||(a={condition:[],lengthFilter:"",videoType:[],level:[],benefit:[],discipline:[],equipment:[],instructor:[]}),"lengthFilter"!=e){var o=a[e].indexOf(t);o>-1?a[e].splice(o,1):a[e].push(t),this.setState({ondemandList:[],all_levels:[],all_tags:[],selected_filter:a,offset:0},(function(){this.onHeadeUrlChange("filter",e)}))}else a[e]="",console.log("name",e),console.log("selected_filter-temp",a),this.setState({ondemandList:[],all_levels:[],all_tags:[],selected_filter:a,offset:0,rangeSelectedValue:"0,0"},(function(){this.onHeadeUrlChange(null,e,null,!0)}))}},{key:"onHeadeUrlChange",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;console.log("existing search",this.props),console.log("existing-filterName",a);var n=this.props.history.location.search,r=this.props.history.location.search,i={condition:[],lengthFilter:"",videoType:[],level:[],benefit:[],discipline:[],equipment:[],instructor:[]},l="",c=Object(m.a)({},this.state.selected_filter),d="";if(r){var p=(r=r.split("?"))[1];if(p=p.split("&")){console.log("searchQuery",p);var u=[],h=[];p.map((function(n,r){var m=n.split("="),p=m[0];u.push(p);var g=m[1],f=g.split("-").join(" ");if(f=f.split(","),"sortby"!==p&&"len%3E"!==p&&"len%3C"!==p&&"len>"!==p&&"len<"!==p&&(i[p]=[],i[p]=f),a!==p&&"filter"===t){var b=c&&c[p]?c[p].join(","):"";(b=b.split(" ").join("-"))&&(d=d?"".concat(d,"&").concat(p,"=").concat(b):"".concat(d,"?").concat(p,"=").concat(b))}if(console.log("searchName",p),"sortby"===p)if(o){console.log("searchName-isSort-",o);var v=o.split(" ").join("-");d=d?"".concat(d,"&sortby=").concat(v):"".concat(d,"?sortby=").concat(v)}else l=g.split("-").join(" "),console.log("seachname-else-issort"),d=d?"".concat(d,"&sortby=").concat(g):"".concat(d,"?sortby=").concat(g);else if("len%3E"==p||"len%3C"==p||"len>"==p||"len<"==p){console.log("seachname-length",g);var E=e.state.selected_filter.lengthFilter?e.state.selected_filter.lengthFilter.split(","):[];s||(console.log("newValue",E),"len%3E"!==p&&"len>"!==p||(d=d?"".concat(d,"&").concat(p,"=").concat(E.length>0?E[0]:g):"".concat(d,"?").concat(p,"=").concat(E.length>0?E[0]:g),h.push(E.length>0?E[0]:g),p="len>"),"len%3C"!=p&&"len<"!==p||(d=d?"".concat(d,"&").concat(p,"=").concat(E.length>0?E[1]:g):"".concat(d,"?").concat(p,"=").concat(E.length>0?E[1]:g),h.push(E.length>0?E[1]:g),p="len<"),console.log("array_data",h),a?c.lengthFilter=h.toString():i.lengthFilter=h.toString(),e.setState({rangeSelectedValue:h.toString()}),console.log("newUrl***",d))}else if(!t){var y=c&&c[p]?c[p].join(","):"";(y=y.split(" ").join("-"))&&(d=d?"".concat(d,"&").concat(p,"=").concat(y):"".concat(d,"?").concat(p,"=").concat(y))}}))}}if(a){if(u&&u.indexOf(a)>-1&&"filter"===t){console.log("isfilter");var g=c&&c[a]?c[a].join(","):"";(g=g.split(" ").join("-"))&&(d=d?"".concat(d,"&").concat(a,"=").concat(g):"".concat(d,"?").concat(a,"=").concat(g))}else if(console.log("searchNameArr",u),"lengthFilter"==a){var f=this.state.selected_filter.lengthFilter?this.state.selected_filter.lengthFilter.split(","):[];console.log("newValue",f),u&&f.length&&-1==u.indexOf("len>")&&-1==u.indexOf("len<")&&-1==u.indexOf("len%3E")&&-1==u.indexOf("len%3C")?(console.log("if-searchNameArr",d),d=d?"".concat(d,"&len>=").concat(f[0],"&len<=").concat(f[1]):"".concat(d,"?len>=").concat(f[0],"&len<=").concat(f[1])):!u&&f.length&&(console.log("else-searchNameArr",d),d=d?"".concat(d,"&len>=").concat(f[0],"&len<=").concat(f[1]):"".concat(d,"?len>=").concat(f[0],"&len<=").concat(f[1]))}else if("lengthFilter"!=a){console.log("else isfilter");var b=c&&c[a]?c[a].join(","):"";(b=b.split(" ").join("-"))&&(d=d?"".concat(d,"&").concat(a,"=").concat(b):"".concat(d,"?").concat(a,"=").concat(b))}}else if(o){if(u&&u.indexOf("sortby")<0&&o){console.log("indexofissort",u.indexOf("sortby")),console.log("if issort",o);var v=o.split(" ").join("-");d=d?"".concat(d,"&sortby=").concat(v):"".concat(d,"?sortby=").concat(v)}else if(!u){v=o.split(" ").join("-");d=d?"".concat(d,"&sortby=").concat(v):"".concat(d,"?sortby=").concat(v)}}else console.log("else islenghtfilter",n),d=n;var E=this.props.history.location.pathname+d;this.props.history.push(E),console.log("sortbyOld",E),this.setState({sort_filter:o||(l||"Duration"),selected_filter:a?c:i,offset:0},(function(){this.getOnDemandList()}))}},{key:"searchFucntion",value:function(){this.props.clearOndemandList(),this.setState({sort_filter:"",offset:0,ondemandList:[],all_levels:[],all_tags:[]},(function(){hs.a.event({category:"On Demand Video List",action:"Searched ",label:this.state.search_data}),this.getOnDemandList()}))}},{key:"checkFilterEmpty",value:function(e){var t=e;return Object.keys(e).length>0&&e.constructor===Object&&e.lengthFilter.length<=0&&e.videoType.length<=0&&e.equipment.length<=0&&e.level.length<=0&&e.benefit.length<=0&&e.discipline.length<=0&&e.instructor.length<=0&&(t={},this.setState({isInitFilter:!0})),t}},{key:"afterSaveCMS",value:function(){this.sortByFunction("Newest first")}},{key:"getInitialAllFilters",value:function(){var e=this,t=_o.replaceChar(this.state.typeFilter,!1);this.setState({isInitFilter:!1}),this.props.getAllFilters(t).then((function(t){t?(e.setState({available_filter:t.availableFilters?t.availableFilters:e.state.available_filter,init_available_filter:t.availableFilters}),e.setState({isInitFilter:!0})):e.setState({isInitFilter:!1})}),(function(t){e.setState({isInitFilter:!1})}))}},{key:"getQuickLinks",value:function(){var e=this,t=_o.replaceChar(this.props.params.condition,!0);this.props.getQuickLinks(t).then((function(t){t.data?(e.setState({quickLinks:JSON.parse(t.data)}),console.log("quickLinks",e.state.quickLinks)):e.setState({quickLinks:[]})}),(function(t){e.setState({quickLinks:[]})}))}},{key:"getOnDemandList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({loader:!0,ondemandList:[],all_levels:[],all_tags:[],offset:this.props.isGoback?this.props.offsetFull:this.state.offset});var a={isFullRecord:this.props.isGoback||t?this.props.offsetFull:0,offset:this.props.isGoback?this.props.offsetFull:this.state.offset,limit:12,sortby:this.state.sort_filter,keywords:this.state.search_data,isDraft:this.state.isDraft,filters:this.checkFilterEmpty(this.state.selected_filter)},o=_o.replaceChar(this.state.typeFilter,!0);this.props.ondemandList(a,o).then((function(t){if(t){var a=t.data;console.log("this.props.workout_list_tags",0===Object.keys(e.checkFilterEmpty(e.state.selected_filter)).length),e.setState({ondemandList:e.props.workout_list,list_count:a.count,available_filter:e.state.isInitFilter?e.state.init_available_filter:0===Object.keys(e.checkFilterEmpty(e.state.selected_filter)).length?e.state.available_filter:a.list.availableFilters,selected_filter:e.state.selected_filter,lenthFilter_max:a.list.lengthFilter&&a.list.lengthFilter.length>1?parseInt(a.list.lengthFilter[1]):e.state.lenthFilter_max,all_tags:Object.keys(e.checkFilterEmpty(e.state.selected_filter)).length>0?a.list.tags:e.props.workout_list_tags,all_levels:Object.keys(e.checkFilterEmpty(e.state.selected_filter)).length>0?a.list.tags:e.props.workout_list_level,loader:!1,isInitFilter:!1})}else e.setState({ondemandList:[],all_levels:[],all_tags:[],list_count:0,loader:!1})}),(function(t){e.setState({ondemandList:[],all_levels:[],all_tags:[],list_count:0,loader:!1})}))}},{key:"rangeChangeFunction",value:function(e){var t=this;if(e){this.props.clearOndemandList();var a=Object(m.a)({},this.state.selected_filter);0===Object.keys(a).length&&a.constructor===Object&&(a={condition:[],lengthFilter:"",videoType:[],level:[],benefit:[],discipline:[],equipment:[],instructor:[]});var o=[e.min,e.max];a.lengthFilter=o.toString(),this.setState({selected_filter:a,ondemandList:[],all_levels:[],all_tags:[],offset:0},(function(){t.onHeadeUrlChange("filter","lengthFilter")}))}}},{key:"renderSelectedFilter",value:function(){var e=this,t=[];return this.state.filterNames.map((function(a,o){if(e.state.selected_filter&&e.state.selected_filter[a]&&e.state.selected_filter[a].length>0)if("lengthFilter"!==a)e.state.selected_filter[a].map((function(n,r){return t.push(s.a.createElement("div",{key:"filter_rm_"+r+o,onClick:function(){e.removeFilterItem(a,n)}},s.a.createElement("span",{className:"pointer"}," x "),s.a.createElement("span",{className:"capitalize_text pointer"},n)))}));else{var n=e.state.selected_filter[a].split(",");console.log("lengvalue",n),t.push(s.a.createElement("div",{key:"filter_rm_"+o,onClick:function(){e.removeFilterItem("lengthFilter","")}},s.a.createElement("span",{className:"pointer"}," x "),s.a.createElement("span",{className:"capitalize_text pointer"},"Class Length: ",n[0]+"-"+n[1]," mins")))}})),t}},{key:"removeFilterItem",value:function(e,t){this.filterFunction(e,t)}},{key:"removeLengthFilter",value:function(e){var t=Object(m.a)({},this.state.selected_filter);t[e]="",this.setState({selected_filter:t,offset:0},(function(){this.getOnDemandList()}))}},{key:"searchBarEnter",value:function(e){"Enter"===e.key&&this.searchFucntion()}},{key:"getOnDemandDetail",value:function(e){var t=this;this.props.ondemandDetail(e,this.props.params.type).then((function(e){t.props.ondemandCMSModelOpen({open:!0,type:"edit"})}),(function(e){console.log("err",e)}))}},{key:"render",value:function(){var e=this,t=(Object(Lo.a)(z),JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"py-4 active demand-list"},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"On-demand classes - ",this.state.typeFilter,ye),s.a.createElement("meta",{property:"og:title",content:"On-demand classes - "+this.state.typeFilter+ye}),s.a.createElement("meta",{property:"og:description",content:"Access what you need, whenever you feel like it. Beam's library of on-demand sessions include short, targeted activities to full classes to help you get active at any time."}),s.a.createElement("meta",{property:"og:image",content:ke}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Character exercising in living room in front of TV"})),s.a.createElement(Hc,{condition:this.props.params.condition}),s.a.createElement("div",{className:"container-fluid mx-auto w-95 p-0"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"filter-sm-section col-md-12 m-t-10 m-b-10 d-block d-sm-block d-md-none d-lg-none p-0"},s.a.createElement("div",{className:""},s.a.createElement(Rc,{search_data:this.state.search_data,searchBarEnter:this.searchBarEnter.bind(this),handleChange:this.handleChange,searchFucntion:this.searchFucntion,loader:this.state.loader,isMobileView:!0}),s.a.createElement("div",{className:"col-12 col-sm-12 text-rightp-r-0 p-0"},!this.state.is_filter_clicked&&!this.state.loader&&this.state.ondemandList.length>0&&s.a.createElement("button",{type:"button",className:"btn btn-purple-inverse button-filter close-btn  font-medium font-14 pointer",onClick:this.filterClickUpdate},"Filter"),this.state.is_filter_clicked&&s.a.createElement("span",{className:"btn btn-purple close-btn  font-medium font-14 pointer",onClick:this.filterClickUpdate},"Close")),s.a.createElement("div",{className:"col-md-12 col-sm-12"},s.a.createElement(Pc,{sort_filter:this.state.sort_filter,sortByFunction:this.sortByFunction})),!this.state.loader&&this.state.ondemandList&&this.state.ondemandList.length>0&&this.state.quickLinks&&this.state.quickLinks.length>0&&s.a.createElement("div",{className:"filter-section col-md-12 m-t-10 m-b-30 p-0 text-center"},s.a.createElement("div",{className:"row "},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("p",{className:"font-18 font-qbold"},"What type of activity would you like to do today?")),s.a.createElement("div",{className:"col-md-12 mx-auto"},this.state.quickLinks&&this.state.quickLinks.map((function(t,a){return s.a.createElement("button",{className:"btn btn-quicklink m-r-10 m-t-5 m-b-5",style:e.state.hover[a]?{"background-color":t.hoverColour,color:t.textHoverColour}:{"background-color":t.colour,color:t.textColour},onClick:function(){hs.a.event({category:"On Demand Video List",action:"Clicked Quick Link",label:t.name}),e.props.clearOndemandList();var a=e.props.history.location.pathname+"?"+t.link;e.props.history.push(a),e.onHeadeUrlChange()},onMouseEnter:function(){return e.toggleHover(a)},onMouseLeave:function(){return e.toggleHover(a)}},t.name)}))))))),s.a.createElement("div",{className:"filter-section col-md-12 m-t-10 m-b-10 d-none d-sm-none d-md-block d-lg-block p-0"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-2 col-sm-2"},s.a.createElement(Pc,{sort_filter:this.state.sort_filter,sortByFunction:this.sortByFunction})),s.a.createElement("div",{className:"col-md-8 col-sm-8"},s.a.createElement(Rc,{search_data:this.state.search_data,searchBarEnter:this.searchBarEnter.bind(this),handleChange:this.handleChange,searchFucntion:this.searchFucntion,loader:this.state.loader,isMobileView:!1})),s.a.createElement("div",{className:"col-md-2 col-sm-2 text-right"},!this.state.is_filter_open&&!this.state.loader&&this.state.ondemandList.length>0&&s.a.createElement("button",{type:"button",className:"btn btn-purple-inverse button-filter close-btn  font-medium font-14 pointer",onClick:function(){return e.setState({is_filter_open:!0})}},"Filter"),this.state.is_filter_open&&s.a.createElement("span",{className:"btn btn-purple close-btn  font-medium font-14 pointer",onClick:function(){return e.setState({is_filter_open:!1})}},"Close")),this.state.selected_filter&&this.state.filterNames&&!this.state.is_filter_open&&s.a.createElement("div",{className:"font-14 orangefont filter-select w-100 m-t-20 m-b-20 font-book text-center"},this.renderSelectedFilter()))),s.a.createElement(Tc,{is_filter_open:this.state.is_filter_open,is_filter_clicked:this.state.is_filter_clicked,rangeSelectedValue:this.state.rangeSelectedValue,rangeChangeFunction:this.rangeChangeFunction,handleChangeRangeSelector:this.handleChangeRangeSelector,available_filter:this.state.available_filter,selected_filter:this.state.selected_filter,filterFunction:this.filterFunction}),this.props.is_auth&&this.props.is_create_mode&&s.a.createElement("div",{className:"col-md-12 p-0"},s.a.createElement("div",{className:"row "},s.a.createElement("div",{className:"offset-6 col-md-3 text-right"},s.a.createElement("button",{disabled:this.state.loader,onClick:function(){e.DraftData(1)},className:"btn m-b-40 m-r-10 font-book p-r-30 p-l-30 w-100 "+(this.state.isDraft?"btn-purple":"btn-purple-inverse")},"Draft")),s.a.createElement("div",{className:"col-md-3 text-right"},s.a.createElement("button",{disabled:this.state.loader,onClick:function(){e.DraftData(0)},className:"btn m-b-40 m-r-10 font-book p-r-30 p-l-30 w-100 "+(this.state.isDraft?"btn-darkblue-inverse":"btn-darkblue")},"Live")))),!this.state.loader&&this.state.ondemandList&&this.state.ondemandList.length>0&&this.state.quickLinks&&this.state.quickLinks.length>0&&s.a.createElement("div",{className:"filter-section col-md-12 m-t-10 m-b-30 d-none d-sm-none d-md-block d-lg-block p-0 text-center"},s.a.createElement("div",{className:"row "},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("p",{className:"font-24 font-qbold"},"What type of activity would you like to do today?")),s.a.createElement("div",{className:"col-md-12 mx-auto"},this.state.quickLinks&&this.state.quickLinks.map((function(t,a){return s.a.createElement("button",{className:"btn btn-quicklink m-r-10 m-t-5 m-b-5",style:e.state.hover[a]?{"background-color":t.hoverColour,color:t.textHoverColour}:{"background-color":t.colour,color:t.textColour},onClick:function(){e.props.clearOndemandList();var a=e.props.history.location.pathname+"?"+t.link;if(e.props.history.push(a),e.onHeadeUrlChange(),t.link.includes("len")){var o=t.link.split("&"),s=Object(m.a)({},e.state.selected_filter),n=[o[0].replace("len>=",""),o[1].replace("len<=","")];s.lengthFilter=n.toString(),e.setState({selected_filter:s,rangeSelectedValue:n.toString()})}},onMouseEnter:function(){return e.toggleHover(a)},onMouseLeave:function(){return e.toggleHover(a)}},t.name)}))))),s.a.createElement("div",{className:"col-sm-12 four_grid pr-0"},s.a.createElement("div",{className:"row"},this.props.is_auth&&this.props.is_create_mode&&s.a.createElement("div",{className:"col-lg-4 col-md-6 col-sm-12 mb-4 p-l-5"},s.a.createElement("div",{className:"card h-100"},s.a.createElement("div",{onClick:function(t){return e.handlePosition(t)}},s.a.createElement("div",{className:"position-relative"},s.a.createElement(hn,{ref:function(t){e.wrapperRef=t},className:"card-img-top img-fluid",src:D+"ondemand-placeholder.png"}))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"w-100 float-left m-b-10"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("h3",{className:"black-txt font-16 font-semibold capitalize_text float-left w-75"},s.a.createElement(fn,{text:"New On Demand Class"})),s.a.createElement("div",{className:"bookmark-left float-right text-right w-25"}),s.a.createElement("div",{className:"bookmark-left m-l-10 float-left"}))),s.a.createElement("div",{className:"w-100 float-left"},s.a.createElement("div",{className:"col-12 float-left m-b-10 p-0 font-medium"},s.a.createElement("p",{className:"float-left font-16 black-txt font-qregular"},"Click the plus sign to create a new On Demand Class!"),!t.isStudyLeader&&s.a.createElement("p",{className:"float-left font-16 black-txt font-qregular"},"You will need...")),!t.isStudyLeader&&s.a.createElement("div",{className:"col-11 float-left p-0"},s.a.createElement("div",{className:"font-medium w-100"},s.a.createElement("ul",{className:"col-md-12 col-sm-12 float-left black-txt"},s.a.createElement("li",null,s.a.createElement("span",{className:"w-40 font-16 font-qregular float-left"},"Link to ondemand video")),s.a.createElement("li",null,s.a.createElement("span",{className:"w-40 font-16 font-qregular float-left"},"Class thumbnail image"))))),this.props.is_auth&&this.props.is_create_mode&&s.a.createElement("div",{className:"col-1 float-left p-0 pl-2 pointer "+(t.isStudyLeader?"offset-11":"top-20"),onClick:function(){e.props.ondemandCMSModelOpen({open:!0,type:"add"}),e.props.clearOndemandDetail()}},s.a.createElement("img",{src:D+"add-plus.png"})))))),this.state.ondemandList.map((function(t,a){return s.a.createElement("div",{key:a,className:"col-lg-4 col-md-6 col-sm-12 mb-4 p-l-5"},s.a.createElement("div",{className:"card h-100"},s.a.createElement("div",{onClick:function(t){return e.handlePosition(t)},className:"position-relative "},t.no_rooms>0&&s.a.createElement("span",{className:"position-absolute vid_time workout-overlay"},s.a.createElement(Qo.b,{to:"/detail/"+t.id+"/"+e.props.params.condition,className:"position-relative text-decoration-none",onClick:function(){e.props.pushHistory(e.props.history.location.pathname)}},s.a.createElement("h4",{class:"orange_pos_text"},"Completed ",t.no_rooms," times"))),s.a.createElement(Qo.b,{to:"/detail/"+t.id+"/"+e.props.params.condition,className:"position-relative",onClick:function(){e.props.pushHistory(e.props.history.location.pathname)}},s.a.createElement(hn,{ref:function(t){e.wrapperRef=t},className:"card-img-top img-fluid",src:x+t.id+"-img.png",thumb:D+"ondemand-placeholder.png"}),!t.isUploaded&&s.a.createElement("div",{className:"img-fluid play-img white-txt font-bold font-30 available-soon listing-page"},"Available soon..."),s.a.createElement("span",{className:"position-absolute vid_time"},s.a.createElement("span",null,t.length," mins")))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"w-100 float-left m-b-10"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("h3",{className:"black-txt font-16 font-semibold capitalize_text float-left w-75"},s.a.createElement(fn,{text:t.title,limit:90})),s.a.createElement("div",{className:"bookmark-left float-right text-right w-25"},s.a.createElement(En,{from:"ondemand",ondemand_data:t,location:e.props.location,history:e.props.history}),s.a.createElement("b",{className:"m-l-10"},s.a.createElement(Kr,{className:"m-l-10",page:"ondemand_list",workoutData:t}))),s.a.createElement("div",{className:"bookmark-left m-l-10 float-left"}))),s.a.createElement("div",{className:"w-100 float-left"},s.a.createElement("div",{className:"col-12 float-left m-b-10 p-0"},s.a.createElement("div",{className:"left-image leftwidth-set p-0 border-0 float-left"},s.a.createElement(hn,{className:"img-fluid rounded-circle",src:t.Instructor&&t.Instructor.img?S+t.Instructor.img:D+"instructor-placeholder.png"})),s.a.createElement("div",{className:"row"},t.Instructor.hasProfile&&s.a.createElement("a",{className:"float-left font-16 black-txt font-qregular p-l-10 w-80 m-b-0",href:"/instructor/"+t.Instructor.id+"/"+e.state.typeFilter},t.Instructor.User&&s.a.createElement("p",{className:"font-semibold font-18 m-b-0"}," ",t.Instructor.User.name+" "+t.Instructor.User.lastName)),!t.Instructor.hasProfile&&s.a.createElement("p",{className:"float-left font-16 black-txt font-qregular p-l-10 w-80 m-b-0"},t.Instructor.User&&s.a.createElement("p",{className:"font-semibold font-18 m-b-0"},t.Instructor.User.name+" "+t.Instructor.User.lastName)),t.Instructor.title&&s.a.createElement("p",{className:"font-qmedium silver-txt font-16 m-b-0 float-left m-l-10"},t.Instructor.title))),s.a.createElement("div",{className:"col-11 float-left p-0"},s.a.createElement("div",{className:"font-medium w-100"},s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"w-40  font-16 black-txt font-qbold float-left"},"Discipline:"),s.a.createElement("span",{className:" orangefont w-60 float-left font-16 font-qregular p-l-5 capitalize_text"},_o.returnListOfTag("discipline",e.state.all_tags,t.id))),s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"w-40  font-16 black-txt font-qbold float-left"},"Level:"),s.a.createElement("span",{className:"font-16 font-qregular capitalize_text orangefont w-60 float-left p-l-5 capitalize_text"},_o.returnListOfTag("level",e.state.all_tags,t.id))))),e.props.is_auth&&e.props.is_create_mode&&s.a.createElement("div",{className:"col-1 float-left top-20 p-0 pl-2 pointer",onClick:function(){e.getOnDemandDetail(t.id)}},s.a.createElement("img",{src:D+"edit-pencil.png"}))))))})),s.a.createElement("div",{className:"text-center w-100"},this.state.loader&&s.a.createElement(qs,null)),this.state.ondemandList.length>0&&this.state.ondemandList.length<this.state.list_count&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement("button",{disabled:this.state.loader,onClick:function(){e.incrementShowmoreCnt("")},className:"btn btn-orange m-t-40 m-b-40 font-book"},"Show more on-demand videos")),this.state.ondemandList.length>0&&this.state.ondemandList.length<this.state.list_count&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement("button",{disabled:this.state.loader,onClick:function(){e.incrementShowmoreCnt("all")},className:"btn btn-purple m-b-40 font-book p-r-30 p-l-30"},"Show all")),!this.state.ondemandList||0===this.state.ondemandList.length&&s.a.createElement("div",{className:"text-center w-100"},this.state.loader?"":"Watch this space! On-demand videos for this health condition are coming soon..."))))),this.props.is_cms_model&&s.a.createElement(Ic,{getList:this.afterSaveCMS})))}}]),a}(s.a.Component),Kc={ondemandList:sa,clearOndemandList:Zt,start_loader:ht,stop_loader:gt,updateOffset:function(e){return console.log("data",e),function(t,a){t({type:"update_offset",payload:e})}},setGoback:ma,setCurrentPosition:function(e){return function(t,a){t({type:"set_current_position",payload:e})}},pushHistory:Qt,ondemandCMSModelOpen:ha,ondemandDetail:$t,clearOndemandDetail:Xt,getAllFilters:function(e){return function(t,a){var o=tt();return fetch(h+"/api/ondemand/allfilters/"+e,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},getQuickLinks:function(e){return function(t,a){var o=tt();return fetch(h+"/api/ondemand/quicklinks/"+e,o).then((function(e){return go(e,t)})).then((function(e){return e}))}}},Jc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,workout_list:e.workout.workout_list,offsetFull:e.workout.offset,isGoback:e.workout.isGoback,currentPosition:e.workout.currentPosition,is_create_mode:e.header.is_create_mode,is_cms_model:e.workout.is_cms_model,workout_list_tags:e.workout.workout_list_tags,workout_list_level:e.workout.workout_list_level}}),Kc)(zc),Qc=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={instructor_id:o.props.match.params.id,Loader:!0,instructor_data:{},instructor_ondemand_paging:[],show_more_cnt:4},o.scheduleModelOpen=o.scheduleModelOpen.bind(Object(is.a)(o)),o.updateSchedule=o.updateSchedule.bind(Object(is.a)(o)),o.incrementShowmoreCnt=o.incrementShowmoreCnt.bind(Object(is.a)(o)),o.goback=o.goback.bind(Object(is.a)(o)),o.condition="cystic-fibrosis",o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),this.props.getInstructorDetails(this.state.instructor_id).then((function(t){e.setState({Loading:!1,instructor_data:e.props.instructor_detail?e.props.instructor_detail:{}}),e.incrementShowmoreCnt()}),(function(t){e.setState({Loading:!1}),at.b.error(t)}))}},{key:"incrementShowmoreCnt",value:function(){if(this.state.instructor_data.Workouts&&this.state.instructor_data.Workouts.length>0){for(var e=this.state.instructor_data.Workouts,t=this.state.instructor_ondemand_paging,a=this.state.show_more_cnt-4;a<this.state.show_more_cnt&&a<this.state.instructor_data.Workouts.length;a++)t.push(e[a]);this.setState({show_more_cnt:this.state.show_more_cnt+4,instructor_ondemand_paging:t})}else this.setState({instructor_ondemand_paging:[]})}},{key:"scheduleModelOpen",value:function(){this.props.is_auth?this.props.scheduleModelOpen(!0):this.props.loginModelOpen(!0)}},{key:"updateSchedule",value:function(e){}},{key:"submitRequest",value:function(e){"closed"===e.type?this.joinrequest(e):this.joingroup(e)}},{key:"joingroup",value:function(e){var t=this;this.props.is_auth?this.props.joingroup(e.id).then((function(a){at.b.success(a.message);var o={from:{pathname:"/group/about/"+e.community_name+"/"+t.condition}}.from;t.props.history.push(o)}),(function(e){at.b.error(e)})):this.props.loginModelOpen(!0)}},{key:"joinrequest",value:function(e){var t=this;this.props.is_auth?this.props.joinrequest(e.id).then((function(e){t.setState({offset:0,groupList:[]},(function(){this.getGroupList()})),at.b.success(e.message)}),(function(e){at.b.error(e)})):this.props.loginModelOpen(!0)}},{key:"gotoGroupDetailPage",value:function(e){var t={from:{pathname:"/group/about/"+e.community_name+"/"+this.condition}}.from;this.props.history.push(t)}},{key:"goback",value:function(){if(-1!=this.props.prevPath.indexOf("/liveClass/"))window.history.back();else{var e={from:{pathname:"/instructor/"+_o.replaceChar("undefined"!=typeof Go.Cookies.get("condition")?Go.Cookies.get("condition"):this.props.match.params.condition,!1)}}.from;this.props.history.push(e)}}},{key:"renderMetaTags",value:function(e,t,a){return s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,e.name," ",e.lastName," - Instructor",ye),s.a.createElement("meta",{property:"og:title",content:e.name+" "+e.lastName+" - Instructor"+ye}),s.a.createElement("meta",{property:"og:description",content:a}),s.a.createElement("meta",{property:"og:image",content:t}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:e.name+" "+e.lastName+" - Instructor on Beam"}))}},{key:"render",value:function(){var e=this,t=this.state.instructor_data&&this.state.instructor_data.User?this.state.instructor_data.User:{},a=this.state.instructor_data?this.state.instructor_data:{},o=S+a.img;return console.log("Instructor_profileData.name",t.name),console.log("loader",this.state.Loader),s.a.createElement("section",{className:"instructor-content m-t-80"},t.name&&this.renderMetaTags(t,o,a.bio),s.a.createElement("div",{className:"instructor_section-1"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"col-md-12 p-t-30"},s.a.createElement("div",{className:" demand-back"},s.a.createElement("a",{href:"javascript:void(0)",onClick:this.goback,className:"font-15 font-book m-b-10 font-normal black-txt"}," ",s.a.createElement("i",{className:"fa fa-chevron-left"})," ",-1!=this.props.prevPath.indexOf("/liveClass/")?"back to class":"back to instructors")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 col-lg-3  m-t-20 m-b-20"},s.a.createElement("div",{className:" user-profile"},s.a.createElement(hn,{src:o,className:"img-fluid rounded-circle",thumb:D+"instructor-placeholder.png"}),s.a.createElement("p",{className:"font-semibold font-15 instru_head m-t-10"},t.name," ",t.lastName),s.a.createElement("div",{className:"font-qmedium font-13 in_subhead"},s.a.createElement("i",{className:"fa fa-map-marker orangefont m-r-5 medium-text","aria-hidden":"true"}),a.location),s.a.createElement("div",{className:"m-t-10"},a.twitterLink&&s.a.createElement("a",{href:a.twitterLink,target:"_blank",rel:"noopener noreferrer",className:" p-r-10"},s.a.createElement("i",{className:"fa fa-twitter twitter-color"})),a.facebookLink&&s.a.createElement("a",{href:a.facebookLink,target:"_blank",rel:"noopener noreferrer",className:" p-r-10 facebook-color"},s.a.createElement("i",{className:"fa fa-facebook"})),a.instagramLink&&s.a.createElement("a",{href:a.instagramLink,target:"_blank",rel:"noopener noreferrer",className:" p-r-10"},s.a.createElement("i",{className:"fa fa-instagram black-txt"})),a.linkedinLink&&s.a.createElement("a",{href:a.linkedinLink,target:"_blank",rel:"noopener noreferrer",className:" p-r-10"},s.a.createElement("i",{className:"fa fa-linkedin black-txt"})),a.tiktokLink&&s.a.createElement("a",{href:a.tiktokLink,target:"_blank",rel:"noopener noreferrer",className:" p-r-10"},s.a.createElement("img",{src:D+"tiktok.png",className:"tiktok"})),a.webLink&&s.a.createElement("a",{href:a.webLink,target:"_blank",rel:"noopener noreferrer",className:" p-r-10"},s.a.createElement("i",{className:"fa fa-globe black-txt"}))))),s.a.createElement("div",{className:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{className:"col-md-11 offset-md-1 col-lg-11 offset-lg-1 m-t-20"},a.speciality&&s.a.createElement("p",{className:"border-bottom row p-t-10 p-b-10"},s.a.createElement("span",{className:"col-md-4  p-l-0 font-semibold  font-15 black-txt"},"Health area of expertise"),s.a.createElement("span",{className:"col-md-8 p-l-0 black-txt font-14 font-qregular"},a.speciality)),"None"!=_o.returnLabelData("conditionConnection",a.InstructorTags)&&s.a.createElement("p",{className:"border-bottom row p-t-10 p-b-10"},s.a.createElement("span",{className:"col-md-4  p-l-0 font-semibold  font-15 black-txt"},"Connection to condition"),s.a.createElement("span",{className:"col-md-8 p-l-0 black-txt font-14 font-qregular"},_o.returnLabelData("conditionConnection",a.InstructorTags?a.InstructorTags:[]))),"None"!=_o.returnLabelData("discipline",a.InstructorTags)&&s.a.createElement("p",{className:"border-bottom row p-t-10 p-b-10"},s.a.createElement("span",{className:"col-md-4  p-l-0 font-semibold  font-15 black-txt"},"Movement area of expertise"),s.a.createElement("span",{className:"col-md-8 p-l-0 black-txt capitalize_text font-14 font-qregular"},_o.returnLabelData("discipline",a.InstructorTags?a.InstructorTags:[]))),a.qualifications&&s.a.createElement("p",{className:"border-bottom row p-t-10 p-b-10"},s.a.createElement("span",{className:"col-md-4  p-l-0 font-semibold  font-15 black-txt"},"Qualification"),s.a.createElement("span",{className:"col-md-8 p-l-0 black-txt font-14 font-qregular"},a.qualifications)),a.feelGoodFormula&&s.a.createElement("p",{className:"border-bottom row p-t-10 p-b-10"},s.a.createElement("span",{className:"col-md-4  p-l-0 font-semibold  font-15 black-txt"},t.name,"'s feel good formula"),s.a.createElement("span",{className:"col-md-8 p-l-0 black-txt font-14 font-qregular"},a.feelGoodFormula)),s.a.createElement("div",{className:"instruct--about row m-b-10"},s.a.createElement("h4",{className:"font-medium font-21 orangefont m-t-30 m-b-15 w-100"},"About"),s.a.createElement("p",{className:"list black-txt font-14 font-qregular",dangerouslySetInnerHTML:{__html:a.bio}}),s.a.createElement("hr",{className:"w-100"})),a.group&&a.group.length>0&&s.a.createElement("div",{className:"instruct--about2 row m-b-10"},s.a.createElement("h4",{className:"font-medium font-21 purplefont m-b-15"},t.name,"'s Groups"),s.a.createElement("div",{className:"col-md-12 m-b-20"},s.a.createElement("div",{className:"row"},a.group&&a.group.map((function(a,o){return s.a.createElement("div",{className:"col-sm-12 col-md-6 p-l-0 m-b-20",key:o},s.a.createElement("div",{className:"card-design"},s.a.createElement("div",{className:"blog-photo"},s.a.createElement(hn,{className:"img-fluid",src:a.banner_img?L+a.banner_img:D+"small_banner_img.png"})),s.a.createElement("div",{className:"blog-content clearfix"},s.a.createElement("div",{className:"blog-top clearfix"},s.a.createElement("h5",{className:"float-left font-semibold text-left black-txt font-15 blog_head"},s.a.createElement(Qo.b,{to:"/group/about/"+a.community_name+"/"+e.condition},a.community_name)),s.a.createElement("h5",{className:"float-left font-semibold text-left black-txt font-15 blog_head"},a.Members&&s.a.createElement("span",{className:""},a.Members.length," Members")),!e.props.is_auth&&s.a.createElement("button",{onClick:function(){return e.submitRequest(a)},className:"btn float-right dblog_btn font-14 btn-purple-inverse position-relative"},"Join"," ","closed"===a.type&&s.a.createElement("i",{className:"fa fa-lock last-lock"})),e.props.is_auth&&(!a.Members||!1===a.ismember)&&s.a.createElement(s.a.Fragment,null,a.Notifications&&0===a.Notifications.length&&s.a.createElement("button",{onClick:function(){return e.submitRequest(a)},className:"btn float-right dblog_btn font-14 btn-purple-inverse position-relative"},"Join"," ","closed"===a.type&&s.a.createElement("i",{className:"fa fa-lock last-lock"})),a.Notifications&&a.Notifications.length>0&&s.a.createElement("button",{className:"btn float-right dblog_btn font-14 btn-purple position-relative"},"Requested"," ","closed"===a.type&&s.a.createElement("i",{className:"fa fa-lock last-lock"}))),e.props.is_auth&&!0===a.ismember&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:function(){return e.gotoGroupDetailPage(a)},className:"btn float-right dblog_btn font-14 button-lightblue position-relative"},"Member"," ","closed"===a.type&&s.a.createElement("i",{className:"fa fa-lock last-lock"})))),s.a.createElement("div",{className:"blog-bottom clearfix m-t-15 m-b-10"},s.a.createElement(hn,{className:"img-fluid rounded-circle",src:O+t.profilePic,width:"50",height:"50",thumb:D+"instructor-placeholder.png"}),s.a.createElement("span",{className:"font-book font-14 m-l-5 light-grey"},_o.bindUsername(t))))))}))),s.a.createElement("div",{className:"col-md-7 row"})),s.a.createElement("hr",{className:"w-100"})),s.a.createElement("div",{className:"instruct--about3 row m-b-20"},this.state.instructor_ondemand_paging.length>0&&s.a.createElement("h4",{className:"font-medium font-21 darkblue-text m-b-35"},"Take a session with ",t.name),s.a.createElement("div",{className:"col-sm-12 p-0"},s.a.createElement("div",{className:"row"},this.state.instructor_ondemand_paging&&this.state.instructor_ondemand_paging.map((function(a){return s.a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 mb-4",key:a.id},s.a.createElement("div",{className:"card h-100"},s.a.createElement(Qo.b,{to:"/detail/"+a.id+"/"+e.props.match.params.condition,className:"position-relative"},s.a.createElement(hn,{className:"card-img-top img-fluid",src:x+a.id+"-img.png"}),s.a.createElement("span",{className:"position-absolute vid_time"},s.a.createElement("span",null,a.length,".00"))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"w-100 float-left m-b-10"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("h3",{className:"demand_head black-txt font-14 font-semibold font-15 capitalize_text float-left w-75"},a.title),s.a.createElement("div",{className:"bookmark-left float-right font-14 text-right w-25"},s.a.createElement(En,{updateSchedule:e.updateSchedule,ondemand_data:a,location:e.props.location,history:e.props.history}),s.a.createElement("span",{className:"m-l-10"},s.a.createElement(Kr,{page:"instructor_detail",workoutData:a}))),s.a.createElement("div",{className:"bookmark-left m-l-10 float-left"}))),s.a.createElement("div",{className:"w-100"},s.a.createElement("div",{className:"col-12 float-left m-b-10 p-0"},s.a.createElement("div",{className:"left-image  p-0 border-0 float-left "},s.a.createElement(hn,{className:"img-fluid rounded-circle",src:o,thumb:D+"instructor-placeholder.png"})),s.a.createElement("p",{className:"float-left black-txt font-14 font-qregular p-l-10 p-t-5"},t.name," ",t.lastName)),s.a.createElement("div",{className:"col-12 float-left p-0"},s.a.createElement("div",{className:"font-medium w-100"},s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-14 float-left black-txt font-qregular"},"Discipline:"),s.a.createElement("span",{className:"font-14 font-qregular orangefont w-60 float-left font-medium p-l-5 capitalize_text"},a.WorkoutTags?_o.returnTag("discipline",a.WorkoutTags,a.id):"None")),s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-14 float-left black-txt font-qregular"},"Difficulty:"),s.a.createElement("span",{className:"font-14 font-qregular orangefont w-60 float-left font-medium p-l-5 capitalize_text"},a.WorkoutTags?_o.returnTag("level",a.WorkoutTags,a.id):"None"))))))))})),this.state.instructor_data.Workouts&&this.state.instructor_ondemand_paging.length<this.state.instructor_data.Workouts.length&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement("button",{className:"btn btn-orange font-14 m-t-40 m-b-40 font-medium",onClick:this.incrementShowmoreCnt},"View more sessions by"," ",t.name)))))),0===Object.keys(t).length&&t.constructor===Object&&s.a.createElement("div",{className:"text-center w-100"},this.state.Loader?"":"Instructor detail not found!")))))))}}]),a}(s.a.Component),Zc={getInstructorDetails:Oa,joingroup:Qa},Xc=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,instructor_detail:e.instructor.instructor_detail,prevPath:e.workout.prevPath}}),Zc)(Qc),$c=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={Loading:!0,signupLoader:!1,offset:0,count:0,show_more_cnt:10,liveClassList:[],allLiveClassData:[],displayLayout:!0,type:o.props.params.condition,modelState:!1,modelData:{},firstScheduleDate:"",total_tags:[],total_levels:[],is_toggled:!1,classType:"upcoming",instructorOptions:[],selected_conditionid:"",selectedValue:"",openResearchModel:!1,current_attendee:{},redirectUrl:"",workoutId:"",showBanner:!1},o.fetchLiveClassList=o.fetchLiveClassList.bind(Object(is.a)(o)),o.submitStartNow=o.submitStartNow.bind(Object(is.a)(o)),o.modelClose=o.modelClose.bind(Object(is.a)(o)),o.joinClassService=o.joinClassService.bind(Object(is.a)(o)),o.toggleClasses=o.toggleClasses.bind(Object(is.a)(o)),o.getInstructor=o.getInstructor.bind(Object(is.a)(o)),o.closeResearchModel=o.closeResearchModel.bind(Object(is.a)(o)),o.viewPrepoll=o.viewPrepoll.bind(Object(is.a)(o)),o.beforeReview=o.beforeReview.bind(Object(is.a)(o)),o.lastState=o.props.params.condition,o}return Object(Wo.a)(a,[{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;e&&(e.isGroupLeader||e.isStudyLeader)&&this.props.is_create_mode&&this.setState({classType:"unscheduled"})}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;e&&(e.isGroupLeader||e.isStudyLeader)&&this.props.is_create_mode&&(this.toggleClasses(!0),this.setState({classType:"unscheduled"})),this.props.logged_userData.isStudyLeader||this.props.logged_userData.isGroupLeader||this.props.logged_userData.isStudyUser||this.props.logged_userData.isStudyInstructor||this.setState({showBanner:!0}),"undefined"==typeof Go.Cookies.get("is_toggled")&&Go.Cookies.get("CookieControl")&&Object.keys(JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies).length>0&&"accepted"==JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies.preferences&&Go.Cookies.set("is_toggled",!1),this.fetchLiveClassList()}},{key:"submitStartNow",value:function(e){this.props.is_auth?this.joinClassService(e):this.props.loginModelOpen(!0)}},{key:"closeResearchModel",value:function(){this.setState({openResearchModel:!1})}},{key:"beforeReview",value:function(){window.open(this.state.redirectUrl)}},{key:"viewPrepoll",value:function(e){var t=this;e.Attendees.forEach((function(e){e.UserId===t.props.logged_userData.id&&t.setState({redirectUrl:e.reference,current_attendee:e})})),this.setState({openResearchModel:!0,workoutId:e.WorkoutId})}},{key:"componentWillReceiveProps",value:function(e){var t=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;!this.props.is_auth&&e.is_auth&&this.setState({liveClassList:[]}),this.props.is_create_mode!=e.is_create_mode&&(t.isStudyLeader?this.setState({classType:"unscheduled"}):this.setState({classType:"upcoming"})),console.log("liveclass-laststate",e),this.lastState!=e.params.condition&&(this.lastState=e.params.condition,this.setState({type:e.params.condition},(function(){})))}},{key:"joinClassService",value:function(e){var t=this,a={roomId:e.id};this.setState({signupLoader:!0}),this.props.joinClass(a).then((function(a){a&&t.setState({signupLoader:!1,modelState:!0,modelData:e})}),(function(e){t.setState({signupLoader:!1,modelState:!1,modelData:{}}),at.b.error(e)}))}},{key:"modelClose",value:function(){this.setState({Loading:!1,offset:0,count:0,show_more_cnt:10,liveClassList:[],displayLayout:!0,type:this.props.params.condition,modelState:!1,modelData:{}},(function(){this.fetchLiveClassList()}))}},{key:"fetchLiveClassList",value:function(){var e=this;this.setState({Loading:!0});var t={offset:this.state.offset,limit:10,condition:_o.replaceChar(this.state.type,!0)};this.props.fetchClassList(t).then((function(t){var a=Eo.a.result(Eo.a.find(e.props.logged_userData.UserConditions,(function(e){return-1!=e.Tag.tag.indexOf(_o.replaceChar(Go.Cookies.get("condition"),!0))})),"conditionId");if(console.log("fetchLiveClassList-selected_conditionid",a),e.setState({selected_conditionid:a}),t){var o=t.list;if(o&&o.liveClasses){var s=o.liveClasses;e.setState({allLiveClassData:s}),e.toggleLiveClasses()}e.setState({Loading:!1,count:o.count,total_tags:t.list.tags?t.list.tags:[],total_levels:t.list.levelTags?t.list.levelTags:[]},(function(){}))}}),(function(t){e.setState({Loading:!1}),e.props.stop_loader()}))}},{key:"toggleClasses",value:function(e){Object.keys(JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies).length>0&&"accepted"==JSON.parse(Go.Cookies.get("CookieControl")).optionalCookies.preferences&&Go.Cookies.set("is_toggled",e),console.log("is_toggeld",e),this.setState({is_toggled:e,liveClassList:[]},(function(){this.toggleLiveClasses()}))}},{key:"toggleLiveClasses",value:function(){var e=this.state.allLiveClassData;Go.Cookies.get("is_toggled");if("undefined"==typeof Go.Cookies.get("is_toggled")&&this.state.is_toggled||"true"==Go.Cookies.get("is_toggled"))this.groupListResult(e);else{var t=[];e.map((function(e,a){var o=bo()(e.scheduledFor).toDate(),s=bo()(bo()(e.scheduledFor).hour("0").minute("01").second("0")).toDate(),n=bo()(bo()(e.scheduledFor).hour("4").minute("59").second("0")).toDate();o>=s&&o<=n||(console.log("schedule "+o+" midnight12 "+s+" morninig5 "+n),console.log(e.id+"************NOT MID NIGHT*****************"),t.push(e))})),this.groupListResult(t)}}},{key:"renderDisciplineList",value:function(e,t){var a=_o.returnTag("discipline",this.state.total_tags,e.WorkoutId);return"None"===a?s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"}):s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5"},s.a.createElement("span",{className:"orangefont w-60 float-left font-medium p-l-5 capitalize_text"},a)))}},{key:"renderDificulty",value:function(e,t){var a=_o.returnTag("level",this.state.total_levels,e.WorkoutId);return"None"!==a?s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},a)):s.a.createElement("div",{className:"desktop"===t?"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0":"col-12 float-left p-0"})}},{key:"renderSchedule",value:function(e){var t=this;bo()().format("YYYY-MM-DD hh:mm::ss"),bo()(e.scheduledFor).format("YYYY-MM-DD hh:mm::ss");if(e.reference&&"coming soon"===e.reference.toLowerCase())return s.a.createElement("a",{className:"btn-purple-inverse pad_list_btn clearfix"}," ",e.reference," ");var a=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();return e.Signedup&&this.props.logged_userData.isStudyParticipant&&Q.includes(a)?s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.viewPrepoll(e)}}," Go to class "):e.Signedup&&!this.props.logged_userData.isStudyParticipant||e.Signedup&&this.props.logged_userData.isStudyParticipant&&!Q.includes(a)?s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",href:e.Attendees[0].reference||"#",target:"_blank"}," Go to class "):s.a.createElement("button",{disabled:this.state.signupLoader,onClick:function(){return t.submitStartNow(e)},className:"btn btn-purple-inverse w-100 font-medium m-b-10 pad_list_btn"}," Sign up ")}},{key:"cancelCalss",value:function(e,t,a){var o=this;if(!this.state.cancelLoading){this.setState({cancelLoading:!0});var s={roomId:e.id};this.props.cancelClass(s).then((function(e){e&&at.b.success(e.message);var s=Object(Lo.a)(o.state.liveClassList);s[t][a].Signedup=!1,o.setState({liveClassList:s,cancelLoading:!1})}),(function(e){o.setState({cancelLoading:!1})}))}}},{key:"renderSubItemList",value:function(e,t){var a=this;return e.map((function(e,o){return s.a.createElement("div",{className:"list-group-item",key:o},s.a.createElement("div",{className:"col-md-12 desktop-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-md-3 col-lg-3 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.state.type+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},s.a.createElement(hn,{className:"media-object image-size img-rounded img-fluid",src:x+e.Workout.id+"-img.png"})),s.a.createElement("div",{className:"time-box"},s.a.createElement("i",{className:"fa fa-clock-o w-100"}),s.a.createElement("div",{className:"w-100"},e.Workout.length," mins")))),s.a.createElement("div",{className:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{className:"col-md-9 col-lg-9 col-sm-9 float-left pl-20"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left m-b-10 p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e.Workout&&e.Workout.Instructor&&e.Workout.Instructor.img?S+e.Workout.Instructor.img:D+"no-image.png",alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.state.type+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},"  ",e.Workout.title)),s.a.createElement("div",{className:"w-80"},"with",e.Workout.Instructor.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+e.Workout.Instructor.id+"/"+a.props.params.condition,className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName),!e.Workout.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName)))),a.renderDisciplineList(e,"desktop"),a.renderDificulty(e,"desktop")),s.a.createElement("div",{className:"col-lg-3 float-left col-md-3 p-0 text-center"},a.renderSchedule(e),e.Signedup&&s.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-purple w-100 pad_list_btn font-medium m-b-10 joinclass-blue-btn",onClick:function(){return a.cancelCalss(e,t,o)}},"Oops, I can't make it"),s.a.createElement("span",{className:"btn btn-default-list-blue w-100 clearfix pad_list_btn"},bo()(e.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),s.a.createElement("span",{className:"btn btn-default-list-orange w-100 clearfix pad_list_btn"},"Live Session"))))),s.a.createElement("div",{className:"col-md-12 mobile-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-12 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.state.type+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},s.a.createElement(hn,{className:"media-object image-size img-rounded img-fluid",src:x+e.Workout.id+"-img.png"})),s.a.createElement("div",{className:"time-box"},s.a.createElement("i",{className:"fa fa-clock-o w-100"}),s.a.createElement("div",{className:"w-100"},e.Workout.length," mins")))),s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"col-12 float-left p-0 "},s.a.createElement("div",{className:"col-12  float-left p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100 m-t-5 m-b-5"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e.Workout&&e.Workout.Instructor&&e.Workout.Instructor.img?S+e.Workout.Instructor.img:D+"no-image.png",alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.state.type+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}}," ",e.Workout.title)),s.a.createElement("div",{className:"w-80"},"with",e.Workout.Instructor.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+e.Workout.Instructor.id+"/"+a.props.params.condition,className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName),!e.Workout.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName)))),s.a.createElement("div",{className:"font-medium col-12 p-0 m-b-10 float-left "},a.renderDisciplineList(e,"mobile"),a.renderDificulty(e,"mobile")))),s.a.createElement("div",{className:"col-12 float-left p-0 text-center"},a.renderSchedule(e),e.Signedup&&s.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-purple w-100 pad_list_btn font-medium m-b-10 joinclass-blue-btn",onClick:function(){return a.cancelCalss(e,t,o)}},"Oops, I can't make it"),s.a.createElement("span",{className:"w-100 btn btn-default-list-blue clearfix pad_list_btn"},bo()(e.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),s.a.createElement("span",{className:"w-100 btn btn-default-list-orange clearfix pad_list_btn"},"Live Session")))))}))}},{key:"renderLiveClassList",value:function(){var e=this;return this.state.liveClassList.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("p",{className:"section_header font-semibold"},_o.getDayNameFromDate(t[0].scheduledFor)),e.renderSubItemList(t,a))}))}},{key:"renderLoadMore",value:function(){var e=this;if(this.state.count>10)return s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement("span",{onClick:function(){e.incrementShowmoreCnt()},className:"btn btn-orange m-t-40 m-b-40 font-book pointer"},"Show more live classes"))}},{key:"renderListData",value:function(){var e=this;return console.log("classType",this.state.classType),s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 p-0"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:this.props.is_create_mode?"col-md-3":0!=this.props.logged_userData.isInstructorUser?"col-md-6":"col-md-3"},s.a.createElement("p",{className:"row"},s.a.createElement("i",{className:this.state.displayLayout?"fa fa-calendar-o":"fa fa-list-ul","aria-hidden":"true"})," ",s.a.createElement("span",{onClick:function(){e.changeViewLayout()},className:"orangefont font-medium pointer p-l-10 "},s.a.createElement("u",null,this.state.displayLayout?"Switch to calendar view":"Switch to list view")))),!this.props.is_create_mode&&!this.props.logged_userData.isInstructorUser&&s.a.createElement("div",{className:"col-md-6"},s.a.createElement("p",{className:"w-40 font-16 font-semibold black-txt text-center"},"All class times shown in "," "+_o.localTimeZoneName()," time")),(this.props.is_create_mode||0!=this.props.logged_userData.isInstructorUser)&&this.props.is_auth&&s.a.createElement("div",{className:"col-md-3 text-right mb-2"},s.a.createElement("span",{className:"p-1 btn button-filter close-btn font-medium font-14 pointer w-100 "+("upcoming"==this.state.classType?"btn-beam-blue white-txt":"btn-beam-blue-inverse"),onClick:function(){e.setState({classType:"upcoming"})}}," Upcoming ")),(this.props.is_create_mode||0!=this.props.logged_userData.isInstructorUser)&&this.props.is_auth&&s.a.createElement("div",{className:"col-md-3 text-right mb-2"},s.a.createElement("span",{className:"p-1 btn button-filter close-btn font-medium font-14 pointer w-100 "+("past"==this.state.classType?"btn-purple":"btn-purple-inverse"),onClick:function(){e.setState({classType:"past"})}}," Past ")),this.props.is_auth&&this.props.is_create_mode&&s.a.createElement("div",{className:"col-md-3 text-right mb-2"},s.a.createElement("span",{className:"p-1 btn button-filter close-btn font-medium font-14 pointer w-100 "+("unscheduled"==this.state.classType?"btn-darkblue white-txt":"btn-darkblue-inverse"),onClick:function(){e.setState({classType:"unscheduled"})}},"  Templates ")),!this.state.type.toLowerCase().includes("research")&&s.a.createElement("div",{className:"offset-md-9 offset-sm-0 col-md-3 text-right mb-2"},("undefined"==typeof Go.Cookies.get("is_toggled")&&!this.state.is_toggled||"false"==Go.Cookies.get("is_toggled"))&&s.a.createElement("span",{className:"btn btn-orange-inverse button-filter close-btn  font-medium font-14 pointer w-100",onClick:function(){e.toggleClasses(!0)}},"Show all"),("undefined"==typeof Go.Cookies.get("is_toggled")&&this.state.is_toggled||"true"==Go.Cookies.get("is_toggled"))&&s.a.createElement("span",{className:"btn btn-orange pointer w-100",onClick:function(){e.toggleClasses(!1)}},"Show waking hours only")),(this.props.is_create_mode||0!=this.props.logged_userData.isInstructorUser)&&s.a.createElement("div",{className:"col-md-12"},s.a.createElement("p",{className:"w-40 font-16 font-semibold black-txt text-center"},"All class times shown in "," "+_o.localTimeZoneName()," time")),this.props.is_create_mode&&this.props.logged_userData.isStudyLeader&&this.state.selected_conditionid&&s.a.createElement("div",{className:"col-md-12 text-right mb-2"},s.a.createElement("span",{className:"col-md-2 pull-right btn button-filter close-btn font-medium font-14 pointer w-100 "+(this.state.is_filter_clicked?"btn-purple white-txt":"btn-purple-inverse"),onClick:function(){e.getInstructor()}}," ",this.state.is_filter_clicked?"Close":"Filter"," ")),this.state.instructorOptions.length>0&&this.state.is_filter_clicked&&s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},this.state.instructorOptions&&this.state.instructorOptions.map((function(t,a){return s.a.createElement("div",{className:"col-md-4",key:a,onClick:function(){e.setState({selectedValue:t.value}),e.props.applyLiveclassFilter(t.value)}},s.a.createElement("p",{className:"flow-text pointer "+(t.value==e.state.selectedValue?"font-bold":"")},t.label))})))))),s.a.createElement(s.a.Fragment,null,this.renderLiveClassComponent()))}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+10},(function(){this.fetchLiveClassList()}))}},{key:"groupListResult",value:function(e){var t=[];console.log("this.state.liveClassList",this.state.liveClassList.length);var a=this.state.liveClassList,o=e,s={},n=[],r="";o.map((function(e,i){if(0===i&&(r=e.scheduledFor),a&&a.length>0&&o&&e&&bo()(a[a.length-1][0].scheduledFor).format("DD/MM/YYYY")===bo()(e.scheduledFor).format("DD/MM/YYYY"))a[a.length-1].push(e),t=a;else{i=bo()(e.scheduledFor).format("DD/MM/YYYY");s[i]?s[i].push(e):(s[i]=[],s[i].push(e),n.push(s[i])),t=[].concat(Object(Lo.a)(a),n)}})),this.setState({liveClassList:t,firstScheduleDate:r})}},{key:"renderLiveClassComponent",value:function(){return this.state.displayLayout?s.a.createElement("div",null,"upcoming"==this.state.classType&&s.a.createElement(bc,{props:this.props,firstScheduleDate:this.state.firstScheduleDate,params:this.state.type,location:this.props.location,liveClassList:this.state.liveClassList,allLiveClassData:this.state.allLiveClassData,componentType:"Liveclass"}),"past"==this.state.classType&&s.a.createElement($l,{props:this.props,firstScheduleDate:this.state.firstScheduleDate,params:this.state.type,location:this.props.location,liveClassList:this.state.liveClassList,allLiveClassData:this.state.allLiveClassData,componentType:"Liveclass",liveclass_filter_instructor:this.props.liveclass_filter_instructor}),this.props.is_auth&&this.props.is_create_mode&&"unscheduled"==this.state.classType&&s.a.createElement(oc,{props:this.props,firstScheduleDate:this.state.firstScheduleDate,params:this.state.type,location:this.props.location,liveClassList:this.state.liveClassList,allLiveClassData:this.state.allLiveClassData,componentType:"Liveclass"})):s.a.createElement(hc,{props:this.props,firstScheduleDate:this.state.firstScheduleDate,params:this.state.type,location:this.props.location,liveClassList:this.state.liveClassList,allLiveClassData:this.state.allLiveClassData})}},{key:"changeViewLayout",value:function(){var e=this.state.displayLayout;e&&this.setState({classType:"upcoming"}),this.setState({displayLayout:!e})}},{key:"getInstructor",value:function(){var e=this,t=!this.state.is_filter_clicked;this.setState({is_filter_clicked:t}),t||(this.props.applyLiveclassFilter(""),this.setState({selectedValue:""}));var a=Eo.a.result(Eo.a.find(this.props.logged_userData.UserConditions,(function(e){return-1!=e.Tag.tag.indexOf(_o.replaceChar(Go.Cookies.get("condition"),!0))})),"conditionId");a&&0==this.state.instructorOptions.length&&this.props.getInstructor(null,a).then((function(t){t&&e.setState({instructorOptions:t.data.instructors})}),(function(t){e.setState({instructorOptions:[]})}))}},{key:"render",value:function(){return console.log("logged_userdata",this.props.logged_userData),s.a.createElement("div",{className:""},s.a.createElement(hi,{is_model_open:this.state.openResearchModel,closeResearchModel:this.closeResearchModel,classType:"Live",beforeReview:this.beforeReview,workoutId:this.state.workoutId,current_attendee:this.state.current_attendee}),s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Live classes - ",this.state.type,ye),s.a.createElement("meta",{property:"og:title",content:"Live classes - "+this.state.type+ye}),s.a.createElement("meta",{property:"og:description",content:Ne}),s.a.createElement("meta",{property:"og:image",content:we}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:Ce})),s.a.createElement(Hc,{condition:this.state.type}),!this.state.type.toLowerCase().includes("research")&&s.a.createElement("div",{className:"on-liveclasses p-t-50 p-b-30"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 top-content-live col-md-5 offset-md-1 col-lg-5 text-left  offset-lg-1"},s.a.createElement("h4",{className:"m-b-20 font-semibold font-normal font-24"},"Live exercise classes"),s.a.createElement("p",{className:"font-14 font-qregular"},"Live classes allow you to experience the feel-good energy of a live class wherever you are."),s.a.createElement("p",{className:"font-14 font-qregular"},"Just like our on-demand sessions, live classes are run by specialist physiotherapists and instructors who share your medical condition. We want you to know that they understand you and they've got your back, every minute of every workout."),s.a.createElement(Qo.b,{to:"/liveClass",className:"btn btn-yellow font-14 font-book m-t-20 m-b-20"},"Learn more")),s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-center"},s.a.createElement("figure",null,s.a.createElement("img",{src:D+"live_classes.png",className:"img-fluid w-60",alt:""})))))),s.a.createElement("div",{className:"list_section float-left w-100 p-t-20 p-b-20"},s.a.createElement("div",{className:"container"},this.renderListData())),s.a.createElement(hl,{is_model_open:this.state.modelState,modelData:this.state.modelData,modelClose:this.modelClose}))}}]),a}(s.a.Component),em={fetchClassList:Ia,start_loader:ht,stop_loader:gt,joinClass:ja,loginModelOpen:pt,cancelClass:Ta,getInstructor:pa,applyLiveclassFilter:function(e){return console.log("applyLiveclassFilter",e),function(t,a){t({type:"liveclass_filter_instructor",payload:e})}}},tm=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData,is_create_mode:e.header.is_create_mode,liveclass_filter_instructor:e.liveclass.liveclass_filter_instructor}}),em)($c),am=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).getEthnicityBasedOnCountry=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o.props.getOnboardingTags().then((function(a){if(a.success){var s=JSON.parse(a.data).ethnicity;o.setState({ethnicity:JSON.parse(a.data).ethnicity});var n=Eo.a.filter(s,(function(t){return t.countryId===parseInt(e)}));n.length&&n[0].ethnicityList&&n[0].ethnicityList.length||(n=Eo.a.filter(s,(function(e){return 230===e.countryId}))),o.setState({ethnicityList:n[0].ethnicityList}),t.length&&o.prefillEthnicity(t)}}))},o.prefillEthnicity=function(e){var t=Eo.a.find(e,{type:"ethnicity"});t&&o.setState({ethnicity:t.tag})},o.onImageChange=function(e){if(e.target.files&&e.target.files[0]){var t={};t.profilePic=URL.createObjectURL(e.target.files[0]),o.shouldBlockNavigation=!0,o.setState({postFile:e.target.files[0]}),o.props.updateUserdataRedex(t)}},o.updateEthnicity=function(e){e.target.value&&(o.setState({ethnicity:e.target.value}),o.shouldBlockNavigation=!0)},o.handleBlockedNavigation=function(e){return!!o.state.isDirtyModalOpen||(o.setState({isDirtyModalOpen:!0,lastLocation:e}),!1)},o.closeConfirmationPopup=function(e){"Yes"===e?o.props.history.push(o.state.lastLocation):o.onSubmitProfile(),o.setState({isDirtyModalOpen:!1})},o.state={regionList:[],regionloader:!1,postFile:null,primaryCareConsent:!1,emergencyContactConsent:!1,permission_contact:!1,isDirtyModalOpen:!1,loading:!1,submitted:!1,ethnicity:[],ethnicityList:[]},o.isPageload=!0,o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.updateCountry=o.updateCountry.bind(Object(is.a)(o)),o.updateRegion=o.updateRegion.bind(Object(is.a)(o)),o.onSubmitProfile=o.onSubmitProfile.bind(Object(is.a)(o)),o.shouldBlockNavigation=!1,o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.props.getOnboardingTags();var e=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;if(e.Country&&this.setState({countryCode:e.Country.countryCode.toLowerCase()}),this.getEthnicityBasedOnCountry(e.country,e.Tags),e.phoneNumber){var t=e;t.phoneNumber=e.phoneNumber.toString(),this.props.updateUserdataRedex(t)}}},{key:"componentWillReceiveProps",value:function(e){this.isPageload&&e.userData.country&&0===this.state.regionList.length&&(this.isPageload=!1,this.getRegionList(e.userData.country))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value,s={};s[a]=o,this.props.updateUserdataRedex(s),this.shouldBlockNavigation=!0}},{key:"getRegionList",value:function(e){var t=this;this.setState({regionloader:!0}),this.props.getRegionList(e).then((function(e){var a=e.region?e.region:[];t.setState({regionList:a,regionloader:!1})}),(function(e){t.setState({regionloader:!1}),at.b.error(e)}))}},{key:"updateCountry",value:function(e){var t={};t.country=e.target.value,this.props.updateUserdataRedex(t),e.target.value&&(this.getRegionList(e.target.value),this.shouldBlockNavigation=!0,this.getEthnicityBasedOnCountry(e.target.value))}},{key:"updateRegion",value:function(e){var t={};t.region=e.target.value,this.props.updateUserdataRedex(t),this.shouldBlockNavigation=!0}},{key:"onSubmitProfile",value:function(){var e=this,t=new FormData;t.append("profile_pic",this.state.postFile),t.append("fname",this.props.userData.name),t.append("sname",this.props.userData.lastName),t.append("email",this.props.userData.email),t.append("image",this.props.userData.profilePic),t.append("nickname",this.props.userData.nickname),t.append("country",this.props.userData.country),t.append("region",this.props.userData.region),t.append("gender",this.props.userData.gender),t.append("address1",this.props.userData.address1),t.append("address2",this.props.userData.address2),t.append("city",this.props.userData.city),t.append("countryState",this.props.userData.countryState),t.append("postcode",this.props.userData.postcode),t.append("phoneNumber",this.props.userData.phoneNumber),t.append("permission_contact",this.props.userData.permission_contact),t.append("ethnicity",this.state.ethnicity);var a,o=h+"/api/account/basicinformation";if(a=localStorage.getItem("userAuthToken")?JSON.parse(localStorage.getItem("userAuthToken")):JSON.parse(localStorage.getItem("user")),this.setState({submitted:!0}),this.props.userData.name&&this.props.userData.lastName&&this.props.userData.email&&this.props.userData.phoneNumber){this.setState({loading:!0});var s={headers:{"content-type":"multipart/form-data",Authorization:a.token}};Ki.a.post(o,t,s).then((function(t){localStorage.setItem("country",t.data.user.countryCode),e.shouldBlockNavigation=!1,e.props.fetchUserDetails(),e.setState({offset:0,postComment:"",postImage:"",postFile:{},submitted:!1,loading:!1}),at.b.success(t.data.message)}),(function(e){at.b.error(e.data.message)}))}}},{key:"render",value:function(){var e,t=this,a=this.state,o=a.submitted,n=a.loading,r=a.countryCode,i=a.ethnicity;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Your information - account details",ye),s.a.createElement("meta",{property:"og:title",content:"Your information - account details"+ye}),s.a.createElement("meta",{property:"og:description",content:"It\u2019s all about you! In this section of your dashboard you can upload a profile image, update your contact details or set yourself a username."}),s.a.createElement("meta",{property:"og:image",content:Ze}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Blue mountains with blue sky"})),s.a.createElement(qo.a,{when:this.shouldBlockNavigation,message:this.handleBlockedNavigation}),s.a.createElement("div",{className:""},s.a.createElement("div",{className:"text-new"},s.a.createElement("p",{className:"font-medium black-txt font-21 m-t-10 member-txt"},"Account Details"),s.a.createElement("div",{className:"avatar-upload col-md-12 clearfix p-0 m-t-20"},s.a.createElement("div",{className:"avatar-preview"},s.a.createElement("img",{className:"img-fluid rounded-circle",src:this.props.userData.profilePic?w+"/profile/"+this.props.userData.profilePic:D+"no-image.png"})),s.a.createElement("a",{className:"font-book font-16  upload-btn",href:"javascript:void(0)",onClick:function(){document.getElementById("post_image").click()}},s.a.createElement("u",null,"Upload new image"),s.a.createElement("input",{type:"file",onChange:this.onImageChange,className:"filetype",style:{display:"none"},accept:"image/x-png,image/jpg,image/jpeg",id:"post_image"})))),s.a.createElement("div",{className:"col-md-12 p-t-20 clearfix"},s.a.createElement("div",{className:"row account_basic_info"},s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 m-b-10 p-l-0"},s.a.createElement("label",{className:"font-14 black-txt font-semibold col-sm-12  pl-0",htmlFor:"name"},"First Name ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control input_field font-qregular ",name:"name",placeholder:"Firstname",type:"text",onChange:this.handleChange,value:this.props.userData.name}),o&&!this.props.userData.name&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required")),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 m-b-10 p-l-0"},s.a.createElement("label",{className:"font-14 black-txt font-semibold col-sm-12  pl-0",htmlFor:"lastName"},"Last Name ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control input_field font-qregular  input-control",name:"lastName",placeholder:"Lastname",type:"text",onChange:this.handleChange,value:this.props.userData.lastName}),o&&!this.props.userData.lastName&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required"))),s.a.createElement("div",{className:"row account_basic_info"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 m-b-10 p-l-0"},s.a.createElement("label",{className:"font-14 black-txt font-semibold col-sm-12  pl-0",htmlFor:"nickname"},"Username"),s.a.createElement("input",{className:"form-control input_field font-qregular ",name:"nickname",placeholder:"Username",type:"text",onChange:this.handleChange,value:this.props.userData.nickname}))),s.a.createElement("div",{className:"row account_basic_info"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 m-b-10 p-l-0"},s.a.createElement("label",{className:"font-14 black-txt font-semibold col-sm-12  pl-0",htmlFor:"email"},"Email Address ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{className:"form-control input_field font-qregular ",name:"email",placeholder:"Email Address",type:"text",onChange:this.handleChange,value:this.props.userData.email})),o&&!this.props.userData.email&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 m-b-10 p-l-0"},s.a.createElement("label",{className:"font-14 black-txt font-semibold col-sm-12  pl-0"},"Your gender"),s.a.createElement("div",{className:"sel_options form-control input_field font-qregular "},s.a.createElement("span",{className:"arrow_sel"}),s.a.createElement("select",{name:"gender",value:this.props.userData.gender,className:"",onChange:this.handleChange},s.a.createElement("option",null,"Select gender"),s.a.createElement("option",{value:"1"},"Male"),s.a.createElement("option",{value:"2"},"Female")))),("gb"==r||"us"==r)&&s.a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 m-b-10 p-l-0"},s.a.createElement("label",{className:"font-14 black-txt font-semibold col-sm-12  pl-0"},"Your ethnicity"),s.a.createElement("div",{className:"sel_options form-control input_field font-qregular "},s.a.createElement("span",{className:"arrow_sel"}),s.a.createElement("select",{value:i,name:"ethnicity",className:"",onChange:this.updateEthnicity},s.a.createElement("option",null,"Select ethnicity"),this.state.ethnicityList&&this.state.ethnicityList.length>0&&this.state.ethnicityList.map((function(e,t){return e.options.map((function(e,t){return s.a.createElement("option",{value:e},e)}))})))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-8 col-md-12 col-sm-12 m-b-10 p-l-0 phone_inputs_field"},s.a.createElement("label",{className:"font-14 black-txt font-semibold col-sm-12  pl-0"},"Your phone number ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(nc.a,{country:this.props.userData.phoneNumber?"":r,value:this.props.userData.phoneNumber?this.props.userData.phoneNumber.toString():this.props.userData.phoneNumber,onChange:function(e){var a={};a.phoneNumber=e,t.props.updateUserdataRedex(a),t.shouldBlockNavigation=!0},inputClass:"w-100 input_field font-qregular",inputProps:{name:"phoneNumber"}}),o&&!this.props.userData.phoneNumber&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-8 col-md-12 col-sm-12 m-b-10 p-l-0"},s.a.createElement("label",{className:"font-14 black-txt font-semibold col-sm-12  pl-0"},"Your country"),s.a.createElement("div",{className:"sel_options form-control input_field font-qregular "},s.a.createElement("span",{className:"arrow_sel"}),s.a.createElement("select",{value:this.props.userData.country,className:"",onChange:this.updateCountry},s.a.createElement("option",null,"Select country"),this.props.countriesList.map((function(e,t){return s.a.createElement("option",{key:"country_"+e.id,value:e.id},e.countryName)})))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-8 col-md-9 col-sm-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-5 col-md-6 col-sm-12 m-b-10 p-l-0"},s.a.createElement("label",{className:"font-14 black-txt font-semibold col-sm-12  pl-0"},"Flat, Apt, Suite etc."),s.a.createElement("input",{type:"text",className:"form-control input_field font-qregular ",id:"address1","aria-describedby":"emailHelp",placeholder:"",name:"address1",value:this.props.userData.address1,onChange:this.handleChange})),s.a.createElement("div",{className:"col-lg-7 col-md-6 col-sm-12 m-b-10 p-l-0"},s.a.createElement("label",{className:"font-14 black-txt font-semibold col-sm-12  pl-0"},"Street address"),s.a.createElement("input",{type:"text",className:"form-control input_field font-qregular",id:"address2","aria-describedby":"emailHelp",placeholder:"",name:"address2",value:this.props.userData.address2,onChange:this.handleChange}))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-8 col-md-12 col-sm-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 m-b-10 p-l-0"},s.a.createElement("label",{className:"font-14 black-txt font-semibold col-sm-12  pl-0"},"City"),s.a.createElement("input",{type:"text",className:"form-control input_field font-qregular",id:"city","aria-describedby":"emailHelp",placeholder:"",name:"city",value:this.props.userData.city,onChange:this.handleChange})),s.a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 m-b-10 p-l-0"},s.a.createElement("label",{className:"font-14 black-txt font-semibold col-sm-12  pl-0"},"County or State"),s.a.createElement("input",{type:"text",className:"form-control input_field font-qregular",id:"countryState","aria-describedby":"emailHelp",placeholder:"",name:"countryState",value:this.props.userData.countryState,onChange:this.handleChange}))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4 col-md-12 col-sm-12 m-b-10 p-l-0"},s.a.createElement("label",{className:"font-14 black-txt font-semibold col-sm-12  pl-0"},"Postcode or Zipcode"),s.a.createElement("input",{type:"text",className:"form-control input_field font-qregular ",id:"postcode","aria-describedby":"emailHelp",placeholder:"",name:"postcode",value:this.props.userData.postcode,onChange:this.handleChange}))),s.a.createElement("div",{className:"row toggle-btns float-left w-100 m-b-30"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 m-b-10 m-t-20 p-l-0 d-flex align-items-center"},s.a.createElement("span",{className:"font-16 font-qregular black-txt col-11 p-0"},"I consent to being contacted by any employee or contractor of Beam in an emergency situation."),s.a.createElement("label",{className:"switch m-l-10 pull-right col-1 p-0 radio_slider",htmlFor:"permission_contact"},s.a.createElement("input",{type:"checkbox",name:"permission_contact",id:"permission_contact",checked:this.props.userData.permission_contact,onChange:function(){var e={};e.permission_contact=!t.props.userData.permission_contact,t.props.updateUserdataRedex(e),t.shouldBlockNavigation=!0},value:this.props.userData.permission_contact}),s.a.createElement("div",{className:"slider round"})))),s.a.createElement("div",{className:"save_chnges_btn"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 m-b-10 m-t-20 p-l-0 row"},s.a.createElement("button",{disabled:n,onClick:this.onSubmitProfile,className:"btn btn-purple-inverse font-14 font-medium save-btn"},"Save Changes"))))),s.a.createElement(Tl,(e={title:"Want to save changes?",desc:"We noticed you have made changes to your basic info but not saved them.  Would you like to save these changes?",yesButton:"Cancel changes",noButton:"Save changes",isConfirmation:!0,is_model_open:this.state.isDirtyModalOpen},Object(rs.a)(e,"isConfirmation",!0),Object(rs.a)(e,"closeConfirmationPopup",this.closeConfirmationPopup),e)))}}]),a}(s.a.Component),om={fetchUserDetails:ao,getRegionList:Dt,getCountriesList:Lt,updateUserdataRedex:Ba,getTagsBasedOnType:qt,getOnboardingTags:Kt},sm=Object(i.b)((function(e){return{logged_userData:e.header.logged_userData}}),om)(am),nm=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).closeModel=function(){o.setState({isConditionModalOpen:!1})},o.changeHealthCondition=function(e){var t=[];t.push(e),o.setState({health_condition:t}),o.props.registerFormvalues.health_condition=t,o.props.registerFormvalues.condition_professions=[],o.setState({isConditionModalOpen:!0}),o.props.setConditionIndex(0),o.props.setStep(11),o.props.userData.conditionList&&o.props.userData.conditionList.includes(e.id)?(o.setState({isUpdate:!0}),o.populateExistingData(e.id)):(o.setState({isUpdate:!1}),o.props.registerformUpdate(o.props.registerFormvalues))},o.populateExistingData=function(e){var t=o.authData.UserConditions.filter((function(t){return t.conditionId==e}));console.log("populateExistingData---",t),o.props.registerFormvalues.condition_professions=t,o.props.registerFormvalues.profession=se.findIndex((function(e){return e===t[0].conditionRelationship})).toString(),o.props.registerFormvalues.healthcondition_livewith=ne.findIndex((function(e){return e===t[0].caregiverType})).toString(),o.props.registerFormvalues.midicalcondition_livewith=re.findIndex((function(e){return e===t[0].profession})).toString(),o.props.registerFormvalues.cancer_comordities=_o.returnTagId("pc-comorbidities",o.authData.Tags),o.props.registerFormvalues.cancer_treatment=_o.returnTagId("pc-treatment",o.authData.Tags),o.props.registerFormvalues.cf_comordities=_o.returnTagId("cf-comorbidities",o.authData.Tags),o.props.registerFormvalues.cf_disease_severity=_o.returnTagId("cf-disease-severity",o.authData.Tags),o.props.registerFormvalues.comorbidities=_o.returnTagId("comorbidities",o.authData.Tags),o.props.registerFormvalues.kidney_care_provider=_o.returnTagId("kidney-care-provider",o.authData.Tags),o.props.registerFormvalues.movement_prefs=_o.returnTagId("movementPrefs",o.authData.Tags),console.log("myconditionsthis.props.registerFormvalues",o.props.registerFormvalues),o.props.registerformUpdate(o.props.registerFormvalues)},o.updateUserTags=function(){var e=[o.props.registerFormvalues.condition_professions[0].conditionId];if(e){var t={conditionId:e,condition_professions:o.props.registerFormvalues.condition_professions,condition_membership:o.props.registerFormvalues.condition_membership,registerFormvalues:o.props.registerFormvalues};o.props.updateUserConditions(t).then((function(){o.props.fetchUserDetails()})),o.closeModel()}},o.returnConditionBasedData=function(e,t){var a;switch(t){case"connection":var s=Eo.a.filter(o.props.userData.UserConditions,(function(t){return t.conditionId==e.id}));a=s.length?s[0].conditionRelationship:"None";break;case"comorbidities":"prostate cancer"==e.tag?t="pc-comorbidities":e.tag==N?t="comorbidities":e.tag==k&&(t="cf-comorbidities"),a=Eo.a.filter(o.props.userData.Tags,(function(e){return e.type==t?e.type:""})).map((function(e){return e.tag})).toString();break;case"clinics":var n=Eo.a.filter(o.props.userData.UserConditions,(function(t){return t.conditionId==e.id}));a="None",n.length&&(a=n[0].clinicName?n[0].clinicName:n[0].Clinic?n[0].Clinic.clinicName:"None");break;case"severity":a=Eo.a.filter(o.props.userData.Tags,(function(e){return"cf-disease-severity"==e.type})).map((function(e){return le[e.tag]})).toString();break;case"careprovider":a=Eo.a.filter(o.props.userData.Tags,(function(t){return e.tag==N?"kidney-care-provider"==t.type:""})).map((function(e){return e.tag})).toString();break;case"treatment":a=Eo.a.filter(o.props.userData.Tags,(function(t){return"prostate cancer"==e.tag?"pc-treatment"==t.type:""})).map((function(e){return e.tag})).toString();break;case"movement":a=Eo.a.filter(o.props.userData.Tags,(function(t){return e.tag==k?"movementPrefs"==t.type:""})).map((function(e){return e.tag})).toString()}return a},o.conditonClassList=Object(Lo.a)(R),o.state={selectedCondition_list:[],isConditionModalOpen:!1,authDataMycondition:[]},o.updateHealthCondition=o.updateHealthCondition.bind(Object(is.a)(o)),o.authData=JSON.parse(localStorage.getItem("userDetails"))||o.props.logged_userData,o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("authData",this.authData)}},{key:"componentWillReceiveProps",value:function(){this.conditonClassList=Object(Lo.a)(R)}},{key:"getColorClass",value:function(){var e=this.conditonClassList.pop();return this.conditonClassList.unshift(e),e}},{key:"updateHealthCondition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];console.log("updateHealthCondition",e);var o=[],s=Object(Lo.a)(this.props.userData.conditionList),n=Object(m.a)({},this.props.userData),r=this.props.userData.conditionList.findIndex((function(t){return t===e.id}));r>-1?(o.splice(r,1),s.splice(r,1)):(o.push(e.id),s.push(e.id));var i={};i.conditionList=s,console.log("newValue",i),this.updateMyConditions(o,n,t,a),this.props.updateUserdataRedex(i);var l=this;this.props.healthcondition_list.map((function(e){i.conditionList.length>1?l.props.updateInitialCondition(k):e.id===i.conditionList[0]&&l.props.updateInitialCondition(e.tag)}))}},{key:"updateMyConditions",value:function(e,t){var a=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s={conditionId:e,condition_professions:this.props.registerFormvalues.condition_professions,condition_membership:this.props.registerFormvalues.condition_membership,registerFormvalues:this.props.registerFormvalues};o&&(s.condition_professions=[]),console.log("myCoditionList",s),this.props.updateMyConditions(s).then((function(e){if(!o){var t={from:{pathname:"/on-demand/"+a.state.health_condition[0].tag.replace(/ /g," ")}}.from;a.props.history.push(t)}var s=Object(m.a)({},a.props.userData);console.log("updateMyConditions-response",e),console.log("tempUserData",s),s.UserConditions=e.userConditions,s.membershipData.userPlanDetails=e.userPlanDetails,a.props.updateUserdataRedex(s),a.props.setExploreConditions(e.userConditions,a.props.healthcondition_list),at.b.success(e.message),a.closeModel()}),(function(){a.props.updateUserdataRedex(t),a.closeModel()}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Your health conditions - account details",ye),s.a.createElement("meta",{property:"og:title",content:"Your health conditions - account details"+ye}),s.a.createElement("meta",{property:"og:description",content:"The health conditions that you told us you use Beam for are listed here so that you have easy access to all of our resources for each condition at the click of a button."}),s.a.createElement("meta",{property:"og:image",content:Xe}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Blue mountains with blue sky"})),s.a.createElement("p",{className:"font-medium black-txt font-21 m-t-10 m-b-30"},"My Conditions"),this.props.healthcondition_list.map((function(t,a){return console.log("item",t),s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12 "},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8 p-l-0"},s.a.createElement("span",{className:"font-medium black-txt font-21 capitalize_text"},t.tag)),s.a.createElement("div",{className:"col-md-4 text-center p-l-0 p-r-0"},s.a.createElement("button",{disabled:e.state.loading,key:"condition_"+a,onClick:function(){return e.changeHealthCondition(t)},className:"w-100 btn font-semibold text-center "+(e.props.userData.conditionList&&e.props.userData.conditionList.includes(t.id)?"btn-purple":"btn-purple-inverse")},e.props.userData.conditionList&&e.props.userData.conditionList.includes(t.id)?"Update details":"Add condition")),s.a.createElement("div",{className:"col-md-12 p-0"}," ",s.a.createElement("hr",null)),e.props.userData.conditionList&&e.props.userData.conditionList.includes(t.id)&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6 m-b-5 p-l-0"},s.a.createElement("p",{className:"font-16 font-semibold"},"Your connection to the condition:")),s.a.createElement("div",{className:"col-md-6 p-l-0"},s.a.createElement("p",{className:"font-16 font-medium"},e.returnConditionBasedData(t,"connection"))),s.a.createElement("div",{className:"col-md-6 m-b-5 p-l-0"},s.a.createElement("p",{className:"font-16 font-semibold"},"Comorbidities:")),s.a.createElement("div",{className:"col-md-6 p-l-0"},s.a.createElement("p",{className:"font-16 font-medium"},e.returnConditionBasedData(t,"comorbidities"))),"prostate cancer"==t.tag&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-md-6 m-b-5 p-l-0"},s.a.createElement("p",{className:"font-16 font-semibold"},"Treatment:")),s.a.createElement("div",{className:"col-md-6 p-l-0"},s.a.createElement("p",{className:"font-16 font-medium"},e.returnConditionBasedData(t,"treatment")))),t.tag==k||"prostate cancer"==t.tag||t.tag==N&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-md-6 m-b-5 p-l-0"},s.a.createElement("p",{className:"font-16 font-semibold"},"Your clinic:")),s.a.createElement("div",{className:"col-md-6 p-l-0"},s.a.createElement("p",{className:"font-16 font-medium"},e.returnConditionBasedData(t,"clinics")))),t.tag==N&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-md-6 m-b-5 p-l-0"},s.a.createElement("p",{className:"font-16 font-semibold"},"Care provider:")),s.a.createElement("div",{className:"col-md-6 p-l-0"},s.a.createElement("p",{className:"font-16 font-medium"},e.returnConditionBasedData(t,"careprovider")))),t.tag==k&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-md-6 m-b-5 p-l-0"},s.a.createElement("p",{className:"font-16 font-semibold"},"Your health over the past 12 months:")),s.a.createElement("div",{className:"col-md-6 p-l-0"},s.a.createElement("p",{className:"font-16 font-medium"},e.returnConditionBasedData(t,"severity")))))),s.a.createElement("div",{className:"col-md-12 p-0"}," ",s.a.createElement("hr",null))))))})),s.a.createElement(yi,{ismodel_open:this.state.isConditionModalOpen,closeModel:this.closeModel,conditionList:this.props.healthcondition_list,submitCondition:this.updateHealthCondition,isUpdateMyConditions:this.state.isUpdate,updateUserTags:this.updateUserTags}))}}]),a}(s.a.Component),rm={healthCondition:Mt,start_loader:ht,stop_loader:gt,updateUserdataRedex:Ba,updateMyConditions:oo,updateInitialCondition:function(e){return console.log("updateInitialCondition",e),function(t,a){t({type:"set_initial_condition",payload:e})}},logout:it,isAuth:rt,registerformUpdate:Ot,fetchConditionRelationships:Pt,getPlanByCountry:Gt,setStep:Ct,setConditionIndex:Bt,getLicenseList:Yt,setExploreConditions:no,updateUserConditions:ro,fetchUserDetails:ao},im=Object(i.b)((function(e){return{healthcondition_list:e.register.healthcondition_list,userData:e.header.logged_userData,registerFormvalues:e.register.registerFormValues}}),rm)(nm),lm=a(329),cm=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).renderRSMembership1=function(){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 m-b-10 p-l-0"},s.a.createElement("label",{className:"font-14 black-txt font-qmedium col-sm-12  pl-0",htmlFor:"promocode"},s.a.createElement("b",null,"Remove Account"),s.a.createElement("p",{className:"font-qregular font-14 balck-txt m-t-10"},"To remove your Beam account and erase any personal data we hold about you please email ",s.a.createElement("strong",null,"hello@beamfeelgood.com")," with your request.")))))},o.state={membershipData:{},ismodel_open:!1,promo_ismodel_open:!1,membership_plans:[],promocode:"",membership_step:1,payment_data:{},planData:{},card_view_count:3,showMemberButton:!1,is_onboard_membership_open:!1,health_conditionId:0,condition_name:"",isUpgradeClicked:!1,countryPlans:[],condition:"",isLoading:!1,isConditionModalOpen:!1,isFreeTrial:!1,isNoThanksModal:!1},o.get_membership=o.get_membership.bind(Object(is.a)(o)),o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.promocodeSubmit=o.promocodeSubmit.bind(Object(is.a)(o)),o.submitPayment=o.submitPayment.bind(Object(is.a)(o)),o.paymentPrevStep=o.paymentPrevStep.bind(Object(is.a)(o)),o.renderRSMembership=o.renderRSMembership.bind(Object(is.a)(o)),o.renderCoreMembership=o.renderCoreMembership.bind(Object(is.a)(o)),o.checkMembershipCases=o.checkMembershipCases.bind(Object(is.a)(o)),o.submitMembershipData=o.submitMembershipData.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.get_membership();var t=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;this.props.getLicenseList(),this.props.getPlanByCountry(t.country).then((function(t){e.setState({countryPlans:t.plans})}));var a=window.location.search;a&&-1!==a.indexOf("member")&&this.fetchPlans(),this.props.registerFormValues.userid=t.id,this.props.registerFormValues.firstname=t.name,this.props.registerFormValues.age=_o.calculateAge(bo()(t.dob).format("DD-MM-YYYY")),this.props.registerFormValues.health_condition=t.UserConditions,this.props.registerFormValues.country=t.country,this.props.registerFormValues.region=t.region,this.props.registerFormValues.condition_professions=t.UserConditions,this.props.registerformUpdate(this.props.registerFormValues);var o=Go.Cookies.get("condition")?Go.Cookies.get("condition"):"";this.setState({condition:o}),this.props.setConditionIndex(0),this.props.setStep(11)}},{key:"get_membership",value:function(){var e=this;this.props.start_loader(),this.setState({isLoading:!0}),this.props.get_membership().then((function(t){console.log("response",t),e.props.stop_loader(),e.setState({promocode:"",membershipData:t.data?t.data:{},isLoading:!1})}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"cancelSubscription",value:function(e){var t=this;this.props.start_loader(),this.props.cancelSubscription({isMemberCondition:e,currentPlanId:this.state.currentPlanId,conditionName:this.state.conditionName}).then((function(e){t.props.stop_loader(),t.get_membership(),t.getUserDetail(),at.b.success(e.message)}),(function(e){t.props.stop_loader(),at.b.error(e)}))}},{key:"getUserDetail",value:function(){this.props.fetchUserDetails().then((function(e){}),(function(e){}))}},{key:"fetchPlans",value:function(){var e=this,t=this.props.IP_Details&&this.props.IP_Details.countryCode?this.props.IP_Details.countryCode:"";if(!this.state.fetchLoader){this.setState({fetchLoader:!0});var a=this.props.logged_userData.membershipData&&this.props.logged_userData.membershipData.countryCode?this.props.logged_userData.membershipData.countryCode:t;this.props.fetchMembershipPlans(a).then((function(t){t&&e.setState({membership_plans:t.plans,fetchLoader:!1,ismodel_open:!0})}),(function(t){e.setState({ismodel_open:!1,fetchLoader:!1}),at.b.error(t)}))}}},{key:"_helpContent",value:function(){return s.a.createElement("div",null,!this.state.condition.toLowerCase().includes("research")&&s.a.createElement("p",{className:"font-qregular font-14 balck-txt m-t-10"},"Question? Check out our"," ",s.a.createElement("a",{href:"javascript:void(0)",className:" font-14 orangefont"},s.a.createElement("u",null,"FAQ"))," ","or"," ",s.a.createElement(Qo.b,{to:"/contact-us",className:"font-14 orangefont"},s.a.createElement("u",null,"Contact Us"))))}},{key:"renderCondtion1",value:function(){var e=this.state.membershipData.plan&&this.state.membershipData.plan.trialEnds?bo()(new Date(this.state.membershipData.plan.trialEnds.replace(/-/g,"/").replace(/T.+/,""))).format("Do MMMM YYYY"):"";return s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Membership Plan"),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 clearfix p-l-0"},s.a.createElement("div",{className:"card-body font-qmedium black-txt font-16 text-left p-l-0 m-b-10"},s.a.createElement("p",null,"You do not currently have a membership to Beam. Your free access ended on"," ",s.a.createElement("span",{className:"font-semibold font-16 black-txt"},e,"."))," ","The Cystic Fibrosis Trust no longer provides free access to Beam automatically but don't fret - you can apply for a health and wellbeing grant"," ",s.a.createElement("a",{target:"_blank",href:"https://www.cysticfibrosis.org.uk/the-work-we-do/support-available/financial-support/grants/health-and-wellbeing-grants"},"https://www.cysticfibrosis.org.uk/the-work-we-do/support-available/financial-support/grants/health-and-wellbeing-grants"),"\xa0from them to cover your membership."),this._membershipButton("BECOME A MEMBER"),this._helpContent()),s.a.createElement("div",{className:"col-md-7"}))))}},{key:"renderCondtion2",value:function(){var e=this.state.membershipData.plan&&this.state.membershipData.plan.trialEnds?bo()(new Date(this.state.membershipData.plan.trialEnds.replace(/-/g,"/").replace(/T.+/,""))).format("Do MMMM YYYY"):"";return s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Your Membership Plan"),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 clearfix p-l-0"},s.a.createElement("div",{className:"card-body  text-left  font-qmedium font-16 black-txt p-l-0"},"The membership plan below has been provided to you free of charge courtesy of the Cystic Fibrosis Trust in the UK. Your membership is due to end on"," ",s.a.createElement("span",{className:"font-semibold font-16 black-txt"},e,".")),this.returnBoxdata(),this._membershipButton("Change Plan"),this._helpContent()),s.a.createElement("div",{className:"col-md-7"}))))}},{key:"renderCondtion3",value:function(){var e=this.state.membershipData.plan&&this.state.membershipData.plan.trialEnds?bo()(new Date(this.state.membershipData.plan.trialEnds.replace(/-/g,"/").replace(/T.+/,""))).format("Do MMMM YYYY"):"";return s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Membership Plan"),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 clearfix p-l-0"},s.a.createElement("div",{className:"card-body  text-left  font-qmedium font-16 black-txt p-l-0"},"You do not currently have a membership to Beam. Your free access ended on"," ",s.a.createElement("span",{className:"font-semibold font-16 black-txt"}," ",e,".")),this._membershipButton("BECOME A MEMBER"),this._helpContent()),s.a.createElement("div",{className:"col-md-7"}))))}},{key:"renderCondtion4",value:function(){var e=this.state.membershipData.plan&&this.state.membershipData.plan.trialEnds?bo()(new Date(this.state.membershipData.plan.trialEnds.replace(/-/g,"/").replace(/T.+/,""))).format("Do MMMM YYYY"):"";return s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Your Membership Plan"),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 clearfix p-l-0"},s.a.createElement("div",{className:"card-body  text-left  font-qmedium font-16 black-txt p-l-0"},"Your free membership is due to end on",s.a.createElement("span",{className:"font-semibold font-16 black-txt"}," ",e,".")),this.returnBoxdata(),this._membershipButton("Change Plan"),this._helpContent()),s.a.createElement("div",{className:"col-md-7"}))))}},{key:"returnBoxdata",value:function(){var e=this.state.membershipData.plan&&this.state.membershipData.plan.Plan?this.state.membershipData.plan.Plan:{};return s.a.createElement("div",null,!this.state.condition.toLowerCase().includes("research")&&s.a.createElement("div",{className:"card mb-4 col-lg-6"},s.a.createElement("div",{className:"card-body  text-center"},s.a.createElement("h5",{className:"card-title  black-txt font-semibold font-21 text-uppercase text-center"},e.name),s.a.createElement("h5",{className:"card-price text-center font-21 font-semibold purplefont"},de[e.currency]||e.currency," ",e.amount,s.a.createElement("span",{className:"period"}," per ",e.interval)),s.a.createElement("p",{className:"medium-text text-center m-t-20 abbey-txt font-14 font-qregular"},"Access to library of condition specific on demand exercise videos"),s.a.createElement("hr",{className:"w-75 mr-auto ml-auto"}),s.a.createElement("p",{className:"medium-text text-center abbey-txt font-14 font-qregular"},"Access to groups"),s.a.createElement("hr",{className:"w-75 mr-auto ml-auto"}),s.a.createElement("p",{className:"medium-text text-center abbey-txt font-14 font-qregular"},"Access to all live exercise classes"))))}},{key:"renderCondtion6",value:function(){var e=this,t=(this.state.membershipData.plan&&this.state.membershipData.plan.Plan&&this.state.membershipData.plan.Plan,this.state.membershipData.cycleDaysLeft);this.state.membershipData.plan&&this.state.membershipData.plan.trialEnds&&bo()(new Date(this.state.membershipData.plan.trialEnds.replace(/-/g,"/").replace(/T.+/,""))).format("Do MMMM YYYY");return s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Your Membership Plan"),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},!this.state.condition.toLowerCase().includes("research")&&s.a.createElement("div",{className:"col-md-5 p-l-0"},s.a.createElement("p",{className:"font-semibold font-15 black-txt"},"Your current cycle"),s.a.createElement("p",{className:"font-semibold font-15 black-txt"},t," days"," ",s.a.createElement("span",{className:"font-qregular font-15 black-txt"},"left in current cycle")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 clearfix p-l-0"},this.returnBoxdata(),this._membershipButton("Change Plan"),s.a.createElement("a",{href:"javascript:void(0)",className:"grey-text font-14 font-qregular",onClick:function(){return e.cancelSubscription(!1)}},s.a.createElement("u",null,"Cancel membership or take a break")),this._helpContent()),s.a.createElement("div",{className:"col-md-7"}))))}},{key:"renderCondtion7",value:function(){var e=this.state.membershipData.plan&&this.state.membershipData.plan.trialEnds?bo()(new Date(this.state.membershipData.plan.trialEnds.replace(/-/g,"/").replace(/T.+/,""))).format("Do MMMM YYYY"):"";return s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Membership Plan"),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 clearfix p-l-0"},s.a.createElement("div",{className:"card-body  text-left font-16 font-qmedium m-b-10 p-l-0"},"You do not currently have a membership to Beam.  Your free access,  courtesy of the Cystic Fibrosis Foundation, ended on"," ",s.a.createElement("span",{className:"font-semibold font-16 black-txt"},e,".")),this._membershipButton("BECOME A MEMBER"),this._helpContent()),s.a.createElement("div",{className:"col-md-7"}))))}},{key:"renderCondtion8",value:function(){var e=this,t=(this.state.membershipData.plan&&this.state.membershipData.plan.Plan&&this.state.membershipData.plan.Plan,this.state.membershipData.cycleDaysLeft),a=this.state.membershipData.plan&&this.state.membershipData.plan.trialEnds?bo()(new Date(this.state.membershipData.plan.trialEnds.replace(/-/g,"/").replace(/T.+/,""))).format("Do MMMM YYYY"):"";return s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Your Membership Plan"),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},!this.state.condition.toLowerCase().includes("research")&&s.a.createElement("div",{className:"col-md-5 p-l-0"},s.a.createElement("p",{className:"font-semibold font-15 black-txt"},"Your current cycle"),s.a.createElement("p",{className:"font-semibold font-15 black-txt"},t," days"," ",s.a.createElement("span",{className:"font-qregular font-15 black-txt"},"in current cycle")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 clearfix p-l-0"},s.a.createElement("p",{className:"clearfix text-left font-16 font-qmedium m-b-20 p-l-0"}," ","The membership plan below has been provided to you free of charge courtesy of the Cystic Fibrosis Foundation. Your membership is due to end on"," ",s.a.createElement("span",{className:"font-semibold font-16 black-txt"},a,".")),this.returnBoxdata(),this._membershipButton("Change Plan"),s.a.createElement("a",{href:"javascript:void(0)",className:"grey-text font-14 font-qregular",onClick:function(){return e.cancelSubscription(!1)}},s.a.createElement("u",null,"Cancel membership or take a break")),this._helpContent()),s.a.createElement("div",{className:"col-md-7"}))))}},{key:"renderCondtion9",value:function(){var e=this.state.membershipData.plan&&this.state.membershipData.plan.trialEnds?bo()(new Date(this.state.membershipData.plan.trialEnds.replace(/-/g,"/").replace(/T.+/,""))).format("Do MMMM YYYY"):"";return s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Membership Plan"),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 clearfix p-l-0"},s.a.createElement("div",{className:"card-body  text-left font-16 font-qmedium m-b-10 p-l-0"},"You do not currently have a membership to Beam. Your free access, courtesy of Beam, ended on"," ",s.a.createElement("span",{className:"font-semibold font-16 black-txt"},e,".")),this._membershipButton("BECOME A MEMBER"),this._helpContent()),s.a.createElement("div",{className:"col-md-7"}))))}},{key:"renderCondtion10",value:function(){this.state.membershipData.plan&&this.state.membershipData.plan.Plan&&this.state.membershipData.plan.Plan;var e=this.state.membershipData.cycleDaysLeft,t=this.state.membershipData.plan&&this.state.membershipData.plan.trialEnds?bo()(new Date(this.state.membershipData.plan.trialEnds.replace(/-/g,"/").replace(/T.+/,""))).format("Do MMMM YYYY"):"";return s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Your Membership Plan"),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},!this.state.condition.toLowerCase().includes("research")&&s.a.createElement("div",{className:"col-md-5 p-l-0"},s.a.createElement("p",{className:"font-semibold font-15 black-txt"},"Your current cycle"),s.a.createElement("p",{className:"font-semibold font-15 black-txt"},e," days"," ",s.a.createElement("span",{className:"font-qregular font-15 black-txt"},"left in current cycle")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 clearfix p-l-0"},s.a.createElement("p",{className:" text-left  font-qmedium font-16 black-txt "},"The membership plan below has been provided to you free of charge courtesy of Beam. Your membership is due to end on"," ",s.a.createElement("span",{className:"font-semibold font-16 black-txt"}," ",t,".")),this.returnBoxdata(),this._membershipButton("Change Plan"),this._helpContent()),s.a.createElement("div",{className:"col-md-7"}))))}},{key:"renderCondtion11",value:function(){return s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Membership Plan"),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 clearfix p-l-0"},s.a.createElement("div",{className:"card-body  text-left font-16 font-qmedium m-b-10 p-l-0"},"You do not currently have a membership to Beam."),this._membershipButton("BECOME A MEMBER"),this._helpContent()),s.a.createElement("div",{className:"col-md-7"}))))}},{key:"renderCondtion12",value:function(){return s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Membership Plan"),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 clearfix p-l-0"},s.a.createElement("div",{className:"card-body  text-left font-16 font-qmedium m-b-10 p-l-0"},"You do not currently have a membership to Beam but you\u2019re yet to cash in on your 2 week free trial. To do so, head over to our mobile app."),this._membershipButton("BECOME A MEMBER"),this._helpContent()),s.a.createElement("div",{className:"col-md-7"}))))}},{key:"renderCondtion13",value:function(){var e=this.state.membershipData.plan&&this.state.membershipData.plan.trialEnds?bo()(new Date(this.state.membershipData.plan.trialEnds.replace(/-/g,"/").replace(/T.+/,""))).format("Do MMMM YYYY"):"";return s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Your Membership Plan"),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-5 p-l-0"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 clearfix p-l-0"},s.a.createElement("p",{className:" text-left  font-qmedium font-16 black-txt "},"The membership plan below has been provided to you free of charge courtesy of Cystic Fibrosis Ireland. Your membership is due to end on"," ",s.a.createElement("span",{className:"font-semibold font-16 black-txt"}," ",e,".")),this.returnBoxdata(),this._membershipButton("Change Plan"),this._helpContent()),s.a.createElement("div",{className:"col-md-7"}))))}},{key:"renderCondtion15",value:function(){var e=this.state.membershipData.plan&&this.state.membershipData.plan.trialEnds?bo()(new Date(this.state.membershipData.plan.trialEnds.replace(/-/g,"/").replace(/T.+/,""))).format("Do MMMM YYYY"):"";return s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Your Membership Plan"),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-5 p-l-0"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 clearfix p-l-0"},s.a.createElement("p",{className:" text-left  font-qmedium font-16 black-txt "},"The membership plan below has been provided to you free of charge courtesy of Kidney Research UK. Your membership is due to end on "," ",s.a.createElement("span",{className:"font-semibold font-16 black-txt"}," ",e,".")),this.returnBoxdata(),this._membershipButton("Change Plan"),this._helpContent()),s.a.createElement("div",{className:"col-md-7"}))))}},{key:"_membershipButton",value:function(e){var t=this;return s.a.createElement("div",null,!this.state.condition.toLowerCase().includes("research")&&s.a.createElement("div",{className:"clearfix m-b-30 col-lg-6 p-0"},s.a.createElement("button",{className:"btn btn-purple-inverse font-medium font-14 save-btn w-100",onClick:function(){return t.fetchPlans()}},e)))}},{key:"onCloseModal",value:function(){}},{key:"closeModel",value:function(){this.setState({ismodel_open:!1,promo_ismodel_open:!1,is_onboard_membership_open:!1,isUpgradeClicked:!1,isConditionModalOpen:!1})}},{key:"startTrail",value:function(e,t){var a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={planId:e.id,type:t};if("change_plan"===t){var n=this.state.payment_data;(new Date).getMonth(),(new Date).getFullYear();s.card_name=n.card_name,s.number=n.card_number,s.exp_month=n.card_exp_month,s.exp_year=n.card_exp_year,s.cvc=n.card_security_code,s.card_zipcode=n.card_zipcode}"promo"===t&&(s.promocode=this.state.promocode,s.planId=this.state.promocode),Object.keys(o).length&&(s.isMemberCondition=!0,s.membershipData=o),this.props.start_loader(),this.closeModel(),this.props.changePlan(s).then((function(e){a.setState({membership_step:1,payment_data:{}}),a.get_membership(),a.getUserDetail(),at.b.success(e.message),a.props.registerFormValues.condition_membership=[],a.props.registerformUpdate(a.props.registerFormValues)}),(function(e){a.props.stop_loader(),at.b.error(e),a.props.registerFormValues.condition_membership=[],a.props.registerformUpdate(a.props.registerFormValues)}))}},{key:"mainRender",value:function(){var e;switch(console.log("this.state.membershipData.accounttype",this.state.membershipData.accounttype),this.state.membershipData.accounttype){case 1:e=this.renderCondtion1();break;case 2:e=this.renderCondtion2();break;case 3:e=this.renderCondtion3();break;case 4:e=this.renderCondtion4();break;case 5:case 6:e=this.renderCondtion6();break;case 7:e=this.renderCondtion7();break;case 8:e=this.renderCondtion8();break;case 9:e=this.renderCondtion9();break;case 10:e=this.renderCondtion10();break;case 11:e=this.renderCondtion11();break;case 12:e=this.renderCondtion12();break;case 13:e=this.renderCondtion13();break;case 14:e=this.renderCondtion11();break;case 15:e=this.renderCondtion15();break;case 16:default:e=this.renderCondtion11()}return e}},{key:"handleChange",value:function(e){var t,a=e.target,o=a.name,s=a.value,n={};n[o]=s,this.setState((t={},Object(rs.a)(t,o,s),Object(rs.a)(t,"promoCodeErr",!1),t)),this.props.updateUserdataRedex(n)}},{key:"promocodeSubmit",value:function(e){var t=this;this.setState({submitted:!0}),this.props.userData.promocode&&this.props.userData.promocode.trim()?(this.props.start_loader(),this.setState({promoCodeErr:!1,submitted:!1}),this.props.getPromocodePaln(this.props.userData.promocode.trim()).then((function(a){t.props.stop_loader();var o=a.plans.length>0?a.plans[0]:{};if(console.log("promoPlans",o),e)if(t.props.userData.conditionList&&t.props.userData.conditionList.includes(o.conditionId))t.setState({promoPlansData:o,planData:o?o.Plan:{},is_onboard_membership_open:!0,health_conditionId:o.conditionId});else{console.log("promoPlans-else");var s=[];t.props.healthcondition_list.map((function(e){e.id===o.conditionId&&s.push(e)})),t.setState({health_condition:s}),t.props.registerFormValues.health_condition=s,t.props.registerFormValues.condition_professions=[],t.setState({isConditionModalOpen:!0,promoPlansData:o,planData:o?o.Plan:{},health_conditionId:o.conditionId}),t.props.registerformUpdate(t.props.registerFormValues)}else t.setState({promoPlansData:o,planData:o?o.Plan:{},promo_ismodel_open:!0,is_onboard_membership_open:!1})}),(function(e){t.props.stop_loader(),at.b.error(e),t.closeModel()}))):this.setState({promoCodeErr:!0})}},{key:"membershipPlanPage",value:function(){var e=this,t={dots:!0,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1};return this.state.membership_plans.length>0?s.a.createElement("div",null,s.a.createElement("div",{className:"row pricing pricing-mobile"},s.a.createElement(li.a,t,this.state.membership_plans.map((function(t,a){return s.a.createElement("div",{className:"",key:a},s.a.createElement("div",{className:"card mb-5 mb-lg-0"},s.a.createElement("div",{className:"card-body height-fix text-center"},s.a.createElement("h5",{className:"card-title text-body font-semibold font-21 black-txt text-uppercase text-center"},t.name),s.a.createElement("h5",{className:" text-center font-21 font-semibold purplefont"},de[t.currency]||t.currency," ",t.amount,s.a.createElement("span",{className:"period"}," per ",t.interval)),s.a.createElement("figure",{className:"text-center"},s.a.createElement("img",{src:D+"member_ship/membership_"+(a+1)+".png",className:"img-fluid img-responsive w-70",alt:""})),s.a.createElement("p",{className:"font-14 black-txt text-center m-t-20 font-qregular"},"Access to on-demand exercise video library."),s.a.createElement("hr",{className:"w-75 mr-auto ml-auto"}),s.a.createElement("p",{className:"font-14 black-txt text-center m-t-20 font-qregular"},"Access to groups"),s.a.createElement("hr",{className:"w-75    mr-auto ml-auto"}),s.a.createElement("p",{className:"font-14 black-txt text-center m-t-20 font-qregular"},"Access to all live exercise classes"),s.a.createElement("button",{className:"btn btn-orange m-t-20 font-medium font-14",onClick:function(){return e.renderPayment(t)}},"Sign me up!"))))})))),s.a.createElement("div",{className:"row pricing pricing-desktop"},this.state.membership_plans.map((function(t,a){return s.a.createElement("div",{className:"col p-l-0",key:a},s.a.createElement("div",{className:"card mb-5 mb-lg-0"},s.a.createElement("div",{className:"card-body height-fix text-center"},s.a.createElement("h5",{className:"card-title text-body font-semibold font-21 black-txt text-uppercase text-center"},t.name),s.a.createElement("h5",{className:" text-center font-21 font-semibold purplefont"},de[t.currency]||t.currency," ",t.amount,s.a.createElement("span",{className:"period"}," per ",t.interval)),s.a.createElement("figure",{className:"text-center"},s.a.createElement("img",{src:D+"member_ship/membership_"+(a+1)+".png",className:"img-fluid img-responsive w-70",alt:""})),s.a.createElement("p",{className:"font-14 black-txt text-center m-t-20 font-qregular"},"Access to on-demand exercise video library."),s.a.createElement("hr",{className:"w-75 mr-auto ml-auto"}),s.a.createElement("p",{className:"font-14 black-txt text-center m-t-20 font-qregular"},"Access to groups"),s.a.createElement("hr",{className:"w-75    mr-auto ml-auto"}),s.a.createElement("p",{className:"font-14 black-txt text-center m-t-20 font-qregular"},"Access to all live exercise classes"),s.a.createElement("button",{className:"btn btn-orange m-t-20 font-medium font-14",onClick:function(){return e.renderPayment(t)}},"Sign me up!"))))})))):s.a.createElement("div",{className:"row pricing"},s.a.createElement("div",{className:"col-sm-12 text-center"},"No membership plans!"))}},{key:"submitPayment",value:function(e){console.log("submitpayment",e),this.setState({payment_data:Object(m.a)({},e)},(function(){this.state.submittedMembershipData.isMembershipCondition?this.startTrail(this.state.countryPlans,"change_plan",this.state.submittedMembershipData):this.startTrail(this.state.planData,"change_plan")}))}},{key:"progressPayment",value:function(){if(!(this.state.payment_data.card_name&&this.state.payment_data.card_number&&lm.number(this.state.payment_data.card_number).isValid&&this.state.payment_data.card_exp_month&&this.state.payment_data.card_exp_month<=12&&this.state.payment_data.card_exp_year&&this.state.payment_data.card_exp_year>=(new Date).getFullYear()&&this.state.payment_data.card_security_code&&this.state.payment_data.card_security_code.length===lm.number(this.state.payment_data.card_number).card.code.size&&this.state.payment_data.card_zipcode))return!1;this.state.submittedMembershipData.isMembershipCondition?this.startTrail(this.state.countryPlans,"change_plan",this.state.submittedMembershipData):this.startTrail(this.state.planData,"change_plan")}},{key:"paymentPage",value:function(e){}},{key:"renderPayment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({planData:e,membership_step:2})}},{key:"paymentPrevStep",value:function(){this.setState({membership_step:1})}},{key:"renderRSMembership",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Your Beam Membership(s)"),this.state.membershipData.plan&&this.state.membershipData.plan.length>0&&this.state.membershipData.plan.map((function(t,a){return s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-7 m-b-20 p-l-0"},s.a.createElement("img",{src:D+"logo.png",id:"icon",className:"img-fluid m-b-10 logo-size",alt:"beam logo"}),s.a.createElement("br",null),s.a.createElement("span",{className:"purplefont font-bold font-18 align-bottom text-capitalize font-qbold pre-wrap"},t.Tag&&t.Tag.tag)),e.renderMembershipContent(t,"RS"))),s.a.createElement("hr",null))})),s.a.createElement("div",{className:" m-b-10 p-l-0"},s.a.createElement("label",{className:"font-14 black-txt font-qmedium col-sm-12  pl-0",htmlFor:"remove"},s.a.createElement("label",{for:"remove",class:"text-label"},"Remove Account"),s.a.createElement("p",{className:"font-qregular font-14 balck-txt m-t-10"},"To remove your Beam account and erase any personal data we hold about you please email ",s.a.createElement("strong",null,"hello@beamfeelgood.com")," with your request."))))}},{key:"checkMembershipCases",value:function(e,t,a){console.log("checkMembershipCasesitem",e);var o="",s=bo()().format("YYYY-MM-DD");console.log("NOW",s),console.log("item.trialEnds",e.trialEnds);var n=bo()(e.trialEnds).utc().format("YYYY-MM-DD");console.log("trialEnds",n);var r={member:!1,cancel:!1},i=e.Tag?e.Tag.tag:"";if(e.licenseId&&n>=s)o="You have been gifted a FREE Beam membership until "+bo()(n).format("Do MMMM YYYY")+" courtesy of "+e.License.Organisation.organisationName+".",r={member:!1,cancel:!1};else if(e.licenseId&&n<s)o="Your FREE Beam membership courtesy of "+e.License.Organisation.organisationName+" expired on "+bo()(n).format("Do MMMM YYYY")+".","core"==a&&(o=o+" To continue using Beam "+i+" you need to upgrade your membership."),r={member:!0,cancel:!1};else if(e.promoId&&n>=s)o="You have been gifted a FREE Beam membership until "+bo()(n).format("Do MMMM YYYY"),e.Promo.courtesyName&&(o=o+" courtesy of "+e.Promo.courtesyName+"."),r={member:!1,cancel:!1};else if(e.promoId&&n<s)o="Your FREE Beam membership",e.Promo.courtesyName&&(o=o+" courtesy of "+e.Promo.courtesyName),o=o+" expired on "+bo()(n).format("Do MMMM YYYY")+".","core"==a&&(o=o+"To continue using Beam "+i+" you need to upgrade your membership."),r={member:!0,cancel:!1};else if(!e.promoId&&!e.licenseId&&(e.subcriptionId&&!e.subcriptionId.includes("sub_")||!e.subcriptionId)&&n>=s)o="Your membership to Beam will end on "+bo()(n).format("Do MMMM YYYY"),"core"==a&&(o="You are currently in your free trial period for Beam "+i+", which ends on "+bo()(n).format("Do MMMM YYYY")+"."),r={member:!0,cancel:!1,isFreeTrial:!0};else if(!e.promoId&&!e.licenseId&&(e.subcriptionId&&!e.subcriptionId.includes("sub_")||!e.subcriptionId)&&n<s)o="Your free trial period ended on "+bo()(n).format("Do MMMM YYYY")+".","core"==a&&(o=o+" To continue using Beam "+i+" you need to upgrade your membership."),r={member:!0,cancel:!1};else if(e.subcriptionId&&e.subcriptionId.includes("sub_")&&e.customerId&&!e.cancellationDate)o="You are currently a subscribed member of Beam "+i+" on our "+e.Plan.name+" plan. You will be charged "+(de[e.Plan.currency]||e.Plan.currency)+" "+e.Plan.amount+" around the "+bo()(e.planStarts).format("Do")+" day of every month.",r={member:!1,cancel:!0};else if(e.subcriptionId&&e.subcriptionId.includes("sub_")&&e.customerId&&e.cancellationDate&&n>=s){var l=bo()(e.cancellationDate).utc().format("YYYY-MM-DD");o="Your membership to Beam "+i+" was cancelled on "+bo()(l).format("Do MMMM YYYY")+".  Your access will end on "+bo()(n).format("Do MMMM YYYY")+".",r={member:!1,cancel:!1}}else if(e.subcriptionId&&e.subcriptionId.includes("sub_")&&e.customerId&&e.cancellationDate&&n<s){l=bo()(e.cancellationDate).utc().format("YYYY-MM-DD");o="Your membership to Beam "+i+" was cancelled on "+bo()(l).format("Do MMMM YYYY")+".",r={member:!0,cancel:!1}}return"content"==t?o:r}},{key:"renderMembershipContent",value:function(e,t){var a=this.checkMembershipCases(e,"content",t);return s.a.createElement("div",{className:" m-b-20 font-qregular"},s.a.createElement("p",{dangerouslySetInnerHTML:{__html:a}}))}},{key:"renderMembershipButtons",value:function(e,t){var a=this,o=this.checkMembershipCases(e,"button","core");console.log("upgrade your membership",o);var n=e.Tag?e.Tag.tag:"";return o.member?s.a.createElement("div",{className:"mobile"==t?"col-md-6 text-center m-b-10 d-inline-block":"col-md-6 text-center m-b-20"},s.a.createElement("button",{className:"btn btn-purple pull-right",onClick:function(){a.setState({is_onboard_membership_open:!0,health_conditionId:e.conditionId,condition_name:n,currentPlanId:e.id,isFreeTrial:o.isFreeTrial})}},"Membership Options")):o.cancel?s.a.createElement("div",{className:"mobile"==t?"col-md-6 text-center m-b-10 d-inline-block":"col-md-6 text-center m-b-20"},s.a.createElement("button",{className:"btn btn-purple pull-right",onClick:function(){a.setState({currentPlanId:e.id,isNoThanksModal:!0,conditionName:n})}},"Cancel membership")):""}},{key:"renderCoreMembership",value:function(){var e=this;return console.log("this.state.membershipData",this.state.membershipData),s.a.createElement("div",null,s.a.createElement("p",{className:"font-medium black-txt font-21 member-txt m-t-10"},"Your Beam Membership(s)"),this.state.membershipData.plan&&this.state.membershipData.plan.length>0&&this.state.membershipData.plan.map((function(t,a){return s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row fordesktop"},s.a.createElement("div",{className:"col-md-6 m-b-20 p-l-0"},s.a.createElement("img",{src:D+"logo.png",id:"icon",className:"img-fluid m-b-10 logo-size",alt:"beam logo"}),s.a.createElement("br",null),s.a.createElement("span",{className:"purplefont font-bold font-18 align-bottom text-capitalize font-qbold pre-wrap"},t.Tag&&t.Tag.tag)),t.conditionId&&e.renderMembershipButtons(t,"desktop"),e.renderMembershipContent(t,"core")),s.a.createElement("div",{className:"row formobile"},s.a.createElement("div",{className:"col-md-6 m-b-20 p-l-0"},s.a.createElement("img",{src:D+"logo.png",id:"icon",className:"img-fluid m-b-10 logo-size",alt:"beam logo"}),s.a.createElement("br",null),s.a.createElement("span",{className:"purplefont font-bold font-18 align-bottom text-capitalize font-qbold pre-wrap"},t.Tag&&t.Tag.tag)),e.renderMembershipContent(t,"core"),t.conditionId&&e.renderMembershipButtons(t,"mobile"))),s.a.createElement("hr",null))})),!this.state.isLoading&&!Object.keys(this.state.membershipData).length&&s.a.createElement("div",null,s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6 m-b-20 p-l-0"}),s.a.createElement("p",{class:" font-qregular"},"Oh no, you don\u2019t currently have any memberships to Beam! Head over to ",s.a.createElement("a",{href:"/accounts/myConditions"},"My Conditions")," to choose a condition to sign up to."))),s.a.createElement("hr",null)),s.a.createElement("div",{class:"mt-4 mb-5 mx-auto"},s.a.createElement("label",{htmlFor:"promocode",className:"text-label font-medium"},"Got a promotional code?"),s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"col-md-9 m-b-10"},s.a.createElement("input",{type:"text",name:"promocode",id:"promocode",className:"form-control input-control",value:this.state.promocode,onChange:this.handleChange})),s.a.createElement("div",{id:"register-link",className:"col-md-3 align-self-center text-center p-15"},s.a.createElement("button",{disabled:this.state.isDisablePromo,className:"btn button-lightblue text-center w-100 p-3",onClick:function(){return e.promocodeSubmit(!0)}},"Apply"))),this.state.submitted&&this.state.promoCodeErr&&s.a.createElement("p",{className:"text-danger"},"Please enter correct promo or access code")),s.a.createElement("div",{className:" m-b-10 p-l-0"},s.a.createElement("label",{className:"font-16 black-txt font-qmedium col-sm-12  pl-0",htmlFor:"remove"},s.a.createElement("label",{for:"remove",class:"text-label font-medium"},"Remove Account"),s.a.createElement("p",{className:"font-qregular font-16 balck-txt m-t-10 "},"To remove your Beam account and erase any personal data we hold about you please email ",s.a.createElement("strong",null,"hello@beamfeelgood.com")," with your request."))))}},{key:"submitMembershipData",value:function(e){console.log("submitMembershipData",e);var t=e.condition_membership;e.currentPlanId=this.state.currentPlanId,e.isMembershipCondition=!0,e.health_conditionId=this.state.health_conditionId,t.length&&t[0].promoId?(console.log("promo-this.state.planData",this.state.planData),this.startTrail(this.state.planData,"promo",e),this.setState({is_onboard_membership_open:!1,isConditionModalOpen:!1})):t.length&&"license"==t[0].membershipType?(this.startTrail(this.state.countryPlans,"change_plan",e),this.setState({cost:e.cost,submittedMembershipData:e,payment_data:{}})):this.setState({isUpgradeClicked:!0,cost:e.cost,submittedMembershipData:e,payment_data:{}})}},{key:"render",value:function(){var e=this,t=this.state.planData?this.state.planData:{};t.Plan=t.Plan?t.Plan:{};var a=this.props.logged_userData;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Your membership - account details",ye),s.a.createElement("meta",{property:"og:title",content:"Your membership - account details"+ye}),s.a.createElement("meta",{property:"og:description",content:"Check details of your membership plan, change your membership plan, check how many days are left in your current cycle, or apply a promocode in this section of your account."}),s.a.createElement("meta",{property:"og:image",content:$e}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Blue mountains with blue sky"})),a&&(a.isStudyLeader||a.isGroupLeader||a.isStudyInstructor||a.isStudyUser)&&this.renderRSMembership(),a&&!a.isStudyLeader&&!a.isGroupLeader&&!a.isStudyInstructor&&!a.isStudyUser&&this.renderCoreMembership(),s.a.createElement(ls.a,{classNames:{modal:"pricing-popup m-t-50"},open:this.state.ismodel_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog modal-width--custom ",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title text-center col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"},2===this.state.membership_step?"Become a member":"Choose your membership plan",2===this.state.membership_step&&s.a.createElement("span",{className:"pull-left pointer"},s.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true",onClick:this.paymentPrevStep}))),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},2===this.state.membership_step?this.paymentPage(!1):this.membershipPlanPage())))),s.a.createElement(ls.a,{classNames:{modal:"pricing-popup-single m-t-50"},open:this.state.promo_ismodel_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title text-center col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"},"Nice one ",_o.bindUsername(this.props.logged_userData),"!"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-12 m-t-20"},s.a.createElement("p",{className:" mb-5 font-14 font-qregular abbey-txt text-center"},"Great news! This code entitles you to..."),366==t.freeDays&&s.a.createElement("p",{className:"font-14 font-qregular abbey-txt text-center"},"12 months free membership to Beam"),366!=t.freeDays&&s.a.createElement("p",{className:"font-14 font-qregular abbey-txt text-center"},t.freeDays," days free membership to Beam"),t.courtesyName&&s.a.createElement("p",{className:"font-14 font-qregular abbey-txt text-center m-t-40"},"courtesy of ",t.courtesyName),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-50 m-b-20 float-left"},s.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.startTrail(t.Plan,"promo")},className:"bluebtn float-left font-medium font-14 w-100 text-center"},"Let's get started!")))))))),s.a.createElement(ls.a,{classNames:{modal:"pricing-popup m-t-50 membership-popup"},open:this.state.is_onboard_membership_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog modal-width--custom float-none",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title text-center col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"},"Your membership options"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},!this.state.isUpgradeClicked&&this.state.is_onboard_membership_open&&s.a.createElement(Kn,{registerFormvalues:this.props.registerFormValues,registerformUpdate:this.props.registerformUpdate,health_conditionId:this.state.health_conditionId,condition_name:this.state.condition_name,registerUser:this.submitMembershipData,pageFrom:"membership",promocode:this.state.promocode,promoPlans:this.state.promoPlansData,closeModel:this.closeModel,isFreeTrial:this.state.isFreeTrial}),this.state.isUpgradeClicked&&s.a.createElement(Ni,{payment_data:this.state.payment_data,cost:this.state.cost,submitPayment:this.submitPayment}))))),this.state.isConditionModalOpen&&s.a.createElement(yi,{ismodel_open:this.state.isConditionModalOpen,closeModel:this.closeModel,conditionList:this.props.healthcondition_list,submitCondition:this.submitMembershipData,promocode:this.state.promocode,promoPlans:this.state.promoPlansData,health_conditionId:this.state.health_conditionId}),this.state.isNoThanksModal&&s.a.createElement(Vn,{title:"Are you sure?",content:"Are you sure you want to cancel your membership to Beam "+this.state.conditionName+"?",yesButton:"Yes",noButton:"No",is_model_open:this.state.isNoThanksModal,submitYes:function(){e.setState({isNoThanksModal:!1}),e.cancelSubscription(!0)},submitNo:function(){e.setState({isNoThanksModal:!1})}}))}}]),a}(s.a.Component),mm={start_loader:ht,stop_loader:gt,cancelSubscription:function(e){return function(t,a){var o=tt(),s=h+"/api/account/cancelSubscription?isMemberCondition="+e.isMemberCondition+"&planId="+e.currentPlanId+"&conditionName="+e.conditionName;return fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},get_membership:function(){return function(e,t){var a=tt();return fetch(h+"/api/account/membership",a).then((function(t){return go(t,e)})).then((function(e){return console.log("response-members",e),e})).catch((function(e){console.log("error-actoion",e)}))}},fetchMembershipPlans:Rt,changePlan:so,updateUserdataRedex:Ba,getPromocodePaln:Ft,isUserSubscribed:function(){return function(e,t){var a=tt();return fetch(h+"/api/checkUserSubscribed",a).then((function(t){return go(t,e)})).then((function(e){return e}))}},fetchUserDetails:ao,getLicenseList:Yt,registerformUpdate:Ot,getPlanByCountry:Gt,setConditionIndex:Bt,setStep:Ct},dm=Object(i.b)((function(e){return{IP_Details:e.accountinfo.ip_data,logged_userData:e.header.logged_userData,registerFormValues:e.register.registerFormValues,healthcondition_list:e.register.healthcondition_list}}),mm)(cm),pm=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.onSubmit=o.onSubmit.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"handleCheckboxChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,o={};o[t.name]=a,this.props.updateUserdataRedex(o)}},{key:"onSubmit",value:function(){this.setState({submitted:!0});var e={permission_newFeatures:this.props.userData.permission_newFeatures,permission_research:this.props.userData.permission_research,permission_motivation:this.props.userData.permission_motivation};this.props.communicationPreferences(e).then((function(e){var t=e.data;console.log("response_data",t),at.b.success(e.message)})).catch((function(e){at.b.success(e.message)}))}},{key:"render",value:function(){var e=this;return console.log("userData",this.props.userData),s.a.createElement("div",{className:""},s.a.createElement("p",{className:"font-medium black-txt font-21 m-t-10 member-txt"},"Communication Preferences"),s.a.createElement("div",{className:"justify-content-center align-items-center"},s.a.createElement("div",{className:" m-b-20 font-qregular"},s.a.createElement("p",{className:"font-18 font-qregular"}," We are committed to only emailing you about information that you are interested in hearing about. If you would like to be the first to know about new classes, programs or features, motivation and encouragement or research opportunities then please select your preferences below."),s.a.createElement("p",{className:"font-18 font-book"},"You can change these at any time."),s.a.createElement("div",null,s.a.createElement("div",{className:"row m-b-20"},s.a.createElement("span",{className:"font-18 black-txt font-qregular col-6"},"The latest updates, classes & features"),s.a.createElement("label",{className:"switch m-l-10 pull-right col-1 p-0 radio_slider",htmlFor:"permission_newFeatures"},s.a.createElement("input",{type:"checkbox",name:"permission_newFeatures",id:"permission_newFeatures",defaultChecked:this.props.userData.permission_newFeatures,onChange:this.handleCheckboxChange,value:this.props.userData.permission_newFeatures}),s.a.createElement("div",{className:"slider round"}))),s.a.createElement("div",{className:"row m-b-20"},s.a.createElement("span",{className:"font-18 black-txt font-qregular col-6"},"Research opportunities"),s.a.createElement("label",{className:"switch m-l-10 pull-right col-1 p-0 radio_slider",htmlFor:"permission_research"},s.a.createElement("input",{type:"checkbox",name:"permission_research",id:"permission_research",defaultChecked:this.props.userData.permission_research,onChange:this.handleCheckboxChange,value:this.props.userData.permission_research}),s.a.createElement("div",{className:"slider round"}))),s.a.createElement("div",{className:"row m-b-20"},s.a.createElement("span",{className:"font-18 black-txt font-qregular col-6"},"Motivation and encouragement"),s.a.createElement("label",{className:"switch m-l-10 pull-right col-1 p-0 radio_slider",htmlFor:"permission_motivation"},s.a.createElement("input",{type:"checkbox",name:"permission_motivation",id:"permission_motivation",defaultChecked:this.props.userData.permission_motivation,onChange:this.handleCheckboxChange,value:this.props.userData.permission_motivation}),s.a.createElement("div",{className:"slider round"})))),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-10 m-b-20 float-left"},s.a.createElement("span",{onClick:function(){return e.onSubmit()},className:"btn btn-purple-inverse font-14 font-medium save-btn text-center"},"Save changes")))))}}]),a}(s.a.Component),um={communicationPreferences:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/account/communicationPreferences",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},updateUserdataRedex:Ba},hm=Object(i.b)((function(e){return{}}),um)(pm),gm=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).onCloseModal=function(){},o.handleEmergencyChange=function(e){var t=e.target,a=t.name,s=t.value,n=o.state.emergencyContact;n[a]=s,o.setState({emergencyContact:n,shouldBlockNavigation:!0,isDirtyModalOpen:!1})},o.handlePrimaryChange=function(e){var t=e.target,a=t.name,s=t.value,n=o.state.primaryCare;n[a]=s,o.setState({primaryCare:n,shouldBlockNavigation:!0,isDirtyModalOpen:!1})},o.handleCheckboxChange=function(e){var t=e.target,a=t.name,s=t.value;o.setState(Object(rs.a)({},a,s))},o.submitEmergencyDetails=function(){o.setState({submitted:!0});var e=o.state,t=e.emergencyContact,a=e.primaryCare;e.emergencyContactConsent,e.primaryCareConsent;if(t.name&&t.phoneNumber&&a.name&&a.phoneNumber){o.setState({loading:!0});var s=o.state;o.props.updateEmergencyContact(s).then((function(e){if(at.b.success(e.message),e.success){var t={};t.UserEmergencyContacts=e.user.UserEmergencyContacts,o.props.updateUserdataRedex(t)}o.setState({loading:!1}),o.props.fetchUserDetails()}),(function(e){at.b.error(e),o.setState({loading:!1})}))}},o.handleOnChange=function(e){console.log(e),o.setState({phoneNumber:e},(function(){console.log(o.state.phone)}))},o.handleBlockedNavigation=function(e){return!!o.state.isDirtyModalOpen||(o.setState({isDirtyModalOpen:!0,lastLocation:e}),!1)},o.closeConfirmationPopup=function(e){"Yes"===e?o.props.history.push(o.state.lastLocation):o.submitEmergencyDetails(),o.setState({isDirtyModalOpen:!1})},o.state={isUpdate:!1,phoneNumber:"122222",emergencyContact:{name:"",phoneNumber:"",type:"emergencyContact"},primaryCare:{name:"",phoneNumber:"",type:"primaryCareDoctor"},primaryCareConsent:!1,emergencyContactConsent:!1,shouldBlockNavigation:!1},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;if(console.log("this.props.logged_userData-authData",e),this.setState({countryCode:e.Country.countryCode.toLowerCase()}),e&&e.UserEmergencyContacts&&e.UserEmergencyContacts.length>0){var t=e.UserEmergencyContacts[0];t.phoneNumber=t.phoneNumber.toString();var a=e.UserEmergencyContacts[1];a.phoneNumber=a.phoneNumber.toString(),console.log("authData.UserEmergencyContacts",e.UserEmergencyContacts),this.setState({isUpdate:!0,emergencyContact:t,primaryCareConsent:a.UserConsents.length>0&&a.UserConsents[0].consentGiven,primaryCare:a,emergencyContactConsent:t.UserConsents.length>0&&t.UserConsents[0].consentGiven})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.submitted,o=(t.loading,t.phoneNumber,t.country,t.emergencyContact),n=(t.addressFinder,t.address1,t.address2,t.city,t.countryState,t.postcode,t.permission_contact,t.primaryCare),r=t.primaryCareConsent,i=t.emergencyContactConsent,l=t.countryCode;return console.log("emergencyContactConsent",o),s.a.createElement(s.a.Fragment,null,s.a.createElement(qo.a,{when:this.state.shouldBlockNavigation,message:this.handleBlockedNavigation}),s.a.createElement("div",null,s.a.createElement("div",{className:"text-new"},s.a.createElement("p",{className:"font-medium black-txt font-21 m-t-10 member-txt"},"Emergency Info")),s.a.createElement("div",{className:" justify-content-center align-items-center"},s.a.createElement("div",{className:" m-b-20 "},s.a.createElement("p",{className:"font-qregular font-18"}," At Beam, we\u2019re committed to the safety of our members. Thank you for providing additional contact information that will be used in the event of an emergency during physio-led classes only.  "),s.a.createElement("p",{className:"font-qregular font-18"},"Our members' privacy is very important to us, and this information will not be used for any other purposes. For more information about our safety procedures follow this link."),s.a.createElement("div",{className:"col-md-12  m-b-30 mr-auto ml-auto"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 m-b-10 p-l-0"},s.a.createElement("div",{className:"form-group"+(a&&!o.name?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Name of your emergency contact ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",className:"form-control input_field",id:"name","aria-describedby":"name",placeholder:"",name:"name",value:o.name,onChange:this.handleEmergencyChange}),a&&!o.name&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required"))),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 m-b-10 p-l-0"},s.a.createElement("div",{className:"form-group phone_inputs_field"+(a&&!o.phoneNumber?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Phone number of your emergency contact ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(nc.a,{defaultCountry:l,country:o.phoneNumber?"":l,value:o.phoneNumber,onChange:function(t){var a=e.state.emergencyContact;a.phoneNumber=t,e.setState({emergencyContact:a,shouldBlockNavigation:!0,isDirtyModalOpen:!1})},inputClass:"w-100 input_field"}),a&&!o.phoneNumber&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required"))),s.a.createElement("div",{className:"toggle-btns float-left w-100 m-b-30 d-flex align-items-center"},s.a.createElement("span",{className:"font-16 font-qregular col-11 p-0"},"I consent to this person being contacted by any employee or contractor of Beam in an emergency situation, disclosing health information I have submitted on Beam should they deem it necessary."),s.a.createElement("label",{className:"switch m-l-10 pull-right col-1 p-0 radio_slider",htmlFor:"emergencyContactConsent"},s.a.createElement("input",{type:"checkbox",name:"emergencyContactConsent",id:"emergencyContactConsent",checked:i,onChange:function(){var t=e.state.emergencyContact;t.UserConsents&&t.UserConsents.length>0?(t.UserConsents[0].consentGiven=!t.UserConsents[0].consentGiven,e.setState({shouldBlockNavigation:!0,isDirtyModalOpen:!1,emergencyContact:t,emergencyContactConsent:!i})):e.setState({shouldBlockNavigation:!0,isDirtyModalOpen:!1,emergencyContactConsent:!i})},value:i}),s.a.createElement("div",{className:"slider round"}))),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 m-b-10 p-l-0"},s.a.createElement("div",{className:"form-group"+(a&&!n.name?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Name of your GP or primary care doctor ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement("input",{type:"text",className:"form-control input_field",id:"name","aria-describedby":"emailHelp",placeholder:"",name:"name",value:n.name,onChange:this.handlePrimaryChange}),a&&!n.name&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required"))),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 m-b-10 p-l-0"},s.a.createElement("div",{className:"form-group phone_inputs_field"+(a&&!n.phoneNumber?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-14 font-semibold black-txt"},"Phone number of your GP or primary care doctor ",s.a.createElement("span",{className:"text-danger"},"*")),s.a.createElement(nc.a,{defaultCountry:l,country:n.phoneNumber?"":l,value:n.phoneNumber,onChange:function(t){var a=e.state.primaryCare;a.phoneNumber=t,e.setState({shouldBlockNavigation:!0,isDirtyModalOpen:!1,primaryCare:a})},inputClass:"w-100 input_field"}),a&&!n.phoneNumber&&s.a.createElement("p",{className:"help-block text-danger"},"This information is required"))),s.a.createElement("div",{className:"toggle-btns float-left w-100 m-b-30 d-flex align-items-center"},s.a.createElement("span",{className:"font-16 font-qregular col-11 p-0"},"I consent to this person being contacted by any employee or contractor of Beam in an emergency situation, disclosing health information I have submitted on Beam should they deem it necessary."),s.a.createElement("label",{className:"switch m-l-10 pull-right col-1 p-0 radio_slider",htmlFor:"primaryCareConsent"},s.a.createElement("input",{type:"checkbox",name:"primaryCareConsent",id:"primaryCareConsent",checked:r,onChange:function(){var t=e.state.primaryCare;t.UserConsents&&t.UserConsents.length>0?(t.UserConsents[0].consentGiven=!t.UserConsents[0].consentGiven,e.setState({shouldBlockNavigation:!0,isDirtyModalOpen:!1,primaryCare:t,primaryCareConsent:!r})):e.setState({shouldBlockNavigation:!0,isDirtyModalOpen:!1,primaryCareConsent:!r})},value:r}),s.a.createElement("div",{className:"slider round"})))))),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-10 m-b-20 float-left save_chnges_btn"},s.a.createElement("button",{disabled:this.state.loading,onClick:this.submitEmergencyDetails,className:"btn btn-purple-inverse font-14 font-medium save-btn text-center"},"Save changes")))),s.a.createElement(Tl,{title:"Want to save changes?",desc:"We noticed you have made changes to your basic info but not saved them. Would you like to save these changes?",yesButton:"Cancel changes",noButton:"Save changes",isConfirmation:!0,is_model_open:this.state.isDirtyModalOpen,closeConfirmationPopup:this.closeConfirmationPopup}))}}]),a}(s.a.Component),fm={updateEmergencyContact:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/account/updateEmergencyContact",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},updateUserdataRedex:Ba,fetchUserDetails:ao},bm=Object(i.b)((function(e){return{IP_Details:e.accountinfo.ip_data,logged_userData:e.header.logged_userData,registerFormValues:e.register.registerFormValues,step:e.register.step,clinic_direction:e.register.clinic_direction,conditionRelationshipList:e.register.conditionRelationshipList,healthcondition_list:e.register.healthcondition_list}}),fm)(gm),vm=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).checkTagvalue=function(e){return(JSON.parse(localStorage.getItem("userDetails"))||o.props.logged_userData).Tags.find((function(t){return"movementPrefs"==t.type&&t.tag==e.tag}))},o.handleBlockedNavigation=function(e){return!!o.state.isDirtyModalOpen||(o.setState({isDirtyModalOpen:!0,lastLocation:e}),!1)},o.closeConfirmationPopup=function(e){"Yes"===e?(o.props.history.push(o.state.lastLocation),o.shouldBlockNavigation=!1):o.submitData(),o.setState({isDirtyModalOpen:!1})},o.state={submitted:!1,current_index:0,loader:!1,treatment:[],movement_prefs:[],shouldBlockNavigation:!1},o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.backTo=o.backTo.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;this.props.getTagsBasedOnType("movementPrefs").then((function(t){t.success&&e.setState({treatment:t.data.tags})}));var a=[];t=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;Eo.a.filter(t.Tags,(function(e){return"movementPrefs"===e.type&&a.push(e.id),e.id})),this.setState({movement_prefs:a})}},{key:"backTo",value:function(){this.props.setStep(14,"backward")}},{key:"handleCheckboxChange",value:function(e){var t=parseInt(e.target.value),a=Object(Lo.a)(this.state.movement_prefs);if(this.state.movement_prefs.length>0){var o=this.state.movement_prefs.findIndex((function(e){return e===t}));o>-1?a.splice(o,1):a.push(t)}else a.push(t);this.setState({shouldBlockNavigation:!0,isDirtyModalOpen:!1,movement_prefs:a})}},{key:"submitData",value:function(){var e=this;this.setState({submitted:!0});var t=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData,a={movement_prefs:this.state.movement_prefs};this.props.updateMovementPrefs(a).then((function(a){var o={Tags:t.Tags.filter((function(e){return"movementPrefs"!==e.type}))},s=e;e.state.movement_prefs.map((function(e){var a=Eo.a.filter(s.state.treatment,(function(t){return t.id==e}));o.Tags.push({userTags:{TagId:a[0].id,userId:t.id},id:a[0].id,tag:a[0].tag,type:"movementPrefs"})})),e.props.updateUserdataRedex(o),e.setState({shouldBlockNavigation:!1,isDirtyModalOpen:!1}),at.b.success(a.message)}),(function(e){at.b.error(e)}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(qo.a,{when:this.state.shouldBlockNavigation,message:this.handleBlockedNavigation}),s.a.createElement("div",{className:"step10"},s.a.createElement("div",{className:"text-new"},s.a.createElement("p",{className:"font-medium black-txt font-21 m-t-10 member-txt m-b-30"},"Let us know what types of sessions you are most interested in:")),s.a.createElement("div",{className:"row m-b-20"},s.a.createElement("div",{className:"font-18 black-txt font-qregular col-12"},this.state.treatment.map((function(t,a){return s.a.createElement("div",{key:a,className:"row m-b-20"},s.a.createElement("span",{className:"font-18 black-txt font-qregular col-6"},t.tag),s.a.createElement("label",{className:"switch m-l-10 pull-right col-1 p-0 radio_slider",htmlFor:"checkbox-"+t.id},s.a.createElement("input",{type:"checkbox",name:"movementPrefs"+t.id,id:"checkbox-"+t.id,defaultChecked:e.checkTagvalue(t),onChange:e.handleCheckboxChange,value:t.id}),s.a.createElement("div",{className:"slider round"})))})),s.a.createElement("div",{id:"register-link",className:" w-100 m-t-50 m-b-20 float-left"},s.a.createElement("span",{onClick:function(){return e.submitData()},className:"btn btn-purple-inverse font-14 font-medium save-btn text-center"},"Save Changes")),s.a.createElement(Tl,{title:"Want to save changes?",desc:"We noticed you have made changes to your movement preference but not saved them. Would you like to save these changes?",yesButton:"Cancel changes",noButton:"Save changes",isConfirmation:!0,is_model_open:this.state.isDirtyModalOpen,closeConfirmationPopup:this.closeConfirmationPopup})))))}}]),a}(s.a.Component),Em={start_loader:ht,stop_loader:gt,setStep:Ct,getTagsBasedOnType:qt,setConditionIndex:Bt,updateMovementPrefs:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/account/updateMovementPrefs",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},updateUserdataRedex:Ba},ym=Object(i.b)((function(e){return{step:e.register.step,condition_index:e.register.condition_index,registerFormvalues:e.register.registerFormValues,logged_userData:e.header.logged_userData}}),Em)(vm),_m=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={account_tab:1,userData:{},countriesList:[]},o.tabChange=o.tabChange.bind(Object(is.a)(o)),o.getCountriesList=o.getCountriesList.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.getCountriesList()}},{key:"tabChange",value:function(e){this.setState({account_tab:e})}},{key:"getCountriesList",value:function(){var e=this;this.props.start_loader(),this.props.getCountriesList().then((function(t){e.props.stop_loader();var a=t.country?t.country:[];e.setState({countriesList:a})}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"getRegionList",value:function(e){var t=this;this.setState({regionloader:!0}),this.props.getRegionList(e).then((function(e){var a=e.region?e.region:[];t.setState({regionList:a,regionloader:!1})}),(function(e){t.setState({regionloader:!1}),at.b.error(e)}))}},{key:"showMobileListName",value:function(){var e;switch(this.props.match.path){case"/accounts/basicInformation":e="Basic Information";break;case"/accounts/myConditions":e="My Conditions";break;case"/accounts/membership":e="Membership";break;case"/accounts/communicationPreferences":e="Communication Preferences";break;case"/accounts/emergencyInfo":e="Emergency Info";break;case"/accounts/movementprefs":e="Movement Prefs";break;default:e="Select"}return e}},{key:"render",value:function(){var e="undefined"!=Go.Cookies.get("condition")&&Go.Cookies.get("condition")?Go.Cookies.get("condition").toLowerCase():k;return console.log("this.props.match.path",this.props.match.path),s.a.createElement("section",{className:("undefined"!=typeof Go.Cookies.get("closeBanner")&&"false"!=Go.Cookies.get("closeBanner")||this.props.close_banner)&&("undefined"!=typeof Go.Cookies.get("closeBannerKD")&&"false"!=Go.Cookies.get("closeBannerKD")||this.props.close_banner_kd)?"Account_details m-t-70":"Account_details"},s.a.createElement("div",{className:"Account-bg text-center p-t-10 p-b-90",id:"Account"},s.a.createElement("div",{className:"container"},s.a.createElement("h3",{className:"font-medium font-37 darkblue-text "},"Account Details"))),s.a.createElement("div",{className:"account_tabs m-t-60 m-b-60"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6 col-lg-4 mb-3 d-none d-sm-none d-md-block d-lg-block"},s.a.createElement("ul",{className:"nav nav-pills flex-column",id:"myTab",role:"tablist"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/accounts/basicInformation"===this.props.match.path?"active":"")+" nav-link font-medium font-21 m-b-10",to:"/accounts/basicInformation"},"Basic Information")),!this.props.logged_userData.isStudyParticipant&&e&&!e.includes("research")&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/accounts/myConditions"===this.props.match.path?"active":"")+" nav-link font-medium font-21 m-b-10",to:"/accounts/myConditions"},"My Conditions")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/accounts/membership"===this.props.match.path?"active":"")+" nav-link font-medium font-21 m-b-10",to:"/accounts/membership"},"Membership")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/accounts/communicationPreferences"===this.props.match.path?"active":"")+" nav-link font-medium font-21 m-b-10",to:"/accounts/communicationPreferences"},"Communication Preferences")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/accounts/emergencyInfo"===this.props.match.path?"active":"")+" nav-link font-medium font-21 m-b-10",to:"/accounts/emergencyInfo"},"Emergency Info")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/accounts/movementprefs"===this.props.match.path?"active":"")+" nav-link font-medium font-21 m-b-10",to:"/accounts/movementprefs"},"Movement Preferences")))),s.a.createElement("div",{className:"col-12 mb-3 d-block d-sm-block d-md-none d-lg-none"},s.a.createElement("div",{className:"dropdown tab-btn w-100"},s.a.createElement("button",{type:"button",className:"btn btn-default font-medium font-14 tab-select dropdown-toggle","data-toggle":"dropdown"},this.showMobileListName(),s.a.createElement("span",{className:"slt"})),s.a.createElement("div",{className:"dropdown-menu"},s.a.createElement(Qo.b,{className:("/accounts/basicInformation"===this.props.match.path?"active":"")+" nav-link font-medium font-21 m-b-10",to:"/accounts/basicInformation"},"Basic Information"),!this.props.logged_userData.isStudyParticipant&&e&&!e.includes("research")&&s.a.createElement(Qo.b,{className:("/accounts/myConditions"===this.props.match.path?"active":"")+" nav-link font-medium font-21 m-b-10",to:"/accounts/myConditions"},"My Conditions"),s.a.createElement(Qo.b,{className:("/accounts/membership"===this.props.match.path?"active":"")+" nav-link font-medium font-21 m-b-10",to:"/accounts/membership"},"Membership")))),s.a.createElement("div",{className:"col-md-6 col-lg-8 "},s.a.createElement("div",null,"/accounts/basicInformation"===this.props.match.path&&s.a.createElement(sm,{countriesList:this.state.countriesList,userData:this.props.logged_userData,history:this.props.history}),"/accounts/myConditions"===this.props.match.path&&s.a.createElement(im,{history:this.props.history}),"/accounts/membership"===this.props.match.path&&s.a.createElement(dm,{userData:this.props.logged_userData}),"/accounts/communicationPreferences"===this.props.match.path&&s.a.createElement(hm,{userData:this.props.logged_userData}),"/accounts/emergencyInfo"===this.props.match.path&&s.a.createElement(bm,{userData:this.props.logged_userData,history:this.props.history}),"/accounts/movementprefs"===this.props.match.path&&s.a.createElement(ym,{history:this.props.history,userData:this.props.logged_userData})))))))}}]),a}(s.a.Component),km={fetchUserDetails:ao,getCountriesList:Lt,start_loader:ht,stop_loader:gt,updateUserdataRedex:Ba,getRegionList:Dt},Nm=Object(i.b)((function(e){return{logged_userData:e.header.logged_userData,close_banner:e.header.close_banner,close_banner_kd:e.header.close_banner_kd}}),km)(_m),wm=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return s.a.createElement("section",{className:"terms_condition  m-t-80"},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"T&Cs",ye),s.a.createElement("meta",{property:"og:title",content:"T&Cs"+ye}),s.a.createElement("meta",{property:"og:description",content:qe}),s.a.createElement("meta",{property:"og:image",content:Ye}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Clouds"})),s.a.createElement("div",{className:"terms-bg text-center p-t-10 p-b-90",id:"Terms"},s.a.createElement("div",{className:"container"},s.a.createElement("h3",{className:"font-medium font-37 black-txt p-t-30 p-b-100"},"Terms and Conditions"))),s.a.createElement("div",{class:"terms_text"},s.a.createElement("div",{class:"container-fluid mx-auto w-65 terms-container"},s.a.createElement("div",{class:"clearfix p-t-50"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-12"},s.a.createElement("div",{class:"m-b-50"},s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},'Hello there and welcome to Beam, a social exercise platform for people with specific health needs. The Beam website and service including (without limitation) all websites, mobile applications and other interactive properties through which the service is delivered (collectively, the "Service") are owned, operated and distributed by Workout Online Ltd. (trading as Beam) a company registered in  England and Wales at 25 Newmarket Street, Usk, Monmouthshire NP15 1AU with registration number 9981576 (referred to in these Terms of Service as "Beam" or "we" and through similar words such as "us," "our," etc.). By accessing any part of the Service, you are agreeing to the terms and conditions described below (these "Terms of Service"), the terms and conditions of our privacy policy (the "Privacy Policy") and any other legal notices published by us on the Service (collectively, the "Governing Documents"). If you do not agree to any of these terms, you should not use the Service. These Terms of Service apply to all users, including both users who are simply viewing content available via the Service and users who have registered as members of Beam. We may, at our sole discretion, modify these Terms of Service at any time. By accessing the Service at any time after such modifications, you are agreeing to such modifications. These Terms of Service were last modified as of July 8th, 2019.')),s.a.createElement("div",{class:"m-b-50"},s.a.createElement("h3",{class:"font-medium font-21 purplefont"},"Description of the Service"),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},'The Beam Service allows people to discover and watch exercise videos ("Workouts") and take part in live exercise classes ("Workouts") online led by vetted physiotherapists and fitness professionals ("Content Providers").',s.a.createElement("br",null),"We reserve the right to refuse to provide the Service to any person for any reason and/or to discontinue the Service in whole or in part at any time, with or without prior notice.")),s.a.createElement("div",{class:"m-b-50"},s.a.createElement("h3",{class:"font-medium font-21 purplefont"},"Copyright, licenses and user submissions"),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},'The entire contents of the Service are protected by international copyright law and other proprietary rights. The owners of the copyrights are Beam, its affiliates and/or other third party licensors. You may not modify, copy, reproduce, republish, post, upload, transmit or distribute the material on the service, including text, graphics, code and/or software. You may print and download portions of material from the different areas of the Service solely for your own non-commercial use provided that you agree not to change or delete any copyright or proprietary notices from the materials, and not to share any material that you paid for with anyone else who has not also purchased a license for that material. You may not use any robots, spiders, or similar data mining, data gathering or extraction tools or manual processes to collect, gather or copy any content or data on or related to the Service in a manner not authorised by Beam in writing. You may not engage in practices of "screen scraping," "database scraping" or any other practice or activity the purpose of which is to obtain lists of users, portions of a database, or other lists or information from the Service, in any manner and any quantities not authorised by Beam in writing. You may not frame or utilise framing techniques to enclose any trademark, logo or other proprietary information (including images, text, page layout or form) of Beam or its affiliates without express written consent. You may not use meta tags or any other "hidden text" utilising the Beam name or trademarks without the express written consent of Beam. Content submitted by users for inclusion on the Service (including, without limitation, any information submitted on message boards, forums or other public areas of the Service) is sometimes referred to in these Terms of Service as "User Submissions." Whether or not any User Submission is published, it will be subject to these Terms of Service. Beam does not guarantee any confidentiality with respect to a User Submission, regardless of whether or not it is published. You are solely responsible for your own User Submissions and the consequences of posting or publishing them. You represent and warrant that you own or have the necessary licenses, rights, consents and permissions to your User Submissions (and all content included therein), including the right to authorise Beam to use the User Submissions in the manner contemplated by the Service and these Terms of Service. You hereby grant to Beam a non-exclusive, royalty-free, worldwide, perpetual license, with the right to sub-license, to reproduce, distribute, transmit, create derivative works of, publicly display and publicly perform any User Submissions or any other materials or information (including, without limitation, ideas for new or improved products or services) you communicate to Beam by all means and in any media now known or hereafter developed. You also grant to Beam the right to use your name in connection with the submitted materials and other information as well as in connection with all advertising, marketing and promotional material related thereto. You agree that you shall have no recourse against Beam for any alleged or actual infringement or misappropriation of any proprietary right in your communications to Beam. Beam will not tolerate violations of intellectual property rights on the Service. If you are a copyright owner and believe that any User Submission or other content infringes upon your copyrights, please email us at hello@beamfeelgood.com.')),s.a.createElement("div",{class:"m-b-50"},s.a.createElement("h3",{class:"font-medium font-21 purplefont"},"Account terms"),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"The following terms apply to your use of the Service and any account that you may open or attempt to open via the Service:"),s.a.createElement("p",{class:"conditions_txt m-b-20 p-l-30 font-qregular"},s.a.createElement("ol",null,s.a.createElement("ul",null,s.a.createElement("li",null,"You must be 16 years or older to use the Service."),s.a.createElement("li",null,'You must be a human to open an account. Accounts registered by "bots" or other automated methods are not permitted.'),s.a.createElement("li",null,"You must provide your legal full name, valid email address and any other information requested in order to complete the signup process."),s.a.createElement("li",null,"You are responsible for maintaining the security of your account and password. Beam will not be liable for any loss or damage from your failure to comply with this security obligation."),s.a.createElement("li",null,"You agree not to upload any copyrighted, trademarked, or proprietary materials on the Service without the expressed permission of the owner."),s.a.createElement("li",null,"You agree to use the Service only for lawful purposes and agree to not use the Service in any way that will infringe upon the use or rights of any other user."))))),s.a.createElement("div",{class:"m-b-50"},s.a.createElement("h3",{class:"font-medium font-21 purplefont"},"Fees"),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"We reserve the right, at any time, to change any fees or charges for using any services provided on the Service (or to begin charging fees for any free service), provided that such changes will not apply to fees or charges paid prior to the time of the change.")),s.a.createElement("div",{class:"m-b-50"},s.a.createElement("h3",{class:"font-medium font-21 purplefont"},"Conduct on service"),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"Your use of the Service is subject to all applicable laws and regulations, and you are solely responsible for the substance of your communications through the Service. You agree that you will not upload, share, post, or otherwise distribute or facilitate distribution of any User Submission \u2014 including text, communications, software, images, sounds, data, or other information \u2014 that:",s.a.createElement("br",null)),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"1. is unlawful, threatening, abusive, harassing, defamatory, libelous, deceptive, fraudulent, invasive of another's privacy, tortious, contains explicit or graphic descriptions or accounts of sexual acts (including but not limited to sexual language of a violent or threatening nature directed at another individual or group of individuals), or otherwise violates our rules or policies;",s.a.createElement("br",null),s.a.createElement("br",null),"2. victimises, harasses, degrades, or intimidates an individual or group of individuals on the basis of religion, gender, sexual orientation, race, ethnicity, age, or disability;",s.a.createElement("br",null),s.a.createElement("br",null),"3. infringes on any patent, trademark, trade secret, copyright, right of publicity, or other intellectual property or proprietary right of any party;",s.a.createElement("br",null),s.a.createElement("br",null),'4. constitutes unauthorised or unsolicited advertising, junk or bulk email (also known as "spamming"), chain letters, any other form of unauthorised solicitation, or any form of lottery or gambling;',s.a.createElement("br",null),s.a.createElement("br",null),"5. contains software viruses or any other computer code, files, or programs that are designed or intended to disrupt, damage, or limit the functioning of any software, hardware, or telecommunications equipment or to damage or obtain unauthorised access to any data or other information of any third party; or",s.a.createElement("br",null),s.a.createElement("br",null),"6. impersonates any person or entity, including any of our employees or representatives.",s.a.createElement("br",null)),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},'We neither endorse nor assume any liability for the contents of any User Submission. We generally do not pre-screen, monitor, or edit User Submissions. However, we and our agents have the right at their sole discretion to remove any User Submission or other content that, in our judgment, does not comply with these Terms of Service and any other rules of user conduct for the Service, or is otherwise harmful, objectionable, or inaccurate. We are not responsible for any failure or delay in removing any such User Submission or other content. You hereby consent to such removal and waive any claim against us arising out of such removal of any User Submission, whether it is your own or another user\'s. See "Copyrights, Licenses and User Submissions" above for a description of the procedures to be followed in the event that any party believes that a User Submission infringes on any patent, trademark, trade secret, copyright, right of publicity, or other proprietary right of any party.'),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"You may not use your account to breach security of another account or attempt to gain unauthorised access to another network or server. Not all parts of the Service may be available to you or other authorised users of the Service. You shall not interfere with anyone else's use and enjoyment of the Service. Users who violate systems or network security may incur criminal or civil liability. You agree that we may at any time, and at our sole discretion, terminate your membership, account, or other affiliation with the Service without prior notice to you for violating any of the above provisions. In addition, you acknowledge that we will cooperate fully with investigations of violations of systems or network security at other sites, including cooperating with law enforcement authorities in investigating suspected criminal violations.")),s.a.createElement("div",{class:"m-b-50"},s.a.createElement("h3",{class:"font-medium font-21 purplefont"},"Exercising on Beam"),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"Taking part in any form of exercise on Beam is at the user's own risk."),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"Your taking part in a Workout is at your sole risk. Beam does not supervise Workouts and is not involved in any way with the actions of any individuals (whether users or Content Providers) of any Workout. As a result, we have no control over the identity or actions of the individuals who are present in these Workouts. You acknowledge and agree that by participating in any Workout you may be exposed to a variety of risks and hazards, which may or may not be foreseen, including (without limitation) personal injury, property damage and death. You are solely responsible for all costs and/or risks associated with your participation in any workout or exercise."),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"TO THE FULLEST EXTENT PERMITTED BY LAW, YOU HEREBY RELEASE BEAM AND EACH OF THE OTHER BEAM PARTIES FROM ANY CLAIMS OR DAMAGES OF ANY KIND OR NATURE, KNOWN OR UNKNOWN, SUSPECTED OR UNSUSPECTED, DISCLOSED OR UNDISCLOSED, RELATING TO YOUR PARTICIPATION IN ANY EVENT, WHETHER AS A USER OR INSTRUCTOR. YOU AGREE AND UNDERSTAND AND INTEND THAT THIS ASSUMPTION OF RISK AND RELEASE IS BINDING UPON YOU AND YOUR HEIRS, EXECUTORS, AGENTS, ADMINISTRATORS AND ASSIGNS."),s.a.createElement("p",{class:"conditions_txt m-b-50 font-qregular"},"If at any time you feel you are exercising beyond your current fitness abilities or feel discomfort, you should discontinue exercising. ",s.a.createElement("br",null),s.a.createElement("br",null),"Not all exercises are suitable for everyone, and this or any other exercise program may result in injury.",s.a.createElement("br",null),s.a.createElement("br",null),"Any user of the exercise program assumes the risk of injury from performing the exercises shown.",s.a.createElement("br",null),s.a.createElement("br",null),"The instructions and advice on this video are not intended to replace medical advice or treatment by your physician.",s.a.createElement("br",null),s.a.createElement("br",null),"All questions and concerns regarding your health, weight, diet and physical activity should be directed to your physician.",s.a.createElement("br",null),s.a.createElement("br",null),"In no way will the creators, authors and publishers of this video or any persons associated with the foregoing be held responsible for any injuries or problems that occur due to the use of the video or the advice contained within.",s.a.createElement("br",null),s.a.createElement("br",null),"The creators, authors and publishers of this video disclaim any liabilities in connection with the exercise and nutritional advice contained herein.")),s.a.createElement("div",{class:"m-b-50"},s.a.createElement("h3",{class:"font-medium font-21 purplefont"},"Payment and Fees"),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"The membership fee will be billed on the beginning of the paying portion of your membership and each month or year thereafter unless and until you cancel your membership. We automatically bill your Payment Method each month on the calendar day corresponding to the commencement of your paying membership. We reserve the right to change the timing of our billing, in particular, as indicated below, if your Payment Method has not successfully settled. In the event your paying membership began on a day not contained in a given month, we may bill your Payment Method on a day in the applicable month or such other day as we deem appropriate. For example, if you started your Premium Membership or became a paying member on March 31st, your next payment date is likely to be April 30th, and your Payment Method would be billed that date."),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"Payments are nonrefundable and there are no refund or credits for partially used periods. Following any cancellation, however, you will continue to have the benefits of your Beam Membership through the end of your current billing period.")),s.a.createElement("div",{class:"m-b-50"},s.a.createElement("h3",{class:"font-medium font-21 purplefont"},"Cancellations"),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"You may cancel your Beam Membership at any time for any or no reason. To cancel your recurring subscription, please visit your dashboard and Account Info tab. If you have canceled your Beam Membership, you will lose access to all content.")),s.a.createElement("div",{class:"m-b-50"},s.a.createElement("h3",{class:"font-medium font-21 purplefont"},"Free Trials and Paid Subscriptions"),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},'From time to time, we or others on our behalf may offer trials of paid subscriptions for our Beam Membership for a specified period without payment or at a reduced rate (a "Trial"). Beam reserves the right, in its absolute discretion, to determine your eligibility for a Trial, and, subject to applicable laws, to withdraw or to modify a Trial at any time without prior notice and with no liability, to the greatest extent permitted under the law.')),s.a.createElement("div",{class:"m-b-50"},s.a.createElement("h3",{class:"font-medium font-21 purplefont"},"Price changes"),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"We reserve the right to adjust pricing for our service, or any components thereof in any manner and at any time as we may determine in our sole and absolute discretion. Except as otherwise expressly provided for in these Terms of Use, any price changes to your service will take effect following email notice to you.")),s.a.createElement("div",{class:"m-b-50"},s.a.createElement("h3",{class:"font-medium font-21 purplefont"},"Disclaimer of Warranties"),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},'THE SERVICE AND ALL MATERIALS INCLUDED THEREIN ARE PROVIDED ON AN "AS IS" AND "AS AVAILABLE" BASIS WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE, OR THE WARRANTY OF NON-INFRINGEMENT. WITHOUT LIMITING THE FOREGOING, WE MAKE NO WARRANTY THAT (A) THE SERVICE AND MATERIALS WILL MEET YOUR REQUIREMENTS, (B) THE SERVICE AND MATERIALS WILL BE UNINTERRUPTED, TIMELY, SECURE, OR ERROR-FREE, (C) THE RESULTS THAT MAY BE OBTAINED FROM THE USE OF THE SERVICE OR MATERIALS WILL BE EFFECTIVE, ACCURATE OR RELIABLE, OR (D) THE QUALITY OF ANY WORKOUT THAT YOU ATTEND VIA THE SERVICE, OR ANY OTHER PRODUCTS, SERVICES, OR INFORMATION PURCHASED OR OBTAINED BY YOU FROM THE SERVICE FROM US OR OUR AFFILIATES WILL MEET YOUR EXPECTATIONS OR BE FREE FROM MISTAKES, ERRORS OR DEFECTS.',s.a.createElement("br",null),s.a.createElement("br",null),"THE SERVICE COULD INCLUDE TECHNICAL OR OTHER MISTAKES, INACCURACIES OR TYPOGRAPHICAL ERRORS. WE MAY MAKE CHANGES TO THE SERVICE AND ANY OF THE CONTENT OR FEATURES INCLUDED THEREIN, INCLUDING THE PRICES AND ACCESS RULES FOR ANY FUNCTIONALITY, AT ANY TIME WITHOUT NOTICE. THE CONTENT INCLUDED ON THE SERVICE MAY BE OUT OF DATE, AND WE MAKE NO COMMITMENT TO UPDATE SUCH CONTENT",s.a.createElement("br",null),s.a.createElement("br",null),"THE USE OF THE SERVICE OR THE DOWNLOADING OR OTHER ACQUISITION OF ANY MATERIALS THROUGH THE SERVICE IS DONE AT YOUR OWN DISCRETION AND RISK AND WITH YOUR AGREEMENT THAT YOU WILL BE SOLELY RESPONSIBLE FOR ANY DAMAGE OR LOSS OF DATA THAT RESULTS FROM SUCH ACTIVITIES.",s.a.createElement("br",null),s.a.createElement("br",null),"Through your use of the Service, you may have the opportunities to engage in commercial transactions with other users and vendors, including (without limitation) users and Content Providers. You acknowledge that all transactions relating to any Workout or other merchandise or services offered by any party, including, but not limited to the purchase terms, payment terms, warranties, guarantees, maintenance and delivery terms relating to such transactions, are agreed to solely between the seller or purchaser of such merchandise and services and you.",s.a.createElement("br",null),s.a.createElement("br",null),"WE MAKE NO WARRANTY REGARDING ANY TRANSACTIONS EXECUTED THROUGH, OR IN CONNECTION WITH THE SERVICE, AND YOU UNDERSTAND AND AGREE THAT SUCH TRANSACTIONS ARE CONDUCTED ENTIRELY AT YOUR OWN RISK. ANY WARRANTY THAT IS PROVIDED IN CONNECTION WITH ANY WORKOUT, PRODUCTS, SERVICES, MATERIALS, OR INFORMATION AVAILABLE ON OR THROUGH THE SERVICE FROM A THIRD PARTY IS PROVIDED SOLELY BY SUCH THIRD PARTY, AND NOT BY US OR ANY OTHER OF OUR AFFILIATES.",s.a.createElement("br",null),s.a.createElement("br",null),'Content available through the Service or presented at any Workout represents the opinions and judgments of an information provider, user, or other person or entity not connected with us. We do not endorse, nor are we responsible for the accuracy or reliability of, any opinion, advice, or statement made by anyone other than an authorised Beam spokesperson speaking in his/her official capacity. Please refer to the specific editorial policies posted on various sections of the Service for further information, which policies are incorporated by reference into these Terms of Service. You understand and agree that temporary interruptions of the Service may occur as normal events. You further understand and agree that we have no control over third party networks you may access in the course of the use of the Service, and therefore, delays and disruption of other network transmissions are completely beyond our control. You understand and agree that the Service is provided "AS IS" and that we assume no responsibility for the timeliness, deletion, mis-delivery or failure to store any user communications or personalisation settings.',s.a.createElement("br",null),s.a.createElement("br",null),"SOME STATES OR JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF CERTAIN WARRANTIES, SO SOME OF THE ABOVE LIMITATIONS MAY NOT APPLY TO YOU.")),s.a.createElement("div",{class:"m-b-50"},s.a.createElement("h3",{class:"font-medium font-21 purplefont"},"Limitation of Liability"),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"IN NO EVENT SHALL WE OR ANY OTHER BEAM PARTY BE LIABLE TO YOU OR ANY THIRD PARTY FOR ANY SPECIAL, PUNITIVE, INCIDENTAL, INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER, INCLUDING, WITHOUT LIMITATION, THOSE RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT WE HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES, AND ON ANY THEORY OF LIABILITY, ARISING OUT OF OR IN CONNECTION WITH THE USE OF THE SERVICE OR OF ANY WEB SITE REFERENCED OR LINKED TO FROM THE SERVICE.",s.a.createElement("br",null),s.a.createElement("br",null),"FURTHER, NEITHER WE,NOR ANY OTHER BEAM PARTY, SHALL BE LIABLE IN ANY WAY FOR ANY WORKOUT OR OTHER THIRD PARTY GOODS AND SERVICES OFFERED THROUGH THE SERVICE OR FOR ASSISTANCE IN CONDUCTING COMMERCIAL TRANSACTIONS WITH OTHER USERS OF THE SITE, INCLUDING WITHOUT LIMITATION ANY TRANSACTION BETWEEN A USER AND INSTRUCTOR.",s.a.createElement("br",null),s.a.createElement("br",null),"SOME JURISDICTIONS PROHIBIT THE EXCLUSION OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES, SO THE ABOVE LIMITATIONS MAY NOT APPLY TO YOU.")),s.a.createElement("div",{class:"m-b-50"},s.a.createElement("h3",{class:"font-medium font-21 purplefont"},"Indemnification"),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"Upon a request by us, you agree to defend, indemnify, and hold us and the other Beam Parties harmless from all liabilities, claims, and expenses, including attorneys' fees, that arise from your violation of these Terms of Service or any of the other Governing Documents, or other negligent or wrongful conduct. We reserve the right to assume the exclusive defense and control of any matter otherwise subject to indemnification by you, in which event you will cooperate with us in asserting any available defenses.")),s.a.createElement("div",{class:"m-b-50"},s.a.createElement("h3",{class:"font-medium font-21 purplefont"},"Miscellaneous"),s.a.createElement("p",{class:"conditions_txt m-b-20 font-qregular"},"You agree that the Service shall be deemed a passive interactive service based solely in UK and shall not give rise to personal jurisdiction over Beam, either specific or general, in jurisdictions other than UK. These Terms of Service, together with the Privacy Policy and the other Governing Documents, shall all be governed and construed in accordance with the internal laws of the UK, without regard to conflicts of law principles. You agree that any legal action or proceeding between Beam and you for any purpose concerning these Terms of Service, the Privacy Policy, the other Governing Documents or your use of the Service shall be brought exclusively in a federal or state court of competent jurisdiction sitting in UK.",s.a.createElement("br",null),s.a.createElement("br",null),"Any cause of action or claim you may have with respect to any of the foregoing matters must be commenced within one (1) year after the claim or cause of action arises or such claim or cause of action is barred.",s.a.createElement("br",null),s.a.createElement("br",null),"TO THE FULLEST EXTENT PERMITTED BY APPLICABLE LAW, NO CLAIM UNDER THESE TERMS OF SERVICE, THE PRIVACY POLICY OR THE OTHER GOVERNING DOCUMENTS SHALL BE JOINED TO ANY OTHER CLAIM, INCLUDING ANY CLAIM INVOLVING ANY OTHER CURRENT OR FORMER USER OF THE SERVICE, AND NO CLASS ACTION PROCEEDINGS SHALL BE PERMITTED.",s.a.createElement("br",null),s.a.createElement("br",null),"These Terms of Service, together with the Privacy Policy and the other Governing Documents, constitute the entire agreement between you and Beam concerning the Service and the services provided by Beam. If any provision of any such document is deemed invalid by a court of competent jurisdiction, the invalidity of such provision shall not affect the validity of the remaining provisions thereof, which shall remain in full force and effect. Beam's failure to insist upon or enforce strict performance of any provision of these Terms of Service or any of the other Governing Documents shall not be construed as a waiver of any provision or right. Neither the course of conduct between the parties nor trade practice shall act to modify any provision of these Terms of Service. Beam may assign its rights and duties under these Terms of Service or any of the other Governing Documents to any party at any time without notice to you. Most communication between Beam and you will be sent and received electronically. You agree that all electronic communication between Beam and you shall satisfy any legal requirements that such communications be in writing.",s.a.createElement("br",null),s.a.createElement("br",null),"Any rights of Beam not expressly granted herein are reserved."))))))))}}]),a}(s.a.Component),Cm=a(55),xm=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={privacyDetails:[],Loading:!1},o.getPrivacy=o.getPrivacy.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.getPrivacy(),window.scrollTo(0,0)}},{key:"getPrivacy",value:function(){var e=this;this.setState({Loading:!0}),this.props.privacyPage().then((function(t){if(t){var a=t.data;console.log("privacyDetails",a["page-content"]),e.setState({privacyDetails:a,Loading:!1})}}),(function(e){}))}},{key:"render",value:function(){return s.a.createElement("section",{className:"privacy_policy"},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Privacy policy",ye),s.a.createElement("meta",{property:"og:title",content:"Privacy policy"+ye}),s.a.createElement("meta",{property:"og:description",content:"At Beam, the privacy of our website visitors is super important to us and we are committed to protecting it. Here are all the details of our privacy policy."}),s.a.createElement("meta",{property:"og:image",content:Ge}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Clouds"})),s.a.createElement("div",{className:"privacy-bg text-center p-t-10 p-b-90",id:"privacy"},s.a.createElement("div",{className:"container"},s.a.createElement("h3",{className:"font-medium font-37 white-txt p-t-30 p-b-100"},"Privacy Policy"))),s.a.createElement("div",{class:"terms_text"},s.a.createElement("div",{class:"container-fluid mx-auto w-65 privacy-container"},s.a.createElement("div",{class:"clearfix p-t-50 blog_details_container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"blog_dyn_section "},s.a.createElement(Cm.RichText,{className:"font-14 font-qregular black-txt",render:this.state.privacyDetails["page-content"]}))))))),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null)))}}]),a}(s.a.Component),Sm={privacyPage:function(){return function(e,t){var a=tt();return fetch(h+"/api/blog/privacy",a).then((function(t){return go(t,e)})).then((function(e){return e}))}}},Om=Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),Sm)(xm),Lm=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={Loading:!1,offset:0,count:0,show_more_cnt:10,liveClassList:[],displayLayout:!1,condition:o.props.props.params.condition,modelState:!1,modelData:{},total_tags:[],total_levels:[],openResearchModel:!1,current_attendee:{},redirectUrl:"",workoutId:""},o.submitStartNow=o.submitStartNow.bind(Object(is.a)(o)),o.modelClose=o.modelClose.bind(Object(is.a)(o)),o.joinClassService=o.joinClassService.bind(Object(is.a)(o)),o.fetchLiveClassList=o.fetchLiveClassList.bind(Object(is.a)(o)),o.closeResearchModel=o.closeResearchModel.bind(Object(is.a)(o)),o.viewPrepoll=o.viewPrepoll.bind(Object(is.a)(o)),o.beforeReview=o.beforeReview.bind(Object(is.a)(o)),console.log("schedule view props",e),o}return Object(Wo.a)(a,[{key:"closeResearchModel",value:function(){this.setState({openResearchModel:!1})}},{key:"beforeReview",value:function(){window.open(this.state.redirectUrl)}},{key:"viewPrepoll",value:function(e){console.log("prepoll",e.Attendees[0].reference),this.setState({openResearchModel:!0,redirectUrl:e.Attendees[0].reference,current_attendee:e.Attendees[0],workoutId:e.WorkoutId}),console.log("url",this.state.redirectUrl)}},{key:"submitStartNow",value:function(e){this.props.is_auth?this.joinClassService(e):this.props.loginModelOpen(!0)}},{key:"joinClassService",value:function(e){var t=this,a={roomId:e.id};this.props.start_loader(),this.props.joinClass(a).then((function(a){t.props.stop_loader(),a&&t.setState({modelState:!0,modelData:e})}),(function(e){t.props.stop_loader(),t.setState({modelState:!1,modelData:{}}),at.b.error(e)}))}},{key:"modelClose",value:function(){this.setState({modelState:!1,modelData:{}})}},{key:"componentDidMount",value:function(){var e=this;this.setState({condition:this.props.condition},(function(){e.fetchLiveClassList()}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.params&&e.params.condition&&this.props.params.condition!==e.params.condition){var a=_o.replaceChar(e.params.condition,!0);this.setState({condition:a},(function(){t.fetchLiveClassList()}))}}},{key:"fetchLiveClassList",value:function(){var e=this;this.setState({Loading:!0,disableButton:!0});var t=_o.replaceChar(this.state.condition,!0),a={offset:this.state.offset,limit:10,condition:t};this.props.fetchDashboardSchedule(a).then((function(t){if(t){var a=t.list;a&&a.liveClasses&&e.groupListResult(a.liveClasses),e.setState({Loading:!1,count:t.count,disableButton:!1,total_tags:t.list.tags?t.list.tags:[],total_levels:t.list.levelTags?t.list.levelTags:[]},(function(){}))}}),(function(t){e.setState({Loading:!1,disableButton:!1})}))}},{key:"renderSchedule",value:function(e){var t=this;if(e.reference&&"coming soon"===e.reference.toLowerCase())return s.a.createElement("a",{className:"btn-purple-inverse pad_list_btn clearfix"}," ",e.Attendees[0].reference||"#"," ");var a=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();return e.Signedup&&this.props.logged_userData.isStudyParticipant&&Q.includes(a)?s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.viewPrepoll(e)}}," Go to class "):e.Signedup&&!this.props.logged_userData.isStudyParticipant||e.Signedup&&this.props.logged_userData.isStudyParticipant&&!Q.includes(a)?s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.viewPrepoll(e)}}," Go to class"):s.a.createElement("a",{onClick:function(){return t.submitStartNow(e)},className:"btn btn-purple-inverse pad_list_btn clearfix pointer"}," Sign up ")}},{key:"cancelCalss",value:function(e,t,a){var o=this;if(!this.state.cancelLoading){this.setState({cancelLoading:!0});var s={roomId:e.id};this.props.cancelClass(s).then((function(e){e&&at.b.success(e.message);var s=Object(Lo.a)(o.state.liveClassList);s[t].splice(a,1);var n=s.filter((function(e){return e.length>0}));o.setState({liveClassList:n,cancelLoading:!1})}),(function(e){o.setState({cancelLoading:!1})}))}}},{key:"renderSubItemList",value:function(e,t){var a=this,o=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();return e.map((function(e,n){return s.a.createElement("div",{className:"list-group-item",key:n},s.a.createElement("div",{className:"col-md-12 desktop-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-md-3 col-lg-3 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.condition+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},s.a.createElement(hn,{className:"media-object image-size img-rounded img-fluid",src:x+e.Workout.id+"-img.png"})),s.a.createElement("div",{className:"time-box"},s.a.createElement("i",{className:"fa fa-clock-o w-100"}),s.a.createElement("div",{className:"w-100"},e.Workout.length," mins")))),s.a.createElement("div",{className:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{className:"col-md-9 col-lg-9 col-sm-9 float-left pl-20"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left m-b-10 p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e.Workout&&e.Workout.Instructor&&e.Workout.Instructor.img?S+e.Workout.Instructor.img:D+"no-image.png",alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.condition+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}}," ",e.Workout.title)),s.a.createElement("div",{className:"w-80"},"with",e.Workout.Instructor.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+e.Workout.Instructor.id+"/"+_o.replaceChar(a.props.condition,!1),className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName),!e.Workout.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName)))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("discipline",a.state.total_tags,e.WorkoutId))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("level",a.state.total_levels,e.WorkoutId)))),s.a.createElement("div",{className:"col-lg-3 float-left col-md-3 p-0 text-center"},"Live"==e.type&&a.props.logged_userData.isStudyParticipant&&Q.includes(o)?s.a.createElement("a",{target:"_blank",className:"btn btn-purple-inverse w-100 font-medium m-b-10",onClick:function(){return a.viewPrepoll(e)}},"Go To Class "):"Live"==e.type&&!a.props.logged_userData.isStudyParticipant||"Live"==e.type&&a.props.logged_userData.isStudyParticipant&&!Q.includes(o)?s.a.createElement("a",{target:"_blank",className:"btn btn-purple-inverse w-100 font-medium m-b-10",href:e.Attendees[0].reference||"#"},"Go To Class "):s.a.createElement("a",{className:"btn btn-purple-inverse w-100 font-medium m-b-10",href:"/detail/"+e.Workout.id+"/"+_o.replaceChar(a.props.params.condition,!1),onClick:function(){localStorage.setItem("scheduleRoomId",e.id)}},"Start Now"),e.Signedup&&s.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-purple w-100 pad_list_btn font-medium m-b-10 joinclass-blue-btn",onClick:function(){return a.cancelCalss(e,t,n)}},"Oops, I can't make it"),s.a.createElement("span",{className:"btn btn-default-list-blue clearfix pad_list_btn"},bo()(e.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),"Live"==e.type&&s.a.createElement("span",{className:"btn btn-blue-inverse w-100 btn-white redtext bg-white font-medium"},"Live session"),s.a.createElement(xn,{item:e,type:e.type,title:e.Workout.title,length:e.Workout.length}))))),s.a.createElement("div",{className:"col-md-12 mobile-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-12 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.condition+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},s.a.createElement(hn,{className:"media-object image-size img-rounded img-fluid",src:x+e.Workout.id+"-img.png"})),s.a.createElement("div",{className:"time-box"},s.a.createElement("i",{className:"fa fa-clock-o w-100"}),s.a.createElement("div",{className:"w-100"},e.Workout.length," mins")))),s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"col-12 float-left p-0 "},s.a.createElement("div",{className:"col-12  float-left p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100 m-t-5 m-b-5"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e.Workout&&e.Workout.Instructor&&e.Workout.Instructor.img?S+e.Workout.Instructor.img:D+"no-image.png",alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.condition+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},e.Workout.title)),s.a.createElement("div",{className:"w-80"},"with",e.Workout.Instructor.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+e.Workout.Instructor.id+"/"+_o.replaceChar(a.props.condition,!1),className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName),!e.Workout.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName)))),s.a.createElement("div",{className:"font-medium col-12 p-0 m-b-10 float-left "},s.a.createElement("div",{className:"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("discipline",a.state.total_tags,e.WorkoutId))),s.a.createElement("div",{className:"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("level",a.state.total_levels,e.WorkoutId)))))),s.a.createElement("div",{className:"col-12 float-left p-0 text-center"},a.renderSchedule(e),e.Signedup&&s.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-purple w-100 pad_list_btn font-medium m-b-10 joinclass-blue-btn",onClick:function(){return a.cancelCalss(e)}},"Oops, I can't make it"),s.a.createElement("span",{className:"btn btn-default-list-blue clearfix pad_list_btn"},bo()(e.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),"Live"==e.type&&s.a.createElement("span",{className:"btn btn-default-list-orange clearfix pad_list_btn"},"Live Session"),s.a.createElement(xn,{item:e,type:e.type,title:e.Workout.title,length:e.Workout.length})))))}))}},{key:"renderListView",value:function(){var e=this;return this.state.liveClassList.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("p",{className:"section_header font-semibold"},_o.getDayNameFromDate(t[0].scheduledFor)),e.renderSubItemList(t,a))}))}},{key:"renderLoadMore",value:function(){var e=this;if(this.state.liveClassList&&this.state.count>this.state.liveClassList.length)return s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement("span",{onClick:function(){e.state.disableButton||e.incrementShowmoreCnt()},className:"btn btn-orange m-t-40 m-b-40 font-book pointer"},"Show more schedule list"))}},{key:"renderListData",value:function(){return this.state.liveClassList&&this.state.liveClassList.length>0?s.a.createElement("div",null,this.renderListComponent()):s.a.createElement("div",{className:"row p-b-30 p-t-30"},s.a.createElement("h3",{className:"col-sm-12 text-center"},"Oh no - you have no classes scheduled.  Why not schedule an on-demand class right now?"))}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+10},(function(){this.fetchLiveClassList()}))}},{key:"groupListResult",value:function(e){var t=[],a=this.state.liveClassList,o=e,s={},n=[];o.map((function(e,r){if(a&&a.length>0&&o&&e&&bo()(a[a.length-1][0].scheduledFor).format("DD/MM/YYYY")===bo()(e.scheduledFor).format("DD/MM/YYYY"))a[a.length-1].push(e),t=a;else{r=bo()(e.scheduledFor).format("DD/MM/YYYY");s[r]?s[r].push(e):(s[r]=[],s[r].push(e),n.push(s[r])),t=[].concat(Object(Lo.a)(a),n)}})),this.setState({liveClassList:t})}},{key:"renderListComponent",value:function(){if(!this.state.displayLayout)return s.a.createElement("div",{id:"products",className:"row"},s.a.createElement("div",{className:"list-group"},this.renderListView()),this.renderLoadMore())}},{key:"changeViewLayout",value:function(){var e=this.state.displayLayout;this.setState({displayLayout:!e})}},{key:"render",value:function(){return s.a.createElement("div",{className:""},s.a.createElement(hi,{is_model_open:this.state.openResearchModel,closeResearchModel:this.closeResearchModel,classType:"Live",beforeReview:this.beforeReview,workoutId:this.state.workoutId,current_attendee:this.state.current_attendee}),s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"My schedule",ye),s.a.createElement("meta",{property:"og:title",content:"My schedule"+ye}),s.a.createElement("meta",{property:"og:description",content:Ve}),s.a.createElement("meta",{property:"og:image",content:He}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Mountains with purple sky"})),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null)),!this.state.Loading&&this.renderListData(),s.a.createElement(hl,{is_model_open:this.state.modelState,modelData:this.state.modelData,modelClose:this.modelClose}))}}]),a}(s.a.Component),Dm={fetchDashboardSchedule:qa,loginModelOpen:pt,start_loader:ht,stop_loader:gt,joinClass:ja,cancelClass:Ta},Mm=(Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),Dm)(Lm),function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={Loading:!1,offset:0,count:0,show_more_cnt:10,calenderLiveClassList:[],allLiveClassData:[],selectDate:new Date,isCurrentWeek:0,displayLayout:!0,condition:o.props.params.condition,modelState:!1,modelData:{},total_tags:[],total_levels:[],init_weeks_days:[],Liveclass_Weeks:8,openResearchModel:!1,current_attendee:{},redirectUrl:"",workoutId:""},o.fetchLiveClassesForInitiate=o.fetchLiveClassesForInitiate.bind(Object(is.a)(o)),o.fetchLiveClassList=o.fetchLiveClassList.bind(Object(is.a)(o)),o.submitStartNow=o.submitStartNow.bind(Object(is.a)(o)),o.modelClose=o.modelClose.bind(Object(is.a)(o)),o.joinClassService=o.joinClassService.bind(Object(is.a)(o)),o.closeResearchModel=o.closeResearchModel.bind(Object(is.a)(o)),o.viewPrepoll=o.viewPrepoll.bind(Object(is.a)(o)),o.beforeReview=o.beforeReview.bind(Object(is.a)(o)),console.log("schedule view props",e),o}return Object(Wo.a)(a,[{key:"closeResearchModel",value:function(){this.setState({openResearchModel:!1})}},{key:"beforeReview",value:function(){window.open(this.state.redirectUrl)}},{key:"viewPrepoll",value:function(e){console.log("prepoll",e.Attendees[0].reference),this.setState({openResearchModel:!0,redirectUrl:e.Attendees[0].reference,current_attendee:e.Attendees[0],workoutId:e.WorkoutId}),console.log("url",this.state.redirectUrl)}},{key:"submitStartNow",value:function(e){this.props.is_auth?this.joinClassService(e):this.props.loginModelOpen(!0)}},{key:"joinClassService",value:function(e){var t=this,a={roomId:e.id};this.props.start_loader(),this.props.joinClass(a).then((function(a){t.props.stop_loader(),a&&t.setState({modelState:!0,modelData:e})}),(function(e){t.props.stop_loader(),t.setState({modelState:!1,modelData:{}}),at.b.error(e)}))}},{key:"modelClose",value:function(){this.setState({modelState:!1,modelData:{}})}},{key:"componentDidMount",value:function(){for(var e=this,t=new Date,a=bo()().add(6,"d"),o=[_o.getWeekDays(t,a)],s=1;s<this.state.Liveclass_Weeks;s++)t=bo()(a).add(1,"d"),a=bo()(a).add(7,"d"),o.push(_o.getWeekDays(t,a));this.setState({init_weeks_days:o});var n=_o.replaceChar(this.state.condition,!0);this.setState({selectDate:new Date,selectedWeek:o[0],condition:n},(function(){e.fetchLiveClassesForInitiate()}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.params&&e.params.condition&&this.props.params.condition!==e.params.condition){var a=_o.replaceChar(e.params.condition,!0);this.setState({condition:a},(function(){t.fetchLiveClassList()}))}}},{key:"fetchLiveClassesForInitiate",value:function(){var e=this;this.setState({Loading:!0,disableButton:!0});var t=_o.replaceChar(this.state.condition,!0),a={offset:this.state.offset,limit:10,condition:t};this.props.fetchDashboardSchedule(a).then((function(t){if(t){var a=t.list;if(a&&a.liveClasses){e.setState({allLiveClassData:a.liveClasses});var o="";a.liveClasses.map((function(e,t){0===t&&(o=e.scheduledFor)}));for(var s=new Date,n=bo()().add(6,"d"),r=[_o.getWeekDays(s,n)],i=1;i<e.state.Liveclass_Weeks;i++)s=bo()(n).add(1,"d"),n=bo()(n).add(7,"d"),r.push(_o.getWeekDays(s,n));e.setState({init_weeks_days:r});var l=r[0],c=0,m=new Date;if(o)for(var d=bo()(o).format("YYYY-MM-DD"),p=0;p<e.state.Liveclass_Weeks;p++)r[p].indexOf(d)>=0&&(l=r[p],c=p),m=o;e.setState({selectDate:m,selectedWeek:l,isCurrentWeek:c,firstScheduleDate:o},(function(){}))}}}),(function(t){e.setState({Loading:!1,disableButton:!1})}))}},{key:"fetchLiveClassList",value:function(){var e=this;this.props.start_loader(),this.setState({disableButton:!0});var t={offset:this.state.offset,limit:10,condition:this.state.condition,dateChosen:bo()(this.state.selectDate).format("YYYY-MM-DD")};this.props.fetchDashboardSchedule(t).then((function(t){if(e.props.stop_loader(),t){var a=t.list;a&&a.liveClasses&&e.groupListResult(a.liveClasses),e.setState({Loading:!1,count:t.count,disableButton:!1,total_tags:t.list.tags?t.list.tags:[],total_levels:t.list.levelTags?t.list.levelTags:[]},(function(){}))}}),(function(t){e.setState({Loading:!1,disableButton:!1}),e.props.stop_loader()}))}},{key:"renderSchedule",value:function(e){}},{key:"cancelCalss",value:function(e,t){var a=this;if(!this.state.cancelLoading){this.setState({cancelLoading:!0});var o={roomId:e.id};this.props.cancelClass(o).then((function(e){e&&at.b.success(e.message);var o=Object(Lo.a)(a.state.calenderLiveClassList);o.splice(t,1),a.setState({calenderLiveClassList:o,cancelLoading:!1})}),(function(e){a.setState({cancelLoading:!1})}))}}},{key:"renderSubItemList",value:function(){var e=this;if(this.state.calenderLiveClassList.length>0){var t=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();return this.state.calenderLiveClassList.map((function(a,o){return s.a.createElement("div",{className:"list-group-item",key:o},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-md-3 col-lg-3 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+e.props.params.condition+"/"+a.Workout.id,onClick:function(){Go.Cookies.set("workoutId",a.id)}},s.a.createElement(hn,{className:"media-object image-size img-rounded img-fluid",src:x+a.Workout.id+"-img.png"})),s.a.createElement("div",{className:"time-box"},s.a.createElement("i",{className:"fa fa-clock-o w-100"}),s.a.createElement("div",{className:"w-100"},a.Workout.length," mins")))),s.a.createElement("div",{className:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{className:"col-md-9 col-lg-9 col-sm-9 float-left pl-20"},s.a.createElement("div",{className:"col-12 float-left p-b-20"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:a.Workout&&a.Workout.Instructor&&a.Workout.Instructor.img?S+a.Workout.Instructor.img:D+"no-image.png",alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+e.props.params.condition+"/"+a.Workout.id,onClick:function(){Go.Cookies.set("workoutId",a.id)}},"  ",a.Workout.title)),s.a.createElement("div",{className:"w-80"},"with",a.Workout.Instructor.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+a.Workout.Instructor.id+"/"+_o.replaceChar(e.props.params.condition,!1),className:"font-16 font-semibold black-txt p-l-5"},a.Workout.Instructor.User.name," ",a.Workout.Instructor.User.lastName),!a.Workout.Instructor.hasProfile&&s.a.createElement("span",{className:"font-16 font-semibold black-txt p-l-5"},a.Workout.Instructor.User.name," ",a.Workout.Instructor.User.lastName)))),s.a.createElement("div",{className:"col-12 float-left"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("discipline",e.state.total_tags,a.WorkoutId))),s.a.createElement("div",{className:"col-12 float-left p-b-20"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("level",e.state.total_levels,a.WorkoutId)))),s.a.createElement("div",{className:"col-lg-3 float-left col-md-3 p-0 text-center"},"Live"==a.type&&e.props.logged_userData.isStudyParticipant&&Q.includes(t)?s.a.createElement("a",{target:"_blank",className:"btn btn-purple-inverse w-100 font-medium m-b-10",onClick:function(){return e.viewPrepoll(a)}},"Go To Class"):"Live"==a.type&&!e.props.logged_userData.isStudyParticipant||"Live"==a.type&&e.props.logged_userData.isStudyParticipant&&!Q.includes(t)?s.a.createElement("a",{target:"_blank",className:"btn btn-purple-inverse w-100 font-medium m-b-10",href:a.Attendees[0].reference||"#"},"Go To Class "):s.a.createElement("a",{className:"btn btn-purple-inverse w-100 font-medium m-b-10",href:"/detail/"+a.Workout.id+"/"+_o.replaceChar(e.props.params.condition,!1),onClick:function(){localStorage.setItem("scheduleRoomId",a.id)}},"Start Now"),a.Signedup&&s.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-purple w-100 pad_list_btn font-medium m-b-10 joinclass-blue-btn",onClick:function(){return e.cancelCalss(a,o)}},"Oops, I can't make it"),s.a.createElement("span",{className:"btn btn-default-list-blue clearfix pad_list_btn"},bo()(a.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),"Live"==a.type&&s.a.createElement("span",{className:"btn btn-blue-inverse w-100 btn-white redtext bg-white font-medium"},"Live session"),s.a.createElement(xn,{item:a,type:a.type,title:a.Workout.title,length:a.Workout.length}))))))}))}return s.a.createElement("div",{className:"border-bottom w-100 float-left"},s.a.createElement("h3",{className:"m-t-20 text-center"},"Oh no - you have no classes scheduled on this day. Why not schedule an on-demand class right now?"))}},{key:"renderLoadMore",value:function(){var e=this;if(this.state.calenderLiveClassList&&this.state.count>this.state.calenderLiveClassList.length)return s.a.createElement("div",{className:"w-100 text-center"},s.a.createElement("a",{onClick:function(){e.state.disableButton||e.incrementShowmoreCnt()},className:"btn btn-orange m-t-40 m-b-40 text-center font-book"},"  Show more schedule list"))}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+10},(function(){this.fetchLiveClassList()}))}},{key:"groupListResult",value:function(e){var t,a=this.state.calenderLiveClassList,o=e;t=[].concat(Object(Lo.a)(a),Object(Lo.a)(o)),this.setState({calenderLiveClassList:t})}},{key:"changeSelectedDate",value:function(e){var t=this;this.setState({selectDate:e,calenderLiveClassList:[],offset:0},(function(){t.fetchLiveClassList()}))}},{key:"getDate",value:function(e){var t=bo()(e).format("DD");return bo()(e,"YYYY-MM-DD HH:mm:ss").format("ddd")+" "+t}},{key:"renderWeekDays",value:function(e){var t=this;if(e){var a=this.state.selectDate,o=bo()(a).format("YYYY-MM-DD");return e.map((function(e,a){return s.a.createElement("div",{className:"months-list float-left",key:a},s.a.createElement("span",{onClick:function(){t.changeSelectedDate(e)},className:e===o?"active":"pointer"},t.getDate(e)))}))}}},{key:"getMobileDate",value:function(e){return bo()(e,"YYYY-MM-DD HH:mm:ss").format("dd").charAt(0)}},{key:"getMobileDay",value:function(e){return bo()(e).format("DD")}},{key:"renderMobileWeekDays",value:function(e){var t=this;if(e){var a=this.state.selectDate,o=bo()(a).format("YYYY-MM-DD");return e.map((function(e,a){return s.a.createElement("div",{className:"months-list float-left",key:a},s.a.createElement("span",{onClick:function(){t.changeSelectedDate(e)},className:e===o?"active":"pointer"},s.a.createElement("div",{className:"text-center"},t.getMobileDate(e)),s.a.createElement("div",{className:"text-center"},t.getMobileDay(e))))}))}}},{key:"seletedMonthDay",value:function(){var e=this.state.selectDate;return bo()(e).format("MMMM")}},{key:"goToPreviousWeek",value:function(e){var t=this;this.setState({selectedWeek:this.state.init_weeks_days[e],isCurrentWeek:e,calenderLiveClassList:[],selectDate:this.state.init_weeks_days[e][0],offset:0},(function(){t.fetchLiveClassList()}))}},{key:"goToNextWeek",value:function(e){var t=this;this.setState({selectedWeek:this.state.init_weeks_days[e],isCurrentWeek:e,calenderLiveClassList:[],selectDate:this.state.init_weeks_days[e][0],offset:0},(function(){t.fetchLiveClassList()}))}},{key:"renderPreviousWeekIcon",value:function(){var e=this;if(this.state.isCurrentWeek>0)return s.a.createElement("i",{onClick:function(){e.goToPreviousWeek(e.state.isCurrentWeek-1)},className:"fa fa-angle-left float-left"})}},{key:"renderNextWeekIcon",value:function(){var e=this;if(this.state.isCurrentWeek<7)return s.a.createElement("i",{onClick:function(){e.goToNextWeek(e.state.isCurrentWeek+1)},className:"fa fa-angle-right float-right"})}},{key:"changeViewLayout",value:function(){var e=this.state.displayLayout;this.setState({displayLayout:!e})}},{key:"renderLayout",value:function(){var e=this;return s.a.createElement("p",{className:"row"},s.a.createElement("i",{className:this.state.displayLayout?"fa fa-calendar-o m-r-5":"fa fa-list-ul","aria-hidden":"true"}),s.a.createElement("a",{onClick:function(){e.changeViewLayout()},className:"orangefont font-medium"},s.a.createElement("u",{className:"pointer"},this.state.displayLayout?"Switch to calendar view":"Switch to list view")))}},{key:"renderLayoutComponent",value:function(){var e=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData,t="";return e&&e.isStudyUser&&(t=e.Members.length?e.Members[0].Community.community_name:""),this.state.displayLayout?s.a.createElement(bc,{props:this.props,firstScheduleDate:this.state.firstScheduleDate,params:this.props.params.condition,location:this.props.props.location,liveClassList:this.state.liveClassList,allLiveClassData:this.state.allLiveClassData,componentType:"Dashboard"}):s.a.createElement(hc,{props:this.props,firstScheduleDate:this.state.firstScheduleDate,params:this.props.params.condition,location:this.props.props.location,liveClassList:this.state.liveClassList,allLiveClassData:this.state.allLiveClassData,componentType:"Dashboard",group:t})}},{key:"renderListData",value:function(){return s.a.createElement("div",null,this.renderLayoutComponent())}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement(hi,{is_model_open:this.state.openResearchModel,closeResearchModel:this.closeResearchModel,classType:"Live",beforeReview:this.beforeReview,workoutId:this.state.workoutId,current_attendee:this.state.current_attendee}),s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"My schedule",ye),s.a.createElement("meta",{property:"og:title",content:"My schedule"+ye}),s.a.createElement("meta",{property:"og:description",content:Ve}),s.a.createElement("meta",{property:"og:image",content:He}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Mountains with purple sky"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3 col-md-12 col-sm-12 float-left"},this.renderLayout()),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("p",{className:"w-40 font-16 font-semibold black-txt text-center"},"All class times shown in "," "+_o.localTimeZoneName()," time")),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 float-left"},this.renderListData())),s.a.createElement(hl,{is_model_open:this.state.modelState,modelData:this.state.modelData,modelClose:this.modelClose}))}}]),a}(s.a.Component)),Im={fetchDashboardSchedule:qa,start_loader:ht,stop_loader:gt,loginModelOpen:pt,joinClass:ja,cancelClass:Ta},jm=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData}}),Im)(Mm),Tm=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={Loading:!1,offset:0,count:0,show_more_cnt:10,historyList:[],condition:o.props.params.condition,modelState:!1,modelData:{},total_tags:[],total_levels:[]},o.modelClose=o.modelClose.bind(Object(is.a)(o)),o.fetchLiveClassList=o.fetchLiveClassList.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"modelClose",value:function(){this.setState({modelState:!1,modelData:{}})}},{key:"componentDidMount",value:function(){var e=this;this.setState({condition:this.state.condition},(function(){e.fetchLiveClassList()}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.params&&e.params.condition&&this.props.params.condition!==e.params.condition){var a=_o.replaceChar(e.params.condition,!0);this.setState({condition:a},(function(){t.fetchLiveClassList()}))}}},{key:"fetchLiveClassList",value:function(){var e=this;this.setState({Loading:!0});var t=this.state.condition,a={offset:this.state.offset,limit:10,condition:t};this.props.start_loader(),this.props.fetchRecentlyWatched(a).then((function(t){if(e.props.stop_loader(),t){var a=t.list;a&&a.history&&e.groupListResult(a.history),e.setState({Loading:!1,count:t.count,total_tags:t.list.tags?t.list.tags:[],total_levels:t.list.levelTags?t.list.levelTags:[]},(function(){}))}}),(function(t){e.props.stop_loader(),e.setState({Loading:!1})}))}},{key:"getDayNameFromDate",value:function(e){var t=bo()(e,"YYYY-MM-DD"),a=(bo()(e).format("dddd"),bo()(e).format("MMMM")),o=bo()(e).format("DD");o=o;var s=bo()(e).fromNow();return bo()(e).calendar(null,{lastWeek:"[Last] dddd",lastDay:"[Yesterday]",sameDay:"[Today]",sameElse:function(){return"["+s+"]"}})+" - "+t.format("dddd")+" "+a+" "+o}},{key:"renderSubItemList",value:function(e,t){var a=this;return e.map((function(e,t){return s.a.createElement("div",{className:"list-group-item",key:t},s.a.createElement("div",{className:"col-md-12 desktop-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-md-3 col-lg-3 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.params.condition+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},s.a.createElement(hn,{className:"media-object image-size img-rounded img-fluid",src:x+e.Workout.id+"-img.png"})),s.a.createElement("div",{className:"time-box"},s.a.createElement("i",{className:"fa fa-clock-o w-100"}),s.a.createElement("div",{className:"w-100"},e.Workout.length," mins")))),s.a.createElement("div",{className:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{className:"col-md-9 col-lg-9 col-sm-9 float-left pl-20"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left m-b-10 p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e.Workout&&e.Workout.Instructor&&e.Workout.Instructor.img?S+e.Workout.Instructor.img:D+"no-image.png",alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.params.condition+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}}," ",e.Workout.title)),s.a.createElement("div",{className:"w-80"},"with",s.a.createElement(Qo.b,{to:"/instructor/"+e.Workout.Instructor.id+"/"+_o.replaceChar(a.props.params.condition,!1),className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName)))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("discipline",a.state.total_tags,e.WorkoutId))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("level",a.state.total_levels,e.WorkoutId)))),s.a.createElement("div",{className:"col-lg-3 float-left col-md-3 p-0 text-center"},"Live"!=e.type&&s.a.createElement("a",{className:"btn btn-purple w-100 font-medium m-b-10",href:"/detail/"+e.Workout.id+"/"+_o.replaceChar(a.props.params.condition,!1)},"Do Again"),s.a.createElement("span",{className:"btn btn-default-list-blue clearfix pad_list_btn"},bo()(e.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),"Live"==e.type&&s.a.createElement("span",{className:"btn btn-blue-inverse w-100 btn-white redtext bg-white font-medium"},"Live session")),"Live"!=e.type&&s.a.createElement("div",{className:"col-md-3 col-lg-3 col-sm-3 btngroup bookmark-bottom--align float-left pl-0 pr-0"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},s.a.createElement("div",{className:"bookmark-left float-right text-right align-self-end"},s.a.createElement("b",{className:"m-r-10"},s.a.createElement(Kr,{className:"m-l-10",page:"recently_watched",workoutData:e.Workout})),s.a.createElement(En,{ondemand_data:e.Workout,location:a.props.location,history:a.props.history,pageName:"recently_watched"}))))))),s.a.createElement("div",{className:"col-md-12 mobile-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-12 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.params.condition+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},s.a.createElement(hn,{className:"media-object image-size img-rounded img-fluid",src:x+e.Workout.id+"-img.png"})),s.a.createElement("div",{className:"time-box"},s.a.createElement("i",{className:"fa fa-clock-o w-100"}),s.a.createElement("div",{className:"w-100"},e.Workout.length," mins")))),s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"col-12 float-left p-0 "},s.a.createElement("div",{className:"col-12  float-left p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100 m-t-5 m-b-5"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e.Workout&&e.Workout.Instructor&&e.Workout.Instructor.img?S+e.Workout.Instructor.img:D+"no-image.png",alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.params.condition+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},e.Workout.title)),s.a.createElement("div",{className:"w-80"},"with",s.a.createElement(Qo.b,{to:"/instructor/"+e.Workout.Instructor.id+"/"+_o.replaceChar(a.props.params.condition,!1),className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName)))),s.a.createElement("div",{className:"font-medium col-12 p-0 m-b-10 float-left "},s.a.createElement("div",{className:"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("discipline",a.state.total_tags,e.WorkoutId))),s.a.createElement("div",{className:"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("level",a.state.total_levels,e.WorkoutId)))))),s.a.createElement("div",{className:"col-12 float-left p-0 text-center"},"Live"!=e.type&&s.a.createElement("a",{className:"btn btn-purple w-100 font-medium m-b-10",href:"/detail/"+e.Workout.id+"/"+_o.replaceChar(a.props.params.condition,!1)},"Do Again"),s.a.createElement("span",{className:"btn btn-default-list-blue clearfix pad_list_btn"},bo()(e.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),"Live"==e.type&&s.a.createElement("span",{className:"btn btn-default-list-orange clearfix pad_list_btn"},"Live Session")),"Live"!=e.type&&s.a.createElement("div",{className:"col-md-3 col-lg-3 col-sm-3 btngroup bookmark-bottom--align float-left pl-0 pr-0"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},s.a.createElement("div",{className:"bookmark-left float-right text-right align-self-end"},s.a.createElement("b",{className:"m-r-10"},s.a.createElement(Kr,{className:"m-l-10",page:"recently_watched",workoutData:e.Workout})),s.a.createElement(En,{ondemand_data:e.Workout,location:a.props.location,history:a.props.history,pageName:"recently_watched"})))))))}))}},{key:"renderListView",value:function(){var e=this;return this.state.historyList.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("p",{className:"section_header font-semibold"},_o.getDayNameFromDate(t[0].scheduledFor)),e.renderSubItemList(t,a))}))}},{key:"renderSchedule",value:function(e){if(e.reference&&"coming soon"===e.reference.toLowerCase())return s.a.createElement("a",{className:"btn-purple pad_list_btn clearfix"}," ",e.reference," ")}},{key:"renderLoadMore",value:function(){var e=this;if(this.state.historyList&&this.state.count>this.state.historyList.length)return s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement("span",{onClick:function(){e.incrementShowmoreCnt()},className:"btn btn-orange m-t-40 m-b-40 font-book pointer"},"Show more recently watched"))}},{key:"renderListData",value:function(){return this.state.historyList&&this.state.historyList.length>0?s.a.createElement("div",null,this.renderListComponent()):s.a.createElement("div",{className:"list-group"},s.a.createElement("h3",{className:"text-center"},"You're yet to complete a class on Beam - but you're just a few clicks away from changing that...!"),s.a.createElement("br",null))}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+10},(function(){this.fetchLiveClassList()}))}},{key:"groupListResult",value:function(e){var t=[],a=this.state.historyList,o=e,s={},n=[];o.map((function(e,r){if(a&&a.length>0&&o&&e&&bo()(a[a.length-1][0].scheduledFor).format("DD/MM/YYYY")===bo()(e.scheduledFor).format("DD/MM/YYYY"))a[a.length-1].push(e),t=a;else{r=e.scheduledFor;s[r]?s[r].push(e):(s[r]=[],s[r].push(e),n.push(s[r])),t=[].concat(Object(Lo.a)(a),n)}})),this.setState({historyList:t})}},{key:"renderListComponent",value:function(){return s.a.createElement("div",{id:"products",className:"list_section float-left w-100 p-t-20 p-b-20"},s.a.createElement("div",{className:"container"},this.renderListView()),this.renderLoadMore())}},{key:"render",value:function(){return s.a.createElement("div",{className:""},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"My Activity Diary",ye),s.a.createElement("meta",{property:"og:title",content:"My Activity Diary"+ye}),s.a.createElement("meta",{property:"og:description",content:ze}),s.a.createElement("meta",{property:"og:image",content:Ke}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Mountains with purple sky"})),!this.state.Loading&&this.renderListData(),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null)),s.a.createElement(hl,{is_model_open:this.state.modelState,modelData:this.state.modelData,modelClose:this.modelClose}))}}]),a}(s.a.Component),Fm={fetchRecentlyWatched:Ya,loginModelOpen:pt,start_loader:ht,stop_loader:gt,joinClass:ja},Pm=Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),Fm)(Tm),Um=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={Loading:!1,offset:0,count:0,savedList:[],limit:6,is_model_open:!1,removedItem:{},condition:o.props.params.condition,savedBlogsCount:0,savedBlogs:[],offsetBlog:0,limitBlog:3},o.closeModel=o.closeModel.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=_o.replaceChar(this.state.condition,!0);this.setState({condition:t},(function(){e.fetchSavedList(),e.fetchSavedBlogList()}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.params&&e.params.condition&&this.props.params.condition!==e.params.condition){var a=_o.replaceChar(e.params.condition,!0);this.setState({condition:a},(function(){t.fetchSavedList()}))}}},{key:"fetchSavedList",value:function(){var e=this;this.props.start_loader(),this.setState({disableButton:!0});var t={offset:this.state.offset,limit:this.state.limit,condition:this.state.condition};this.props.fetchSavedList(t).then((function(t){e.props.stop_loader();var a=t.list;e.setState({disableButton:!1,count:a.count,savedList:a.saved})}),(function(t){e.props.stop_loader(),e.setState({Loading:!1,disableButton:!1})}))}},{key:"loadMoreVideos",value:function(e){var t=this,a=e?this.state.offset+this.state.limit:this.state.offset-this.state.limit;this.setState({offset:a},(function(){t.fetchSavedList()}))}},{key:"fetchSavedBlogList",value:function(){var e=this;this.props.start_loader(),this.setState({disableButton:!0});var t={offset:this.state.offsetBlog,limit:this.state.limitBlog};this.props.fetchSavedBlogList(t).then((function(t){e.props.stop_loader();var a=t.list;e.setState({savedBlogs:a.blogs,savedBlogsCount:t.count,disableButton:!1})}),(function(t){e.props.stop_loader(),e.setState({Loading:!1,disableButton:!1})}))}},{key:"loadMoreSavedBlogs",value:function(e){var t=this,a=e?this.state.offsetBlog+this.state.limitBlog:this.state.offsetBlog-this.state.limitBlog;this.setState({offsetBlog:a},(function(){t.fetchSavedBlogList()}))}},{key:"saveBlog",value:function(e){var t=this;this.props.start_loader();var a={blogId:this.state.savedBlogs[e].uid};this.props.saveBlog(a,!0).then((function(a){a&&(Object(Lo.a)(t.state.savedBlogs)[e].isSaved=!1,t.setState({offsetBlog:0}),t.fetchSavedBlogList(),at.b.success(a.message),t.props.stop_loader())}),(function(e){t.props.stop_loader(),at.b.error(e)}))}},{key:"renderActionComponent",value:function(e){var t=this;return s.a.createElement("div",null,s.a.createElement(En,{location:this.props.location,history:this.props.history,className:"m-l-10",page:"savedlist",ondemand_data:e.Workout}),s.a.createElement("span",{className:"m-l-10"},s.a.createElement("em",{className:"fa fa-bookmark pointer fill-orange pointer",onClick:function(){t.removeVideoFromList(e)}})))}},{key:"renderSavedVideo",value:function(){var e=this;return this.state.savedList.filter((function(e){return e.Workout})).map((function(t,a){return s.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-12 float-left",key:a},s.a.createElement("div",{className:"card h-100"},s.a.createElement(Qo.b,{className:"position-relative",to:"/detail/"+t.Workout.id+"/"+_o.replaceChar(e.props.params.condition,!1)},s.a.createElement("img",{className:"card-img-top img-fluid",alt:"",src:x+t.Workout.id+"-img.png"}),s.a.createElement("span",{className:"position-absolute vid_time"},s.a.createElement("span",null,t.Workout.length," mins"))),s.a.createElement("div",{className:"card-body p-l-10 p-r-10"},s.a.createElement("div",{className:"w-100 float-left m-b-10"},s.a.createElement("div",{className:"col-md-10 col-lg-10 col-sm-10 col-10 float-left pl-0"},s.a.createElement("h3",{className:"heading_3 text-body font-medium text-uppercase"},t.Workout.title)),s.a.createElement("div",{className:"col-md-2 col-lg-2 col-sm-2 col-2 float-left pl-0 pr-0"},e.renderActionComponent(t))),s.a.createElement("div",{className:"w-100"},s.a.createElement("div",{className:"col-md-6 col-lg-6 col-sm-6 col-6 float-left m-b-10 p-0"},s.a.createElement("div",{className:"left-image col-md-1 col-lg-1 col-sm-1 p-0 border-0 float-left"},s.a.createElement("img",{className:"img-fluid rounded-circle",src:t.Workout&&t.Workout.Instructor&&t.Workout.Instructor.img?S+t.Workout.Instructor.img:D+"no-image.png",alt:""})),s.a.createElement("p",{className:"float-left p-l-10"},_o.bindUsername(t.Workout.Instructor.User))),s.a.createElement("div",{className:"col-md-6 col-lg-6 col-sm-6  col-6 float-left pr-0 p-l-5"},s.a.createElement("div",{className:"font-medium w-100 font-light--weight"},s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"w-40 float-left"},"Discipline:"),s.a.createElement("span",{className:"redtext w-60 float-left font-medium capitalize_text"},t.Workout&&t.Workout.WorkoutTags?_o.returnTag("discipline",t.Workout.WorkoutTags,t.Workout.id):"None")),s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"w-40 float-left"},"Difficulty:"),s.a.createElement("span",{className:"redtext w-60 float-left font-medium capitalize_text"}," ",t.Workout&&t.Workout.WorkoutTags?_o.returnTag("level",t.Workout.WorkoutTags,t.Workout.id):"None"))))))))}))}},{key:"removeVideoFromList",value:function(e){var t=this,a={workoutId:e.Workout.id};this.props.unSaveVideo(a).then((function(a){var o=Object(Lo.a)(t.state.savedList),s=o.findIndex((function(t){return t.id===e.id}));s>-1&&o.splice(s,1),t.setState({savedList:o}),at.b.success(a.message)}),(function(e){t.setState({Loading:!1}),at.b.error(e)}))}},{key:"openModalPopup",value:function(){this.setState({is_model_open:!0})}},{key:"closeModel",value:function(){this.setState({is_model_open:!1})}},{key:"onCloseModal",value:function(){}},{key:"renderModalPopup",value:function(){var e=this;if(this.state.is_model_open)return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.state.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog schedule_block modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title text-center col-md-11 p-0",id:"exampleModalLabel font-medium"},s.a.createElement("span",null," Yay Congrats! "),s.a.createElement("span",null,"You have un saved this video "),s.a.createElement("span",{className:"text-center w-100 small-txt pull-left "},this.state.removedItem.Workout.title)),s.a.createElement("div",{className:"col-md-6 col-lg-6 col-sm-12 float-left m-b-10 p-0"},s.a.createElement("div",{className:"left-image col-md-1 col-lg-1 col-sm-1 p-0 border-0 float-left"},s.a.createElement("img",{className:"img-fluid",src:this.state.removedItem.Workout&&this.state.removedItem.Workout.Instructor&&this.state.removedItem.Workout.Instructor.img?S+this.state.removedItem.Workout.Instructor.img:D+"no-image.png",alt:""})),s.a.createElement("p",{className:"float-left p-l-10"},this.state.removedItem.User.name," ",this.state.removedItem.User.lastName)),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeModel},"\xd7")),s.a.createElement("button",{disabled:this.state.loading,className:"btn btn-login w-100 m-t-20 m-b-20",onClick:function(){e.refreshList()}}," ","Continue"," ")))))}},{key:"refreshList",value:function(){var e=this;this.setState({is_model_open:!1},(function(){e.fetchSavedList()}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"videoclasses "},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"My saved classes and blog posts",ye),s.a.createElement("meta",{property:"og:title",content:"My saved classes and blog posts"+ye}),s.a.createElement("meta",{property:"og:description",content:"Your curated lists of classes and blog posts. The ones you love. The ones that you're curious to explore later. The ones that have been recommended to you. They're here for you to revisit any time."}),s.a.createElement("meta",{property:"og:image",content:Je}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Mountains with purple sky"})),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"videos-first-section m-t-40 m-b-50 w-100"},s.a.createElement("h3",{className:"text-body font-medium p-l-10"},"Videos"),s.a.createElement("div",{id:"carousel2_indicator",className:"carousel slide carousel-fade","data-ride":"carousel","data-interval":"false"},s.a.createElement("div",{className:"carousel-inner"},s.a.createElement("div",{className:"carousel-item active"},s.a.createElement("div",{className:"w-100 m-b-10 float-left"},this.state.savedList&&this.state.savedList.length>0&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},this.renderSavedVideo()))),s.a.createElement("div",{className:"carousel-item"}),s.a.createElement("div",{className:"carousel-item"})),0===this.state.savedList.filter((function(e){return e.Workout})).length&&s.a.createElement("h3",{className:"col-md-12 col-lg-12 col-sm-12 p-1 text-center demand-msg"},"No on-demand videos saved"),this.state.offset>=this.state.limit&&this.state.count>this.state.limit&&s.a.createElement("a",{className:"carousel-control-prev items-slider pointer",onClick:function(){e.state.disableButton||e.loadMoreVideos(!1)},role:"button","data-slide":"prev"},s.a.createElement("span",{className:"fa fa-angle-left","aria-hidden":"true"})),this.state.offset<1&&this.state.count>this.state.limit&&s.a.createElement("a",{className:"carousel-control-next items-slider pointer",onClick:function(){e.state.disableButton||e.loadMoreVideos(!0)},role:"button","data-slide":"next"},s.a.createElement("span",{className:"fa fa-angle-right","aria-hidden":"true"})))),s.a.createElement("hr",null),!this.props.logged_userData.isStudyParticipant&&W.includes("blog")&&s.a.createElement("h3",{className:"text-body font-medium p-l-10"},"Blog Posts"),!this.props.logged_userData.isStudyParticipant&&W.includes("blog")&&s.a.createElement("div",{id:"carousel2_indicator",className:"carousel slide carousel-fade","data-ride":"carousel","data-interval":"false"},s.a.createElement("div",{className:"carousel-inner savedBlogs"},s.a.createElement("div",{className:"carousel-item active"},s.a.createElement("div",{className:"col-md-12 p-0 mx-auto m-b-20 p-0 clearfix"},this.state.savedBlogs.filter((function(e){return e.data})).map((function(t,a){return s.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-12 float-left",key:a},s.a.createElement("div",{className:"card h-100 "},s.a.createElement(Qo.b,{to:"/blogs/"+t.uid},s.a.createElement(hn,{className:"card-img-top",src:t.data.thumbnail_img&&t.data.thumbnail_img.url?t.data.thumbnail_img.url:D+"no-image.png",height:"286px"})),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("p",{className:"dblog_head text-body small-txt font-qregular float-left "},t.tags.toString().replace(",","/ ")),s.a.createElement("div",{className:"bookmark-left float-right text-right"},s.a.createElement("em",{className:"fa fa-bookmark-o pointer orangefont",onClick:function(){return e.saveBlog(a)}})),s.a.createElement("p",{className:"dblog_title font-semibold medium-text black-txt pull-left text-left m-b-5"},s.a.createElement(Qo.b,{to:"/blogs/"+t.uid},s.a.createElement(fn,{text:t.data.title&&t.data.title.length>0?t.data.title[0].text:"",limit:68}))),s.a.createElement("p",{className:"dblog_head black-txt font-16 font-qregular float-left capitalize_text"},s.a.createElement("span",null," Author:"),s.a.createElement("span",{className:"p-l-10"},t.data.author&&t.data.author.length>0?t.data.author[0].text:"")),s.a.createElement("p",{className:"font-qregular dblog_text m-b-0 pull-left text-left small-txt"},s.a.createElement(fn,{text:t.data.preview_text&&t.data.preview_text.length>0?t.data.preview_text[0].text:"",limit:120}))))))})))),0===this.state.savedBlogs.filter((function(e){return e.data})).length&&s.a.createElement("div",{className:"row"},s.a.createElement("h3",{className:"col-md-12 col-lg-12 col-sm-12 text-center"},"No blogs saved"))),this.state.offsetBlog>=this.state.limitBlog&&this.state.savedBlogsCount>this.state.limitBlog&&s.a.createElement("a",{className:"carousel-control-prev items-slider pointer",role:"button","data-slide":"prev",onClick:function(){e.state.disableButton||e.loadMoreSavedBlogs(!1)}},s.a.createElement("span",{className:"fa fa-angle-left","aria-hidden":"true"})),this.state.offsetBlog<1&&this.state.savedBlogsCount>this.state.limitBlog&&s.a.createElement("a",{className:"carousel-control-next items-slider pointer",role:"button","data-slide":"next",onClick:function(){e.state.disableButton||e.loadMoreSavedBlogs(!0)}},s.a.createElement("span",{className:"fa fa-angle-right","aria-hidden":"true"}))))),this.renderModalPopup())}}]),a}(s.a.Component),Rm={fetchSavedList:function(e){return function(t,a){var o=tt(),s=h+"/api/account/dashboard/saved/"+e.condition+"?offset="+e.offset+"&limit="+e.limit;return fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},fetchSavedBlogList:function(e){return function(t,a){var o=tt(),s=h+"/api/account/loadmore/blogs/?offset="+e.offset+"&limit="+e.limit;return fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},saveBlog:lo,loginModelOpen:pt,unSaveVideo:na,start_loader:ht,stop_loader:gt},Wm=Object(i.b)((function(e){return{logged_userData:e.header.logged_userData}}),Rm)(Um),Am=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={Loading:!1,groupList:[],groupPermissionList:[],groupMembers:[],show_more_cnt:12,list_count:0,search_key:"",offset:0},o.getGroupList=o.getGroupList.bind(Object(is.a)(o)),o.incrementShowmoreCnt=o.incrementShowmoreCnt.bind(Object(is.a)(o)),o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.searchFucntion=o.searchFucntion.bind(Object(is.a)(o)),o.joingroup=o.joingroup.bind(Object(is.a)(o)),o.joinrequest=o.joinrequest.bind(Object(is.a)(o)),o.submitRequest=o.submitRequest.bind(Object(is.a)(o)),o.gotoGroupDetailPage=o.gotoGroupDetailPage.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentWillMount",value:function(){this.getGroupList()}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+this.state.show_more_cnt},(function(){this.getGroupList()}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(rs.a)({},a,o))}},{key:"searchFucntion",value:function(){this.setState({offset:0,groupList:[],groupPermissionList:[]},(function(){this.getGroupList()}))}},{key:"getGroupList",value:function(){var e=this;this.setState({Loading:!0,disableButton:!0});var t={offset:this.state.offset,limit:this.state.show_more_cnt,search:this.state.search_key};this.props.start_loader(),this.props.getDashboardGroups(t).then((function(t){if(t){var a=t.list.groups?t.list.groups:[],o=[].concat(Object(Lo.a)(e.state.groupList),Object(Lo.a)(a)),s=t.list.groupMembers?t.list.groupMembers:[],n=[].concat(Object(Lo.a)(e.state.groupMembers),Object(Lo.a)(s));e.setState({Loading:!1,groupList:o,groupMembers:n,list_count:t.count,disableButton:!1})}e.props.stop_loader()}),(function(t){e.setState({Loading:!1,disableButton:!1}),e.props.stop_loader()}))}},{key:"submitRequest",value:function(e){"closed"===e.type?this.joinrequest(e):this.joingroup(e)}},{key:"joingroup",value:function(e){var t=this;this.props.is_auth?(this.props.start_loader(),this.props.joingroup(e.id).then((function(a){t.props.stop_loader(),at.b.success(a.message);var o={from:{pathname:"/group/about/"+e.community_name+"/"+t.props.params.type}}.from;t.props.history.push(o)}),(function(e){t.props.stop_loader(),at.b.error(e)}))):this.props.loginModelOpen(!0)}},{key:"joinrequest",value:function(e){var t=this;this.props.is_auth?(this.props.start_loader(),this.props.joinrequest(e.id).then((function(e){t.setState({offset:0,groupList:[],groupPermissionList:[]},(function(){this.getGroupList()})),at.b.success(e.message)}),(function(e){t.props.stop_loader(),at.b.error(e)}))):this.props.loginModelOpen(!0)}},{key:"gotoGroupDetailPage",value:function(e){var t={from:{pathname:"/group/about/"+e.community_name+"/"+this.props.params.type}}.from;this.props.history.push(t)}},{key:"searchBarEnter",value:function(e){"Enter"===e.key&&this.searchFucntion()}},{key:"retruenMemberCount",value:function(e){var t=0,a=this.state.groupMembers.filter((function(t){return parseInt(t.groupId)===parseInt(e)}));return a.length>0&&(t=a[0].count),t}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:""},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"My groups",ye),s.a.createElement("meta",{property:"og:title",content:"My groups"+ye}),s.a.createElement("meta",{property:"og:description",content:"Easy access to all of the groups that you are a member of on Beam so that you never miss an exclusive class or a dose of feel-good in your group's feed."}),s.a.createElement("meta",{property:"og:image",content:Qe}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Mountains with purple sky"})),s.a.createElement("div",{className:"ondemand_groups"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"col-md-12 m-t-30 m-b-20"},this.state.groupList.length>0&&s.a.createElement("div",{className:"row"},this.state.groupList.map((function(t,a){return s.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4 p-l-0 m-b-20",key:a},s.a.createElement("div",{className:"card-design"},s.a.createElement("div",{className:"blog-photo"},s.a.createElement(hn,{className:"img-fluid",src:t.banner_img?L+t.banner_img:D+"/small_banner_img.png"})),s.a.createElement("div",{className:"blog-content p-t-20 clearfix"},s.a.createElement("div",{className:"blog-top clearfix"},s.a.createElement("h5",{className:"float-left font-book font-15 blog_head"},s.a.createElement(Qo.b,{to:"/group/about/"+t.community_name+"/"+e.props.params.condition},t.community_name))),s.a.createElement("div",{className:"blog-bottom clearfix m-t-15 m-b-10"},s.a.createElement(hn,{className:"img-fluid rounded-circle",src:t.User.profilePic?O+t.User.profilePic:D+"no-image.png",alt:"",width:"50",height:"50"}),s.a.createElement("span",{className:"font-book font-14 m-l-5 light-grey"},t.User?t.User.name+" "+t.User.lastName:""),t.Members&&s.a.createElement("span",{className:"font-semibold float-right font-14 m-t-10"},e.retruenMemberCount(t.id)," Members")))))})),this.state.groupList.length<this.state.list_count&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center clearfix m-t-40 m-b-40"},s.a.createElement("button",{disabled:this.state.groupList.length>=this.state.list_count||this.state.disableButton,onClick:this.incrementShowmoreCnt,className:"button-lightblue  font-book"},"show more groups"))),!this.state.Loading&&0===this.state.groupList.length&&s.a.createElement("div",{className:"row"},s.a.createElement("h3",{className:"text-center w-100"},"You are not yet a member of a group.  Why not join one today?")),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null))))))}}]),a}(s.a.Component),Bm={getDashboardGroups:function(e){return function(t,a){var o,s=tt();return o=e.dateChosen?h+"/api/account/dashboard/groups?limit="+e.limit+"&offset="+e.offset+"&search="+e.search:h+"/api/account/dashboard/groups?limit="+e.limit+"&offset="+e.offset,fetch(o,s).then((function(e){return go(e,t)})).then((function(e){return e}))}},start_loader:ht,loginModelOpen:pt,stop_loader:gt,joinrequest:Ja,joingroup:Qa},qm=Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),Bm)(Am),Ym=a(381),Gm=T,Vm=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={timeList:[],selectedDay:o.props.defaultSelectedDay,selectedTime:o.props.defaultSelectedTime},o.fillTimeList=o.fillTimeList.bind(Object(is.a)(o)),o.updateTime=o.updateTime.bind(Object(is.a)(o)),o.handleDayClick=o.handleDayClick.bind(Object(is.a)(o)),o.calculateDatePicker=o.calculateDatePicker.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("datepicker-componentDidMount",this.props),console.log("datepicker-componentDidMount-selectedTime",this.state.selectedTime);var e=this;this.props.setDateValue(this.state.selectedDay,(function(){e.props.setTimeValue(e.state.selectedTime)}))}},{key:"componentWillMount",value:function(){this.fillTimeList()}},{key:"fillTimeList",value:function(){var e=[];e.push("");for(var t=1;t<=12;t++){var a=t+":00 AM";e.push(a),a=t+":15 AM",e.push(a),a=t+":30 AM",e.push(a),a=t+":45 AM",e.push(a)}for(t=1;t<=12;t++){a=t+":00 PM";e.push(a),a=t+":15 PM",e.push(a),a=t+":30 PM",e.push(a),a=t+":45 PM",e.push(a)}this.setState({timeList:e})}},{key:"updateTime",value:function(e){this.setState({selectedTime:e.target.value})}},{key:"handleDayClick",value:function(e,t){var a=t.selected;this.setState({selectedDay:a?void 0:e})}},{key:"calculateDatePicker",value:function(e,t){if(console.log("calculate",t),"date"==e){var a=_o.formatDateFromString(t)+" "+_o.formatTimeFromSelector(this.state.selectedTime);t=this.state.selectedTime}else if(_o.formatTimeFromSelector(t))a=_o.formatDateFromString(this.state.selectedDay)+" "+_o.formatTimeFromSelector(t);else a=_o.formatDateFromString(this.state.selectedDay);if(console.log("comb",a),_o.formatTimeFromSelector(t))var o=new Date(a),s=bo()(o).toISOString();else s=bo()(a).format("YYYY-MM-DD");return console.log("calculateDatePicker-datetime",s),console.log("calculateDatePicker-date",bo()(s).format("YYYY-MM-DD")),s}},{key:"returnDisplayDateFormate",value:function(){var e=this.state.selectedDay;console.log("current "+e);var t="";if(e){var a=new Date(e);t=j[a.getDay()]+" "+a.getDate()+" "+Gm[a.getMonth()].value}else{a=new Date;t=j[a.getDay()]+" "+a.getDate()+" "+Gm[a.getMonth()].value}return t}},{key:"formatMonthTitle",value:function(e,t){return s.a.createElement("div",null,Gm[e.getMonth()].value)}},{key:"getFirstDayOfWeek",value:function(e){return 1}},{key:"Navbar",value:function(e){var t=e.nextMonth,a=e.previousMonth,o=e.onPreviousClick,n=e.onNextClick,r=e.className,i=e.localeUtils.getMonths();i[a.getMonth()],i[t.getMonth()];return s.a.createElement("div",{className:r},s.a.createElement("button",{class:"btn white-txt",onClick:function(){return o()},type:"button"},s.a.createElement("i",{class:"fa fa-angle-left"})),s.a.createElement("button",{class:"btn white-txt pull-right",onClick:function(){return n()},type:"button"},s.a.createElement("i",{class:"fa fa-angle-right"})))}},{key:"Weekday",value:function(e){var t=e.weekday,a=e.className,o=e.localeUtils,n=e.locale,r=o.formatWeekdayLong(t,n);return s.a.createElement("div",{className:a,title:r},s.a.createElement("b",null,r.slice(0,3)))}},{key:"render",value:function(){var e=this,t=this.formatMonthTitle,a=this.getFirstDayOfWeek;return s.a.createElement("div",null,s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-7 inputs-control"},s.a.createElement("input",{class:"form-control popup-txt",type:"text",readOnly:!0,value:this.returnDisplayDateFormate()})),s.a.createElement("div",{class:"col-md-5 inputs-control p-l-0"},s.a.createElement("div",{className:"dropdown "},s.a.createElement("select",{name:"country",value:this.state.selectedTime,className:"form-control popup-txt",onChange:function(t){var a=e.calculateDatePicker("time",t.target.value);e.props.onChange("time",a,e.props.formProps),e.updateTime(t)}},this.state.timeList.map((function(e,t){return s.a.createElement("option",{className:"pointer",key:"time_"+e,value:e},e)})))))),s.a.createElement(_n.a,{selectedDays:this.state.selectedDay,onDayClick:function(t,a){var o=a.selected,s=e.calculateDatePicker("date",t);e.props.onChange("date",s,e.props.formProps),e.handleDayClick(t,{selected:o})},localeUtils:Object(m.a)(Object(m.a)({},yn.LocaleUtils),{},{formatMonthTitle:t,getFirstDayOfWeek:a}),weekdayElement:this.Weekday,navbarElement:this.Navbar}))}}]),a}(s.a.Component),Hm={setDatepickerValue:za,setDateValue:Va,setTimeValue:Ha},zm=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,selectedDate:e.dashboard.selectedDate,selectedTime:e.dashboard.selectedTime}}),Hm)(Vm),Km=a(937),Jm=a.n(Km),Qm=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={changeRange:!1},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("RangeSliderWidget-props",this.props)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"custom-labels horizon_slider_settings"+(this.state.changeRange?" range_circle":"")},s.a.createElement("div",{className:"v_line"},s.a.createElement("span",{className:"v_lineht lne1"}),s.a.createElement("span",{className:"v_lineht lne2"}),s.a.createElement("span",{className:"v_lineht lne3"})),s.a.createElement(Jm.a,{min:this.props.fieldSchema.minimum,max:this.props.fieldSchema.maximum,value:this.props.sliderValue,labels:this.props.labels,tooltip:!1,onChange:function(t){e.props.onChange(t,e.props.formProps),e.setState({rangeValue:t,changeRange:!0})}}),!this.props.sliderValue&&s.a.createElement("p",{className:"black-txt m-t-40 "+this.props.descClass||!1,dangerouslySetInnerHTML:{__html:this.props.fieldSchema.desc}}))}}]),a}(s.a.Component),Zm={setSliderValue:Ga},Xm=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,sliderValue:e.dashboard.sliderValue}}),Zm)(Qm),$m=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).transformErrors=o.transformErrors.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("SchemaFormComponent-props",this.props)}},{key:"transformErrors",value:function(e){console.log("transformErrors",e);var t=this.props.modelData;return e.map((function(e){var a=e.property.replace(".","");return t.properties[a].messages&&t.properties[a].messages[e.name]?(console.log("message",t.properties[a].messages[e.name]),Object(m.a)(Object(m.a)({},e),{},{message:t.properties[a].messages[e.name]})):e}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Ym.a,{schema:this.props.schema,onChange:this.props.onChange("changed"),onSubmit:this.props.onSubmit,onError:this.props.onError("errors"),noHtml5Validate:"true",transformErrors:this.transformErrors,showErrorList:!1,uiSchema:this.props.uiSchema,FieldTemplate:this.props.customFieldTemplate,widgets:this.props.widgets,formData:this.props.formData,omitExtraData:!0,liveOmit:!0},s.a.createElement("div",{className:"w-100 m-t-20 float-left text-center pointer"},s.a.createElement("button",{type:"submit",className:"btn btn-beam-blue"},"Add Activity"))))}}]),a}(s.a.Component),ed=(Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),{})($m),function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o,s;return Object(Ro.a)(this,a),(s=t.call(this,e)).log=function(e){return console.log.bind(console,e)},s.handleChangeHorizontal=function(e,t){t.onChange(e),s.props.setSliderValue(e)},s.handleDateChanged=function(e,t,a){console.log("handleDateChanged=",t),a.onChange(t)},s.state=(o={formData:{},isShowDesc:!0,selectedTime:Object.keys(s.props.formData).length?s.props.formData.time:"",selectedDay:Object.keys(s.props.formData).length?new Date(s.props.formData.date):new Date,formType:"Add",horizontal:Object.keys(s.props.formData).length?s.props.formData.exertion:""},Object(rs.a)(o,"isShowDesc",!Object.keys(s.props.formData).length||!s.props.formData.exertion),Object(rs.a)(o,"isDeleteConfirmation",!1),o),s.submitForm=s.submitForm.bind(Object(is.a)(s)),s.transformErrors=s.transformErrors.bind(Object(is.a)(s)),s.customFieldTemplate=s.customFieldTemplate.bind(Object(is.a)(s)),s.exertionFieldTemplate=s.exertionFieldTemplate.bind(Object(is.a)(s)),s.CustomDatePicker=s.CustomDatePicker.bind(Object(is.a)(s)),s.CustomSlider=s.CustomSlider.bind(Object(is.a)(s)),s.deleteActivity=s.deleteActivity.bind(Object(is.a)(s)),s.changedFormData=s.changedFormData.bind(Object(is.a)(s)),s.uiSchema={activityType:{classNames:"col-md-12"},title:{classNames:"col-md-12"},date:{classNames:"col-md-12"},duration:{"ui:placeholder":"mins",classNames:"col-md-12"},distance:{classNames:"col-md-3"},distanceUnits:{"ui:options":{label:!1},classNames:"col-md-3 font-book"},exertion:{classNames:"col-md-12","ui:widget":s.CustomSlider},"Very light":{classNames:"col-md-12","ui:FieldTemplate":s.exertionFieldTemplate},Light:{classNames:"col-md-12","ui:FieldTemplate":s.exertionFieldTemplate},Moderate:{classNames:"col-md-12","ui:FieldTemplate":s.exertionFieldTemplate},Vigorous:{classNames:"col-md-12","ui:FieldTemplate":s.exertionFieldTemplate},"Very hard":{classNames:"col-md-12","ui:FieldTemplate":s.exertionFieldTemplate},"Max effort":{classNames:"col-md-12","ui:FieldTemplate":s.exertionFieldTemplate}},s.widgets={DateTimeWidget:s.CustomDatePicker},s.exertionText=["Very light","Light","Moderate","Vigorous","Very hard","Max effort"],s}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){if(this.props.activityId){var e=_o.formatDateFromString(this.props.formData.date)+" "+_o.formatTimeFromSelector(this.props.formData.time);console.log("didmount-comb",e);var t=new Date(e),a=new Date(t).toISOString(),o=this.props.formData;o.date=a,this.setState({formData:o,formType:this.props.activityId?"Edit":"Add",selectedDay:new Date(this.props.formData.date),selectedTime:this.props.formData.time}),this.props.setSliderValue(this.props.formData.exertion)}else{e=_o.formatDateFromString(this.state.selectedDay)+" "+_o.formatTimeFromSelector(this.state.selectedTime);console.log("didmount-comb",e);t=new Date(e),a=new Date(t).toISOString();var s=this.state.formData;s.date=a,this.setState({formData:s})}}},{key:"onCloseModal",value:function(){}},{key:"transformErrors",value:function(e){console.log("transformErrors",e);var t=this.props.modelData;return e.map((function(e){var a=e.property.replace(".","");return t.properties[a].messages&&t.properties[a].messages[e.name]?(console.log("message",t.properties[a].messages[e.name]),Object(m.a)(Object(m.a)({},e),{},{message:t.properties[a].messages[e.name]})):e}))}},{key:"customFieldTemplate",value:function(e){console.log("customFieldTemplate-props",e);var t=e.id,a=e.classNames,o=e.label,n=e.help,r=e.required,i=e.description,l=(e.errors,e.children),c=e.rawErrors,m=e.displayLabel;return s.a.createElement("div",{className:a+" float-left"},"root"!=t&&m&&s.a.createElement("label",{htmlFor:t,className:"font-medium black-txt"},o," ",s.a.createElement("span",{className:"orangefont"},r?" *":null)),"root"!=t&&!m&&s.a.createElement("label",{htmlFor:t,className:"font-medium black-txt"},"\xa0"),i,s.a.createElement("span",{className:"orangefont float-right"}," ",c," "),l,n)}},{key:"exertionFieldTemplate",value:function(e){console.log("exertionFieldTemplate-props",e);var t=e.id,a=e.classNames,o=e.label,n=e.rawDescription;return s.a.createElement("div",{className:a+" float-left"},s.a.createElement("p",{htmlFor:t,className:" m-t-10 font-14 font-qregular content_shrink"},s.a.createElement("span",{className:"font-semibold black-txt font-14"},o,": "),s.a.createElement("span",null,n)))}},{key:"submitForm",value:function(e){var t=this;console.log("submitForm",e.formData);var a=e.formData;console.log("selectedTimeFrom",bo.a.utc(a.date).format("HH:mm:ss")),a.time=a.date.includes("T")?bo.a.utc(a.date).format("HH:mm:ss"):null,a.id=this.props.activityId||0,a.timezone=_o.localTimeZoneName(),a.exertionText=this.exertionText,console.log("params",a),this.props.saveUserActivity({formData:a}).then((function(e){at.b.success(e.message),t.props.modelClose(),t.setState({formData:{}})}),(function(e){at.b.error(e),t.props.modelClose(),t.setState({formData:{}})}))}},{key:"changedFormData",value:function(e){console.log("formDetails",e)}},{key:"deleteActivity",value:function(){var e=this;this.props.deleteUserActivity({activityId:this.props.activityId}).then((function(t){at.b.success(t.message),e.props.modelClose(),e.setState({formData:{}})}),(function(t){at.b.error(t),e.props.modelClose(),e.setState({formData:{}})}))}},{key:"CustomDatePicker",value:function(e){return s.a.createElement("div",null,s.a.createElement(zm,{formProps:e,defaultSelectedDay:this.state.selectedDay,defaultSelectedTime:this.state.selectedTime,onChange:this.handleDateChanged}))}},{key:"CustomSlider",value:function(e){return s.a.createElement("div",null,s.a.createElement(Xm,{formProps:e,fieldSchema:e.schema,labels:{1:"Very light",5:"Moderate",10:"Max effort"},isShowDesc:this.state.isShowDesc,descClass:"font-14 font-medium",onChange:this.handleChangeHorizontal}))}},{key:"render",value:function(){var e=this,t=this.props.modelData;return console.log("render-form"),s.a.createElement("div",{className:"activityModal"},s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"activityModal modal-dialog common_design modal-width--custom live-classes--popup m-t-50 w-100",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"text-center white-txt col-md-12 p-0 font-book font-24",id:"exampleModalLabel "},this.state.isDeleteConfirmation?"Are you sure?":this.state.formType+" an activity"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.props.modelClose()}},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},!this.state.isDeleteConfirmation&&s.a.createElement(Ym.a,{safeRenderCompletion:!0,schema:t,onChange:function(t){e.changedFormData(t)},onSubmit:function(t){e.submitForm(t)},onError:this.log("errors"),noHtml5Validate:"true",transformErrors:this.transformErrors,showErrorList:!1,uiSchema:this.uiSchema,FieldTemplate:this.customFieldTemplate,widgets:this.widgets,formData:this.state.formData,omitExtraData:!0,liveOmit:!0},this.props.activityId&&s.a.createElement("div",{className:"buttons-read w-100 m-t-20 float-left text-center col-lg-12 col-xs-12 col-md-12"},s.a.createElement("button",{className:"btn btn-blue-inverse font-14 read-now col-xs-8 col-lg-4 m-t-20 m-r-20 col-md-4",type:"button",onClick:function(){e.setState({isDeleteConfirmation:!0})}},"Delete Activity"),s.a.createElement("button",{className:"btn btn-beam-blue font-14 read-later pointer col-xs-8 m-t-20 col-lg-6 col-md-6",type:"submit"},"Save Changes")),!this.props.activityId&&s.a.createElement("div",{className:"w-100 m-t-20 float-left text-center pointer"},s.a.createElement("button",{type:"submit",className:"btn btn-beam-blue"},"Add Activity"))),this.state.isDeleteConfirmation&&s.a.createElement("div",null,s.a.createElement("p",{className:"text-center"},"Are you sure you want to delete this activity?"),s.a.createElement("div",{className:"buttons-read w-100 m-t-20 float-left text-center pointer"},s.a.createElement("a",{className:"btn btn-blue-inverse font-14 read-now m-r-20",onClick:function(){e.setState({isDeleteConfirmation:!1})}},"No, go back"),s.a.createElement("a",{className:"btn btn-blue-inverse font-14 read-later m-l-20 pointer",onClick:function(){return e.deleteActivity()}},"Yes, do it!"))))))))}}]),a}(s.a.Component)),td={saveUserActivity:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/account/saveActivity",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},deleteUserActivity:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/account/deleteActivity",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},setSliderValue:Ga,setDatepickerValue:za,setDateValue:Va,setTimeValue:Ha,updateJsonFormData:function(e){return function(t,a){t({type:"update_json_schema_form_data",payload:e})}}},ad=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,selectedDate:e.dashboard.selectedDate,selectedTimeFrom:e.dashboard.selectedTime,json_form_data:e.dashboard.json_form_data}}),td)(ed),od=a(15),sd=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).filterFunction=function(e,t){console.log("filterFunction",e),o.props.clearActivityList();var a=Object(m.a)({},o.state.selected_filter),s=!1;a[e]||(a={activityType:[]});var n=a[e].indexOf(t);n>-1?(a[e].splice(n,1),s=!0):a[e].push(t),console.log("tesmp-index",n),console.log("tesmp",a),o.setState({Loading:!0,allActivity:[],movement_data:[],count:0,offset:0,showAll:0,filter:s?"":t,selected_filter:a},(function(){this.getAllActivityList()}))},o.renderSelectedFilter=function(){var e=[];return o.state.filterNames.map((function(t,a){o.state.selected_filter&&o.state.selected_filter[t]&&o.state.selected_filter[t].length>0&&o.state.selected_filter[t].map((function(n,r){return e.push(s.a.createElement("div",{key:"filter_rm_"+r+a,onClick:function(){o.filterFunction(t,n)}},s.a.createElement("span",{className:"pointer"}," x "),s.a.createElement("span",{className:"capitalize_text pointer"},_o.condition_explode(n))))}))})),e},o.state={Loading:!1,offset:0,count:0,show_more_cnt:10,historyList:[],condition:o.props.params.condition,modelState:!1,modelData:{},total_tags:[],total_levels:[],formFields:{},activityId:"",formData:{},allActivity:{},showAll:0,limit:5,movement_data:{currentWeek:{mins:0,count:0},lastWeek:{mins:0,count:0},all:{mins:0,count:0}},filter:"",available_filter:{activityType:["On Beam","Off Beam"]},selected_filter:{},filterNames:["activityType"]},o.modelClose=o.modelClose.bind(Object(is.a)(o)),o.getAllActivityList=o.getAllActivityList.bind(Object(is.a)(o)),o.loadMore=o.loadMore.bind(Object(is.a)(o)),o.getDetails=o.getDetails.bind(Object(is.a)(o)),o.fetchLiveClassList=o.fetchLiveClassList.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"modelClose",value:function(){this.setState({modelState:!1,modelData:{},formData:{},activityId:""}),this.props.clearActivityList(),this.getAllActivityList()}},{key:"componentDidMount",value:function(){var e=this;this.props.clearActivityList(),this.setState({condition:this.state.condition},(function(){e.props.getForm({name:"offlineActivity"}).then((function(t){console.log("activityresponse-before",t),console.log("activityresponse",JSON.parse(t.data)),e.setState({formFields:JSON.parse(t.data)})}),(function(e){})),e.getAllActivityList()}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.params&&e.params.condition&&this.props.params.condition!==e.params.condition){var a=e.params.condition.replace(/-/g," ");this.setState({condition:a},(function(){t.fetchLiveClassList()}))}}},{key:"fetchLiveClassList",value:function(){var e=this;this.setState({Loading:!0});var t=this.state.condition,a={offset:this.state.offset,limit:10,condition:t};this.props.start_loader(),this.props.fetchRecentlyWatched(a).then((function(t){if(e.props.stop_loader(),t){var a=t.list;a&&a.history&&e.groupListResult(a.history),e.setState({Loading:!1,count:t.count,total_tags:t.list.tags?t.list.tags:[],total_levels:t.list.levelTags?t.list.levelTags:[]})}}),(function(t){e.props.stop_loader(),e.setState({Loading:!1})}))}},{key:"getDayNameFromDate",value:function(e){var t=bo()(e,"YYYY-MM-DD"),a=(bo()(e).format("dddd"),bo()(e).format("MMMM")),o=bo()(e).format("DD");o=o;var s=bo()(e).fromNow();return bo()(e).calendar(null,{lastWeek:"[Last] dddd",lastDay:"[Yesterday]",sameDay:"[Today]",sameElse:function(){return"["+s+"]"}})+" - "+t.format("dddd")+" "+a+" "+o}},{key:"renderSubItemList",value:function(e,t){var a=this;return e.map((function(e,t){return s.a.createElement("div",{className:"list-group-item",key:t},s.a.createElement("div",{className:"col-md-12 desktop-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-md-3 col-lg-3 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.params.condition+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},s.a.createElement(hn,{className:"media-object image-size img-rounded img-fluid",src:x+e.Workout.id+"-img.png"})),s.a.createElement("div",{className:"time-box"},s.a.createElement("i",{className:"fa fa-clock-o w-100"}),s.a.createElement("div",{className:"w-100"},e.Workout.length," mins")))),s.a.createElement("div",{className:"col-md-9 col-lg-9 p-0"},s.a.createElement("div",{className:"col-md-9 col-lg-9 col-sm-9 float-left pl-20"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left m-b-10 p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e.Workout&&e.Workout.Instructor&&e.Workout.Instructor.img?S+e.Workout.Instructor.img:D+"no-image.png",alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.params.condition+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}}," ",e.Workout.title)),s.a.createElement("div",{className:"w-80"},"with",s.a.createElement(Qo.b,{to:"/instructor/"+e.Workout.Instructor.id+"/"+a.props.params.condition.replace(/ /g,"-"),className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName)))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("discipline",a.state.total_tags,e.WorkoutId))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("level",a.state.total_levels,e.WorkoutId)))),s.a.createElement("div",{className:"col-lg-3 float-left col-md-3 p-0 text-center"},"Live"!=e.type&&s.a.createElement("a",{className:"btn btn-purple w-100 font-medium m-b-10",href:"/detail/"+e.Workout.id+"/"+a.props.params.condition.replace(/ /g,"-")},"Do Again"),s.a.createElement("span",{className:"btn btn-default-list-blue clearfix pad_list_btn"},bo()(e.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),"Live"==e.type&&s.a.createElement("span",{className:"btn btn-blue-inverse w-100 btn-white redtext bg-white font-medium"},"Live session")),"Live"!=e.type&&s.a.createElement("div",{className:"col-md-3 col-lg-3 col-sm-3 btngroup bookmark-bottom--align float-left pl-0 pr-0"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},s.a.createElement("div",{className:"bookmark-left float-right text-right align-self-end"},s.a.createElement("b",{className:"m-r-10"},s.a.createElement(Kr,{className:"m-l-10",page:"recently_watched",workoutData:e.Workout})),s.a.createElement(En,{ondemand_data:e.Workout,location:a.props.location,history:a.props.history,pageName:"recently_watched"}))))))),s.a.createElement("div",{className:"col-md-12 mobile-view-live"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media col-12 p-0"},s.a.createElement("figure",{className:"pull-left position-relative"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.params.condition+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},s.a.createElement(hn,{className:"media-object image-size img-rounded img-fluid",src:x+e.Workout.id+"-img.png"})),s.a.createElement("div",{className:"time-box"},s.a.createElement("i",{className:"fa fa-clock-o w-100"}),s.a.createElement("div",{className:"w-100"},e.Workout.length," mins")))),s.a.createElement("div",{className:"col-12 p-0"},s.a.createElement("div",{className:"col-12 float-left p-0 "},s.a.createElement("div",{className:"col-12  float-left p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left w-100 m-t-5 m-b-5"},s.a.createElement("img",{className:"img-fluid rounded-circle w-20 m-r-20 pull-left",src:e.Workout&&e.Workout.Instructor&&e.Workout.Instructor.img?S+e.Workout.Instructor.img:D+"no-image.png",alt:"",width:"75",height:"75"}),s.a.createElement("div",{className:"font-24 font-medium orangefont m-b-5 w-80"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.params.condition+"/"+e.Workout.id,onClick:function(){Go.Cookies.set("workoutId",e.id)}},e.Workout.title)),s.a.createElement("div",{className:"w-80"},"with",s.a.createElement(Qo.b,{to:"/instructor/"+e.Workout.Instructor.id+"/"+a.props.params.condition.replace(/ /g,"-"),className:"font-16 font-semibold black-txt p-l-5"},e.Workout.Instructor.User.name," ",e.Workout.Instructor.User.lastName)))),s.a.createElement("div",{className:"font-medium col-12 p-0 m-b-10 float-left "},s.a.createElement("div",{className:"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Discipline:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("discipline",a.state.total_tags,e.WorkoutId))),s.a.createElement("div",{className:"col-12 float-left p-0"},s.a.createElement("span",{className:"w-40 font-16 font-semibold black-txt float-left"},"Difficulty:"),s.a.createElement("span",{className:"font-16 orangefont w-60 float-left font-medium p-l-5 capitalize_text"},_o.returnTag("level",a.state.total_levels,e.WorkoutId)))))),s.a.createElement("div",{className:"col-12 float-left p-0 text-center"},"Live"!=e.type&&s.a.createElement("a",{className:"btn btn-purple w-100 font-medium m-b-10",href:"/detail/"+e.Workout.id+"/"+a.props.params.condition.replace(/ /g,"-")},"Do Again"),s.a.createElement("span",{className:"btn btn-default-list-blue clearfix pad_list_btn"},bo()(e.scheduledFor).format("hh:mm A")," "," "+_o.localTimeZone()),"Live"==e.type&&s.a.createElement("span",{className:"btn btn-default-list-orange clearfix pad_list_btn"},"Live Session")),"Live"!=e.type&&s.a.createElement("div",{className:"col-md-3 col-lg-3 col-sm-3 btngroup bookmark-bottom--align float-left pl-0 pr-0"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},s.a.createElement("div",{className:"bookmark-left float-right text-right align-self-end"},s.a.createElement("b",{className:"m-r-10"},s.a.createElement(Kr,{className:"m-l-10",page:"recently_watched",workoutData:e.Workout})),s.a.createElement(En,{ondemand_data:e.Workout,location:a.props.location,history:a.props.history,pageName:"recently_watched"})))))))}))}},{key:"renderListView",value:function(){var e=this;return this.state.historyList.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("p",{className:"section_header font-semibold"},_o.getDayNameFromDate(t[0].scheduledFor)),e.renderSubItemList(t,a))}))}},{key:"renderSchedule",value:function(e){if(e.reference&&"coming soon"===e.reference.toLowerCase())return s.a.createElement("a",{className:"btn-purple pad_list_btn clearfix"}," ",e.reference," ")}},{key:"renderLoadMore",value:function(){var e=this;if(this.state.historyList&&this.state.count>this.state.historyList.length)return s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement("span",{onClick:function(){e.incrementShowmoreCnt()},className:"btn btn-orange m-t-40 m-b-40 font-book pointer"},"Show more recently watched"))}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+10},(function(){this.fetchLiveClassList()}))}},{key:"groupListResult",value:function(e){var t=[],a=this.state.historyList,o=e,s={},n=[];o.map((function(e,r){if(a&&a.length>0&&o&&e&&bo()(a[a.length-1][0].scheduledFor).format("DD/MM/YYYY")===bo()(e.scheduledFor).format("DD/MM/YYYY"))a[a.length-1].push(e),t=a;else{r=e.scheduledFor;s[r]?s[r].push(e):(s[r]=[],s[r].push(e),n.push(s[r])),t=[].concat(Object(Lo.a)(a),n)}})),this.setState({historyList:t})}},{key:"renderListComponent",value:function(){return s.a.createElement("div",{id:"products",className:"list_section float-left w-100 p-t-20 p-b-20"},s.a.createElement("div",{className:"container"},this.renderListView()),this.renderLoadMore())}},{key:"getAllActivityList",value:function(){var e=this,t={offset:this.state.offset,limit:this.state.limit,showAll:this.state.showAll,filter:_o.condition_implode(this.state.filter)};this.props.getAllActivity(t).then((function(t){e.setState({allActivity:e.props.all_activity_list,movement_data:t.data.movementData,count:t.data.count,Loading:!1,selected_filter:t.data.selected_filter})}),(function(t){e.setState({Loading:!1})}))}},{key:"renderListData",value:function(){return s.a.createElement("div",{className:"activityComponent"},this.renderDesktopViewActivity(),this.renderMobileViewActivity())}},{key:"getDetails",value:function(e){var t=this;this.setState({activityId:e}),this.props.getActivityDetails(e).then((function(e){var a=e.data;console.log("activityDetails",e);var o=bo()(a.date).format("DD-MM-YYYY"),s=bo.a.utc(o+" "+a.time,"DD.MM.YYYY HH:mm").toDate(),n=bo()(s).format("h:mm A"),r=new Date(s);console.log("tiemFormat",n),console.log("dateFormat",r),a.distance=parseInt(a.distance),a.date=r.toString(),a.time=null==a.time?"":n.toString(),t.setState({formData:a,modelState:!0})}))}},{key:"loadMore",value:function(e){if(e){this.props.clearActivityList();var t=this.state.count;this.setState({Loading:!0,limit:0,offset:t,showAll:t},(function(){this.getAllActivityList()}))}else{var a=this.state.offset+this.state.limit;this.setState({Loading:!0,offset:a,showAll:0},(function(){this.getAllActivityList()}))}}},{key:"renderDesktopViewActivity",value:function(){var e=this,t=this.state.movement_data,a=this,o=od.sortBy(this.state.allActivity,(function(e){return e.recentDate})).reverse();return s.a.createElement("div",{className:"desktopview"},s.a.createElement("div",{class:"row m-0 font-medium mx-auto justify-content-center"},s.a.createElement("div",{class:"col-lg-8 col-md-10 col-sm-8 col-xs-8"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 col-md-4 col-sm-12 col-xs-12"},s.a.createElement("h4",{class:"mwy_title"},"This week"),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-6 col-md-6 col-sm-6 col-xs-6 text-center"},s.a.createElement("div",{class:"circle_set orange_circle"},s.a.createElement("span",{class:"blue_count"},_o.kFormatter(t.currentWeek.count,9999))),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-0"},s.a.createElement("h5",{class:"mwy_content"},"Movement sessions "))),s.a.createElement("div",{class:"col-lg-6 col-md-6 col-sm-6 col-xs-6 text-center"},s.a.createElement("div",{class:"circle_set orange_circle"},s.a.createElement("span",{class:"blue_count"},_o.kFormatter(t.currentWeek.mins,9999))),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-0"},s.a.createElement("h5",{class:"mwy_content"},"Movement minutes"))))),s.a.createElement("div",{class:"col-lg-4 col-md-4 col-sm-12 col-xs-12"},s.a.createElement("h4",{class:"mwy_title"},"Last week"),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-6 col-md-6 col-sm-6 col-xs-6 text-center"},s.a.createElement("div",{class:"circle_set yellow_circle"},s.a.createElement("span",{class:"blue_count"},_o.kFormatter(t.lastWeek.count,9999))),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-0"},s.a.createElement("h5",{class:"mwy_content"},"Movement sessions "))),s.a.createElement("div",{class:"col-lg-6 col-md-6 col-sm-6 col-xs-6 text-center"},s.a.createElement("div",{class:"circle_set yellow_circle"},s.a.createElement("span",{class:"blue_count"},_o.kFormatter(t.lastWeek.mins,9999))),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-0"},s.a.createElement("h5",{class:"mwy_content"},"Movement minutes"))))),s.a.createElement("div",{class:"col-lg-4 col-md-4 col-sm-12 col-xs-12"},s.a.createElement("h4",{class:"mwy_title"},"All time"),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-6 col-md-6 col-sm-6 col-xs-6 text-center"},s.a.createElement("div",{class:"circle_set purple_circle"},s.a.createElement("span",{class:"blue_count"},_o.kFormatter(t.all.count,9999))),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-0"},s.a.createElement("h5",{class:"mwy_content"},"Movement sessions "))),s.a.createElement("div",{class:"col-lg-6 col-md-6 col-sm-6 col-xs-6 text-center"},s.a.createElement("div",{class:"circle_set purple_circle"},s.a.createElement("span",{class:"blue_count"},_o.kFormatter(t.all.mins,9999))),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-0"},s.a.createElement("h5",{class:"mwy_content"},"Movement minutes")))))))),s.a.createElement("div",{class:"row m-0 text-center my-4 pb-2 justify-content-center font-bold"},s.a.createElement("div",{className:"col-md-10"},s.a.createElement("button",{type:"button",class:"blue_btn",onClick:function(){e.setState({modelState:!0,formData:{},activityId:""})}},"Manually add activity ",s.a.createElement("span",{class:"fa fa-plus"}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 col-sm-2 text-right"},!this.state.is_filter_open&&!this.state.loader&&s.a.createElement("button",{type:"button",className:"btn btn-purple-inverse button-filter close-btn  font-medium font-14 pointer",onClick:function(){return e.setState({is_filter_open:!0})}},"Filter"),this.state.is_filter_open&&s.a.createElement("span",{className:"btn btn-purple close-btn  font-medium font-14 pointer",onClick:function(){return e.setState({is_filter_open:!1})}},"Close")))),s.a.createElement("div",{class:"row"},this.state.selected_filter&&this.state.filterNames&&!this.state.is_filter_open&&s.a.createElement("div",{className:"font-14 orangefont filter-select w-100 m-t-20 m-b-20 font-book text-center"},this.renderSelectedFilter())),this.state.is_filter_open&&s.a.createElement("div",{className:"col-md-12 filter_grid m-t-50 "},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"offset-9 col-md-3 condemand "},s.a.createElement("div",{className:"filter_head black-txt small-txt"}," ","Activity Location"),this.state.available_filter.activityType&&this.state.available_filter.activityType.map((function(t,a){return s.a.createElement("span",{key:"activitytype_"+a,className:"font-medium black-txt extra-small-txt pointer clearfix capitalize_text",onClick:function(){return e.filterFunction("activityType",t)}},s.a.createElement("p",{className:e.state.selected_filter.activityType&&e.state.selected_filter.activityType.includes(_o.condition_implode(t))?"orangefont":""},t))}))))),s.a.createElement("div",{class:"row m-0 margin_tb"},s.a.createElement("div",{class:"col-lg-12 p-0"},s.a.createElement("div",{class:"row"},o.length>0&&s.a.createElement("table",{class:"table_border_full w-100"},s.a.createElement("tbody",null,o.map((function(e,t){var o="beam"==e.data_type;if(!o){var n=bo()(e.date).format("DD-MM-YYYY");if(null==e.time)var r=bo.a.utc(n,"DD.MM.YYYY").toDate();else r=bo.a.utc(n+" "+e.time,"DD.MM.YYYY HH:mm").toDate();console.log("activityScheduled",r)}return s.a.createElement("tr",null,s.a.createElement("td",{width:"20%"},s.a.createElement("div",{class:"col-lg-12 min_ht bor_rt p-0 d-flex align-items-center"},s.a.createElement("div",{class:"col-lg-12 text-center p-0"},o&&s.a.createElement("img",{src:D+"logo.png",alt:"beam",class:"logo-size"}),s.a.createElement("span",{class:"blue_txt pt-2 font-semibold"},o?"Live"==e.Room.type?"Live class":"On-demand class":e.activityType)))),s.a.createElement("td",{width:"30%"},s.a.createElement("div",{class:"col-lg-12 min_ht bor_rt p-0 d-flex align-items-center"},o&&s.a.createElement("div",{class:"col-lg-12 text-left p-0 font-book"},s.a.createElement("span",{class:"date_time_span"},bo()(e.Room.scheduledFor).format("hh:mm A [on] dddd MMMM D, YYYY")),s.a.createElement("h3",{class:"orange_text mar_tb font-semibold"},e.Room.Workout.title),s.a.createElement("span",{class:"date_time_span"},"with ",s.a.createElement("span",{class:"bold_txt font-semibold"},e.Room.Workout.Instructor.User.name+" "+e.Room.Workout.Instructor.User.lastName)))||s.a.createElement("div",{class:"col-lg-12 text-left p-0 font-book"},s.a.createElement("span",{class:"date_time_span"},null==e.time?bo()(r).format("dddd MMMM D, YYYY"):bo()(r).format("hh:mm A [on] dddd MMMM D, YYYY")),s.a.createElement("h3",{class:"orange_text mar_tb font-semibold"},e.title)))),s.a.createElement("td",{width:"50%"},s.a.createElement("div",{class:"col-lg-12 min_ht p-0 d-flex align-items-center font-medium"},s.a.createElement("div",{class:"col-lg-12 col-md-12 text-center p-0"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 col-md-4 text-center"},s.a.createElement("span",{class:"date_time_span text-center fm_500 mb-2"},"Time"),s.a.createElement("span",{class:"tde_text font-semibold"},o?e.timeSpent:e.duration," mins")),s.a.createElement("div",{class:"col-lg-4 col-md-4 text-center"},s.a.createElement("span",{class:"date_time_span text-center fm_500 mb-2"},"Distance"),s.a.createElement("span",{class:"tde_text font-semibold"},o?"-":e.distance?e.distance+" "+e.distanceUnits:"-")),s.a.createElement("div",{class:"col-lg-4 col-md-4 text-center"},s.a.createElement("span",{class:"date_time_span fm_500 text-center mb-2"},"Exertion"),s.a.createElement("span",{class:"tde_text font-semibold"},o?"-":e.exertionText)))),!o&&s.a.createElement("span",{class:"pos_icons"},s.a.createElement("button",{onClick:function(){a.getDetails(e.id)}},s.a.createElement("img",{src:D+"edit-pencil.png",alt:""}))))))}))))),this.state.allActivity.length>0&&this.state.allActivity.length<this.state.count&&s.a.createElement("div",{class:"row justify-content-center mt-5 mb-5 text-center font-bold"},s.a.createElement("button",{class:"orange_bg_btn mr-3",onClick:function(){e.loadMore()}},"See more"),s.a.createElement("button",{class:"orange_bord_btn",onClick:function(){return e.loadMore(!0)}},"Show all")))),0==this.state.allActivity.length&&s.a.createElement("div",{className:""},s.a.createElement("h3",{className:"text-center"},"You're yet to complete a class on Beam - but you're just a few clicks away from changing that...!")))}},{key:"renderMobileViewActivity",value:function(){var e=this,t=this.state.movement_data,a=this;return s.a.createElement("div",{class:"mobileview"},s.a.createElement("div",{class:"tabbable-panel col-lg-12 p-0 p-2"},s.a.createElement("ul",{class:"nav nav-tabs w-100 justify-content-center m-t-10 font-semibold"},s.a.createElement("li",null,s.a.createElement("a",{href:"#this_Week",class:"active","data-toggle":"tab"},"This week")),s.a.createElement("li",null,s.a.createElement("a",{href:"#last_week","data-toggle":"tab"},"Last week")),s.a.createElement("li",null,s.a.createElement("a",{href:"#all_time","data-toggle":"tab"},"All time"))),s.a.createElement("div",{class:"tab-content col-lg-12 p-0 font-book"},s.a.createElement("div",{class:"tab-pane active",id:"this_Week"},s.a.createElement("div",{class:"row m-0"},s.a.createElement("div",{class:"w-50 text-center"},s.a.createElement("div",{class:"circle_set orange_circle"},s.a.createElement("span",{class:"blue_count"},_o.kFormatter(t.currentWeek.count,9999))),s.a.createElement("div",{class:"col-lg-12 p-0 font-medium"},s.a.createElement("h5",{class:"mwy_content "},"Movement",s.a.createElement("br",null)," sessions "))),s.a.createElement("div",{class:"w-50 text-center"},s.a.createElement("div",{class:"circle_set orange_circle"},s.a.createElement("span",{class:"blue_count"},_o.kFormatter(t.currentWeek.mins,9999))),s.a.createElement("div",{class:"col-lg-12 p-0 font-medium"},s.a.createElement("h5",{class:"mwy_content"},"Movement",s.a.createElement("br",null)," minutes"))))),s.a.createElement("div",{class:"tab-pane",id:"last_week"},s.a.createElement("div",{class:"row m-0"},s.a.createElement("div",{class:"w-50 text-center"},s.a.createElement("div",{class:"circle_set yellow_circle"},s.a.createElement("span",{class:"blue_count"},_o.kFormatter(t.lastWeek.count,9999))),s.a.createElement("div",{class:"col-lg-12 p-0 font-medium"},s.a.createElement("h5",{class:"mwy_content"},"Movement sessions "))),s.a.createElement("div",{class:"w-50 text-center"},s.a.createElement("div",{class:"circle_set yellow_circle"},s.a.createElement("span",{class:"blue_count"},_o.kFormatter(t.lastWeek.mins,9999))),s.a.createElement("div",{class:"col-lg-12 p-0 font-medium"},s.a.createElement("h5",{class:"mwy_content"},"Movement minutes"))))),s.a.createElement("div",{class:"tab-pane",id:"all_time"},s.a.createElement("div",{class:"row m-0"},s.a.createElement("div",{class:"w-50 text-center"},s.a.createElement("div",{class:"circle_set purple_circle"},s.a.createElement("span",{class:"blue_count"},_o.kFormatter(t.all.count,9999))),s.a.createElement("div",{class:"col-lg-12 p-0 font-medium"},s.a.createElement("h5",{class:"mwy_content"},"Movement sessions "))),s.a.createElement("div",{class:"w-50 text-center"},s.a.createElement("div",{class:"circle_set purple_circle"},s.a.createElement("span",{class:"blue_count"},_o.kFormatter(t.all.mins,9999))),s.a.createElement("div",{class:"col-lg-12 p-0 font-medium"},s.a.createElement("h5",{class:"mwy_content"},"Movement minutes"))))))),s.a.createElement("div",{class:"row m-0 text-center my-4 pb-2 justify-content-center font-bold"},s.a.createElement("button",{type:"button",class:"blue_btn",onClick:function(){e.setState({modelState:!0,formData:{},activityId:""})}},"Manually add activity ",s.a.createElement("span",{class:"fa fa-plus"}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 col-sm-2 text-right"},!this.state.is_filter_open&&!this.state.loader&&s.a.createElement("button",{type:"button",className:"btn btn-purple-inverse button-filter close-btn  font-medium font-14 pointer",onClick:function(){return e.setState({is_filter_open:!0})}},"Filter"),this.state.is_filter_open&&s.a.createElement("span",{className:"btn btn-purple close-btn  font-medium font-14 pointer",onClick:function(){return e.setState({is_filter_open:!1})}},"Close"))),s.a.createElement("div",{class:"row"},this.state.selected_filter&&this.state.filterNames&&!this.state.is_filter_open&&s.a.createElement("div",{className:"font-14 orangefont filter-select w-100 m-t-20 m-b-20 font-book text-center"},this.renderSelectedFilter())),this.state.is_filter_open&&s.a.createElement("div",{className:"col-md-12 filter_grid m-t-50 "},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:" col-md-3 condemand "},s.a.createElement("div",{className:"filter_head black-txt small-txt"}," ","Activity Location"),this.state.available_filter.activityType&&this.state.available_filter.activityType.map((function(t,a){return s.a.createElement("span",{key:"activitytype_"+a,className:"font-medium black-txt extra-small-txt pointer clearfix capitalize_text",onClick:function(){return e.filterFunction("activityType",t)}},s.a.createElement("p",{className:e.state.selected_filter.activityType&&e.state.selected_filter.activityType.includes(_o.condition_implode(t))?"orangefont":""},t))}))))),s.a.createElement("div",{class:"row m-0 margin_tb"},this.state.allActivity.length&&this.state.allActivity.map((function(e,t){var o="beam"==e.data_type;if(!o)var n=bo()(e.date).format("DD-MM-YYYY"),r=bo.a.utc(n+" "+e.time,"DD.MM.YYYY HH:mm").toDate();return s.a.createElement("div",{class:"hr_line row m-0",onClick:function(){a.getDetails(e.id)}},s.a.createElement("div",{class:"col-lg-12 text-center p-0 mt-4 mb-3"},o&&s.a.createElement("img",{src:D+"logo.png",alt:"beam",class:"logo-size"}),s.a.createElement("span",{class:"blue_txt pt-1 d-inline-block ml-2 font-semibold"},o?"Live"==e.Room.type?"Live class":"On-demand class":e.activityType)),o&&s.a.createElement("div",{class:"col-lg-12 text-center p-0 mt-2 mb-3 font-book"},s.a.createElement("span",{class:"date_time_span d-block text-center"},bo()(e.Room.scheduledFor).format("hh:mm A")),s.a.createElement("span",{class:"date_time_span d-block text-center"},bo()(e.Room.scheduledFor).format("dddd MMMM D, YYYY")),s.a.createElement("h3",{class:"orange_text mar_tb text-center font-semibold"},e.Room.Workout.title),s.a.createElement("span",{class:"date_time_span text-center"},"with ",s.a.createElement("span",{class:"bold_txt font-semibold"},e.Room.Workout.Instructor.User.name+" "+e.Room.Workout.Instructor.User.lastName)))||s.a.createElement("div",{class:"col-lg-12 text-center p-0 mt-2 mb-3 font-book"},s.a.createElement("span",{class:"date_time_span d-block text-center"},bo()(r).format("hh:mm A")),s.a.createElement("span",{class:"date_time_span d-block text-center"},bo()(r).format("dddd MMMM D, YYYY")),s.a.createElement("h3",{class:"orange_text mar_tb text-center font-semibold"},e.title)),s.a.createElement("div",{class:"col-lg-12 p-0 mt-2 mb-3 text-center"},s.a.createElement("div",{class:"row m-0 font-medium"},s.a.createElement("div",{class:"w-33 text-center"},s.a.createElement("span",{class:"date_time_span text-center fm_500 mb-2"},"Time"),s.a.createElement("span",{class:"tde_text font-semibold"},_o.kFormatter(o?e.timeSpent:e.duration)," mins")),s.a.createElement("div",{class:"w-33 text-center"},s.a.createElement("span",{class:"date_time_span text-center fm_500 mb-2"},"Distance"),s.a.createElement("span",{class:"tde_text font-semibold"},o?"-":e.distance?e.distance+" "+e.distanceUnits:"-")),s.a.createElement("div",{class:"w-33 text-center"},s.a.createElement("span",{class:"date_time_span fm_500 text-center mb-2"},"Exertion"),s.a.createElement("span",{class:"tde_text font-semibold"},o?"-":e.exertionText)))))}))),this.state.allActivity.length>0&&this.state.allActivity.length<this.state.count&&s.a.createElement("div",{class:"row justify-content-center mt-5 mb-5 text-center font-bold"},s.a.createElement("button",{class:"orange_bg_btn mb-3",onClick:function(){e.loadMore()}},"See more"),s.a.createElement("button",{class:"orange_bord_btn",onClick:function(){return e.loadMore(!0)}},"Show all")))}},{key:"render",value:function(){return s.a.createElement("div",{className:""},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"My Activity Diary",ye),s.a.createElement("meta",{property:"og:title",content:"My Activity Diary"+ye}),s.a.createElement("meta",{property:"og:description",content:ze}),s.a.createElement("meta",{property:"og:image",content:Ke}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Mountains with purple sky"})),!this.state.Loading&&this.renderListData(),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null)),this.state.modelState&&s.a.createElement(ad,{is_model_open:this.state.modelState,modelData:this.state.formFields,modelClose:this.modelClose,activityId:this.state.activityId,formData:this.state.formData}))}}]),a}(s.a.Component),nd={fetchRecentlyWatched:Ya,loginModelOpen:pt,start_loader:ht,stop_loader:gt,joinClass:ja,getForm:function(e){return function(t,a){var o,s=tt();return o=h+"/api/getFormFields/"+e.name,fetch(o,s).then((function(e){return go(e,t)})).then((function(e){return e}))}},getActivityDetails:function(e){return function(t,a){var o=tt();return fetch(h+"/api/account/getUserActivity/"+e,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},getAllActivity:function(e){return function(t,a){var o=tt(),s=(new Date).getTimezoneOffset(),n=h+"/api/account/getAllActivity?limit="+e.limit+"&offset="+e.offset+"&showAll="+e.showAll+"&zone="+s+"&filter="+e.filter;return fetch(n,o).then((function(e){return go(e,t)})).then((function(e){return t({type:"set_activity_list",payload:e.data.list}),e}))}},clearActivityList:function(){return function(e,t){e({type:"clear_activity_list"})}}},rd=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,all_activity_list:e.dashboard.all_activity_list}}),nd)(sd),id=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).fetchProgramList=function(){o.setState({Loading:!0,disableButton:!0});var e=_o.replaceChar(o.state.condition,!0),t={offset:o.state.offset,isShowAll:o.state.isShowAll,limit:8,condition:e};o.props.fetchDashboardPrograms(t).then((function(e){e&&o.setState({Loading:!1,count:e.totalCount,disableButton:!1},(function(){}))}),(function(e){o.setState({Loading:!1,disableButton:!1})}))},o.startNextClass=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;o.props.programDetailData(t.Program);var r=0;if(!e)r=t.completed_workout_count||0;console.log("programWorkoutsRecent-index",r),console.log("programWorkoutsRecent",a),console.log("isPlayOndemand-index-data",a[r]);var i={workout:a[r].Workout};console.log("isPlayOndemand-workout",i),o.setState({programId:a[r].programId,workoutId:a[r].workoutId,ondemand_detail_data:i,keyIndex:s,programDetails:t,isCompletedType:n},(function(){console.log("program-mybeam",this.props),this.props.program_detail&&this.props.program_detail.preSurvey&&a[r].programId&&a[0].workoutId==a[r].workoutId?this.props.isOpenProgramSurveyModel(!0):this.props.isPlayOndemand(!0)}))},o.joinProgram=function(e,t,a,s,n){if(o.props.is_auth){var r={programId:e};o.props.joinToProgram(r).then((function(r){o.setState({isJoinedNow:!0}),console.log("response",r),r.status?(o.setState({userProgramId:r.data.id}),o.startNextClass(e,t,a,s,n),at.b.success(r.message)):at.b.error(r.message)}),(function(e){o.setState({isJoinedNow:!1}),at.b.error(e)}))}else o.props.loginModelOpen(!0)},o.updateWatchedVideoDetails=function(e,t,a){if(console.log("data",t),a)o.setState({offset:0,isShowAll:0},(function(){this.fetchProgramList()}));else{var s=o.props.program_list.progressProgramList;s[e].completed_times=t.completedPrograms,s[e].completed_workout_count=t.completedClass,o.props.updateUserProgramList(s)}},o.updateProgramDetails=function(){var e={programId:o.state.programId};console.log("programDetails",o.state.programDetails),o.state.programDetails&&(e.userProgramId=o.state.programDetails.id),o.props.ProgrammeDetailWorkouts(e).then((function(e){e&&o.updateWatchedVideoDetails(o.state.keyIndex,e,o.state.isCompletedType)}),(function(e){o.setState({Loading:!1}),at.b.error(e)}))},o.state={Loading:!1,offset:0,count:0,isShowAll:0,show_more_cnt:10,program_list:[],getProgramDetail:[]},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("this.props.condition",this.props),this.setState({condition:this.props.params.condition},(function(){e.fetchProgramList()}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.params&&e.params.condition&&this.props.params.condition!==e.params.condition){var a=_o.replaceChar(e.params.condition,!0);this.setState({condition:a,getProgramDetail:e.program_detail},(function(){t.fetchProgramList()}))}}},{key:"renderListView",value:function(e,t){var a=this;return e.length>0&&e.map((function(e,o){console.log("renderListViewitem",e);var n=e.shortDesc?e.shortDesc.substr(0,a.state.charLimit[o]||a.state.charStaticLimit):"";e.shortDesc&&e.shortDesc.length>(a.state.charLimit[o]||a.state.charStaticLimit)&&(n=n.concat("..."));var r=Eo.a.sortBy(e.Program.ProgramWorkouts,(function(e){return e.workoutNum})),i=Object(el.a)(100*e.completed_workout_count/e.Program.numWorkouts);return s.a.createElement("div",{className:"list-group-item liveclass-listing mybeamlisting_Set",key:o},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media media_for_mobile col-md-3 col-lg-3 leftabs_img"},s.a.createElement("div",{className:"mobile_view_show"},s.a.createElement("h3",{class:"heading_prgs"},s.a.createElement(Qo.b,{className:"flow-text",to:"/programmes/detail/"+a.props.params.condition+"/"+e.Program.id}," ",e.Program.title))),s.a.createElement("figure",{className:"pull-left position-relative wid_ht"},s.a.createElement(Qo.b,{to:"/liveClass/"+a.props.params.condition+"/"},s.a.createElement(hn,{className:"media-object image-size img-rounded img-fluid",src:I+e.Program.img,thumb:D+"ondemand-placeholder.png"})),s.a.createElement(Qo.b,{className:"flow-text",to:"/programmes/detail/"+a.props.params.condition+"/"+e.Program.id},s.a.createElement("span",{class:"position-absolute vid_time"},s.a.createElement("div",{className:"row w-100"},e.completedDate&&s.a.createElement("h3",{className:"orange_pos_text w-100 text-center"},"Completed ",e.completed_times," times")||s.a.createElement("div",{class:"line-bar font-16 progressbar_star prg_bar_line w-100"},s.a.createElement("div",{class:"progress"},s.a.createElement("div",{className:"progress-bar p-l-10 p-r-10 "+(0==i?"empty-progress":""),role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100",style:{width:0==i?"15%":i+"%"}},i>50&&s.a.createElement("span",{class:"font-semibold font-18"},e.completed_workout_count," out of ",e.Program.numWorkouts," classes completed"),i<=50&&s.a.createElement("span",{class:"font-semibold font-18"},i,"%")))))))),s.a.createElement("div",{className:"mobile_view_show"},s.a.createElement("p",{className:"font-16 font-semibold black-txt p-l-5 text-center orangefont"},e.Program.numWorkouts," Classes"))),s.a.createElement("div",{className:"col-md-7 col-lg-7"},s.a.createElement("div",{className:"w-100 row m-0"},s.a.createElement("h3",{class:"heading_prgs mobile_view_hide"},s.a.createElement(Qo.b,{className:"flow-text",to:"/programmes/detail/"+a.props.params.condition+"/"+e.Program.id}," ",e.Program.title),s.a.createElement("span",{className:"orange-txt"},e.Program.numWorkouts," Classes")),s.a.createElement("div",{className:"desc_para_set",dangerouslySetInnerHTML:{__html:e.Program.shortDesc}}))),s.a.createElement("div",{className:"col-md-2 col-lg-2"},e.completed_workout_count==e.Program.numWorkouts&&s.a.createElement("button",{onClick:function(){return a.joinProgram(e.programId,e,r,o,t)},className:"btn btn-purple w-100 pad_list_btn font-medium m-b-10 pr-1 pl-1"},"Restart"),e.completed_workout_count<e.Program.numWorkouts&&s.a.createElement(Qo.b,{className:"btn btn-purple w-100 pad_list_btn font-medium m-b-10 pr-1 pl-1 startnewclass_prl",onClick:function(){a.startNextClass(0,e,r,o,t)}},"Start next class"),s.a.createElement(Qo.b,{className:"btn btn-purple-inverse w-100 font-medium m-b-10 pr-1 pl-1",to:"/programmes/detail/"+a.props.params.condition+"/"+e.id},"Learn more ")))))}))}},{key:"renderListData",value:function(){var e=this;return console.log("this.props.renderListData",this.props),Object.keys(this.props.program_list).length>0&&(this.props.program_list.completedProgramList.length>0||this.props.program_list.progressProgramList.length>0)?s.a.createElement("div",{id:"products",className:"container programs_page_tab programs_page_tab_new"},s.a.createElement("div",{className:"list-group"},this.props.program_list.progressProgramList.length&&s.a.createElement("h3",{className:"font-24 font-semibold text-center mt-3"},"Your active programs"),this.renderListView(this.props.program_list.progressProgramList,!1),this.props.program_list.completedProgramList.length&&s.a.createElement("h3",{className:"font-24 font-semibold text-center mt-3"},"Your completed programs"),this.renderListView(this.props.program_list.completedProgramList,!0)),this.state.count>8&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement("span",{onClick:function(){e.state.disableButton||e.incrementShowmoreCnt()},className:"btn btn-orange m-t-40 m-b-40 font-book pointer"},"Show all"))):s.a.createElement("div",{className:"row p-b-30 p-t-30"},s.a.createElement("h3",{className:"col-sm-12 text-center"},"Did you know that we offer a range of fantastic programs tailor made for your condition?"),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement(Qo.b,{to:"/programs/"+this.props.params.condition,className:"btn btn-orange m-t-40 m-b-40 font-book pointer"},"Check out programs")))}},{key:"incrementShowmoreCnt",value:function(){this.setState({isShowAll:1},(function(){this.fetchProgramList()}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:""},s.a.createElement(hi,{is_model_open:this.state.openResearchModel,closeResearchModel:this.closeResearchModel,classType:"Live",beforeReview:this.beforeReview,workoutId:this.state.workoutId,current_attendee:this.state.current_attendee}),s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"My schedule",ye),s.a.createElement("meta",{property:"og:title",content:"My schedule"+ye}),s.a.createElement("meta",{property:"og:description",content:Ve}),s.a.createElement("meta",{property:"og:image",content:He}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Mountains with purple sky"})),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null)),!this.state.Loading&&this.renderListData(),s.a.createElement(Mi,{condition:this.props.params.condition,programId:this.state.programId,workoutId:this.state.workoutId,history:this.props.history,ondemand_detail_data:this.state.ondemand_detail_data,closeWithProgram:function(){e.updateProgramDetails()}}))}}]),a}(s.a.Component),ld={fetchDashboardPrograms:function(e){return function(t,a){var o,s=tt(),n=(new Date).getTimezoneOffset();return o=h+"/api/account/dashboard/programs/"+e.condition+"?offset="+e.offset+"&limit="+e.limit+"&zone="+n+"&isShowAll="+e.isShowAll,fetch(o,s).then((function(e){return go(e,t)})).then((function(e){return t({type:"get_user_programs",payload:e.programmeList}),e}))}},loginModelOpen:pt,start_loader:ht,stop_loader:gt,joinClass:ja,cancelClass:Ta,joinToProgram:uo,isPlayOndemand:Sa,ProgrammeDetailWorkouts:po,updateUserProgramList:function(e){return function(t,a){t({type:"update_user_programs",payload:e})}},programDetailData:ho,isOpenProgramSurveyModel:wa},cd=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,program_list:e.dashboard.program_list,program_detail:e.programme.program_detail}}),ld)(id),md=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={plan:{},selectedTab:1,condition:o.props.match.params.condition},o.conditonClassList=Object(Lo.a)(R),o.savedChild=s.a.createRef(),o.gotoMycodition=o.gotoMycodition.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(){this.conditonClassList=Object(Lo.a)(R)}},{key:"getColorClass",value:function(){var e=this.conditonClassList.pop();return this.conditonClassList.unshift(e),e}},{key:"gotoMycodition",value:function(){var e={pathname:"/accounts/myConditions"};this.props.history.push(e)}},{key:"changeCondition",value:function(e){if(e==N.replace(" ","-"))var t="/"+e;else{var a=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;t=(a&&(a.isGroupLeader||a.isStudyLeader||a.isStudyInstructor)&&W.includes("on-demand")?"/on-demand/":"/liveClasses/")+e}this.props.history.push(t)}},{key:"showMobileListName",value:function(){var e;switch(this.props.match.path){case"/account/dashboard/schedule/:condition":e="Schedule";break;case"/account/dashboard/history/:condition":e="History";break;case"/account/dashboard/programs/:condition":e="Programs";break;case"/account/dashboard/activity/:condition":e="Activity Diary";break;case"/account/dashboard/saved/:condition":e="Saved";break;case"/account/dashboard/groups/:condition":e="Groups";break;default:e="Select"}return e}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:("undefined"!=typeof Go.Cookies.get("closeBanner")&&"false"!=Go.Cookies.get("closeBanner")||this.props.close_banner)&&("undefined"!=typeof Go.Cookies.get("closeBannerKD")&&"false"!=Go.Cookies.get("closeBannerKD")||this.props.close_banner_kd)?"Dashboard groupdetails m-t-70":"Dashboard groupdetails"},s.a.createElement("div",{className:"banner_dasboard clearfix"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"banner_section p-t-30 p-b-10 text-left"},s.a.createElement("h3",{className:"m-head text-white font-medium font-37 "+(this.state.condition.toLowerCase().includes("research")?"m-b-30":"")},"Hello ",this.props.userData.name,"!"),!this.props.userData.isStudyParticipant&&!this.state.condition.toLowerCase().includes("research")&&s.a.createElement("p",{className:"font-medium"},s.a.createElement("span",{className:"text-white m-head font-24"},"My Conditions")),!this.props.userData.isStudyParticipant&&!this.state.condition.toLowerCase().includes("research")&&s.a.createElement("div",{className:"m-b-40"},this.props.healthcondition_list.map((function(t,a){return s.a.createElement(s.a.Fragment,{key:"conditon_"+a},e.props.userData.conditionList&&e.props.userData.conditionList.includes(t.id)&&s.a.createElement("button",{onClick:function(){e.changeCondition(t.tag.replace(/ /g,"-"))},className:"big-button "+e.getColorClass()},s.a.createElement("span",{className:"capitalize_text font-semibold"},t.tag)))})),s.a.createElement("button",{className:"btn btn-light condition_plus",onClick:this.gotoMycodition},"+"),s.a.createElement("button",{className:"btn btn-light big-button condition_plus_sm  ",onClick:this.gotoMycodition},"Add condition"))))),s.a.createElement("div",{className:"container-fluid mx-auto w-75 dash-drop"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"dropdown  tab-sm-group tab-btn d-block d-sm-block d-md-none d-lg-none"},s.a.createElement("button",{type:"button",className:"btn btn-default font-medium font-14 tab-select dropdown-toggle","data-toggle":"dropdown"},this.showMobileListName(),s.a.createElement("span",{className:"slt"})),s.a.createElement("div",{className:"dropdown-menu text-center"},s.a.createElement(Qo.b,{className:"dropdown-item"+("/account/dashboard/schedule/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer font-book font-15",to:"/account/dashboard/schedule/"+this.state.condition},"Schedule"),0==this.props.features_list.activityTracker&&s.a.createElement(Qo.b,{className:"dropdown-item"+("/account/dashboard/history/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer font-book font-15",to:"/account/dashboard/history/"+this.state.condition},"History"),s.a.createElement(Qo.b,{className:"dropdown-item"+("/account/dashboard/programs/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer font-book font-15",to:"/account/dashboard/programs/"+this.state.condition},"Programs"),1==this.props.features_list.activityTracker&&s.a.createElement(Qo.b,{className:"dropdown-item"+("/account/dashboard/activity/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer font-book font-15",to:"/account/dashboard/activity/"+this.state.condition},"Activity Diary"),s.a.createElement(Qo.b,{className:"dropdown-item"+("/account/dashboard/saved/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer font-book font-15",to:"/account/dashboard/saved/"+this.state.condition},"Saved"),s.a.createElement(Qo.b,{className:"dropdown-item"+("/account/dashboard/groups/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer  font-book font-15",to:"/account/dashboard/groups/"+this.state.condition},"Groups"))))),s.a.createElement("div",{className:"tab_group mybeampg"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:" mx-auto tab_full d-none d-sm-none d-md-block d-lg-block"},s.a.createElement("ul",{className:"nav nav-tabs small justify-content-left mx-auto  tab_ul",role:"tablist"},s.a.createElement("li",{className:"nav-item font-book font-15"},s.a.createElement(Qo.b,{className:("/account/dashboard/schedule/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer font-book font-15",to:"/account/dashboard/schedule/"+this.state.condition},"Schedule")),0==this.props.features_list.activityTracker&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/account/dashboard/history/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer font-book font-15",to:"/account/dashboard/history/"+this.state.condition},"History")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/account/dashboard/programs/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer font-book font-15",to:"/account/dashboard/programs/"+this.state.condition},"Programs")),1==this.props.features_list.activityTracker&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("/account/dashboard/activity/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer font-book font-15",to:"/account/dashboard/activity/"+this.state.condition},"Activity Diary")),s.a.createElement("li",{className:"nav-item "},s.a.createElement(Qo.b,{className:("/account/dashboard/saved/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer font-book font-15",to:"/account/dashboard/saved/"+this.state.condition},"Saved")),s.a.createElement("li",{className:"nav-item "},s.a.createElement(Qo.b,{className:("/account/dashboard/groups/:condition"===this.props.match.path?"active":"")+" nav-link font-semibold pointer  font-book font-15",to:"/account/dashboard/groups/"+this.state.condition},"Groups")))))),s.a.createElement("div",{className:"tab-content dash_tab  col-md-12 p-0 m-t-10 m-b-20"},"/account/dashboard/schedule/:condition"===this.props.match.path&&s.a.createElement(jm,{params:this.props.match.params,props:this.props}),"/account/dashboard/history/:condition"===this.props.match.path&&s.a.createElement(Pm,{params:this.props.match.params}),"/account/dashboard/programs/:condition"===this.props.match.path&&s.a.createElement(cd,{params:this.props.match.params,props:this.props,history:this.props.history}),"/account/dashboard/activity/:condition"===this.props.match.path&&s.a.createElement(rd,{params:this.props.match.params}),"/account/dashboard/saved/:condition"===this.props.match.path&&s.a.createElement(Wm,{params:this.props.match.params}),"/account/dashboard/groups/:condition"===this.props.match.path&&s.a.createElement(qm,{params:this.props.match.params,location:this.props.location,history:this.props.history}))))}}]),a}(s.a.Component),dd={fetchUserDetails:ao,start_loader:ht,stop_loader:gt},pd=Object(i.b)((function(e){return{condition:e.auth.condition,healthcondition_list:e.register.healthcondition_list,userData:e.header.logged_userData,close_banner:e.header.close_banner,close_banner_kd:e.header.close_banner_kd,features_list:e.header.features_list}}),dd)(md),ud=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={blogList:[],saveLoader:!1},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.getBlogList(),window.scrollTo(0,0)}},{key:"getBlogList",value:function(){var e=this,t=this.props.params.condition.replace("'","");this.props.fetchRecentBlogs(t).then((function(t){t&&t.list&&e.setState({blogList:t.list.blogs?t.list.blogs:[]})}),(function(e){at.b.error(e)}))}},{key:"saveBlog",value:function(e){this.state.saveLoader||(this.props.is_auth?this.setState({saveLoader:!0},(function(){var t=this,a=this.state.blogList[e],o={blogId:a.uid};this.props.saveBlog(o,a.isSaved).then((function(a){if(a){var o=Object(Lo.a)(t.state.blogList);o[e].isSaved=!o[e].isSaved,t.setState({blogList:o,saveLoader:!1}),at.b.success(a.message)}}),(function(e){t.setState({saveLoader:!1}),at.b.error(e)}))})):this.props.loginModelOpen(!0))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"tab-content  col-md-12 p-0"},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Keeping active with ",this.props.params.condition,ye),s.a.createElement("meta",{property:"og:title",content:"Keeping active with "+this.props.params.condition+ye}),s.a.createElement("meta",{property:"og:description",content:this.props.params.condition}),s.a.createElement("meta",{property:"og:image",content:xe}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Characters exercising in gym setting"})),s.a.createElement("div",{className:"about-demand"},s.a.createElement("div",{className:"about_ondemand"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"text-center p-t-60 p-b-60"},s.a.createElement("h3",{className:"font-book font-24 darkblue-text m-b-80 "},s.a.createElement("span",null,"Physical Activity for")," ",s.a.createElement("span",{className:"capitalize_text"},_o.condition_explode(this.props.params.condition))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-7 col-lg-7 text-left"},s.a.createElement("h4",{className:"m-b-10 brown-txt font-book font-24 p-b-30"},"Why is physical activity beneficial for people with CF?"),s.a.createElement("p",{className:"font-18 content-text font-qregular brown-txt m-b-15"},s.a.createElement("strong",null,"The \u201ctextbook\u201d answer:")," To improve health of body and mind",s.a.createElement("br",null),s.a.createElement("br",null),"Doctors tell us all the time that exercise is good for us. In CF that means improving strength and cardiovascular fitness, getting mucus moving from our lungs, building better posture and stronger bones, and so much more.",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("strong",null,"Our answer:")," To feel good ",s.a.createElement("br",null),s.a.createElement("br",null),"Life gets busy, and the simple truth is that it can be hard for us to be physically active. But we always feel good afterwards\u2060. If we focus on what makes us feel good, it motivates us to keep going. ",s.a.createElement("br",null),"With activity we find ourselves more energetic, in a better mental state, and beaming with pride at even our smallest accomplishments. Plus, the endorphins you get from exercise can give you an immediate mood boost!")),s.a.createElement("div",{className:"col-12 col-md-5 col-lg-5 text-center p-t-30"},s.a.createElement("figure",null,s.a.createElement("img",{src:D+"Floor_mat_pair_3_RGB.png",className:"img-fluid",alt:""}))))))),s.a.createElement("div",{className:"ice-bg"},s.a.createElement("div",{className:"container mx-auto w-75"},s.a.createElement("div",{className:"text-center p-t-60 p-b-60"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-8 offset-md-2  col-lg-8 offset-lg-2"},s.a.createElement("h4",{className:"m-b-10 brown-txt font-book font-24 p-b-30"},"People with CF aren\u2019t all the same\u2026 are there sessions that meet my needs?"),s.a.createElement("p",{className:"font-18 content-text font-qregular brown-txt m-b-20"},"Beam offers a variety of on-demand content and live classes for people with different interests, needs and levels of ability.",s.a.createElement("br",null),s.a.createElement("br",null),"We are here to help you get started with activity plan, set reachable goals, and motivate you on your path toward achieving them!")))))),s.a.createElement("div",{className:"container  mx-auto w-75"},s.a.createElement("div",{className:"text-center p-t-60 p-b-30"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-8 offset-md-2  col-lg-8 offset-lg-2"},s.a.createElement("h4",{className:"m-b-10 brown-txt font-book font-24"},"Try it out today!"),s.a.createElement(Qo.b,{to:"/register",className:"btn btn-yellow font-14 font-book m-t-20 m-b-20"},"Start your free trial"))))),s.a.createElement("div",{className:"Recent_blog clearfix"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"text-center p-t-60 p-b-60"},s.a.createElement("h3",{className:"font-book font-24 darkblue-text"},"Recent blog posts"),s.a.createElement("div",{className:"col-md-12 mx-auto m-t-40 m-b-20 p-0 clearfix"},this.state.blogList.filter((function(e){return e.data})).map((function(t,a){return s.a.createElement("div",{key:a,className:"col-lg-4 col-md-4 col-sm-12 float-left m-b-10"},s.a.createElement("div",{className:"card h-100"},s.a.createElement(Qo.b,{to:"/blogs/"+t.uid},s.a.createElement(hn,{className:"card-img-top",src:t.data.thumbnail_img?t.data.thumbnail_img.url:""})),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("p",{className:"dblog_head black-txt font-10 font-qregular float-left "},t.tags.toString().replace(",","/ ")),s.a.createElement("div",{className:"bookmark-left float-right text-right"},s.a.createElement("em",{className:"fa fa-bookmark-o pointer"+(!0===t.isSaved?" orangefont":""),onClick:function(){return e.saveBlog(a)}})),s.a.createElement("p",{className:"dblog_title font-semibold font-15 black-txt pull-left text-left m-b-5"},s.a.createElement(Qo.b,{to:"/blogs/"+t.uid},s.a.createElement(fn,{text:t.data.title&&t.data.title.length>0?t.data.title[0].text:"",limit:68}))),s.a.createElement("p",{className:"font-qmedium dblog_text m-b-0 pull-left text-left font-13"},s.a.createElement(fn,{text:t.data.preview_text&&t.data.preview_text.length>0?t.data.preview_text[0].text:"",limit:120}))))))}))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center clearfix m-t-40 m-b-40"},s.a.createElement(Qo.b,{to:"/blog/"+this.props.params.condition,className:"btn-voliet font-14  font-book pointer"},"View more blog posts")))))))}}]),a}(s.a.Component),hd={ondemandList:sa,clearOndemandList:Zt,start_loader:ht,stop_loader:gt,fetchRecentBlogs:io,saveBlog:lo,loginModelOpen:pt},gd=Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),hd)(ud),fd=function(e){return s.a.createElement("div",null,s.a.createElement("div",{className:0==e.data.tagCount&&e.selectProps.isRemoveable?"pull-left optionWidth":"pull-left w-100"},s.a.createElement(wl.f.Option,e,s.a.createElement("input",{type:"checkbox",checked:e.isSelected,onChange:function(){return null}})," ",s.a.createElement("label",null,e.label," ","*"!=e.value&&e.selectProps.isRemoveable&&s.a.createElement("span",{className:"black-txt font-semibold"},"(",e.data.tagCount,")")))),0===e.data.tagCount&&s.a.createElement("button",{onClick:function(){return e.selectProps.removeTag(e.value,e.selectProps.name)},className:"btn pull-right orangefont removeTagBtn"},"X"))},bd="*",vd=function(e){var t=e.children,a=Object(Yo.a)(e,["children"]),o=t;return a.getValue().some((function(e){return e.value===bd}))&&(o=[[t[0][0]],t[1]]),s.a.createElement(wl.f.ValueContainer,a,o)},Ed=function(e){var t="".concat(e.data.label);return e.data.value===bd&&(t="All is selected"),s.a.createElement(wl.f.MultiValue,e,s.a.createElement("span",null,t))},yd=Object(Cl.a)(),_d=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).handleChangeTextEdit=function(e){console.log("handleChangeTextEdit");var t=o.state.instructor;o.setState({editorValue:e,instructor:Object(m.a)(Object(m.a)({},t),{},{bio:e.editor.getData()}),about:e.editor.getData()})},o.createOption=function(e){return{label:e,value:e.toLowerCase().replace(/\W/g,"")}},o.handleCreate=function(e,t){var a=o.state.optionSelected,s={type:t,tag:e},n=Object(is.a)(o);o.props.createNewTag(s).then((function(e){console.log("result",e);var t=e.data,o=t.type,s={label:t.tag,value:t.id,tagCount:0};switch(a[o].push(s),n.setState({optionSelected:a}),o){case"discipline":var r=n.state.disciplineOptions;r.push(s),n.setState({disciplineOptions:r})}})),o.setState({isLoading:!1,optionSelected:a})},o.onImageChange=function(e){if(e.target.files&&e.target.files[0]){o.setState({imageModel:!0}),o.props.imageCropOpenPopup(!0);var t=URL.createObjectURL(e.target.files[0]),a=o.state.instructor;o.setState({instructor:Object(m.a)(Object(m.a)({},a),{},{postFile:e.target.files[0],img:t})})}},o.state={editorValue:Nl.a.createEmptyValue(),submitted:!1,loading:!1,isCropped:!1,error:"",typeFilter:o.props.init_condition,instructor:{title:"",speciality:"",discipline:"",qualification:"",feelGoodFormula:"",location:"",bio:"",about:"",twitterLink:"",instagramLink:"",facebookLink:"",webLink:"",tiktokLink:"",linkedinLink:"",isLive:0},isLive:1,workoutId:"",disciplineOptions:[],conditionOptions:[],benefitOptions:[],equipmentOptions:[],levelOptions:[],userOptions:[],recordingofOptions:[],optionSelected:{discipline:[],userid:[],condition:[],instructorUser:[]},videoUrlError:!1,crop:{unit:"px",x:0,y:0,width:200,height:200,aspect:1,disabled:!0,locked:!0}},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.handleChangeTextEdit=o.handleChangeTextEdit.bind(Object(is.a)(o)),o.handleMultiSelectChange=o.handleMultiSelectChange.bind(Object(is.a)(o)),o.handleBeamUserChange=o.handleBeamUserChange.bind(Object(is.a)(o)),o.handleCreate=o.handleCreate.bind(Object(is.a)(o)),o.handleCheckboxChange=o.handleCheckboxChange.bind(Object(is.a)(o)),o.onSubmit=o.onSubmit.bind(Object(is.a)(o)),o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.clearState=o.clearState.bind(Object(is.a)(o)),o.onCloseModel=o.onCloseModel.bind(Object(is.a)(o)),o.loadOptions=o.loadOptions.bind(Object(is.a)(o)),o.removeTag=o.removeTag.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.instructor_detail;console.log("cmsdidmount",t);var a=this.props.instructor_detail?this.props.instructor_detail.id:"",o=this.props.instructor_detail?this.props.instructor_detail.UserId:"";this.setState({instructor:t,instructorId:a,editorValue:Nl.a.createValueFromString(t.bio,"html")}),setTimeout((function(){console.log("Latetime-desc"),e.setState({about:t.bio})}),1500),this.props.logged_userData.isStudyLeader&&this.setState({instructor:Object(m.a)(Object(m.a)({},this.state.instructor),{},{isLive:!0,hasProfile:!1})}),this.props.getInstTags("discipline",a).then((function(t){if(t){if(t.data.editTags.length>0){var a=t.data.editTags,o=e.state.optionSelected;a.forEach((function(e){o.discipline.push(e.Tag)})),e.setState({optionSelected:o})}e.setState({disciplineOptions:t.data.tags})}}),(function(e){})),this.props.getInstTags("condition",a).then((function(t){if(t){if(t.data.editTags.length>0){var s=t.data.editTags,n=e.state.optionSelected;s.forEach((function(e){n.condition.push(e.Tag)})),e.setState({optionSelected:n})}if(!a){n=e.state.optionSelected;var r=Eo.a.filter(t.data.tags,(function(e){return e.label===_o.replaceChar(Go.Cookies.get("condition"),!0)}));n.condition=r,e.setState({optionSelected:n})}e.setState({conditionOptions:t.data.tags});var i=Eo.a.map(e.state.optionSelected.condition,"value");console.log("ids-condition",i),e.getInstructor(o,i)}}),(function(e){}))}},{key:"getInstructor",value:function(e,t){var a=this;this.props.getBeamUser(e,t,"").then((function(e){if(e){if(e.data.editUser){var t=e.data.editUser,o=a.state.optionSelected;o.userid=t,a.setState({optionSelected:o})}a.setState({userOptions:e.data.users})}}),(function(e){var t=a.state.optionSelected;t.instructorUser=null,a.setState({optionSelected:t,instructorOptions:[]})}))}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.instructor;this.props.cropped_image!=e.cropped_image&&e.cropped_image?(console.log("CMS-componentWillReceiveProps",e),this.setState({isCropped:!0,instructor:Object(m.a)(Object(m.a)({},t),{},{img:e.cropped_image,postFile:e.cropped_file})})):this.setState({instructor:Object(m.a)(Object(m.a)({},t),{},{img:e.cropped_image,postFile:e.cropped_file})})}},{key:"onCloseModel",value:function(){}},{key:"removeTag",value:function(e,t){var a=this;console.log("removeTags",e),console.log("type",t);var o={type:t,tag:e};this.props.removeTag(o).then((function(o){if(o.status){var s=a.state.optionSelected,n=Eo.a.filter(s[t],(function(t){return t.value!=e}));s[t]=n,a.setState({optionSelected:s});var r=a;switch(t){case"condition":s=Eo.a.filter(r.state.conditionOptions,(function(t){return t.value!=e}));r.setState({conditionOptions:s});break;case"discipline":s=Eo.a.filter(r.state.disciplineOptions,(function(t){return t.value!=e}));r.setState({disciplineOptions:s})}}}),(function(e){}))}},{key:"handleChange",value:function(e){console.log("handleChange",e.target);var t=e.target,a=t.name,o=t.value,s=this.state.instructor;switch(a){case"twitterLink":this.setState({twitterLinkError:!1});break;case"facebookLink":this.setState({facebookLinkError:!1});break;case"linkedinLink":this.setState({linkedinLinkError:!1});break;case"instagramLink":this.setState({instagramLinkError:!1});break;case"webLink":this.setState({webLinkError:!1});break;case"tiktokLink":this.setState({tiktokLinkError:!1})}this.setState({videoLengthError:!1,videoUrlError:!1,instructor:Object(m.a)(Object(m.a)({},s),{},Object(rs.a)({},a,o))})}},{key:"handleMultiSelectChange",value:function(e,t){var a=this.state.optionSelected;console.log("handleMultiSelectChange",e),a[t]=e||[],this.setState({optionSelected:a})}},{key:"handleBeamUserChange",value:function(e,t){var a=this.state.optionSelected;a[t]=e,this.setState({optionSelected:a})}},{key:"loadOptions",value:function(e,t){var a=this;if(""!=e){var o=this.props.instructor_detail?this.props.instructor_detail.id:"",s=Eo.a.map(this.state.optionSelected.condition,"value");this.props.getBeamUser(o,s,e).then((function(e){e&&(a.setState({userOptions:e.data.users}),t(a.state.userOptions))}),(function(e){}))}else console.log("LoadoptionsElse",this.state.userOptions),t(this.state.userOptions)}},{key:"handleCheckboxChange",value:function(e){var t=e.target,a=t.name;t.value;if("hasProfile"==a){var o=this.state.instructor.hasProfile;console.log("hasProfile",o);var s=this.state.instructor;this.setState({instructor:Object(m.a)(Object(m.a)({},s),{},{hasProfile:!o})})}else{var n=this.state.instructor.isLive;console.log("isLive",n);var r=this.state.instructor;this.setState({instructor:Object(m.a)(Object(m.a)({},r),{},{isLive:!n})})}}},{key:"clearState",value:function(){this.setState({submitted:!1,loading:!1})}},{key:"closeModel",value:function(){this.clearState(),this.props.ondemandCMSModelOpen(!1)}},{key:"onSubmit",value:function(){var e=this;console.log("onSubmit",this.state),this.setState({submitted:!0});var t=this.state,a=t.optionSelected,o=t.instructor;if(console.log("optionSelected-before",a.condition.length),0!=a.userid.length&&0!=a.condition.length)if(o.twitterLink&&_o.checkSocialUrl(o.twitterLink,"twitter"))this.setState({twitterLinkError:_o.checkSocialUrl(o.twitterLink,"twitter")});else if(o.facebookLink&&_o.checkSocialUrl(o.facebookLink,"facebook"))this.setState({facebookLinkError:_o.checkSocialUrl(o.facebookLink,"facebook")});else if(o.linkedinLink&&_o.checkSocialUrl(o.linkedinLink,"linkedin"))this.setState({linkedinLinkError:_o.checkSocialUrl(o.linkedinLink,"linkedin")});else if(o.instagramLink&&_o.checkSocialUrl(o.instagramLink,"instagram"))this.setState({instagramLinkError:_o.checkSocialUrl(o.instagramLink,"instagram")});else if(o.webLink&&_o.checkSocialUrl(o.webLink,"web"))this.setState({webLinkError:_o.checkSocialUrl(o.webLink,"web")});else if(o.tiktokLink&&_o.checkSocialUrl(o.tiktokLink,"tiktok"))this.setState({tiktokLinkError:_o.checkSocialUrl(o.tiktokLink,"tiktok")});else{this.setState({loading:!0}),console.log("this.state.optionSelected",this.state.optionSelected);var s,n=new FormData;if(n.append("title",this.state.instructor.title),n.append("bio",this.state.instructor.bio.toString("html").replace(/<a /g,'<a target="_blank" ')),n.append("speciality",this.state.instructor.speciality),n.append("facebookLink",this.state.instructor.facebookLink),n.append("twitterLink",this.state.instructor.twitterLink),n.append("instagramLink",this.state.instructor.instagramLink),n.append("linkedinLink",this.state.instructor.linkedinLink),n.append("tiktokLink",this.state.instructor.tiktokLink),n.append("webLink",this.state.instructor.webLink),n.append("feelGoodFormula",this.state.instructor.feelGoodFormula),n.append("qualifications",this.state.instructor.qualifications),n.append("location",this.state.instructor.location),n.append("hasProfile",this.state.instructor.hasProfile),n.append("UserId",JSON.stringify(this.state.optionSelected.userid.value)),n.append("condition",JSON.stringify(this.state.optionSelected.condition)),n.append("discipline",JSON.stringify(this.state.optionSelected.discipline)),n.append("videoImg",this.state.instructor.postFile),n.append("isLive",this.state.instructor.isLive),console.log("postData",this.state.instructor),this.state.instructorId){n.append("instructorId",this.state.instructorId);var r=h+"/api/instructors/edit/update"}else r=h+"/api/instructors/new/create";s=localStorage.getItem("userAuthToken")?JSON.parse(localStorage.getItem("userAuthToken")):JSON.parse(localStorage.getItem("user")),console.log("postData",this.state);var i={headers:{"content-type":"multipart/form-data",Authorization:s.token}};Ki.a.post(r,n,i).then((function(t){if(t){t.data.status?at.b.success(t.data.message):at.b.error(t.data.message),e.props.clearInstructorList();var a=_o.replaceChar(e.state.optionSelected.condition[0].label,!1);Go.Cookies.set("condition",a),window.location.href="/instructor/"+a}else e.setState({loading:!1}),e.closeModel()}),(function(t){e.setState({error:t,loading:!1})}))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.submitted,o=t.loading;return s.a.createElement(s.a.Fragment,null,this.state.imageModel&&s.a.createElement(Il,{crop:this.state.crop,aspectRatio:1,width:200,height:200,src:this.state.instructor.img,text:"Upload Class Thumbnail"}),s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_cms_model,onClose:this.onCloseModel,center:!0},s.a.createElement("div",{className:("false"!=Go.Cookies.get("closeBanner")||this.props.close_banner,"modal-dialog modal-width--custom cms-model instructor-cms m-t-80"),role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling"},s.a.createElement("h5",{className:"modal-title text-left col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"},"edit"==this.props.cms_model_type?"Modify ":"Add"," Instructor"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},s.a.createElement("div",{className:" avatar-upload col-md-12 clearfix p-0 m-t-20 m-b-20 text-center"},s.a.createElement("div",{className:"ondemand-preview mx-auto"},!this.state.instructor.img&&s.a.createElement("img",{className:"img-fluid rounded-circle",src:D+"instructor-placeholder.png"}),!this.state.isCropped&&this.state.instructor.img&&s.a.createElement("img",{className:"img-fluid rounded-circle",src:S+this.state.instructor.img,onError:function(e){return _o.checkImageCrop(e,"instructor-placeholder.png")}}),this.state.isCropped&&this.state.instructor.img&&s.a.createElement("img",{className:"img-fluid rounded-circle",src:this.state.instructor.img,onError:function(e){return _o.checkImageCrop(e,"instructor-placeholder.png")}})),s.a.createElement("a",{className:"font-book font-16 upload-btn color-blue",href:"javascript:void(0)",onClick:function(){document.getElementById("post_image").click()}},s.a.createElement("u",null,"Upload Headshot"),s.a.createElement("input",{type:"file",onChange:this.onImageChange,onClick:function(e){e.target.value=null},className:"filetype",style:{display:"none"},accept:"image/x-png,image/jpg,image/jpeg",id:"post_image"}))),s.a.createElement("div",{className:"form-group"+(a&&0==this.state.optionSelected.userid.length?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Beam User ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement(_l,{className:"select-container text-capitalize",placeholder:"Select User",closeMenuOnSelect:!1,hideSelectedOptions:!1,components:{Option:fd,MultiValue:Ed,ValueContainer:vd,animatedComponents:yd},onChange:this.handleBeamUserChange,allowSelectAll:!1,creatable:!1,isAsync:!0,value:this.state.optionSelected.userid,name:"userid",loadOptions:this.loadOptions,defaultOptions:this.state.userOptions}),a&&0==this.state.optionSelected.userid.length&&s.a.createElement("div",{className:"text-danger"},"Beam User is required")),!this.props.logged_userData.isStudyLeader&&s.a.createElement("div",{className:"form-group"+(!a||this.state.optionSelected.condition&&0!=this.state.optionSelected.condition.length?"":" has-error")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Condition(s) ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement(_l,{className:"select-container text-capitalize",options:this.state.conditionOptions,isMulti:!0,placeholder:"Select Condition",closeMenuOnSelect:!1,hideSelectedOptions:!1,components:{Option:fd,MultiValue:Ed,ValueContainer:vd,animatedComponents:yd},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"condition")},allowSelectAll:!0,creatable:!1,value:this.state.optionSelected.condition,name:"condition",removeTag:this.removeTag,isRemoveable:!0}),a&&0==this.state.optionSelected.condition.length&&s.a.createElement("div",{className:"text-danger"},"Condition is required")),!this.props.logged_userData.isStudyLeader&&s.a.createElement("div",{className:"col-md-12 text-center p-0 m-b-15"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4"},s.a.createElement("label",{className:"m-t-5 pull-left",htmlFor:"hasProfile"},s.a.createElement("input",{type:"checkbox",name:"hasProfile",id:"hasProfile",checked:this.state.instructor.hasProfile,onChange:this.handleCheckboxChange,value:this.state.instructor.hasProfile})),s.a.createElement("span",{className:"font-semibold black-txt"},"Full Instructor Profile")))),this.state.instructor.hasProfile&&!this.props.logged_userData.isStudyLeader&&s.a.createElement("div",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Title"),s.a.createElement("input",{type:"text",className:"form-control",id:"title","aria-describedby":"emailHelp",placeholder:"",name:"title",value:this.state.instructor.title,onChange:this.handleChange,maxLength:255}),this.state.instructor.title?s.a.createElement("div",{className:"pull-right font-13 twitter-color mt-1"},"Characters Left: ",255-this.state.instructor.title.length):null),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Health Area of Expertise"),s.a.createElement("input",{type:"text",className:"form-control",id:"speciality","aria-describedby":"emailHelp",placeholder:"",name:"speciality",value:this.state.instructor.speciality,onChange:this.handleChange,maxLength:255}),this.state.instructor.speciality?s.a.createElement("div",{className:"pull-right font-13 twitter-color mt-1"},"Characters Left: ",255-this.state.instructor.speciality.length):null),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Movement Area of Expertise"),s.a.createElement(_l,{className:"select-container text-capitalize",options:this.state.disciplineOptions,isMulti:!0,placeholder:"Select",closeMenuOnSelect:!1,hideSelectedOptions:!1,components:{Option:fd,MultiValue:Ed,ValueContainer:vd,animatedComponents:yd},onChange:this.handleMultiSelectChange,onCreateOption:function(t){return e.handleCreate(t,"discipline")},allowSelectAll:!1,creatable:!0,value:this.state.optionSelected.discipline,name:"discipline",removeTag:this.removeTag,isRemoveable:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Qualification"),s.a.createElement("input",{type:"text",className:"form-control",id:"qualifications","aria-describedby":"emailHelp",placeholder:"",name:"qualifications",value:this.state.instructor.qualifications,onChange:this.handleChange,maxLength:255}),this.state.instructor.qualifications?s.a.createElement("div",{className:"pull-right font-13 twitter-color mt-1"},"Characters Left: ",255-this.state.instructor.qualifications.length):null),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Feel Good Formula"),s.a.createElement("input",{type:"text",className:"form-control",id:"feelGoodFormula","aria-describedby":"emailHelp",placeholder:"",name:"feelGoodFormula",value:this.state.instructor.feelGoodFormula,onChange:this.handleChange,maxLength:255}),this.state.instructor.feelGoodFormula?s.a.createElement("div",{className:"pull-right font-13 twitter-color mt-1"},"Characters Left: ",255-this.state.instructor.feelGoodFormula.length):null),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Region"),s.a.createElement("input",{type:"text",className:"form-control",id:"location","aria-describedby":"emailHelp",placeholder:"",name:"location",value:this.state.instructor.location,onChange:this.handleChange,maxLength:255}),this.state.instructor.location?s.a.createElement("div",{className:"pull-right font-13 twitter-color mt-1"},"Characters Left: ",255-this.state.instructor.location.length):null),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"About"),s.a.createElement(Rl.a,{data:this.state.about,config:{toolbar:[["Bold","Italic"],["NumberedList","BulletedList"],["Link","Unlink"],["Image","Table"]],height:"300px",resize_enabled:!1,font_defaultLabel:"Qregular",fontSize_defaultLabel:"28px",contentsCss:"../../../ckeditor.css",stylesSet:[{element:"p",styles:{"font-family":"#(Qregular)"},overrides:[{element:"font",attributes:{face:null}}]}],font_style:[{element:"p",styles:{"font-family":"#(Qregular)"},overrides:[{element:"font",attributes:{face:null}}]}],font_names:"Qregular"},onChange:function(t){e.handleChangeTextEdit(t)},onBeforeLoad:function(e){return e.on("dialogDefinition",(function(e){"link"==e.data.name&&(e.data.definition.getContents("target").get("linkTargetType").default="_blank",e.data.definition.getContents("info").get("protocol").default="https://")}))}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Twitter URL"),s.a.createElement("input",{type:"text",className:"form-control",id:"twitterLink","aria-describedby":"emailHelp",placeholder:"",name:"twitterLink",value:this.state.instructor.twitterLink,onChange:this.handleChange}),a&&this.state.twitterLinkError&&s.a.createElement("div",{className:"text-danger"},"Url is not valid")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Instagram URL"),s.a.createElement("input",{type:"text",className:"form-control",id:"instagramLink","aria-describedby":"emailHelp",placeholder:"",name:"instagramLink",value:this.state.instructor.instagramLink,onChange:this.handleChange}),a&&this.state.instagramLinkError&&s.a.createElement("div",{className:"text-danger"},"Url is not valid")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Facebook URL"),s.a.createElement("input",{type:"text",className:"form-control",id:"facebookLink","aria-describedby":"emailHelp",placeholder:"",name:"facebookLink",value:this.state.instructor.facebookLink,onChange:this.handleChange}),a&&this.state.facebookLinkError&&s.a.createElement("div",{className:"text-danger"},"Url is not valid")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"LinkedIn URL"),s.a.createElement("input",{type:"text",className:"form-control",id:"linkedinLink","aria-describedby":"emailHelp",placeholder:"",name:"linkedinLink",value:this.state.instructor.linkedinLink,onChange:this.handleChange}),a&&this.state.linkedinLinkError&&s.a.createElement("div",{className:"text-danger"},"Url is not valid")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"TikTok URL"),s.a.createElement("input",{type:"text",className:"form-control",id:"tiktokLink","aria-describedby":"emailHelp",placeholder:"",name:"tiktokLink",value:this.state.instructor.tiktokLink,onChange:this.handleChange}),a&&this.state.tiktokLinkError&&s.a.createElement("div",{className:"text-danger"},"Url is not valid")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Website"),s.a.createElement("input",{type:"text",className:"form-control",id:"webLink","aria-describedby":"emailHelp",placeholder:"",name:"webLink",value:this.state.instructor.webLink,onChange:this.handleChange}),a&&this.state.webLinkError&&s.a.createElement("div",{className:"text-danger"},"Url is not valid"))),s.a.createElement("div",{className:"col-md-12 text-center p-0 m-b-15"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4"},this.state.instructor.hasProfile&&!this.props.logged_userData.isStudyLeader&&s.a.createElement("div",null,s.a.createElement("label",{className:"m-t-5 pull-left",htmlFor:"isLive"},s.a.createElement("input",{type:"checkbox",name:"isLive",id:"isLive",checked:this.state.instructor.isLive,onChange:this.handleCheckboxChange,value:this.state.instructor.isLive})),s.a.createElement("span",{className:"font-semibold black-txt"},"List this Instructor Profile"))),s.a.createElement("div",{className:"offset-4 col-md-4"},s.a.createElement("button",{disabled:o,onClick:this.onSubmit,className:" btn btn-block mybtn btn-login tx-tfm font-book font-14"},"Save Changes ")))))))))}}]),a}(s.a.Component),kd={getInstTags:Ma,getBeamUser:Da,ondemandCMSModelOpen:ha,createNewTag:ga,removeTag:fa,clearInstructorList:function(){return function(e,t){e({type:"clear_instructor_list"})}},imageCropOpenPopup:ba,getUserForStudyInstructor:function(e){return function(t,a){var o=tt();return fetch(h+"/api/instructors/getListForInstructors?conditionName="+e,o).then((function(e){return go(e,t)})).then((function(e){return e}))}}},Nd=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,is_model_open:e.header.is_loginModelOpen,init_condition:e.auth.initial_condition,all_condition:e.register.healthcondition_list,is_cms_model:e.workout.is_cms_model,cms_model_type:e.workout.cms_model_type,instructor_detail:e.instructor.instructor_detail,cropped_image:e.workout.cropped_image,cropped_file:e.workout.cropped_file,logged_userData:e.header.logged_userData}}),kd)(_d),wd=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={Loading:!0,instructorList:[],typeFilter:o.props.params.condition,show_more_cnt:12,sort_filter:"",search_data:"",offset:0,list_count:0,is_filter_open:!1,available_filter:{},selected_filter:{},filterNames:["discipline"]},o.reCallInstList=o.reCallInstList.bind(Object(is.a)(o)),o.getInstructorList=o.getInstructorList.bind(Object(is.a)(o)),o.incrementShowmoreCnt=o.incrementShowmoreCnt.bind(Object(is.a)(o)),o.sortByFunction=o.sortByFunction.bind(Object(is.a)(o)),o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.searchFucntion=o.searchFucntion.bind(Object(is.a)(o)),o.filterFunction=o.filterFunction.bind(Object(is.a)(o)),o.lastState=o.props.params.condition,o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.props.ondemandCMSModelOpen({open:!1}),this.getInstructorList()}},{key:"componentWillUnmount",value:function(){this.setState({Loading:!1,instructorList:[],typeFilter:this.props.params.condition,show_more_cnt:12,sort_filter:"",search_data:"",offset:0,list_count:0,is_filter_open:!1,available_filter:{},selected_filter:{}})}},{key:"componentWillReceiveProps",value:function(e){console.log("componentWillReceiveProps"),this.lastState!=e.params.condition&&(this.lastState=e.params.condition,this.setState({typeFilter:e.params.condition},(function(){this.reCallInstList()})))}},{key:"getInstructorDetails",value:function(e){var t=this;this.props.getInstructorDetails(e).then((function(e){t.props.ondemandCMSModelOpen({open:!0,type:"edit"})}),(function(e){console.log("err",e)}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(rs.a)({},a,o))}},{key:"sortByFunction",value:function(e){this.setState({sort_filter:e,instructorList:[],offset:0},(function(){this.getInstructorList()}))}},{key:"searchFucntion",value:function(){this.setState({instructorList:[],offset:0},(function(){this.getInstructorList()}))}},{key:"reCallInstList",value:function(){this.setState({instructorList:[],offset:0},(function(){this.getInstructorList()}))}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+12},(function(){this.getInstructorList()}))}},{key:"filterFunction",value:function(e,t){var a=Object(m.a)({},this.state.selected_filter);a[e]||(a[e]=[]);var o=a[e].indexOf(t);o>-1?a[e].splice(o,1):a[e].push(t),this.setState({instructorList:[],selected_filter:a,offset:0},(function(){this.getInstructorList()}))}},{key:"checkFilterEmpty",value:function(e){var t=e;return Object.keys(e).length>0&&e.constructor===Object&&e.discipline.length<=0&&(t={}),t}},{key:"getInstructorList",value:function(){this.setState({Loading:!0},(function(){var e=this,t={offset:this.state.offset,limit:12,sortby:this.state.sort_filter,keywords:this.state.search_data,filters:this.checkFilterEmpty(this.state.selected_filter)},a=_o.replaceChar(this.state.typeFilter,!0);this.props.getInstructorsList(t,a).then((function(t){if(t){var a=e.state.instructorList.concat(e.props.instructor_list);e.setState({Loading:!1,instructorList:a,list_count:t.count,available_filter:t.list.availableFilters?t.list.availableFilters:e.state.available_filter,selected_filter:t.list.selectedFilters?t.list.selectedFilters:e.state.selected_filter})}}),(function(t){e.setState({Loading:!1}),at.b.error(t)}))}))}},{key:"searchBarEnter",value:function(e){"Enter"===e.key&&this.searchFucntion()}},{key:"renderSelectedFilter",value:function(){var e=this,t=[];return this.state.filterNames.map((function(a,o){e.state.selected_filter&&e.state.selected_filter[a]&&e.state.selected_filter[a].length>0&&e.state.selected_filter[a].map((function(n,r){return t.push(s.a.createElement("div",{key:"filter_rm_"+r+o,onClick:function(){e.removeFilterItem(a,n)}},s.a.createElement("span",{className:"pointer"}," x  "),s.a.createElement("span",{className:"capitalize_text pointer"},n)))}))})),t}},{key:"removeFilterItem",value:function(e,t){this.filterFunction(e,t)}},{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;return s.a.createElement("div",{className:""},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Instructors - ",this.props.params.condition,ye),s.a.createElement("meta",{property:"og:title",content:"Instructors - "+this.props.params.condition+ye}),s.a.createElement("meta",{property:"og:description",content:"All classes on Beam are led by specialist instructors who are trained in your health condition or live with the condition themselves."}),s.a.createElement("meta",{property:"og:image",content:Oe}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Characters exercising in hospital room with instructor"})),s.a.createElement(Hc,{condition:this.props.params.condition}),s.a.createElement("div",{className:"container-fluid mx-auto w-95 p-0"},s.a.createElement("div",{className:"filter-section col-md-12 m-t-10 m-b-10"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-2 col-sm-2"}),s.a.createElement("div",{className:"col-md-8 col-sm-8 col-sm-12 col-12 m-t-20"},s.a.createElement("div",{className:"input-group mx-auto w-75 search-btn"},s.a.createElement("input",{type:"text",className:"form-control font-14 font-qregular",placeholder:"Which instructor are you looking for?",name:"search_data",value:this.state.search_data,onChange:this.handleChange,onKeyUp:this.searchBarEnter.bind(this)}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{disabled:this.state.Loading,className:"btn btn-secondary font-medium font-14",type:"button",onClick:this.searchFucntion},"Search")))),s.a.createElement("div",{className:"col-md-2 col-sm-2 text-right d-none"},!this.state.is_filter_open&&s.a.createElement("span",{className:"btn btn-purple-inverse filter-btn font-book font-14  pointer",onClick:function(){return e.setState({is_filter_open:!0})}},"Filter"),this.state.is_filter_open&&s.a.createElement("span",{className:"btn btn-purple close-btn font-book font-14 pointer",onClick:function(){return e.setState({is_filter_open:!1})}},"Close")),this.state.selected_filter&&this.state.filterNames&&!this.state.is_filter_open&&s.a.createElement("div",{className:"font-14 orangefont filter-select w-100 m-t-20 font-book text-center"},this.renderSelectedFilter()),this.state.is_filter_open&&s.a.createElement("div",{className:"col-md-12 filter_grid m-t-50 "},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4 p-l-0 m-b-10"},s.a.createElement("div",{className:"filter_head  black-txt small-txt"},"Discipline"),this.state.available_filter.discipline.map((function(t,a){return s.a.createElement("span",{key:"discipline_"+a,className:"font-medium black-txt extra-small-txt pointer clearfix",onClick:function(){return e.filterFunction("discipline",t)}},s.a.createElement("p",{className:e.state.selected_filter.discipline&&e.state.selected_filter.discipline.includes(t)?"orangefont":""},t))}))))))))),s.a.createElement("div",{className:"col-md-12 m-b-20"},s.a.createElement("div",{className:"row"},this.props.is_auth&&this.props.is_create_mode&&!t.isStudyLeader&&s.a.createElement("div",{className:"col-md-6 col-lg-4 p-l-0 m-b-30"},s.a.createElement("div",{class:"instruct-card-design"},s.a.createElement("div",{class:"col-md-12"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"instructor-photo col-md-3 p-0"},s.a.createElement("img",{class:"rounded-circle img-fluid",src:D+"instructor-placeholder.png"})),s.a.createElement("div",{class:"instructor-content col-md-9 p-r-0"},s.a.createElement("div",{class:"blog-top clearfix"},s.a.createElement("p",{class:"font-semibold  font-18 m-b-0"},"New Beam Instructor"),s.a.createElement("p",{class:"font-qmedium border-bottom silver-txt font-16 m-b-0"},"Title"),s.a.createElement("div",{class:"condition_status"}))))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-12 instruct_details"},s.a.createElement("div",{className:"col-12 float-left m-b-10 p-0 font-medium"},s.a.createElement("p",{className:"float-left font-14 black-txt font-qregular m-t-20"},"Click the plus sign to create a new Beam Instructor profile! You will need...")),s.a.createElement("div",{className:"col-11 float-left p-0"},s.a.createElement("ul",{className:"black-txt col-md-12 col-sm-12 display-grid"},s.a.createElement("li",null,s.a.createElement("span",{className:"font-14 font-qregular float-left"},"Beam Class Instructor Profile Google Form Response")),s.a.createElement("li",null,s.a.createElement("span",{className:"font-14 font-qregular float-left"},"Instructor Headshot")))),this.props.is_auth&&this.props.is_create_mode&&s.a.createElement("div",{className:"col-1 float-left p-0 pl-2 top-30 pointer",onClick:function(){e.props.ondemandCMSModelOpen({open:!0,type:"add"}),e.props.clearInstructorDetail()}},s.a.createElement("img",{src:D+"add-plus.png"})))))),this.state.instructorList.map((function(t){return s.a.createElement("div",{className:"col-md-6 col-lg-4 p-l-0 m-b-30",key:t.id},s.a.createElement("div",{className:"instruct-card-design"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"instructor-photo col-md-3 p-0"},t.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+t.id+"/"+e.props.params.condition},s.a.createElement(hn,{className:"rounded-circle img-fluid",src:S+t.img,thumb:D+"instructor-placeholder.png"})),!t.hasProfile&&s.a.createElement(hn,{className:"rounded-circle img-fluid",src:t.img?S+t.img:D+"no-image.png"})),s.a.createElement("div",{className:"instructor-content col-md-9 p-r-0"},s.a.createElement("div",{className:"blog-top clearfix"},t.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+t.id+"/"+e.props.params.condition},s.a.createElement("p",{className:"font-semibold  font-18 m-b-0"},t.User?t.User.name+" "+t.User.lastName:"")),!t.hasProfile&&s.a.createElement("p",{className:"font-semibold  font-18 m-b-0"},t.User?t.User.name+" "+t.User.lastName:""),s.a.createElement("p",{className:"font-qmedium border-bottom silver-txt font-16 m-b-0"},t.title?t.title:""),s.a.createElement("div",{className:"condition_status"}))))),s.a.createElement("div",{className:"col-md-12 instruct_details"},s.a.createElement("div",{className:"row"},s.a.createElement("p",{className:"list font-qregular  font-14 m-t-20",dangerouslySetInnerHTML:{__html:t.bio.length>175?t.bio.substring(0,175)+"...":t.bio}}),!e.props.logged_userData.isStudyLeader&&!e.props.logged_userData.isGroupLeader&&!!e.props.logged_userData.isStudyInstructor&&s.a.createElement("div",{className:"col-11 float-left p-0"},t.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+t.id+"/"+e.props.params.condition,className:"orangefont read-btn font-qregular font-14"},s.a.createElement("u",null,"Read more"))))),e.props.is_auth&&e.props.is_create_mode&&s.a.createElement("div",{className:"col-12 p-0 pl-2 pointer p-b-10",onClick:function(){e.getInstructorDetails(t.id)}},s.a.createElement("img",{src:D+"edit-pencil.png",className:"pull-right"}))))})),0===this.state.instructorList.length&&s.a.createElement("div",{className:"text-center w-100"},this.state.Loading?s.a.createElement("i",{className:"fa fa-spinner fa-spin fa-2x text-info","aria-hidden":"true"}):"There is no Instructors"),this.state.instructorList.length>0&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center clearfix m-t-40 m-b-40"},this.state.instructorList.length<this.state.list_count&&s.a.createElement("button",{disabled:this.state.instructorList.length>=this.state.list_count,className:"button-lightblue font-14 font-book",onClick:this.incrementShowmoreCnt},"Show more instructors")),this.props.is_cms_model&&s.a.createElement(Nd,{getList:this.reCallInstList})))))}}]),a}(s.a.Component),Cd={getInstructorsList:La,start_loader:ht,stop_loader:gt,ondemandCMSModelOpen:ha,getInstructorDetails:Oa,clearInstructorDetail:function(){return function(e,t){e({type:"clear_instructor_detail"})}}},xd=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,instructor_list:e.instructor.instructor_list,is_create_mode:e.header.is_create_mode,is_cms_model:e.workout.is_cms_model,logged_userData:e.header.logged_userData}}),Cd)(wd),Sd=a(384),Od=(a(2225),function(e){return s.a.createElement("div",null,s.a.createElement("div",{className:0==e.data.tagCount&&e.selectProps.isRemoveable?"pull-left optionWidth":"pull-left w-100"},s.a.createElement(wl.f.Option,e,s.a.createElement("input",{type:"checkbox",checked:e.isSelected,onChange:function(){return null}})," ",s.a.createElement("label",null,e.label," ","*"!=e.value&&e.selectProps.isRemoveable&&s.a.createElement("span",{className:"black-txt font-semibold"},"(",e.data.tagCount,")")))),0===e.data.tagCount&&s.a.createElement("button",{onClick:function(){return e.selectProps.removeTag(e.value,e.selectProps.name)},className:"btn pull-right orangefont removeTagBtn"},"X"))}),Ld="*",Dd=function(e){var t=e.children,a=Object(Yo.a)(e,["children"]),o=t;return a.getValue().some((function(e){return e.value===Ld}))&&(o=[[t[0][0]],t[1]]),s.a.createElement(wl.f.ValueContainer,a,o)},Md=function(e){var t="".concat(e.data.label);return e.data.value===Ld&&(t="All is selected"),s.a.createElement(wl.f.MultiValue,e,s.a.createElement("span",null,t))},Id=Object(Cl.a)(),jd=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).createOption=function(e){return{label:e,value:e.toLowerCase().replace(/\W/g,"")}},o.onImageChange=function(e){if(e.target.files&&e.target.files[0]){o.setState({imageModel:!0}),o.props.imageCropOpenPopup(!0);var t=URL.createObjectURL(e.target.files[0]),a=o.state.group;o.setState({group:Object(m.a)(Object(m.a)({},a),{},{postFile:e.target.files[0],img:t})})}},o.handleChangeDate=function(e){console.log("handleChangeDate"+e);var t=o.state.group;o.setState({group:Object(m.a)(Object(m.a)({},t),{},{endDate:e})})},o.state={editorValue:Nl.a.createEmptyValue(),submitted:!1,loading:!1,isCropped:!1,error:"",group:{community_name:"",isLive:1,type:null},conditionOptions:[],userOptions:[],optionSelected:{userid:[],condition:[]},videoUrlError:!1,crop:{unit:"px",x:0,y:0,width:200,height:200,aspect:1,disabled:!0,locked:!0},groupId:""},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.handleMultiSelectChange=o.handleMultiSelectChange.bind(Object(is.a)(o)),o.handleBeamUserChange=o.handleBeamUserChange.bind(Object(is.a)(o)),o.onSubmit=o.onSubmit.bind(Object(is.a)(o)),o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.clearState=o.clearState.bind(Object(is.a)(o)),o.onCloseModel=o.onCloseModel.bind(Object(is.a)(o)),o.loadOptions=o.loadOptions.bind(Object(is.a)(o)),o.removeTag=o.removeTag.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.group_about_details;console.log("cmsdidmount-groups.endDate",t.endDate),t.endDate=t.endDate&&"0000-00-00"!=t.endDate?bo()(bo()(t.endDate).utcOffset("").format("YYYY-MM-DD")).toDate():null,console.log("cmsdidmount-groups.endDate-after",t.endDate);var a=this.props.group_about_details?this.props.group_about_details.id:"";this.props.group_about_details&&this.props.group_about_details.UserId;this.setState({group:t,groupId:a}),this.props.getGroupLeader(_o.replaceChar(Go.Cookies.get("condition"),!0),"").then((function(o){if(o){if(a){o.data.editUser;var s=e.state.optionSelected;s.userid={label:t.User.name+" "+t.User.lastName,value:t.OwnerId},e.setState({optionSelected:s})}e.setState({userOptions:o.data.users})}}),(function(e){})),this.props.getInstTags("condition","").then((function(t){if(t){if(t.data.editTags.length>0){var a=t.data.editTags,o=e.state.optionSelected;a.forEach((function(e){o.condition=e.Tag})),e.setState({optionSelected:o})}o=e.state.optionSelected;var s=Eo.a.filter(t.data.tags,(function(e){return e.label===_o.replaceChar(Go.Cookies.get("condition"),!0)}));o.condition=s,e.setState({optionSelected:o}),e.setState({conditionOptions:t.data.tags})}}),(function(e){}))}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.group;this.props.cropped_image!=e.cropped_image&&e.cropped_image?(console.log("CMS-componentWillReceiveProps",e),this.setState({isCropped:!0,group:Object(m.a)(Object(m.a)({},t),{},{img:e.cropped_image,postFile:e.cropped_file})})):this.setState({group:Object(m.a)(Object(m.a)({},t),{},{img:e.cropped_image,postFile:e.cropped_file})})}},{key:"onCloseModel",value:function(){}},{key:"removeTag",value:function(e,t){var a=this;console.log("removeTags",e),console.log("type",t);var o={type:t,tag:e};this.props.removeTag(o).then((function(o){if(o.status){var s=a.state.optionSelected,n=Eo.a.filter(s[t],(function(t){return t.value!=e}));s[t]=n,a.setState({optionSelected:s});var r=a;switch(t){case"condition":s=Eo.a.filter(r.state.conditionOptions,(function(t){return t.value!=e}));r.setState({conditionOptions:s});break;case"discipline":s=Eo.a.filter(r.state.disciplineOptions,(function(t){return t.value!=e}));r.setState({disciplineOptions:s})}}}),(function(e){}))}},{key:"handleChange",value:function(e){console.log("handleChange",e.target);var t=e.target,a=t.name,o=t.value,s=this.state.group;switch(a){case"twitterLink":this.setState({twitterLinkError:!1});break;case"facebookLink":this.setState({facebookLinkError:!1});break;case"linkedinLink":this.setState({linkedinLinkError:!1});break;case"instagramLink":this.setState({instagramLinkError:!1});break;case"webLink":this.setState({webLinkError:!1});break;case"tiktokLink":this.setState({tiktokLinkError:!1})}this.setState({videoLengthError:!1,videoUrlError:!1,group:Object(m.a)(Object(m.a)({},s),{},Object(rs.a)({},a,o))})}},{key:"handleMultiSelectChange",value:function(e,t){var a=this.state.optionSelected;console.log("handleMultiSelectChange",e),a[t]=e||[],this.setState({optionSelected:a})}},{key:"handleBeamUserChange",value:function(e,t){var a=this.state.optionSelected;a[t]=e,this.setState({optionSelected:a})}},{key:"loadOptions",value:function(e,t){var a=this;""!=e?this.props.getGroupLeader(_o.replaceChar(Go.Cookies.get("condition"),!0),e).then((function(e){e&&(a.setState({userOptions:e.data.users}),t(a.state.userOptions))}),(function(e){})):(console.log("LoadoptionsElse",this.state.userOptions),t(this.state.userOptions))}},{key:"clearState",value:function(){this.setState({submitted:!1,loading:!1})}},{key:"closeModel",value:function(){this.clearState(),this.props.groupCMSOpen(!1)}},{key:"onSubmit",value:function(){var e=this;console.log("onSubmit",this.state);var t=_o.replaceChar(Go.Cookies.get("condition"),!0),a=t.substring(t.lastIndexOf(" ")+1).toLowerCase();a=a.charAt(0).toUpperCase()+a.slice(1)+"_Group_Banner.png",console.log("banner_img",a),this.setState({submitted:!0});var o=this.state,s=o.optionSelected,n=o.group;if(console.log("optionSelected-before",s.condition.length),n.community_name&&0!=s.userid.length&&0!=s.condition.length){this.setState({loading:!0});var r=bo()(this.state.group.endDate).format("YYYY-MM-DD"),i={community_name:this.state.group.community_name,UserId:JSON.stringify(this.state.optionSelected.userid.value),condition:JSON.stringify(this.state.optionSelected.condition[0].value),banner_img:a,endDate:r};this.state.groupId&&(i.id=this.state.groupId),console.log("this.state.params",i),this.props.createGroup(i).then((function(t){if(t){var a=t;console.log("response",a),a.status?at.b.success(t.message):at.b.error(t.message);var o=_o.replaceChar(e.state.optionSelected.condition[0].label,!1);Go.Cookies.set("condition",o),window.location.href="/groups/"+o,e.closeModel()}else e.setState({loading:!1}),e.closeModel()}),(function(t){at.b.error(t),e.setState({error:t,loading:!1})}))}}},{key:"render",value:function(){console.log("this.state.group",this.state.group);var e=function(e){var t=e.value,a=e.onClick;return console.log("value==>",t),t=t?bo()(t).format("dddd DD MMMM"):null,console.log("ExampleCustomInput",t),s.a.createElement("div",null,s.a.createElement("input",{className:"form-control popup-txt float-left w-90",value:t,type:"text",name:"endDate",onClick:a}),s.a.createElement("span",{className:"float-right"},s.a.createElement("i",{onClick:a,"aria-hidden":"true",className:"fa fa-calendar"})))},t=this.state,a=t.submitted,o=t.loading;return s.a.createElement(s.a.Fragment,null,this.state.imageModel&&s.a.createElement(Il,{crop:this.state.crop,aspectRatio:1,width:200,height:200,src:this.state.group.img,text:"Upload Class Thumbnail"}),s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_group_cms_open,onClose:this.onCloseModel,center:!0},s.a.createElement("div",{className:("false"!=Go.Cookies.get("closeBanner")||this.props.close_banner,"modal-dialog modal-width--custom cms-model instructor-cms m-t-80"),role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling"},s.a.createElement("h5",{className:"modal-title text-left col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"},this.state.groupId?"Modify ":"Add"," Group"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},s.a.createElement("div",{className:"form-group"+(a&&!this.state.group.community_name?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt text-width"},"Group Name ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement("input",{type:"text",className:"form-control",id:"title","aria-describedby":"emailHelp",placeholder:"",name:"community_name",value:this.state.group.community_name,onChange:this.handleChange,maxLength:255}),this.state.group.title?s.a.createElement("div",{className:"pull-right font-13 twitter-color mt-1"},"Characters Left: ",255-this.state.group.community_name.length):null,a&&!this.state.group.community_name&&s.a.createElement("div",{className:"text-danger"},"This is required")),s.a.createElement("div",{className:"form-group"+(a&&0==this.state.optionSelected.userid.length?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Select Group Leader ",s.a.createElement("span",{className:"orangefont"},"*")),s.a.createElement(_l,{className:"select-container text-capitalize",placeholder:"",closeMenuOnSelect:!0,hideSelectedOptions:!1,components:{Option:Od,MultiValue:Md,ValueContainer:Dd,animatedComponents:Id},onChange:this.handleBeamUserChange,allowSelectAll:!1,creatable:!1,isAsync:!0,value:this.state.optionSelected.userid,name:"userid",loadOptions:this.loadOptions,defaultOptions:this.state.userOptions}),a&&0==this.state.optionSelected.userid.length&&s.a.createElement("div",{className:"text-danger"},"This is required")),Go.Cookies.get("condition").toLowerCase().includes("research")&&s.a.createElement("div",{className:"form-group m-b-0 "+(a&&0==this.state.optionSelected.userid.length?" has-error":"")},s.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"font-semibold black-txt"},"Intervention End Date")),Go.Cookies.get("condition").toLowerCase().includes("research")&&s.a.createElement("div",{className:"form-group"},s.a.createElement(Pl.a,{selected:this.state.group.endDate,onChange:this.handleChangeDate,customInput:s.a.createElement(e,{value:this.state.endDate})})),s.a.createElement("div",{className:"col-md-12 text-center p-0 m-b-15"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"offset-8 col-md-4"},s.a.createElement("button",{disabled:o,onClick:this.onSubmit,className:" btn btn-block mybtn btn-login tx-tfm font-book font-14"},"Save Changes ")))))))))}}]),a}(s.a.Component),Td={getInstTags:Ma,getBeamUser:Da,groupCMSOpen:Xa,createNewTag:ga,removeTag:fa,imageCropOpenPopup:ba,getGroupLeader:function(e,t){return function(a,o){var s=tt();return fetch(h+"/api/groups/leaderlist/"+e+"?name="+t,s).then((function(e){return go(e,a)})).then((function(e){return e}))}},createGroup:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/groups/new/create",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}},Fd=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,is_model_open:e.header.is_loginModelOpen,init_condition:e.auth.initial_condition,all_condition:e.register.healthcondition_list,is_cms_model:e.workout.is_cms_model,cms_model_type:e.workout.cms_model_type,group_detail:e.group.group_detail,cropped_image:e.workout.cropped_image,cropped_file:e.workout.cropped_file,is_group_cms_open:e.group.is_group_cms_open,group_about_details:e.group.group_about_details}}),Td)(jd),Pd=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={Loading:!0,groupList:[],groupPermissionList:[],show_more_cnt:12,list_count:0,total_count:0,search_key:"",offset:0,isFullRecord:0,groupsLimit:{mygroup:{limit:3,offset:0,countNext:1,isFullRecord:0},allgroup:{limit:3,offset:0,countNext:1,isFullRecord:0}},aboutGroup:{}},o.countNext=1,o.getGroupList=o.getGroupList.bind(Object(is.a)(o)),o.incrementShowmoreCnt=o.incrementShowmoreCnt.bind(Object(is.a)(o)),o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.searchFucntion=o.searchFucntion.bind(Object(is.a)(o)),o.joingroup=o.joingroup.bind(Object(is.a)(o)),o.joinrequest=o.joinrequest.bind(Object(is.a)(o)),o.submitRequest=o.submitRequest.bind(Object(is.a)(o)),o.gotoGroupDetailPage=o.gotoGroupDetailPage.bind(Object(is.a)(o)),o.returnInGroup=o.returnInGroup.bind(Object(is.a)(o)),o.reCallGroupList=o.reCallGroupList.bind(Object(is.a)(o)),o.showMore=o.showMore.bind(Object(is.a)(o)),o.showMoreIncrement=o.showMoreIncrement.bind(Object(is.a)(o)),o.checkUserIsMember=o.checkUserIsMember.bind(Object(is.a)(o)),o.renderCreateGroupTemp=o.renderCreateGroupTemp.bind(Object(is.a)(o)),o.editGroup=o.editGroup.bind(Object(is.a)(o)),o.lastState=o.props.params.condition,o}return Object(Wo.a)(a,[{key:"componentWillMount",value:function(){this.getGroupList(),this.props.joinModelOpen(!1)}},{key:"componentWillReceiveProps",value:function(e){console.log("componentWillReceiveProps"),this.lastState!=e.params.condition&&(this.lastState=e.params.condition,this.setState({typeFilter:e.params.condition},(function(){this.reCallGroupList()})))}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+this.state.show_more_cnt},(function(){this.getGroupList()}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(rs.a)({},a,o))}},{key:"searchFucntion",value:function(){this.setState({offset:0,groupList:[],groupPermissionList:[],total_count:0},(function(){this.getGroupList()}))}},{key:"getGroupList",value:function(){var e=this;this.setState({Loading:!0});var t={offset:this.state.offset,limit:3,search:this.state.search_key},a=_o.replaceChar(this.props.params.condition,!0);this.props.ondemandGroupList(t,a).then((function(t){if(e.setState({Loading:!1}),t){var a=t.groups?t.groups:[];console.log("list_data",a);var o=e.state.groupsLimit;Object.keys(a.instructorGroups).map((function(e,t){o[e]={limit:3,offset:0,countNext:1,isFullRecord:0}})),e.setState({groupList:a,groupsLimit:o})}}),(function(t){e.setState({Loading:!1})}))}},{key:"returnInGroup",value:function(e){var t=!1,a=this.state.groupPermissionList.filter((function(t){return t.id===parseInt(e)})).map((function(e,t){return e.isMember}));return a.length>0&&(t=a[0]),t}},{key:"submitRequest",value:function(e){this.props.is_auth?"closed"===e.type?this.props.joinModelOpen(!0,e):this.joingroup(e):this.props.loginModelOpen(!0)}},{key:"joingroup",value:function(e){this.props.is_auth?this.setState({Loading:!0},(function(){var t=this;this.props.joingroup(e.id).then((function(a){t.setState({Loading:!1}),at.b.success(a.message);var o={from:{pathname:"/group/about/"+e.community_name+"/"+t.props.params.condition}}.from;t.props.history.push(o)}),(function(e){t.setState({Loading:!1}),at.b.error(e)}))})):this.props.loginModelOpen(!0)}},{key:"reCallGroupList",value:function(){this.setState({offset:0,groupList:[],groupPermissionList:[]}),this.getGroupList()}},{key:"joinrequest",value:function(e){this.props.is_auth?this.setState({Loading:!0},(function(){var t=this;this.props.joinrequest(e.id).then((function(e){t.setState({offset:0,groupList:[],groupPermissionList:[],Loading:!1},(function(){this.getGroupList()})),at.b.success(e.message)}),(function(e){t.setState({Loading:!1}),at.b.error(e)}))})):this.props.loginModelOpen(!0)}},{key:"gotoGroupDetailPage",value:function(e){var t="about";this.props.params.condition.toLowerCase().includes("research")&&(t="feed");var a={from:{pathname:"/group/"+t+"/"+e.community_name+"/"+this.props.params.condition}}.from;this.props.history.push(a)}},{key:"searchBarEnter",value:function(e){"Enter"===e.key&&this.searchFucntion()}},{key:"showMoreDecrement",value:function(){var e=this.state.groupsLimit;e.mygroup.countNext=e.mygroup.countNext-1,this.setState({groupsLimit:e}),console.log("showMoreDecrement",e.mygroup.countNext)}},{key:"showMoreIncrement",value:function(){var e=this.state.groupsLimit;e.mygroup.countNext=e.mygroup.countNext+1,this.setState({groupsLimit:e}),console.log("showmoreIncrement",e.mygroup.countNext),e.mygroup.countNext==this.state.groupList.myGroups.total-1&&this.showMore("mygroup","")}},{key:"showMore",value:function(e,t){var a=Object(m.a)({},this.state.groupList),o=this.state.offset+3,s=this.state.isFullRecord,n={type:e,groupType:t,offset:o,limit:3,isFullRecord:s},r=_o.replaceChar(this.props.params.condition,!0),i=this,l=Object(m.a)({},this.state.groupsLimit);if(console.log("groupsTempLimit",l),t){o=l[t].offset+3,s=l[t].isFullRecord+a.instructorGroups[t].total;n.offset=o,l[t].offset=o,n.isFullRecord=s,l[t].isFullRecord=s,n.limit=3}else{o=l[e].offset+3,s=l[e].isFullRecord+a.myGroups.total;n.offset=o,n.limit=3,n.isFullRecord="allgroup"==e?0:s,l[e].offset=o,l[e].isFullRecord=s}this.setState({groupsLimit:l}),this.props.showMoreGroups(n,r).then((function(a){var o=a.data;if(console.log("response_data",o),"mygroup"==e)o.groups.community.length>0&&((s=Object(m.a)({},i.state.groupList)).myGroups.community=[].concat(Object(Lo.a)(s.myGroups.community),Object(Lo.a)(o.groups.community)),i.setState({groupList:s}));else if("additional"==e){if(o.groups.community.length>0)(s=Object(m.a)({},i.state.groupList)).instructorGroups[t].community=[].concat(Object(Lo.a)(s.instructorGroups[t].community),Object(Lo.a)(o.groups.community)),i.setState({groupList:s})}else if("allgroup"==e){var s;if(o.groups.community.length>0)(s=Object(m.a)({},i.state.groupList)).allgroups.community=[].concat(Object(Lo.a)(s.allgroups.community),Object(Lo.a)(o.groups.community)),i.setState({groupList:s})}}))}},{key:"checkUserIsMember",value:function(e){var t=this;if(this.props.is_auth&&this.props.logged_userData&&this.props.logged_userData.id){var a=Object(Lo.a)(e.Members).findIndex((function(e){return e.UserId===t.props.logged_userData.id}));return console.log("findUser",a),-1!=a}}},{key:"editGroup",value:function(e){var t=this,a={group:e};this.props.clearAboutDetails(),this.props.fetchAboutGroup(a).then((function(e){e&&t.props.groupCMSOpen(!0)}),(function(e){t.setState({Loading:!1})}))}},{key:"renderMyGroups",value:function(){var e=this;return s.a.createElement("div",{className:""},this.state.groupList.myGroups&&!this.props.logged_userData.isStudyLeader&&!this.props.logged_userData.isGroupLeader&&!this.props.logged_userData.isStudyInstructor&&!this.props.logged_userData.isStudyUser&&s.a.createElement("h3",{className:"font-book font-24 purplefont p-b-20 row"},"My Groups"),s.a.createElement("div",{className:""},s.a.createElement("div",{className:"web-view row"},this.state.groupList.myGroups&&this.state.groupList.myGroups.community.length>0&&this.state.groupList.myGroups&&this.state.groupList.myGroups.community.map((function(t,a){return s.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4 p-l-0 m-b-20",key:a},s.a.createElement("div",{className:"card-design"},s.a.createElement("div",{className:"blog-photo"},s.a.createElement(hn,{className:"img-fluid",src:t.banner_img?L+t.banner_img:D+"orangeblock.png"})),s.a.createElement("div",{className:"row p-l-10 p-r-10 p-t-10"},s.a.createElement("div",{className:"col-6 h-3"},s.a.createElement("h5",{className:"float-left font-book font-15 blog_head"},s.a.createElement(Qo.b,{to:"/group/"+(e.props.params.condition.toLowerCase().includes("research")?"feed/":"about/")+t.community_name+"/"+e.props.params.condition},t.community_name))),s.a.createElement("div",{className:"col-6"},s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:function(){return e.gotoGroupDetailPage(t)},className:"w-100 btn float-right dblog_btn font-14 button-lightblue position-relative"},"Member"," "," ","closed"===t.type&&s.a.createElement("i",{className:"fa fa-lock last-lock"}))),e.props.is_auth&&e.props.is_create_mode&&s.a.createElement("div",{className:"col-1 float-right top-30 p-r-40 pointer",onClick:function(){e.editGroup(t.community_name)}},s.a.createElement("img",{src:D+"edit-pencil.png"})))),s.a.createElement("div",{className:"row m-l-10 p-t-10 p-b-10"},s.a.createElement("img",{className:"img-fluid rounded-circle",src:t.User.profilePic?O+t.User.profilePic:D+"no-profile-pic.png",onError:function(e){return _o.imageError(e,"no-profile-pic.png")}}),s.a.createElement("span",{className:"font-book font-14 m-l-10 m-t-10 light-grey"},t.User?t.User.name+" "+t.User.lastName:""))))})),(this.state.groupList.myGroups&&this.state.groupList.myGroups.community.length>0&&this.state.groupList.myGroups.community.length<this.state.groupList.myGroups.total||this.props.is_creatorP)&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center clearfix m-t-40 m-b-40"},s.a.createElement("button",{onClick:function(){e.showMore("mygroup","")},className:"btn btn-orange m-t-40 m-b-40 font-book"},"Show All Groups"))),s.a.createElement("div",{className:"mobile-view"},s.a.createElement("div",{class:"carousel-wrapper"},s.a.createElement(Sd.Carousel,{showArrows:!1,showIndicators:!1,showStatus:!1,centerMode:!0,showThumbs:!1,onChange:function(t){e.CarouselChange(t,"",!1)}},this.state.groupList.myGroups&&this.state.groupList.myGroups.community.map((function(t,a){return s.a.createElement("div",{className:"w-100 m-b-10 float-left"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 float-left",key:a},s.a.createElement("div",{className:"card h-100"},s.a.createElement("div",{className:"blog-photo"},s.a.createElement(hn,{className:"img-fluid",src:t.banner_img?L+t.banner_img:D+"orangeblock.png"})),s.a.createElement("div",{className:"row p-l-10 p-r-10 p-t-10"},s.a.createElement("div",{className:"col-12 h-3"},s.a.createElement("h5",{className:"float-left font-book font-15 blog_head text-left group_name_overflow"},s.a.createElement(Qo.b,{to:"/group/"+(e.props.params.condition.toLowerCase().includes("research")?"feed/":"about/")+t.community_name+"/"+e.props.params.condition},t.community_name)))),s.a.createElement("div",{className:"row m-l-10 p-t-10 p-b-10"},s.a.createElement("img",{className:"img-fluid rounded-circle p-0",src:t.User.profilePic?O+t.User.profilePic:D+"no-profile-pic.png",onError:function(e){return _o.imageError(e,"no-profile-pic.png")}}),s.a.createElement("div",{className:"col-9 h-3"},s.a.createElement("span",{className:"font-book font-14 light-grey text-left group_name_overflow"},t.User?t.User.name+" "+t.User.lastName:""))),s.a.createElement("div",{className:"row m-l-10 p-t-10 p-b-10"},s.a.createElement("div",{className:"col-10 mx-auto"},s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:function(){return e.gotoGroupDetailPage(t)},className:"w-100 btn float-right dblog_btn font-14 button-lightblue position-relative"},"Member"," "," ","closed"===t.type&&s.a.createElement("i",{className:"fa fa-lock last-lock"})))))))))})))))),!this.props.logged_userData.isGroupLeader&&!this.props.logged_userData.isStudyLeader&&!this.props.logged_userData.isStudyInstructor&&!this.props.logged_userData.isStudyUser&&this.state.groupList.myGroups&&!this.state.groupList.myGroups.community.length&&!this.state.Loading&&s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"text-center w-100"},"You are not yet a member of any groups!  Please use the search bar or navigate through the groups below to find one or more that pique your interest!  Note, the lock icon on the Join button indicates that your group membership will be approved by the group owner whereas no lock icon means you become an immediate member!!")))}},{key:"CarouselChange",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;1==a?this.state.groupList.instructorGroups[t].community.length-1==e&&this.state.groupList.instructorGroups[t].community.length<this.state.groupList.instructorGroups[t].total&&this.showMore("additional",t):2==a?this.state.groupList.allgroups.community.length-1==e&&this.state.groupList.allgroups.community.length<this.state.groupList.allgroups.total&&this.showMore("allgroup",""):this.state.groupList.myGroups.community.length-1==e&&this.state.groupList.myGroups.community.length<this.state.groupList.myGroups.total&&this.showMore("mygroup","")}},{key:"renderAdditionalGroups",value:function(){var e=this;Object(m.a)({},this.state.groupsLimit);return s.a.createElement("div",{className:""},this.state.groupList.instructorGroups&&Object.keys(this.state.groupList.instructorGroups).map((function(t,a){if(e.state.groupList.instructorGroups[t].community.length>0)return s.a.createElement("div",{className:""},s.a.createElement("h3",{className:"font-book font-24 purplefont p-b-20 row"},t," Groups"),s.a.createElement("div",{className:"web-view row"},e.state.groupList.instructorGroups[t]&&e.state.groupList.instructorGroups[t].community.map((function(t,a){return s.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4 p-l-0 m-b-20",key:a},s.a.createElement("div",{className:"card-design"},s.a.createElement("div",{className:"blog-photo"},s.a.createElement(hn,{className:"img-fluid",src:t.banner_img?L+t.banner_img:D+"orangeblock.png"})),s.a.createElement("div",{className:"row p-l-10 p-r-10 p-t-10"},s.a.createElement("div",{className:"col-6 h-3"},s.a.createElement("h5",{className:"float-left font-book font-15 blog_head"},s.a.createElement(Qo.b,{to:"/group/"+(e.props.params.condition.toLowerCase().includes("Research")?"feed/":"about/")+t.community_name+"/"+e.props.params.condition},t.community_name))),s.a.createElement("div",{className:"col-6"},!e.props.is_auth&&s.a.createElement("button",{disabled:e.state.Loading,onClick:function(){return e.submitRequest(t)},className:"w-100 btn float-right dblog_btn font-14 btn-purple-inverse position-relative"},"Join"," ","closed"===t.type&&s.a.createElement("i",{className:"fa fa-lock last-lock"})),e.props.is_auth&&(!t.Members||!1===e.returnInGroup(t.id))&&s.a.createElement(s.a.Fragment,null,t.Notifications&&0===t.Notifications.length&&s.a.createElement("button",{disabled:e.state.Loading,onClick:function(){return e.submitRequest(t)},className:"w-100 btn float-right dblog_btn font-14 btn-purple-inverse position-relative"},"Join"," ","closed"===t.type&&s.a.createElement("i",{className:"fa fa-lock last-lock"})),t.Notifications&&t.Notifications.length>0&&s.a.createElement("button",{className:"w-100 btn float-right dblog_btn font-14 btn-purple position-relative"},"Requested"," ","closed"===t.type&&s.a.createElement("i",{className:"fa fa-lock last-lock"}))),e.props.is_auth&&e.props.is_create_mode&&s.a.createElement("div",{className:"col-1 float-right top-30 p-r-40 pointer",onClick:function(){e.editGroup(t.community_name)}},s.a.createElement("img",{src:D+"edit-pencil.png"})))),s.a.createElement("div",{className:"row m-l-10 p-t-10 p-b-10"},s.a.createElement("img",{className:"img-fluid rounded-circle",src:t.User.profilePic?O+t.User.profilePic:D+"no-profile-pic.png",onError:function(e){return _o.imageError(e,"no-profile-pic.png")}}),s.a.createElement("span",{className:"font-book font-14 m-l-10 m-t-10 light-grey"},t.User?t.User.name+" "+t.User.lastName:""))))})),e.state.groupList.instructorGroups[t].community.length<e.state.groupList.instructorGroups[t].total&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center clearfix m-b-40"},s.a.createElement("button",{onClick:function(){e.showMore("additional",t)},className:"btn btn-orange m-t-40 m-b-40 font-book"},"Show All Groups"))),s.a.createElement("div",{className:"mobile-view"},s.a.createElement("div",{class:"carousel-wrapper"},s.a.createElement(Sd.Carousel,{showArrows:!1,showIndicators:!1,showStatus:!1,centerMode:!0,showThumbs:!1,onChange:function(a){e.CarouselChange(a,t,!0)}},e.state.groupList.instructorGroups[t]&&e.state.groupList.instructorGroups[t].community.map((function(t,a){return s.a.createElement("div",null,s.a.createElement("div",{className:"w-100 m-b-10 float-left"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 float-left",key:a},s.a.createElement("div",{className:"card h-100"},s.a.createElement("div",{className:"blog-photo"},s.a.createElement(hn,{className:"img-fluid",src:t.banner_img?L+t.banner_img:D+"orangeblock.png"})),s.a.createElement("div",{className:"row p-l-10 p-r-10 p-t-10"},s.a.createElement("div",{className:"col-12 h-3"},s.a.createElement("h5",{className:"float-left font-book font-15 blog_head text-left group_name_overflow"},s.a.createElement(Qo.b,{to:"/group/"+(e.props.params.condition.toLowerCase().includes("research")?"feed/":"about/")+t.community_name+"/"+e.props.params.condition},t.community_name)))),s.a.createElement("div",{className:"row m-l-10 p-t-10 p-b-10"},s.a.createElement("img",{className:"img-fluid rounded-circle p-0",src:t.User.profilePic?O+t.User.profilePic:D+"no-profile-pic.png",onError:function(e){return _o.imageError(e,"no-profile-pic.png")}}),s.a.createElement("div",{className:" col-9 h-3"},s.a.createElement("span",{className:"font-book font-14 light-grey text-left group_name_overflow"},t.User?t.User.name+" "+t.User.lastName:""))),s.a.createElement("div",{className:"row p-t-10 p-b-10"},s.a.createElement("div",{className:"col-10 mx-auto"},!e.props.is_auth&&s.a.createElement("button",{disabled:e.state.Loading,onClick:function(){return e.submitRequest(t)},className:"w-100 btn float-right dblog_btn font-14 btn-purple-inverse position-relative"},"Join"," ","closed"===t.type&&s.a.createElement("i",{className:"fa fa-lock last-lock"})),e.props.is_auth&&(!t.Members||!1===e.returnInGroup(t.id))&&s.a.createElement(s.a.Fragment,null,t.Notifications&&0===t.Notifications.length&&s.a.createElement("button",{disabled:e.state.Loading,onClick:function(){return e.submitRequest(t)},className:"w-100 btn float-right dblog_btn font-14 btn-purple-inverse position-relative"},"Join"," ","closed"===t.type&&s.a.createElement("i",{className:"fa fa-lock last-lock"})),t.Notifications&&t.Notifications.length>0&&s.a.createElement("button",{className:"w-100 btn float-right dblog_btn font-14 btn-purple position-relative"},"Requested"," ","closed"===t.type&&s.a.createElement("i",{className:"fa fa-lock last-lock"}))))))))))}))))))})))}},{key:"renderCreateGroupTemp",value:function(){var e=this,t=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;return s.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4 p-l-0 m-b-20"},s.a.createElement("div",{className:"card h-100"},s.a.createElement("div",{onClick:function(t){return e.handlePosition(t)}},s.a.createElement("div",{className:"position-relative"},s.a.createElement(hn,{ref:function(t){e.wrapperRef=t},className:"card-img-top img-fluid",src:D+"no-image.png"}))),s.a.createElement("div",{className:"card-body p-2"},s.a.createElement("div",{className:"w-100 float-left"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("h3",{className:"black-txt font-16 font-semibold capitalize_text float-left w-75"},s.a.createElement(fn,{text:"New Beam Group"})),s.a.createElement("div",{className:"bookmark-left float-right text-right w-25"}),s.a.createElement("div",{className:"bookmark-left m-l-10 float-left"}))),s.a.createElement("div",{className:"w-100 float-left"},s.a.createElement("div",{className:"col-12 float-left p-0 font-medium"},s.a.createElement("p",{className:"float-left font-14 black-txt font-qregular m-b-0"},"Click the plus to create a new Group!"),!t.isStudyLeader&&s.a.createElement("p",{className:"float-left font-14 black-txt font-qregular m-b-5 w-100"},"You will need...")),s.a.createElement("div",{className:"col-11 float-left p-0"},s.a.createElement("div",{className:"font-medium w-100"},s.a.createElement("ul",{className:"col-md-12 col-sm-12 float-left black-txt p-l-20"},!t.isStudyLeader&&s.a.createElement("li",null,s.a.createElement("span",{className:"w-40 font-14 font-qregular float-left"},"Beam Group Setup Form Response"))))),this.props.is_auth&&this.props.is_create_mode&&s.a.createElement("div",{className:"col-1 float-left top-10 p-0 pl-2 pointer",onClick:function(){e.props.clearAboutDetails(),e.props.groupCMSOpen(!0)}},s.a.createElement("img",{src:D+"add-plus.png"}))))))}},{key:"renderAllGroups",value:function(){var e=this;return s.a.createElement("div",{className:""},s.a.createElement("div",{className:"web-view row"},this.state.groupList.allgroups&&this.state.groupList.allgroups.community.map((function(t,a){return s.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4 p-l-0 m-b-20",key:a},s.a.createElement("div",{className:"card-design"},s.a.createElement("div",{className:"blog-photo"},s.a.createElement(hn,{className:"img-fluid",src:t.banner_img?L+t.banner_img:D+"orangeblock.png"})),s.a.createElement("div",{className:"row p-l-10 p-r-10 p-t-10"},s.a.createElement("div",{className:"col-6 h-3"},s.a.createElement("h5",{className:"float-left font-book font-15 blog_head"},s.a.createElement(Qo.b,{to:"/group/"+(e.props.params.condition.toLowerCase().includes("research")?"feed/":"about/")+t.community_name+"/"+e.props.params.condition},t.community_name))),s.a.createElement("div",{className:"col-6"},e.props.is_auth&&s.a.createElement(s.a.Fragment,null,!e.checkUserIsMember(t)&&t.Notifications&&0===t.Notifications.length&&s.a.createElement("button",{disabled:e.state.Loading,onClick:function(){return e.gotoGroupDetailPage(t)},className:"w-100 btn float-right dblog_btn font-14 btn-purple-inverse position-relative"},"View Group"," ","closed"===t.type&&s.a.createElement("i",{className:"fa fa-lock last-lock"}))),e.props.is_auth&&e.props.is_create_mode&&s.a.createElement("div",{className:"col-1 float-right top-30 p-r-40 pointer",onClick:function(){e.editGroup(t.community_name)}},s.a.createElement("img",{src:D+"edit-pencil.png"})))),s.a.createElement("div",{className:"row m-l-10 p-t-10 p-b-10"},s.a.createElement("img",{className:"img-fluid rounded-circle",src:t.User.profilePic?O+t.User.profilePic:D+"no-profile-pic.png",onError:function(e){return _o.imageError(e,"no-profile-pic.png")}}),s.a.createElement("span",{className:"font-book font-14 m-l-10 m-t-10 light-grey"},t.User?t.User.name+" "+t.User.lastName:""))))})),this.state.groupList.allgroups&&this.state.groupList.allgroups.community.length<this.state.groupList.allgroups.total&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center clearfix m-b-40"},s.a.createElement("button",{onClick:function(){e.showMore("allgroup","")},className:"btn btn-orange m-t-40 m-b-40 font-book"},"Show More Groups"))),s.a.createElement("div",{className:"mobile-view"},s.a.createElement("div",{class:"carousel-wrapper"},s.a.createElement(Sd.Carousel,{showArrows:!1,showIndicators:!1,showStatus:!1,centerMode:!0,showThumbs:!1,onChange:function(t){e.CarouselChange(t,"",2)}},this.state.groupList.allgroups&&this.state.groupList.allgroups.community.map((function(t,a){return s.a.createElement("div",{className:"w-100 m-b-10 float-left"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 float-left",key:a},s.a.createElement("div",{className:"card h-100"},s.a.createElement("div",{className:"blog-photo"},s.a.createElement(hn,{className:"img-fluid",src:t.banner_img?L+t.banner_img:D+"orangeblock.png"})),s.a.createElement("div",{className:"row p-l-10 p-r-10 p-t-10"},s.a.createElement("div",{className:"col-12 h-3"},s.a.createElement("h5",{className:"float-left font-book font-15 blog_head text-left group_name_overflow"},s.a.createElement(Qo.b,{to:"/group/"+(e.props.params.condition.toLowerCase().includes("research")?"feed/":"about/")+t.community_name+"/"+e.props.params.condition},t.community_name)))),s.a.createElement("div",{className:"row m-l-10 p-t-10 p-b-10"},s.a.createElement("img",{className:"img-fluid rounded-circle p-0",src:t.User.profilePic?O+t.User.profilePic:D+"no-profile-pic.png",onError:function(e){return _o.imageError(e,"no-profile-pic.png")}}),s.a.createElement("div",{className:"col-9 h-3"},s.a.createElement("span",{className:"font-book font-14 light-grey text-left group_name_overflow"},t.User?t.User.name+" "+t.User.lastName:""))),s.a.createElement("div",{className:"row p-t-10 p-b-10"},s.a.createElement("div",{className:"col-10 mx-auto"},e.props.is_auth&&s.a.createElement(s.a.Fragment,null,!e.checkUserIsMember(t)&&t.Notifications&&0===t.Notifications.length&&s.a.createElement("button",{disabled:e.state.Loading,onClick:function(){return e.gotoGroupDetailPage(t)},className:"w-100 btn float-right dblog_btn font-14 btn-purple-inverse position-relative"},"View Group"," ","closed"===t.type&&s.a.createElement("i",{className:"fa fa-lock last-lock"})))))))))}))))))}},{key:"render",value:function(){return s.a.createElement("div",{className:""},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Groups - ",this.props.params.condition,ye),s.a.createElement("meta",{property:"og:title",content:"Groups - "+this.props.params.condition+ye}),s.a.createElement("meta",{property:"og:description",content:"Joining a group on Beam allows you to ask questions, celebrate successes, receive feedback, seek motivation, encourage others, pick up tips to use during class and grow friendships."}),s.a.createElement("meta",{property:"og:image",content:Se}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Characters in yoga balance in bedroom setting"})),s.a.createElement("div",{className:"ondemand_groups"},s.a.createElement(Hc,{condition:this.props.params.condition}),s.a.createElement("div",{className:"container-fluid mx-auto w-95 p-0"},!this.props.params.condition.toLowerCase().includes("research")&&s.a.createElement("div",{className:"text-center p-t-50"},s.a.createElement("h3",{className:"font-book font-24 darkblue-text p-b-20 "},"Welcome to Groups on Beam"),s.a.createElement("div",{className:"row font-18 content-text font-qregular "},s.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},s.a.createElement("p",null,"Groups are places where you can connect with live class instructors as well as people like you who are doing the same types of activity and who share your goals and interests")),s.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},s.a.createElement("p",null,"Joining a group allows you to ask questions, celebrate successes, receive feedback, seek motivated, encourage others and get additional tips on your sessions.")),s.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},s.a.createElement("p",null,"Groups also allow instructors to get insight from you prior to running classes, so that they can make it bespoke to your needs and suggest the modifications that you require.")))),s.a.createElement("div",{className:"filter-section col-md-12 m-t-10 m-b-10"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-3 col-lg-2 col-sm-12 text-right m-b-10"}),s.a.createElement("div",{className:"col-md-7 col-lg-8 col-sm-12 m-b-10"},s.a.createElement("div",{className:"input-group mx-auto w-75 search-btn"},s.a.createElement("input",{type:"text",name:"search_key",value:this.state.search_data,onKeyUp:this.searchBarEnter.bind(this),onChange:this.handleChange,className:"form-control font-14 font-qregular",placeholder:"What group are you looking for?"}),s.a.createElement("div",{className:"input-group-append font-14"},s.a.createElement("button",{disabled:this.state.Loading,className:"btn btn-secondary font-14 font-medium",type:"button",onClick:this.searchFucntion},"Search")))))),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null)),this.props.is_auth&&this.props.is_create_mode&&s.a.createElement("div",{className:"web-view row"},this.renderCreateGroupTemp()),this.props.is_auth&&this.renderMyGroups(),(!this.props.is_auth||this.props.is_auth&&!this.props.logged_userData.isStudyLeader&&!this.props.logged_userData.isGroupLeader)&&this.renderAdditionalGroups(),this.props.is_auth&&(this.props.logged_userData.isStudyLeader||this.props.logged_userData.isGroupLeader)&&this.renderAllGroups())),s.a.createElement(Hi,{closeCallback:this.reCallGroupList}),this.props.is_group_cms_open&&s.a.createElement(Fd,null))}}]),a}(s.a.Component),Ud={ondemandGroupList:Ka,start_loader:ht,loginModelOpen:pt,stop_loader:gt,joinrequest:Ja,joingroup:Qa,joinModelOpen:Za,showMoreGroups:function(e,t){return function(a,o){var s=tt();return fetch(h+"/api/groups/showMore/"+t+"?offset="+e.offset+"&limit="+e.limit+"&type="+e.type+"&groupType="+e.groupType+"&isFullRecord="+e.isFullRecord,s).then((function(e){return go(e,a)})).then((function(e){return e}))}},groupCMSOpen:Xa,fetchAboutGroup:$a,clearAboutDetails:function(){return function(e,t){e({type:"clear_group_about_details"})}}},Rd=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData,is_group_cms_open:e.group.is_group_cms_open,is_create_mode:e.header.is_create_mode,is_group_mode:e.header.is_group_mode}}),Ud)(Pd),Wd=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).onCloseModal=function(){},o.state={},o}return Object(Wo.a)(a,[{key:"componentWillUnmount",value:function(){this.is_start=!1}},{key:"submitTime",value:function(){this.props.closeVideoModel()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.enable_video,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog b4_start common_design modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.submitTime()}},"\xd7"))),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement(Rr.Player,{ref:function(t){e.player=t},autoPlay:!0,className:"w-100 border-0",height:"400",playsInline:!0,src:f+this.props.ProgramTrailerURL}))))))}}]),a}(s.a.Component),Ad={saveTimeSpent:oa},Bd=Object(i.b)((function(e){return{}}),Ad)(Wd),qd=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).startNextClass=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;o.props.programDetailData(t);var n=0;if(!e)n=t.completed_workout_count||0;var r={workout:a[n].Workout};o.setState({programId:a[n].programId,workoutId:a[n].workoutId,ondemand_detail_data:r,keyIndex:s,programDetails:t,isStartProgram:!!e},(function(){this.props.program_detail&&this.props.program_detail.preSurvey&&this.props.programId&&a[0].workoutId==this.props.workoutId?this.props.isOpenProgramSurveyModel(!0):this.props.isPlayOndemand(!0)}))},o.startTrailerVideo=function(e){o.setState({enable_player:!0,programTrailerURL:e})},o.updateProgramDetails=function(e){console.log("closewithprogrema",e);var t={programId:o.state.programId};e&&e.id&&(t.userProgramId=e.id),o.props.ProgrammeDetailWorkouts(t).then((function(t){t&&o.props.updateWatchedVideoDetails(o.state.keyIndex,t,e)}),(function(e){o.setState({Loading:!1}),at.b.error(e)}))},o.state={programmeDetail:{},Loading:!0,condition:o.props.params.condition,programType:o.props.programType,programmeList:[],offset:0,limit:8,count:0,sortby:"Newest first",isShowAll:0,isJoinedNow:!1,completedClass:0,completedPrograms:0,charLimit:[],charStaticLimit:200,isStartProgram:!1,enable_player:!1,programTrailerURL:""},o.lastState=o.props.params.condition,o}return Object(Wo.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.lastState!=e.params.condition&&(this.lastState=e.params.condition,this.setState({condition:e.params.condition,programmeList:[],offset:0,limit:8,count:0,isShowAll:0}))}},{key:"fetchProgrammeWorkouts",value:function(e){var t=this,a={programId:this.props.match.params.programId};e.UserProgram&&(a.userProgramId=e.UserProgram.id),this.props.ProgrammeDetailWorkouts(a).then((function(e){e&&t.setState({workoutList:e.list,count:e.count,completedClass:e.completedClass,completedPrograms:e.completedPrograms})}),(function(e){t.setState({Loading:!1}),at.b.error(e)}))}},{key:"closeVideoModel",value:function(){this.setState({enable_player:!1})}},{key:"fetchProgrammeList1",value:function(){var e=this,t={condition:_o.replaceChar(this.state.condition,!0),offset:this.state.offset,limit:this.state.limit,programType:this.state.programType,sortby:this.state.sortby,isShowAll:this.state.isShowAll};this.setState({Loading:!0}),this.props.fetchProgrammeList(t).then((function(t){if(t){var a=e.state.programmeList,o=[].concat(Object(Lo.a)(a),Object(Lo.a)(t.programmeList));e.setState({Loading:!1,programmeList:o,count:t.count})}}),(function(t){e.setState({Loading:!1}),at.b.error(t)}))}},{key:"renderCoreProgramsComponent",value:function(){var e=this;return this.props.programmeList.map((function(t,a){var o=t.shortDesc?t.shortDesc.substr(0,e.state.charLimit[a]||e.state.charStaticLimit):"";t.shortDesc&&t.shortDesc.length>(e.state.charLimit[a]||e.state.charStaticLimit)&&(o=o.concat("..."));var n=Eo.a.sortBy(t.ProgramWorkouts,(function(e){return e.workoutNum}));return s.a.createElement("div",{className:"list-group-item liveclass-listing ",key:a},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"media media_for_mobile col-md-3 col-lg-3 leftabs_img"},s.a.createElement("div",{className:"mobile_view_show"},s.a.createElement("h3",{class:"heading_prgs"},s.a.createElement(Qo.b,{className:"flow-text",to:"/programmes/detail/"+e.state.condition+"/"+t.id}," ",t.title))),s.a.createElement("figure",{className:"pull-left position-relative mb-0"},s.a.createElement(Qo.b,{to:"/programmes/detail/"+e.state.condition+"/"+t.id},s.a.createElement("img",{className:"media-object image-size img-rounded img-fluid",src:I+t.img,onError:function(e){return _o.checkImageCrop(e,"ondemand-placeholder.png")}})),t.UserPrograms&&t.UserPrograms.length>0&&s.a.createElement("span",{class:"position-absolute vid_time"},s.a.createElement("div",{className:"row w-100"},s.a.createElement("div",{className:"col-lg-12 col-md-8"},s.a.createElement(Qo.b,{style:{"text-decoration":"none"},to:"/programmes/detail/"+e.state.condition+"/"+t.id},t.completed_workout_count!=t.numWorkouts&&s.a.createElement("h4",{className:"orange_pos_text"},t.completed_workout_count,"\xa0out of\xa0",t.numWorkouts,"\xa0Classes",s.a.createElement("br",null),"\xa0Completed")||s.a.createElement("h4",{className:"orange_pos_text"},"Completed ",t.completed_times," times")),s.a.createElement("div",{class:"line-bar font-16 progressbar_star prg_bar_line"},s.a.createElement("div",{class:"progress"},s.a.createElement("div",{className:"progress-bar p-l-10 p-r-10 "+(0==Object(el.a)(100*t.completed_workout_count/t.numWorkouts)?"empty-progress":""),role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100",style:{width:0==Object(el.a)(100*t.completed_workout_count/t.numWorkouts)?"15%":Object(el.a)(100*t.completed_workout_count/t.numWorkouts)+"%"}},s.a.createElement("span",{class:"font-semibold font-50"},Object(el.a)(100*t.completed_workout_count/t.numWorkouts),"%")))))))),s.a.createElement("div",{className:"mobile_view_show"},s.a.createElement("h3",{class:"heading_prgs mobile_view_show"},s.a.createElement("span",{className:"orange-txt"},t.numWorkouts," Classes")),(!t.UserPrograms||!t.UserPrograms.length)&&s.a.createElement("button",{className:"btn button-filter font-medium font-14 pointer w-100 btn-purple pl-1 pr-1 mb-3"+(e.state.classType,""),onClick:function(){e.startNextClass(t.id,t,n,a)},disabled:e.props.loader_state}," Start Program"),t.UserPrograms&&t.UserPrograms.length>0&&t.completed_workout_count==t.numWorkouts&&s.a.createElement("button",{className:"btn button-filter font-medium font-14 pointer w-100 btn-purple pl-1 pr-1 mb-3",onClick:function(){e.startNextClass(t.id,t,n,a)},disabled:e.props.loader_state}," Restart"),t.UserPrograms&&t.UserPrograms.length>0&&t.completed_workout_count<t.numWorkouts&&s.a.createElement("button",{className:"btn button-filter font-medium font-14 pointer w-100 btn-purple pl-1 pr-1 mb-3",onClick:function(){e.startNextClass(0,t,n,a)},disabled:e.props.loader_state}," Start next class"),t.trailerURL&&s.a.createElement("button",{className:"btn button-filter mobile_view_hide font-medium font-14 pointer w-100 btn-purple-inverse d-flex align-items-center pl-1 pr-1 mb-3 justify-content-center",onClick:function(){e.startTrailerVideo(t.trailerURL)}}," ",s.a.createElement("img",{src:D+"play-purple-icon.png",width:"18px",className:"mr-2"})," Watch trailer"))),s.a.createElement("div",{className:"col-md-7 col-lg-7"},s.a.createElement("div",{className:"w-100 row m-0"},s.a.createElement("h3",{class:"heading_prgs mobile_view_hide"},s.a.createElement(Qo.b,{className:"flow-text",to:"/programmes/detail/"+e.state.condition+"/"+t.id}," ",t.title),s.a.createElement("span",{className:"orange-txt"},t.numWorkouts," Classes")),t.shortDesc&&s.a.createElement("div",{className:"desc_para_set"},s.a.createElement("p",{dangerouslySetInnerHTML:{__html:o}}),t.shortDesc&&t.shortDesc.length>(e.state.charLimit[a]||e.state.charStaticLimit)&&s.a.createElement("span",{class:"readmoreoptions",onClick:function(){var o=e.state.charLimit;o[a]=t.shortDesc?t.shortDesc.length:0,e.setState({charLimit:o})}},"Read more")))),s.a.createElement("div",{className:"col-md-2 col-lg-2"},(!t.UserPrograms||!t.UserPrograms.length)&&s.a.createElement("button",{className:"btn button-filter mobile_view_hide font-medium font-14 pointer w-100 btn-purple pl-1 pr-1 mb-3 ",onClick:function(){e.startNextClass(t.id,t,n,a)},disabled:e.props.loader_state}," Start program "),t.UserPrograms&&t.UserPrograms.length>0&&t.completed_workout_count==t.numWorkouts&&s.a.createElement("button",{className:"btn button-filter mobile_view_hide font-medium font-14 pointer w-100 btn-purple pl-1 pr-1 mb-3",onClick:function(){e.startNextClass(t.id,t,n,a)},disabled:e.props.loader_state},"Restart"),t.UserPrograms&&t.UserPrograms.length>0&&t.completed_workout_count<t.numWorkouts&&s.a.createElement("button",{className:"btn button-filter mobile_view_hide font-medium font-14 pointer w-100 btn-purple pl-1 pr-1 mb-3",onClick:function(){e.startNextClass(0,t,n,a)},disabled:e.props.loader_state},"Start next class"),s.a.createElement(Qo.b,{className:"btn button-filter font-medium font-14 pointer w-100 btn-purple-inverse pl-1 pr-1 mb-3",to:"/programmes/detail/"+e.state.condition+"/"+t.id},"Learn more "),s.a.createElement("div",{className:"mobile_view_hide"},t.trailerURL&&s.a.createElement("button",{className:"btn button-filter  font-medium font-14 pointer w-100 btn-purple-inverse align-items-center pl-1 pr-1 mb-3 justify-content-center d-flex",onClick:function(){e.startTrailerVideo(t.trailerURL)}},s.a.createElement("img",{src:D+"play-purple-icon.png",width:"25px",className:"mr-2"})," Watch trailer"))))))}))}},{key:"renderListData",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"products",className:"row col-sm-12 p-0 m-0 programs_page_tab programs_page_tab_imgalgn"},!this.props.Loading&&s.a.createElement("div",{className:"list-group w-100"},this.renderCoreProgramsComponent())),s.a.createElement(Mi,{condition:this.props.params.condition,programId:this.state.programId,workoutId:this.state.workoutId,history:this.props.history,ondemand_detail_data:this.state.ondemand_detail_data,closeWithProgram:function(t){e.updateProgramDetails(t)},isStartProgram:this.state.isStartProgram}),this.state.enable_player&&s.a.createElement(Bd,{enable_video:this.state.enable_player,closeVideoModel:function(){e.closeVideoModel()},ProgramTrailerURL:this.state.programTrailerURL})))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Programs - ",this.props.params.condition,ye),s.a.createElement("meta",{property:"og:title",content:"Programs - "+this.props.params.condition+ye}),s.a.createElement("meta",{property:"og:description",content:Le}),s.a.createElement("meta",{property:"og:image",content:De}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Beam hospital scene with characters keeping active"})),s.a.createElement(s.a.Fragment,null,this.renderListData()))}}]),a}(s.a.Component),Yd={ProgrammeDetailWorkouts:po,ProgrammeDetail:mo,loginModelOpen:pt,fetchProgrammeList:co,isPlayOndemand:Sa,isOpenProgramSurveyModel:wa,programDetailData:ho},Gd=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData,loader_state:e.header.loader_state}}),Yd)(qd),Vd=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).clearData=function(){o.setState({programmeList:[],offset:0,limit:8,count:0,sortby:"Default",isShowAll:0},(function(){this.fetchProgrammeList()}))},o.loadMoreProgrammes=function(){o.setState({offset:o.state.offset+o.state.limit+1},(function(){o.fetchProgrammeList()}))},o.showAll=function(){o.setState({isShowAll:1},(function(){o.fetchProgrammeList()}))},o.updateWatchedVideoDetails=function(e,t,a){console.log("data",t);var s=o.state.programmeList;s[e].completed_times=t.completedPrograms,s[e].completed_workout_count=t.completedClass,s[e].UserPrograms.push(a),o.setState({programmeList:s,modified:o.state.modified+1})},o.state={Loading:!0,condition:o.props.params.condition,programmeList:[],offset:0,limit:8,count:0,programType:o.props.active_type,sortby:"Default",isShowAll:0,modified:0,videoUrl:"https://vimeo.com/359842015"},o.lastState=o.props.params.condition,o.handleChange=o.handleChange.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("pro-list",this.props),this.fetchProgrammeList()}},{key:"componentWillReceiveProps",value:function(e){console.log("this.lastState",this.lastState+"="+e.params.condition),this.lastState!=e.params.condition&&(this.lastState=e.params.condition,this.setState({condition:e.params.condition,programmeList:[],offset:0,limit:8,count:0},(function(){this.fetchProgrammeList()})))}},{key:"handleChange",value:function(e){console.log("item",e),this.setState({sortby:e},(function(){console.log("this.state.sortby",this.state.sortby),this.fetchProgrammeList()}))}},{key:"fetchProgrammeList",value:function(){var e=this,t={condition:_o.replaceChar(this.state.condition,!0),offset:this.state.offset,limit:this.state.limit,programType:this.state.programType,sortby:this.state.sortby,isShowAll:this.state.isShowAll};this.setState({Loading:!0}),this.props.fetchProgrammeList(t).then((function(t){if(t){var a=t.programmeList;if(e.state.offset>0){var o=e.state.programmeList;a=[].concat(Object(Lo.a)(o),Object(Lo.a)(t.programmeList))}e.setState({Loading:!1,programmeList:a,count:t.count})}}),(function(t){e.setState({Loading:!1}),at.b.error(t)}))}},{key:"renderProgramsComponent",value:function(){var e=this;return s.a.createElement("div",{className:"tab-content dash_tab  col-md-12 p-0 m-t-10 m-b-20"},"core"==this.state.programType&&s.a.createElement(Gd,Object.assign({},this.props,{programType:this.state.programType,programmeList:this.state.programmeList,updateWatchedVideoDetails:this.updateWatchedVideoDetails,modified:this.state.modified,Loading:this.state.Loading})),"module"==this.state.programType&&s.a.createElement(Gd,Object.assign({},this.props,{programType:this.state.programType,programmeList:this.state.programmeList,updateWatchedVideoDetails:this.updateWatchedVideoDetails,modified:this.state.modified,Loading:this.state.Loading})),this.state.count>this.state.programmeList.length&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left m-t-30"},s.a.createElement("span",{className:"btn btn-orange-inverse font-14 mb-3 mr-3 font-book pointer col-md-3"},s.a.createElement("a",{onClick:function(){e.loadMoreProgrammes()}}," Load more programs")),s.a.createElement("span",{className:"btn btn-orange font-14 mb-3 font-book pointer col-md-3"},s.a.createElement("a",{onClick:function(){e.showAll()}}," Show all"))))}},{key:"renderListData",value:function(){var e=this;return s.a.createElement("div",{className:"w-100"},s.a.createElement("div",{className:"program_tab_set navtabalign"},s.a.createElement("div",{className:"mx-auto tab_full"},s.a.createElement("ul",{className:"nav nav-tabs small justify-content-left mx-auto  tab_ul"},s.a.createElement("li",{className:"nav-item "+("core"==this.state.programType?"active":"")},s.a.createElement("span",{className:" nav-link font-semibold font-book capitalize_text",onClick:function(){e.props.setProgramType("core"),e.setState({programType:"core"},(function(){this.clearData()}))}},"Start Beaming ",s.a.createElement("span",null,"Programs"))),s.a.createElement("li",{className:"nav-item "+("module"==this.state.programType?"active":"")},s.a.createElement("span",{className:" nav-link font-semibold font-book capitalize_text",onClick:function(){e.props.setProgramType("module"),e.setState({programType:"module"},(function(){this.clearData()}))}},"Beam Spotlight ",s.a.createElement("span",null,"Programs")))))),s.a.createElement("div",{className:"liveclass-listing"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},this.state.condition==k&&s.a.createElement("div",{className:"media media_for_mobile col-md-3 col-lg-3 leftabs_img"},s.a.createElement("div",{className:"pull-left position-relative mb-0 "},s.a.createElement($o.a,{url:this.state.videoUrl,controls:!1,width:"100%",height:"100%"}))),s.a.createElement("div",{className:this.state.condition==k?"col-md-9 col-lg-9":"col-md-12 col-lg-12"},s.a.createElement("div",{className:"w-100 row m-0"},"core"==this.state.programType&&s.a.createElement("p",{className:"font-qregular font-18"},"Start Beaming Programs are designed to help you explore different types of exercise for physical and emotional health benefits. These programs are curated for people with specific health conditions and disease severity to ensure they are relevant, accessible and effective for anyone. Start Beaming to receive all the feel-good benefits of one of our Beam programs.")||s.a.createElement("p",{className:"font-qregular font-18"},"Beam Spotlight Programs are designed to support specific and often complex needs through exercise, education and wellbeing support. These programs are curated for people with specific health conditions who have additional diagnoses or comorbidities. They may also introduce new exercise disciplines or wellbeing techniques to help you feel good."))))),s.a.createElement("hr",{className:"ht-1 bg-beam-blue"})),s.a.createElement("div",{className:"sorting_div col-lg-12 p-0"},s.a.createElement(Pc,{sort_filter:this.state.sortby,sortByFunction:this.handleChange,page:"program"})),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null)),s.a.createElement(s.a.Fragment,null,this.renderProgramsComponent()))}},{key:"render",value:function(){return s.a.createElement("div",{className:""},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Programs - ",this.props.params.condition,ye),s.a.createElement("meta",{property:"og:title",content:"Programs - "+this.props.params.condition+ye}),s.a.createElement("meta",{property:"og:description",content:Le}),s.a.createElement("meta",{property:"og:image",content:De}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Beam hospital scene with characters keeping active"})),s.a.createElement("div",{className:"container program_tab_page programs_page_tab programs_page_tab_new"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},this.renderListData()))))}}]),a}(s.a.Component),Hd={fetchProgrammeList:co,start_loader:ht,stop_loader:gt,setProgramType:function(e){return function(t,a){t({type:"set_program_active_type",payload:e})}}},zd=Object(i.b)((function(e){return{active_type:e.programme.active_type}}),Hd)(Vd),Kd=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e))._isMounted=!1,o.state={ondemand_tap:1,is_show_ondeman:!1,is_show_liveclass:!1,is_show_about:!1,is_show_group:!1,is_show_instructor:!1,is_show_programme:!1,type:o.props.match.params.condition,isProgrammeExist:!1,offset:0,limit:6,current_state:o.props.match.params.condition},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,this.props.match.params.condition){var t=this.props.match.params.condition.replace(" ","-");Go.Cookies.set("condition",t),console.log("*****************Set****************",t)}this.unlisten=this.props.history.listen((function(t,a){e.state.current_state!==e.props.match.params.condition&&e.setState({is_show_ondeman:!1,is_show_liveclass:!1,is_show_about:!1,is_show_group:!1,is_show_instructor:!1,is_show_programme:!1},(function(){this.setState({current_state:this.props.match.params.condition})}))}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentWillReceiveProps",value:function(e){this.setState({type:this.props.match.params.condition})}},{key:"currentStateService",value:function(){switch(this.props.match.path){case"/on-demand/:condition":this.setState({is_show_ondeman:!0}),this.fetchLiveClassList(),this.getGroupList(),this.getBlogList(),this.getInstructorList(),this.fetchProgrammeList();break;case"/liveClasses/:condition":this.setState({is_show_liveclass:!0}),this.getOnDemandList(),this.getGroupList(),this.getBlogList(),this.getInstructorList(),this.fetchProgrammeList();break;case"/about/:condition":this.setState({is_show_about:!0}),this.getOnDemandList(),this.fetchLiveClassList(),this.getGroupList(),this.getInstructorList(),this.fetchProgrammeList();break;case"/groups/:condition":this.setState({is_show_group:!0}),this.getOnDemandList(),this.fetchLiveClassList(),this.getBlogList(),this.getInstructorList(),this.fetchProgrammeList();break;case"/instructor/:condition":this.setState({is_show_instructor:!0}),this.getOnDemandList(),this.fetchLiveClassList(),this.getGroupList(),this.getBlogList(),this.fetchProgrammeList();break;case"/programs/:condition":this.setState({is_show_programme:!0}),this.getOnDemandList(),this.fetchLiveClassList(),this.getGroupList(),this.getBlogList(),this.getInstructorList()}}},{key:"getOnDemandList",value:function(){var e=this,t={offset:0,limit:12,sortby:"",keywords:"",filters:{}},a=_o.replaceChar(this.props.match.params.condition,!0);this.props.ondemandList(t,a).then((function(t){t&&e.setState({is_show_ondeman:!0})}),(function(t){e.setState({is_show_ondeman:!1})}))}},{key:"fetchLiveClassList",value:function(){var e=this,t={offset:0,limit:10,condition:_o.replaceChar(this.props.match.params.condition,!0)};this.props.fetchClassList(t).then((function(t){t&&e.setState({is_show_liveclass:!0})}),(function(t){e.setState({is_show_liveclass:!1})}))}},{key:"getBlogList",value:function(){var e=this,t=this.props.match.params.condition.replace("'","");this.props.fetchRecentBlogs(t).then((function(t){t&&e.setState({is_show_about:!0})}),(function(t){e.setState({is_show_about:!1})}))}},{key:"getGroupList",value:function(){var e=this,t={offset:0,limit:this.state.limit,search:""},a=_o.replaceChar(this.props.match.params.condition,!0);this.props.ondemandGroupList(t,a).then((function(t){t&&e.setState({is_show_group:!0})}),(function(t){e.setState({is_show_group:!1})}))}},{key:"getInstructorList",value:function(){var e=this,t={offset:0,limit:12,sortby:"",keywords:"",filters:{}},a=_o.replaceChar(this.props.match.params.condition,!0);this.props.getInstructorsList(t,a).then((function(t){t&&e.setState({is_show_instructor:!0})}),(function(t){e.setState({is_show_instructor:!1})}))}},{key:"fetchProgrammeList",value:function(){var e=this,t=this.props.match.params.condition,a={condition:_o.replaceChar(t,!0),offset:0,limit:this.state.limit};this.props.fetchProgrammeList(a).then((function(t){t&&e.setState({is_show_programme:!0})}),(function(t){e.setState({is_show_programme:!1})}))}},{key:"showMobileListName",value:function(){var e;switch(this.props.match.path){case"/on-demand/:condition":e="On Demand";break;case"/liveClasses/:condition":e="Live Classes";break;case"/about/:condition":e="About";break;case"/groups/:condition":e="Groups";break;case"/instructor/:condition":e="Instructors";break;case"/programs/:type":e="Programs";break;default:e="Select"}return e}},{key:"render",value:function(){return s.a.createElement("section",{className:"false"==Go.Cookies.get("closeBanner")&&!this.props.close_banner||("undefined"==typeof Go.Cookies.get("closeBannerKD")||"false"==Go.Cookies.get("closeBannerKD"))&&!this.props.close_banner_kd?"condemand":"condemand m-t-80"},s.a.createElement("div",{className:"false"==Go.Cookies.get("closeBanner")&&!this.props.close_banner||("undefined"==typeof Go.Cookies.get("closeBannerKD")||"false"==Go.Cookies.get("closeBannerKD"))&&!this.props.close_banner_kd?"tab_group m-t-20":"tab_group m-t-50"},s.a.createElement("div",{className:"tab-content  col-md-12 p-0"},"/on-demand/:condition"===this.props.match.path&&s.a.createElement(Jc,{params:this.props.match.params,history:this.props.history}),"/liveClasses/:condition"===this.props.match.path&&s.a.createElement(tm,{params:this.props.match.params,location:this.props.location}),"/about/:condition"===this.props.match.path&&s.a.createElement(gd,{params:this.props.match.params,location:this.props.location,history:this.props.history}),"/groups/:condition"===this.props.match.path&&s.a.createElement(Rd,{params:this.props.match.params,location:this.props.location,history:this.props.history}),"/instructor/:condition"===this.props.match.path&&s.a.createElement(xd,{params:this.props.match.params,location:this.props.location,history:this.props.history}),"/programs/:condition"===this.props.match.path&&s.a.createElement(zd,Object.assign({params:this.props.match.params,location:this.props.location,history:this.props.history},this.props)))))}}]),a}(s.a.Component),Jd={fetchProgrammeList:co,ondemandList:sa,fetchClassList:Ia,fetchRecentBlogs:io,ondemandGroupList:Ka,getInstructorsList:La},Qd=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,condition:e.auth.condition,close_banner:e.header.close_banner,close_banner_kd:e.header.close_banner_kd}}),Jd)(Kd),Zd=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={Loading:!0,isSaveLoading:!1,blogList:[],show_more_cnt:15,search:"",list_count:"",offset:1},o.lastState=o.props.match.params.type,o.clearState=o.clearState.bind(Object(is.a)(o)),o.getBlogList=o.getBlogList.bind(Object(is.a)(o)),o.incrementShowmoreCnt=o.incrementShowmoreCnt.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.clearState(),window.scrollTo(0,0)}},{key:"componentWillReceiveProps",value:function(e){console.log("componentWillReceiveProps"),this.lastState!=e.match.params.type&&(this.lastState=e.match.params.type,this.setState({typeFilter:e.match.params.type},(function(){this.clearState()})))}},{key:"clearState",value:function(){this.setState({blogList:[],show_more_cnt:15,search:"",list_count:0,offset:1},(function(){this.getBlogList()}))}},{key:"incrementShowmoreCnt",value:function(){this.setState({offset:this.state.offset+1},(function(){this.getBlogList()}))}},{key:"getBlogList",value:function(){var e=this,t=this.props.match.params.type?this.props.match.params.type.replace("'",""):"",a="Help"==t?t.toLowerCase()+"-"+Go.Cookies.get("condition"):t,o={offset:this.state.offset,limit:15,search:this.state.search,condition:a};this.setState({Loading:!0}),this.props.fetchBlogs(o).then((function(t){t&&t.list&&e.setState({Loading:!1,list_count:t.list.count,blogList:t.list.blogs?[].concat(Object(Lo.a)(e.state.blogList),Object(Lo.a)(t.list.blogs)):[]})}),(function(t){e.setState({Loading:!1}),at.b.error(t)}))}},{key:"saveBlog",value:function(e){var t=this;if(this.props.is_auth){if(!this.state.isSaveLoading){this.setState({isSaveLoading:!0});var a=this.state.blogList[e],o={blogId:a.uid};this.props.saveBlog(o,a.isSaved).then((function(a){if(a){var o=Object(Lo.a)(t.state.blogList);o[e].isSaved=!o[e].isSaved,t.setState({blogList:o,isSaveLoading:!1}),at.b.success(a.message)}}),(function(e){t.setState({isSaveLoading:!1}),at.b.error(e)}))}}else this.props.loginModelOpen(!0)}},{key:"pagingButton",value:function(){return this.state.blogList.length&&this.state.blogList.length<this.state.list_count?s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement("button",{disabled:this.state.blogList.length>=this.state.list_count,onClick:this.incrementShowmoreCnt,className:"btn btn-orange m-t-40 m-b-40 font-book"},"Show more blogs")):this.state.blogList&&0!==this.state.blogList.length?void 0:s.a.createElement("div",{className:"text-center w-100"},this.state.Loading?s.a.createElement(qs,null):"There are no blogs!")}},{key:"tabRename",value:function(e){var t=e;return"news"===e&&(t="Beam News"),t}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:("undefined"!=typeof Go.Cookies.get("closeBanner")&&"false"!=Go.Cookies.get("closeBanner")||this.props.close_banner)&&("undefined"!=typeof Go.Cookies.get("closeBannerKD")&&"false"!=Go.Cookies.get("closeBannerKD")||this.props.close_banner_kd)?"blog_page m-t-80":"blog_page"},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"Blog",ye),s.a.createElement("meta",{property:"og:title",content:"Blog"+ye}),s.a.createElement("meta",{property:"og:description",content:"The Beam blog is bursting with inspiration to help you move more. Find yourself a good read that aligns with your interests while covering your medical needs."}),s.a.createElement("meta",{property:"og:image",content:Me}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Yellow character waving with blue background"})),s.a.createElement("div",{className:"banner_blog p-t-30 p-b-30"},s.a.createElement("div",{className:"container"},s.a.createElement("h3",{className:"font-37 font-medium black-txt text-center p-t-10 p-b-30 capitalize_text"},"Welcome to the Beam Blog"))),s.a.createElement("div",{className:"tab_group"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:" mx-auto tab_full d-none d-sm-none d-md-block d-lg-block"},s.a.createElement("ul",{className:"nav nav-tabs small justify-content-left mx-auto  tab_ul",role:"tablist"},ce&&ce.map((function(t,a){var o=Go.Cookies.get("condition")?Go.Cookies.get("condition"):e.props.match.params.type;return me.includes(t)||t!=_o.replaceChar(o,!0)?me.includes(t)?s.a.createElement("li",{className:"nav-item",key:a},s.a.createElement(Qo.b,{className:(e.props.match.params.type===_o.replaceChar(t,!1)?"active":"")+" nav-link font-semibold",to:"/blog/"+_o.replaceChar(t,!1),onClick:function(){e.props.setCondition(t)}},s.a.createElement("span",{className:"font-15 font-book capitalize_text"},e.tabRename(t)))):void 0:s.a.createElement("li",{className:"nav-item",key:a},s.a.createElement(Qo.b,{className:(e.props.match.params.type===_o.replaceChar(t,!1)?"active":"")+" nav-link font-semibold",to:"/blog/"+_o.replaceChar(t,!1),onClick:function(){e.props.setCondition(t)}},s.a.createElement("span",{className:"font-15 font-book capitalize_text"},e.tabRename(t))))}))))),s.a.createElement("div",{className:"dropdown tab-sm-group tab-btn d-block d-sm-block d-md-none d-lg-none"},s.a.createElement("button",{type:"button",className:"btn btn-default font-medium font-14 tab-select dropdown-toggle capitalize_text","data-toggle":"dropdown"}," ",this.tabRename(_o.replaceChar(this.props.match.params.type,!0)),s.a.createElement("span",{className:"slt"})),s.a.createElement("div",{className:"dropdown-menu text-center"},ce&&ce.map((function(t,a){var o=Go.Cookies.get("condition")?Go.Cookies.get("condition"):e.props.match.params.type;return me.includes(t)||t!=_o.replaceChar(o,!0)?me.includes(t)?s.a.createElement(Qo.b,{key:a,className:(e.props.match.params.type===_o.replaceChar(t,!1)?"active":"")+" nav-link font-semibold",to:"/blog/"+_o.replaceChar(t,!1),onClick:function(){e.props.setCondition(t)}},s.a.createElement("span",{className:"font-15 font-book capitalize_text"},e.tabRename(t))):void 0:s.a.createElement(Qo.b,{key:a,className:(e.props.match.params.type===_o.replaceChar(t,!1)?"active":"")+" nav-link font-semibold",to:"/blog/"+_o.replaceChar(t,!1),onClick:function(){e.props.setCondition(t)}},s.a.createElement("span",{className:"font-15 font-book capitalize_text"},e.tabRename(t)))}))))),s.a.createElement("div",{className:"tab-content dash_tab  col-md-12 p-0"},s.a.createElement("div",{className:"tab-pane  py-4 active"},s.a.createElement("div",{className:"container-fluid mx-auto w-95 p-0"},s.a.createElement("div",{className:"row"},this.state.blogList.filter((function(e){return e.data})).map((function(t,a){return s.a.createElement("div",{key:a,className:"col-lg-4 col-md-6 col-sm-12 m-b-20"},s.a.createElement("div",{className:"card h-100"},s.a.createElement(Qo.b,{to:"/blogs/"+t.uid},s.a.createElement(hn,{className:"card-img-top",src:t.data.thumbnail_img&&t.data.thumbnail_img.url?t.data.thumbnail_img.url:D+"no-image.png"})),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("p",{className:"dblog_head black-txt font-16 font-qregular float-left capitalize_text"},t.tags.toString().replace(",","/ ")),s.a.createElement("div",{className:"bookmark-left float-right text-right"},s.a.createElement("em",{className:"fa fa-bookmark-o pointer"+(!0===t.isSaved?" orangefont":""),onClick:function(){return e.saveBlog(a)}})),s.a.createElement("p",{className:"dblog_title font-semibold font-18 black-txt pull-left text-left m-b-5"},s.a.createElement(Qo.b,{to:"/blogs/"+t.uid},s.a.createElement(fn,{text:t.data.title&&t.data.title.length>0?t.data.title[0].text:"",limit:68}))),s.a.createElement("p",{className:"dblog_head black-txt font-16 font-qregular float-left capitalize_text"},s.a.createElement("span",null," Author:"),s.a.createElement("span",{className:"p-l-10"},t.data.author&&t.data.author.length>0?t.data.author[0].text:"")),s.a.createElement("p",{className:"font-qmedium dblog_text m-b-0 pull-left text-left font-16"},s.a.createElement(fn,{text:t.data.preview_text&&t.data.preview_text.length>0?t.data.preview_text[0].text:"",limit:120}))))))})),this.pagingButton()))))))}}]),a}(s.a.Component),Xd={fetchBlogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,a){var o=tt(),s=h+"/api/blog?cat="+e.condition+"&search="+e.search+"&limit="+e.limit+"&offset="+e.offset;return fetch(s,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},setCondition:lt,saveBlog:lo,loginModelOpen:pt},$d=Object(i.b)((function(e){return{healthcondition_list:e.register.healthcondition_list,userData:e.header.logged_userData,is_auth:e.auth.is_auth,close_banner:e.header.close_banner,close_banner_kd:e.header.close_banner_kd}}),Xd)(Zd),ep=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={blogDetail:{},relatedBlog:[],isSaved:!1,share_enable:!1,loader:!1},o.props.history.listen((function(e,t){o.clearDatas()})),o.clearDatas=o.clearDatas.bind(Object(is.a)(o)),o.getBlogDetail=o.getBlogDetail.bind(Object(is.a)(o)),o.goback=o.goback.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.getBlogDetail()}},{key:"clearDatas",value:function(){window.scrollTo(0,0),this.setState({blogDetail:{},relatedBlog:[]},(function(){this.getBlogDetail()}))}},{key:"getBlogDetail",value:function(){var e=this,t=this.props.match.params.blogName;this.setState({loader:!0}),this.props.fetchBlogDetail(t).then((function(t){t?(e.setState({blogDetail:{},relatedBlog:[],loader:!1}),t.blog&&e.setState({blogDetail:t.blog,isSaved:t.isSaved}),t.relatedBlogs&&t.relatedBlogs&&e.setState({relatedBlog:t.relatedBlogs}),e.props.stop_loader()):e.setState({loader:!1})}),(function(t){e.props.stop_loader(),e.setState({loader:!1}),at.b.error(t)}))}},{key:"saveBlog",value:function(){var e=this;if(this.props.is_auth){this.props.start_loader();var t={blogId:this.props.match.params.blogName};this.props.saveBlog(t,this.state.isSaved).then((function(t){t&&(e.setState({isSaved:!e.state.isSaved}),at.b.success(t.message),e.props.stop_loader())}),(function(t){e.props.stop_loader(),at.b.error(t)}))}else this.props.loginModelOpen(!0)}},{key:"goback",value:function(){var e={from:{pathname:"/blog/"+_o.replaceChar("undefined"!=typeof Go.Cookies.get("condition")?Go.Cookies.get("condition"):this.props.condition,!1)}}.from;this.props.history.push(e)}},{key:"socialShare",value:function(e,t,a){var o=this;return e=window.location.href,s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,s.a.createElement("em",{className:"fa fa-bookmark-o pointer"+(!0===a?" orangefont":""),onClick:function(){return o.saveBlog()}})),s.a.createElement("span",{className:"pointer",onClick:function(){return o.setState({share_enable:!o.state.share_enable})}},s.a.createElement("em",{className:"fa fa-share pointer"})),this.state.share_enable&&s.a.createElement("div",{className:"share-section"},s.a.createElement("span",null,s.a.createElement(Zr.a,{url:e,subject:t,body:"body",className:"pointer"},s.a.createElement(Xr.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement($r.a,{url:e,quote:t,className:"pointer"},s.a.createElement(ei.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(ti.a,{url:e,title:t,separator:":: ",className:"pointer"},s.a.createElement(ai.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(oi.a,{url:e,title:t,className:"pointer"},s.a.createElement(si.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(ni.a,{url:e,windowWidth:750,windowHeight:600,className:"pointer"},s.a.createElement(ri.a,{size:32,round:!0})))))}},{key:"imageSection",value:function(e,t){var a=e.items&&e.items.length>0?e.items[0].blog_image.url:"";return s.a.createElement("figure",{className:"position-relative image-text-blog m-t-20"},s.a.createElement("div",{className:"social_blog"},0===t||1===t?s.a.createElement(s.a.Fragment,null,this.socialShare(this.state.blogDetail.href,this.state.blogDetail.uid,this.state.isSaved)," "):""),s.a.createElement(hn,{className:"img-fluid",src:a}))}},{key:"questionSection",value:function(e){var t=e.primary.section_title;return s.a.createElement("h4",{className:"font-24 font-semibold m-t-20 m-b-20"},Cm.RichText.asText(t))}},{key:"answerSection",value:function(e){var t=e.items&&e.items.length>0?e.items[0].blog_text:[];return s.a.createElement(Cm.RichText,{className:"font-14 font-qregular black-txt",render:t})}},{key:"videoSection",value:function(e){var t=e.items&&e.items.length>0?e.items[0].blog_video.html:"";return s.a.createElement("div",{class:"text-center",dangerouslySetInnerHTML:{__html:t}})}},{key:"htmlSection",value:function(e){var t=e.items&&e.items.length>0?e.items[0].blog_html:[];return s.a.createElement("div",{dangerouslySetInnerHTML:{__html:Cm.RichText.asText(t)}})}},{key:"renderMetaTags",value:function(e){var t=e.data.body.map((function(e,t){return"textsection"===e.slice_type&&e.items&&e.items.length>0?e.items[0].blog_text[0].text:""}));return t=(t=t.filter((function(e){return""!=e}))).length>0?t[0]:"",s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,Cm.RichText.asText(e.data.title)," - Blog",ye),s.a.createElement("meta",{property:"og:title",content:Cm.RichText.asText(e.data.title)+" - Blog"+ye}),s.a.createElement("meta",{property:"og:description",content:t}),s.a.createElement("meta",{property:"og:image",content:"Blog post thumbnail or first image"}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:Cm.RichText.asText(e.data.title)}))}},{key:"render",value:function(){var e=this;console.log("blogDetail",this.state.blogDetail);var t={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1};return s.a.createElement("section",{className:"blog_details_page  m-t-80"},Object.keys(this.state.blogDetail).length>0&&this.state.blogDetail.constructor===Object&&s.a.createElement("div",{className:"blog_details_container offset-lg-3 col-lg-6 offset-md-3 col-md-6 col-xs-10 col-10 mx-auto "},Object.keys(this.state.blogDetail).length>0&&this.renderMetaTags(this.state.blogDetail),s.a.createElement("div",{className:"related-top m-b-30"},s.a.createElement("a",{href:"javascript:void(0)",onClick:this.goback,className:"font-15 font-book m-b-20 font-normal black-txt float-left w-100 "},s.a.createElement("i",{className:"fa fa-chevron-left p-r-5"}),"back to all posts"),s.a.createElement("p",{className:"blogbreadcrum font-qregular font-14 black-txt capitalize_text"},this.state.blogDetail.tags.toString().replace(",","/ ")),s.a.createElement("h1",{className:"font-37 font-medium orangefont m-b-5"},this.state.blogDetail.data.title&&this.state.blogDetail.data.title.length>0?Cm.RichText.asText(this.state.blogDetail.data.title):""),s.a.createElement("p",{className:"blogbreadcrum font-qregular font-14 black-txt"},"Author: ",this.state.blogDetail.data.author&&this.state.blogDetail.data.author.length>0?Cm.RichText.asText(this.state.blogDetail.data.author):""),s.a.createElement("div",{className:"blog_dyn_section"},this.state.blogDetail.data&&this.state.blogDetail.data.body.map((function(t,a){return s.a.createElement(s.a.Fragment,{key:a},"imagesection"===t.slice_type&&e.imageSection(t,a),"titlesection"===t.slice_type&&e.questionSection(t),"textsection"===t.slice_type&&e.answerSection(t),"videosection"===t.slice_type&&e.videoSection(t),"htmlsection"===t.slice_type&&e.htmlSection(t))})))),s.a.createElement("hr",null),s.a.createElement("div",{className:"related m-t-30  mobile-view-blog"},s.a.createElement("h4",{className:"font-24 font-semibold"},"Related Articles"),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 m-t-20 m-b-20 p-0 clearfix"},s.a.createElement(li.a,t,this.state.relatedBlog.filter((function(e){return e.data})).map((function(e,t){return s.a.createElement("div",{key:t,className:"col-lg-6 col-md-12 col-sm-12 float-left m-b-20 p-l-0"},s.a.createElement("div",{className:"card fixed_blog_height"},s.a.createElement(Qo.b,{to:"/blogs/"+e.uid},s.a.createElement(hn,{className:"card-img-top",src:e.data.thumbnail_img&&e.data.thumbnail_img.url?e.data.thumbnail_img.url:D+"no-image.png"})),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("p",{className:"dblog_head black-txt font-16 font-qregular float-left capitalize_text"},e.tags.toString().replace(",","/ ")),s.a.createElement("div",{className:"bookmark-left float-right text-right"},s.a.createElement("em",{className:"fa fa-bookmark-o "})),s.a.createElement("p",{className:"author_bold dblog_title font-semibold font-16 black-txt pull-left text-left m-b-5"},s.a.createElement(fn,{text:e.data.title&&e.data.title.length>0?e.data.title[0].text:"",limit:68})),s.a.createElement("p",{className:"author_bold dblog_head black-txt font-16 font-qregular float-left capitalize_text"},s.a.createElement("span",null," Author:"),s.a.createElement("span",{className:"p-l-10"},e.data.author&&e.data.author.length>0?Cm.RichText.asText(e.data.author):"")),s.a.createElement("p",{className:"font-qmedium dblog_text m-b-0 pull-left text-left font-16"},s.a.createElement(fn,{text:e.data.preview_text&&e.data.preview_text.length>0?e.data.preview_text[0].text:"",limit:100}))))))})))))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement(Qo.b,{className:"btn btn-orange m-t-20 m-b-50 font-book",to:"/blog/"+_o.replaceChar(this.props.condition,!1)},"View all blog posts"))),s.a.createElement("div",{className:"related m-t-30 desktop-view-blog"},s.a.createElement("h4",{className:"font-24 font-semibold"},"Related Articles"),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 m-t-20 m-b-20 p-0 clearfix"},this.state.relatedBlog.filter((function(e){return e.data})).map((function(e,t){return s.a.createElement("div",{key:t,className:"col-lg-6 col-md-12 col-sm-12 float-left m-b-20 p-l-0"},s.a.createElement("div",{className:"card fixed_blog_height"},s.a.createElement(Qo.b,{to:"/blogs/"+e.uid},s.a.createElement(hn,{className:"card-img-top",src:e.data.thumbnail_img&&e.data.thumbnail_img.url?e.data.thumbnail_img.url:D+"no-image.png"})),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("p",{className:"dblog_head black-txt font-16 font-qregular float-left capitalize_text"},e.tags.toString().replace(",","/ ")),s.a.createElement("div",{className:"bookmark-left float-right text-right"},s.a.createElement("em",{className:"fa fa-bookmark-o "})),s.a.createElement("p",{className:"author_bold dblog_title font-semibold font-16 black-txt pull-left text-left m-b-5"},s.a.createElement(fn,{text:e.data.title&&e.data.title.length>0?e.data.title[0].text:"",limit:68})),s.a.createElement("p",{className:"author_bold dblog_head black-txt font-16 font-qregular float-left capitalize_text"},s.a.createElement("span",null," Author:"),s.a.createElement("span",{className:"p-l-10"},e.data.author&&e.data.author.length>0?Cm.RichText.asText(e.data.author):"")),s.a.createElement("p",{className:"font-qmedium dblog_text m-b-0 pull-left text-left font-16"},s.a.createElement(fn,{text:e.data.preview_text&&e.data.preview_text.length>0?e.data.preview_text[0].text:"",limit:100}))))))}))))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement(Qo.b,{className:"btn btn-orange m-t-20 m-b-50 font-book",to:"/blog/"+_o.replaceChar(this.props.condition,!1)},"View all blog posts")))),s.a.createElement("div",{className:"text-center w-100"},this.state.loader&&s.a.createElement(qs,null)))}}]),a}(s.a.Component),tp={start_loader:ht,stop_loader:gt,fetchBlogDetail:function(e){return function(t,a){var o=tt();return fetch(h+"/api/blog/"+e,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},saveBlog:lo,loginModelOpen:pt},ap=Object(i.b)((function(e){return{condition:e.auth.condition,is_auth:e.auth.is_auth}}),tp)(ep),op=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={search:""},o.props.history.listen((function(e,t){o.clearState()})),o.clearState=o.clearState.bind(Object(is.a)(o)),o.handleChange=o.handleChange.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.getHelPContent()}},{key:"clearState",value:function(){this.setState({search:""},(function(){this.getHelPContent()}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(rs.a)({},a,o))}},{key:"getHelPContent",value:function(){var e=this;this.props.start_loader(),this.props.fetchHelp(this.props.match.params.type).then((function(t){t&&e.props.stop_loader()}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"showMobileListName",value:function(){var e;return"faq"===this.props.match.params.type?e="FAQ":this.props.match.params.type&&(e=_o.replaceChar(this.props.match.params.type,!0)),e}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"help  m-t-70"},s.a.createElement("div",{className:"help-bg text-center p-t-10 p-b-90",id:"help"},s.a.createElement("div",{className:"container"},s.a.createElement("h3",{className:"font-medium font-37 black-txt p-t-40 p-b-100"},"How can we help?"),s.a.createElement("div",{className:"input-group mx-auto w-75 search-btn"},s.a.createElement("input",{onChange:this.handleChange,value:this.state.search,type:"text",className:"form-control font-14 font-qregular",name:"search",placeholder:"What are you looking for?"}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-secondary font-14 font-medium",type:"button"},"Search"))))),s.a.createElement("div",{className:"help_tabs m-t-60 m-b-60"},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6 col-lg-4 mb-3 d-none d-sm-none d-md-block d-lg-block"},s.a.createElement("ul",{className:"nav nav-pills flex-column",id:"myTab",role:"tablist"},this.props.healthcondition_list&&this.props.healthcondition_list.map((function(t,a){return s.a.createElement("li",{className:"nav-item",key:a},s.a.createElement(Qo.b,{className:(e.props.match.params.type===_o.replaceChar(t.tag,!1)?"active":"")+" nav-link font-medium font-21 m-b-10",to:"/help/"+_o.replaceChar(t.tag,!1),onClick:function(){e.props.setCondition(t.tag)}},s.a.createElement("span",{className:"capitalize_text"},t.tag)))})),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:("faq"===this.props.match.params.type?"active":"")+" nav-link font-medium font-21 m-b-10",to:"/help/faq"},"FAQ")))),s.a.createElement("div",{className:"col-12 mb-3 d-block d-sm-block d-md-none d-lg-none"},s.a.createElement("div",{className:"dropdown tab-btn w-100"},s.a.createElement("button",{type:"button",className:"btn btn-default font-medium font-14 tab-select dropdown-toggle capitalize_text","data-toggle":"dropdown"},this.showMobileListName(),s.a.createElement("span",{className:"slt"})),s.a.createElement("div",{className:"dropdown-menu"},this.props.healthcondition_list&&this.props.healthcondition_list.map((function(t,a){return s.a.createElement(Qo.b,{key:a,className:(e.props.match.params.type===_o.replaceChar(t.tag,!1)?"active":"")+" nav-link font-medium font-21 m-b-10",to:"/help/"+_o.replaceChar(t.tag,!1),onClick:function(){e.props.setCondition(t.tag)}},s.a.createElement("span",{className:"capitalize_text"},t.tag))})),s.a.createElement(Qo.b,{className:("faq"===this.props.match.params.type?"active":"")+" nav-link font-medium font-21 m-b-10",to:"/help/faq"},s.a.createElement("span",null,"FAQ"))))),s.a.createElement("div",{className:"col-md-6 col-lg-8 "},s.a.createElement("div",{className:"general-section"},s.a.createElement("h4",{className:"orangefont font-24 font-semibold font-normal m-b-20"},"Lorem ipsum dolor sit amet?"),s.a.createElement("p",{className:"font-qregular font-14 black-txt"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod ligula ac sapien iaculis, non tristique lorem egestas. Fusce eget ex sit amet sapien ultricies porta vel sit amet nulla. Ut id lacus porta, malesuada purus at, viverra mi. Sed venenatis dui leo, eget finibus purus egestas ac. Morbi eu ultricies neque, vitae facilisis magna. Nam et urna quam. Nullam aliquam, mauris ac commodo vestibulum, risus quam ornare tortor, vel sodales ligula ex sit amet mi. Curabitur pellentesque nulla ut tempus tempus. Duis sit amet magna sit amet ipsum placerat varius.",s.a.createElement("br",null),"Integer orci tortor, aliquet sit amet neque vel, consequat accumsan libero. Aenean ultricies turpis vitae semper egestas. Sed ex nunc, commodo in feugiat eget, sagittis eget sem. Mauris diam orci, feugiat vel egestas quis, laoreet sit amet arcu. Nulla vel commodo augue. Donec convallis metus tempor, dapibus ante et, scelerisque neque. Nullam et aliquam nulla. Integer luctus imperdiet gravida. Pellentesque molestie lorem at diam lacinia venenatis.")))))))}}]),a}(s.a.Component),sp={start_loader:ht,stop_loader:gt,fetchHelp:function(e){return function(t,a){var o=tt();return fetch(h+"/api/help/"+e,o).then((function(e){return go(e,t)})).then((function(e){return e}))}},setCondition:lt},np=Object(i.b)((function(e){return{healthcondition_list:e.register.healthcondition_list,userData:e.header.logged_userData}}),sp)(op),rp=a(2354),ip=a(2351),lp=a(2353),cp=a(2347),mp=a(2348),dp=a(2349),pp=a(2350);lp.a.use([cp.a,mp.a,dp.a,pp.a]);var up,hp=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).startTrailerVideo=function(e){o.setState({enable_player:!0,programTrailerURL:e})},o.fetchProgrammeDetail=function(){var e={programId:o.state.programId};o.setState({loader:!0}),o.props.ProgrammeDetail(e).then((function(e){if(e){var t=e.programmeDetail?e.programmeDetail:{};o.setState({programmeDetail:t,programmeTags:t.ProgramTags,programWorkouts:t.ProgramWorkouts}),o.fetchProgrammeWorkouts(e.programmeDetail)}}),(function(e){o.setState({loader:!1}),at.b.error(e)}))},o.fetchProgrammeWorkouts=function(e){var t={programId:o.props.match.params.programId};if(e.UserPrograms&&e.UserPrograms.length){var a=Eo.a.sortBy(e.UserPrograms,(function(e){return e.id})).reverse();t.userProgramId=a[0].id}o.props.ProgrammeDetailWorkouts(t).then((function(e){o.setState({loader:!1}),e&&o.setState({workoutList:e.list,count:e.count,completedClass:e.completedClass,completedPrograms:e.completedPrograms})}),(function(e){o.setState({loader:!1}),at.b.error(e)}))},o.startNextClass=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=0;if(!e)s=a||0;var n={workout:t[s].Workout};o.setState({workoutId:t[s].workoutId,ondemand_detail_data:n,isStartProgram:!!e},(function(){this.props.isPlayOndemand(!0)}))},o.savePageUrl=function(e){if(e){var t=e;Go.Cookies.set("current-page-url",t)}},o.scrollToBottom=function(){"#classes"===o.props.location.hash?o.messagesEnd.scrollIntoView({behavior:"smooth"}):window.scrollTo(0,0)},o.state={programmeDetail:{},programmeTags:[],programWorkouts:[],offset:0,limit:3,workoutList:[],count:0,condition:o.props.match.params.condition,programId:o.props.match.params.programId,isJoinedNow:!1,completedClass:0,completedPrograms:0,enable_player:!1,programTrailerURL:"",loader:!1},o.goback=o.goback.bind(Object(is.a)(o)),o.activeSlideKey=0,o.swiperRef=s.a.createRef(),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.fetchProgrammeDetail(),this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"componentWillReceiveProps",value:function(e){e.active_slider!=this.props.active_slider&&this.swiperRef.current.slideTo(e.active_slider)}},{key:"closeVideoModel",value:function(){this.setState({enable_player:!1})}},{key:"joinProgram",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;if(this.props.is_auth){var s={programId:e};this.props.joinToProgram(s).then((function(s){t.setState({isJoinedNow:!0}),s.status?(t.fetchProgrammeDetail(),t.setState({userProgramId:s.data.id}),a&&t.startNextClass(e,o),at.b.success(s.message)):at.b.error(s.message)}),(function(e){t.setState({isJoinedNow:!1}),at.b.error(e)}))}else this.props.loginModelOpen(!0)}},{key:"renderEquipments",value:function(e){var t=[];if(e&&e.length>0&&e.map((function(e,a){e.Workout.WorkoutTags&&e.Workout.WorkoutTags.length>0&&e.Workout.WorkoutTags.map((function(e,a){e.Tag&&(t&&-1!==t.indexOf(e.Tag.tag)||"equipment"!==e.Tag.type||!e.Tag.tag||"None"===e.Tag.tag||t.push(e.Tag.tag))}))})),t&&t.length>0)return t.map((function(e,t){return s.a.createElement("p",{key:"ep_"+t},e)}))}},{key:"goback",value:function(){window.history.back()}},{key:"render",value:function(){var e=this;(this.state.programmeDetail.UserProgram||this.state.userProgramId&&this.state.isJoinedNow)&&(this.state.programmeDetail.UserProgram&&this.state.programmeDetail.UserProgram.id?this.state.programmeDetail.UserProgram.id:this.state.userProgramId);var t=Eo.a.sortBy(this.state.workoutList,(function(e){return e.workoutNum}));console.log("this.state.programWorkoutsRecent",t);var a=Eo.a.orderBy(this.state.workoutList,(function(e){return new bo.a(e.completedAt)}),["desc"]);console.log("this.state.programWorkoutsRecent",a);var o=Eo.a.find(a,{isCompleted:!0});console.log("this.state.completedWorkout",o);var n=0;return o&&Object.keys(o).length&&(n=o.workoutNum),console.log("this.state.completedWorkoutOrder",n),s.a.createElement("div",{className:"program_detailcontent m-t-80"},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,this.state.programmeDetail.title?this.state.programmeDetail.title:""," - Program",this.props.match.params.condition,ye),s.a.createElement("meta",{property:"og:title",content:this.state.programmeDetail.title?this.state.programmeDetail.title:" - Program"+this.props.match.params.condition+ye}),s.a.createElement("meta",{property:"og:description",content:"Programs on Beam are collections of classes designed to give you a little more direction or to help you reach a specific goal."}),s.a.createElement("meta",{property:"og:image",content:Pe}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:Pe})),!this.state.loader&&s.a.createElement("div",{className:"col-lg-8 offset-lg-2 col-md-8 offset-md-2 detailpage-width mobile_mr_align"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"program_heading p-t-40 p-b-5 col-lg-12"},s.a.createElement("div",{className:"m-b-10"},s.a.createElement("a",{href:"javascript:void(0)",onClick:this.goback,className:"font-15 font-book m-b-10 font-normal black-txt"}," ",s.a.createElement("i",{className:"fa fa-chevron-left"})," back to all programs")),s.a.createElement("div",{className:"row col-md-12 mobile_view_hide mobileview_center align-items-center"},s.a.createElement("h4",{className:"font-semibold font-24 darkblue-text col-md-8 d-flex align-items-center"},this.state.programmeDetail.title,this.state.programmeDetail.trailerURL&&s.a.createElement("button",{className:"ml-3 btn button-filter  font-medium font-14 pointer btn-purple-inverse d-flex align-items-center pl-1 pr-1 mb-0 justify-content-center mw_150",onClick:function(){e.startTrailerVideo(e.state.programmeDetail.trailerURL)}}," ",s.a.createElement("img",{src:D+"play-purple-icon.png",width:"18px",className:"mr-2"})," Watch trailer")),s.a.createElement("h4",{className:"font-semibold font-24 orangefont col-md-4 text-right"},this.state.workoutList.length," Classes")),s.a.createElement("div",{className:"mobile_view_show"},s.a.createElement("div",{className:"row col-md-12 mobileview_center align-items-center"},s.a.createElement("h4",{className:"font-semibold font-24 darkblue-text col-md-12 text-center mx-auto my-3"},this.state.programmeDetail.title),s.a.createElement("h4",{className:"font-semibold font-24 orangefont col-md-12 mx-auto text-center"},this.state.workoutList.length," Classes"),this.state.programmeDetail.trailerURL&&s.a.createElement("button",{className:"ml-3 btn button-filter  font-medium font-14 pointer mx-auto my-3 btn-purple-inverse d-flex align-items-center pl-1 pr-1 mb-0 justify-content-center",onClick:function(){e.startTrailerVideo(e.state.programmeDetail.trailerURL)}}," ",s.a.createElement("img",{src:D+"play-purple-icon.png",width:"18px",className:"mr-2"})," Watch trailer"))))),s.a.createElement("div",{className:"demand-section--3  m-t-30 "},s.a.createElement("div",{className:"row position-relative landing_swiper swipernavDetail"},s.a.createElement(rp.a,{containerModifierClass:"w-90 ",breakpoints:{1:{slidesPerView:1,spaceBetweenSlides:0},1e3:{slidesPerView:3,spaceBetweenSlides:40}},spaceBetween:10,initialSlide:this.props.active_slider,observeParents:!0,observer:!0,observeSlideChildren:!0,watchSlidesProgress:!0,onSlideChange:function(){},loop:!1,navigation:{nextEl:".swipernavDetail .swiper-button-next",prevEl:".swipernavDetail .swiper-button-prev"},className:"mySwiper",onSwiper:function(t){e.swiperRef.current=t}},t&&t.length>0&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},s.a.createElement("div",{className:"row"},t.map((function(a,o){var r=!1;if(n)0==o&&o<n&&!t[0].isCompleted?(r=!0,e.activeSlideKey=0,e.props.setActiveSlider(o)):(o&&o==n&&t[n-1].isCompleted&&!t[n].isCompleted&&t[0].isCompleted||o&&o>n&&o-1==n&&!t[n+1].isCompleted&&t[n].isCompleted&&!t[n+1].isCompleted)&&(r=o+1<=e.state.count,e.activeSlideKey=o,e.props.setActiveSlider(o));else{r=!1;o&&t[o-1].isCompleted&&!t[o].isCompleted?(r=o+1<=e.state.count,e.activeSlideKey=o,e.props.setActiveSlider(o)):a.isCompleted||0!=o||(r=!0,e.activeSlideKey=o,e.props.setActiveSlider(o))}return s.a.createElement(ip.a,null,s.a.createElement("div",{className:"card h-100 p-b-30 complet_items_an",key:"session_"+o},s.a.createElement("div",{className:""},s.a.createElement("a",{className:"pointer class-anchor position-relative d-block "+(r?"":"default-cursor"),onClick:function(){0!=o||e.state.programmeDetail.UserPrograms.length?r&&e.startNextClass(0,t,o):e.startNextClass(e.state.programmeDetail.id,t,o)}},s.a.createElement(hn,{className:"img-fluid image-size-new rounded img-responsive",src:x+a.Workout.id+"-img.png"}),s.a.createElement("span",{className:"position-absolute vid_time"},s.a.createElement("span",null,a.Workout.length," mins")),a.isCompleted&&s.a.createElement("span",{className:" font-semibold font-18 floatings_items"},s.a.createElement("span",null," Completed "),s.a.createElement("span",null," ",bo()(a.completedAt).format("ddd Do MMM YYYY")," ")),r&&s.a.createElement("img",{src:D+"play-purple-icon.png",width:"50px",className:"play-icon-purple"}))),s.a.createElement("div",{className:"card-body swipercard"},s.a.createElement("div",{className:"w-100 float-left m-b-10"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("h3",{className:"black-txt font-16 font-semibold capitalize_text float-left w-75"},a.Workout.title),s.a.createElement("div",{className:"bookmark-left float-right text-right w-25"},s.a.createElement(En,{ondemand_data:a.Workout,location:e.props.location,history:e.props.history,pageName:"programme_detail"}),s.a.createElement("b",{className:"m-l-10"},s.a.createElement(Kr,{className:"m-l-10",page:"programme_detail",workoutData:a.Workout}))),s.a.createElement("div",{className:"bookmark-left m-l-10 float-left"}))),s.a.createElement("div",{className:"w-100 float-left"},s.a.createElement("div",{className:"col-12 float-left m-b-10 p-0"},s.a.createElement("div",{className:"left-image leftwidth-set p-0 border-0 float-left"},s.a.createElement(hn,{className:"img-fluid rounded-circle",src:a.Workout&&a.Workout.Instructor&&a.Workout.Instructor.img?S+a.Workout.Instructor.img:D+"no-image.png",alt:""})),s.a.createElement("p",{className:"float-left m-t-5 font-14 black-txt font-qregular p-l-10"},a.Workout.Instructor.hasProfile&&s.a.createElement(Qo.b,{to:"/instructor/"+a.Workout.Instructor.id+"/"+e.props.match.params.condition,className:"font-14 font-qregular black-txt p-l-5"},a.Workout.Instructor.User.name," ",a.Workout.Instructor.User.lastName),!a.Workout.Instructor.hasProfile&&s.a.createElement("span",{className:"font-14 font-qregular black-txt p-l-5"},a.Workout.Instructor.User.name," ",a.Workout.Instructor.User.lastName))),s.a.createElement("div",{className:"col-12 float-left p-0"},s.a.createElement("div",{className:"font-medium row"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"},s.a.createElement("div",{className:"col-md-12 col-sm-12 d-flex p-0"},s.a.createElement("span",{className:"font-16 black-txt font-qbold"},"Discipline:"),s.a.createElement("span",{className:" orangefont font-16 font-qregular p-l-5 capitalize_text"}," ",a.Workout&&a.Workout.WorkoutTags?_o.returnTag("discipline",a.Workout.WorkoutTags,a.workoutId):"None")),s.a.createElement("div",{className:"col-md-12 col-sm-12 d-flex p-0"},s.a.createElement("span",{className:"font-16 black-txt font-qbold"},"Difficulty:"),s.a.createElement("span",{className:"font-16 font-qregular capitalize_text orangefont p-l-5 capitalize_text"},"  ",a.Workout&&a.Workout.WorkoutTags?_o.returnTag("level",a.Workout.WorkoutTags,a.workoutId):"None"))),s.a.createElement("div",{className:"col-lg-6 col-md-12 col-sm-12 p-0 align-self-center text-center m-t-10"})),s.a.createElement("div",{className:"col-12 float-left p-0 text-center"},r?s.a.createElement(Qo.b,{to:"/detail/"+a.Workout.id+"/"+e.props.match.params.condition+"/"+e.state.programmeDetail.id,className:"w-50 btn  dblog_btn font-14 btn-purple-inverse "}," Learn More "):s.a.createElement(Qo.b,{to:"/detail/"+a.Workout.id+"/"+e.props.match.params.condition+"/0",className:"w-50 btn  dblog_btn font-14 btn-purple-inverse "}," Learn More ")))))))}))))),s.a.createElement("div",{class:"swiper-button-prev "}),s.a.createElement("div",{class:"swiper-button-next "})),s.a.createElement("div",{className:"mobile_view_show  mt-5"},s.a.createElement("hr",null),s.a.createElement("h4",{className:"black-txt font-21 fontsize21 font-medium m-t-10 text-center mb-4"},"Your progress"),(this.state.isJoinedNow||this.state.programmeDetail.UserPrograms&&this.state.completedPrograms!=this.state.programmeDetail.UserPrograms.length)&&s.a.createElement("div",{class:"line-bar pb-3 font-16 progressbar_star"},(this.state.programmeDetail.UserPrograms||this.state.isJoinedNow)&&s.a.createElement("div",{className:"staralignset mb-3"},s.a.createElement("svg",{width:"150",height:"150",id:"Layer_1","data-name":"Layer 1",xmlns:D+"b-star-icon.svg",viewBox:"0 0 409.08 389.89"},s.a.createElement("path",{style:{fill:"#0073C2",stroke:"#FFCA4F",strokeWidth:"10px"},d:"M292.65,495.1c7-27.39,13.75-53.91,20.51-80.42,5.26-20.6,10.43-41.22,15.85-61.77.83-3.15.36-5-2.17-7.12q-53.79-45.33-107.41-90.87c-.88-.75-1.88-1.36-2.83-2l.55-1q16.11-1.08,32.21-2.17,46.69-3.09,93.39-6.15c5.85-.38,11.71-1,17.57-1,3.31,0,4.84-1.25,6-4.29q26-65.79,52.32-131.49c.54-1.34,1.15-2.66,2.07-4.78.82,1.88,1.4,3.13,1.91,4.4Q449,172.36,475.19,238.29c1.22,3.07,2.74,4.11,6,4.31,31.14,1.91,62.26,4,93.39,6.07,14.11.92,28.21,1.79,42.32,2.7,2.51.16,5,.4,7.54.6l1,1.19a16.81,16.81,0,0,0-3,1.66q-53.6,45.27-107.18,90.53c-2.79,2.34-3.59,4.29-2.62,8,11.88,45.79,23.52,91.64,35.21,137.47.29,1.14.51,2.3.91,4.14-1.84-1.1-3.16-1.85-4.45-2.66q-60-37.85-119.92-75.74c-2.61-1.66-4.37-1.78-7.07-.07Q357.23,454.6,297,492.45C295.8,493.23,294.54,494,292.65,495.1Z",transform:"translate(-216.6 -102.05)"})),s.a.createElement("span",{className:"font-qbold"},"Completed ",this.state.completedPrograms," times")),s.a.createElement("div",{class:"progress"},s.a.createElement("div",{class:"progress-bar p-l-10 p-r-10",role:"progressbar","aria-valuenow":"70","aria-valuemin":"0","aria-valuemax":"100",style:{width:Object(el.a)(100*this.state.completedClass/this.state.count)+"%"}},Object(el.a)(100*this.state.completedClass/this.state.count)>=50&&s.a.createElement("span",{class:"font-semibold font-18"},this.state.completedClass," out of ",this.state.count," classes completed"),s.a.createElement("span",{class:"font-semibold font-18"},Object(el.a)(100*this.state.completedClass/this.state.count),"%")))))),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"mobile_view_hide"},s.a.createElement("hr",null)),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-8"},s.a.createElement("h4",{className:"black-txt  font-21 fontsize21 font-medium m-t-40 mobile_view_hide"},"Your progress"),(!this.state.programmeDetail.UserPrograms&&!this.state.isJoinedNow||this.state.completedPrograms==this.state.programmeDetail.UserPrograms.length)&&s.a.createElement("p",{className:"black-txt font-18 font-medium m-t-40 m-b-40"},"To start this program, just click play on the first class!"),s.a.createElement("div",{className:"mobile_view_hide mt_minus_top"},(this.state.isJoinedNow||this.state.programmeDetail.UserPrograms&&this.state.completedPrograms!=this.state.programmeDetail.UserPrograms.length)&&s.a.createElement("div",{class:"line-bar font-16 progressbar_star"},s.a.createElement("div",{class:"progress"},s.a.createElement("div",{class:"progress-bar p-l-10 p-r-10",role:"progressbar","aria-valuenow":"70","aria-valuemin":"0","aria-valuemax":"100",style:{width:Object(el.a)(100*this.state.completedClass/this.state.count)+"%"}},Object(el.a)(100*this.state.completedClass/this.state.count)>=50&&s.a.createElement("span",{class:"font-semibold font-18"},this.state.completedClass," out of ",this.state.count," classes completed"),s.a.createElement("span",{class:"font-semibold font-18"},Object(el.a)(100*this.state.completedClass/this.state.count),"%"))),(this.state.programmeDetail.UserPrograms||this.state.isJoinedNow)&&s.a.createElement("div",{className:"staralignset"},s.a.createElement("svg",{width:"150",height:"150",id:"Layer_1","data-name":"Layer 1",xmlns:D+"b-star-icon.svg",viewBox:"0 0 409.08 389.89"},s.a.createElement("path",{style:{fill:"#0073C2",stroke:"#FFCA4F",strokeWidth:"10px"},d:"M292.65,495.1c7-27.39,13.75-53.91,20.51-80.42,5.26-20.6,10.43-41.22,15.85-61.77.83-3.15.36-5-2.17-7.12q-53.79-45.33-107.41-90.87c-.88-.75-1.88-1.36-2.83-2l.55-1q16.11-1.08,32.21-2.17,46.69-3.09,93.39-6.15c5.85-.38,11.71-1,17.57-1,3.31,0,4.84-1.25,6-4.29q26-65.79,52.32-131.49c.54-1.34,1.15-2.66,2.07-4.78.82,1.88,1.4,3.13,1.91,4.4Q449,172.36,475.19,238.29c1.22,3.07,2.74,4.11,6,4.31,31.14,1.91,62.26,4,93.39,6.07,14.11.92,28.21,1.79,42.32,2.7,2.51.16,5,.4,7.54.6l1,1.19a16.81,16.81,0,0,0-3,1.66q-53.6,45.27-107.18,90.53c-2.79,2.34-3.59,4.29-2.62,8,11.88,45.79,23.52,91.64,35.21,137.47.29,1.14.51,2.3.91,4.14-1.84-1.1-3.16-1.85-4.45-2.66q-60-37.85-119.92-75.74c-2.61-1.66-4.37-1.78-7.07-.07Q357.23,454.6,297,492.45C295.8,493.23,294.54,494,292.65,495.1Z",transform:"translate(-216.6 -102.05)"})),s.a.createElement("span",{className:"font-qbold"},"Completed ",this.state.completedPrograms," times")))),this.state.completedClass==this.state.count&&s.a.createElement("button",{className:"btn dblog_btn font-14 btn-purple w-20",onClick:function(){e.startNextClass(e.state.programmeDetail.id,t)}},"Restart")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-8 col-md-8"},s.a.createElement("h4",{className:"black-txt font-21 font-medium m-b-10"},"Summary"),s.a.createElement("p",{className:"black-txt font-14 font-qregular m-b-20",dangerouslySetInnerHTML:{__html:this.state.programmeDetail.description}}),s.a.createElement("p",{className:"black-txt font-14 font-qregular "})),s.a.createElement("div",{className:"col-lg-3 offset-lg-1 col-md-3 offset-md-1"},s.a.createElement("h4",{className:"black-txt font-21 font-medium m-b-10"},"Benefits"),s.a.createElement("div",{className:"black-txt font-14 font-qregular m-b-60"},this.state.programmeTags.map((function(e,t){return s.a.createElement("p",{key:"ptag_"+t},e.Tag?e.Tag.tag:"")}))),s.a.createElement("h4",{className:"black-txt font-21 font-medium m-b-10"},"Equipment"),s.a.createElement("div",{className:"black-txt font-14 font-qregular m-b-30"},this.renderEquipments(this.state.programWorkouts)))),s.a.createElement("div",{ref:function(t){e.messagesEnd=t}})),s.a.createElement(Mi,{condition:this.props.match.params.condition,programId:this.state.programmeDetail.id,workoutId:this.state.workoutId,history:this.props.history,ondemand_detail_data:this.state.ondemand_detail_data,closeWithProgram:function(){e.fetchProgrammeDetail(e.state.programId)},isStartProgram:this.state.isStartProgram}),this.state.enable_player&&s.a.createElement(Bd,{enable_video:this.state.enable_player,closeVideoModel:function(){e.closeVideoModel()},ProgramTrailerURL:this.state.programTrailerURL}),s.a.createElement("div",{className:"text-center w-100"},this.state.loader&&s.a.createElement(qs,null)))}}]),a}(s.a.Component),gp={ProgrammeDetail:mo,ProgrammeDetailWorkouts:po,loginModelOpen:pt,joinToProgram:uo,isPlayOndemand:Sa,setActiveSlider:function(e){return function(t,a){t({type:"set_program_active_slider",payload:e})}}},fp=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData,active_slider:e.programme.active_slider}}),gp)(hp),bp=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o,s;return Object(Ro.a)(this,a),(s=t.call(this,e))._handleContextMenu=function(e){e.preventDefault()},s.afterUpgrade=function(){s.state.isGoToClass?window.open(s.state.currentClass.Attendees[0].reference):s.joinClassService()},s.state=(o={modelState:!1,modelData:{},Loading:!1,play_loader:!1,share_enable:!1,liveclass_detail_data:{},room_details:{},likeMore:{},nextliveclass_details:{},ondemand_paging:[],show_more_cnt:4,enable_video:!1,expanded:!1,currentVideoTime:0,current_attendee:{},openModel:!1,openAfterModel:!1,totalRating:0,reviewLimit:!0,all_tags:[],all_levels:[],openResearchModel:!1},Object(rs.a)(o,"current_attendee",{}),Object(rs.a)(o,"redirectUrl",""),Object(rs.a)(o,"workoutId",""),Object(rs.a)(o,"condition",s.props.match.params.condition),Object(rs.a)(o,"currentClass",{}),o),s.props.history.listen((function(e,t){s.clearDatas()})),s.clearDatas=s.clearDatas.bind(Object(is.a)(s)),s.getLiveClassDetail=s.getLiveClassDetail.bind(Object(is.a)(s)),s.updateSchedule=s.updateSchedule.bind(Object(is.a)(s)),s.getMoreTextDiv=s.getMoreTextDiv.bind(Object(is.a)(s)),s.startVideo=s.startVideo.bind(Object(is.a)(s)),s.saveTimeSpent=s.saveTimeSpent.bind(Object(is.a)(s)),s.closeModel=s.closeModel.bind(Object(is.a)(s)),s.beforeReview=s.beforeReview.bind(Object(is.a)(s)),s.closeVideoModel=s.closeVideoModel.bind(Object(is.a)(s)),s.closeAfterModel=s.closeAfterModel.bind(Object(is.a)(s)),s.submitStartNow=s.submitStartNow.bind(Object(is.a)(s)),s.joinClassService=s.joinClassService.bind(Object(is.a)(s)),s.modelClose=s.modelClose.bind(Object(is.a)(s)),s.goback=s.goback.bind(Object(is.a)(s)),s.closeResearchModel=s.closeResearchModel.bind(Object(is.a)(s)),s.viewPrepoll=s.viewPrepoll.bind(Object(is.a)(s)),s.authData=JSON.parse(localStorage.getItem("userDetails"))||s.props.logged_userData,s}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("prevPath-history",this.props.prevPath),console.log("props",this.props),console.log("props-group",localStorage.getItem("group")),window.scrollTo(0,0),document.addEventListener("contextmenu",this._handleContextMenu),this.enable_video=!1,this.getLiveClassDetail()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("contextmenu",this._handleContextMenu),this.setState({Loading:!1,share_enable:!1,liveclass_detail_data:{},room_details:{},likeMore:{},nextliveclass_details:{},ondemand_paging:[],show_more_cnt:4,enable_video:!1,current_attendee:{}})}},{key:"clearDatas",value:function(){window.scrollTo(0,0),this.setState({Loading:!1,share_enable:!1,liveclass_detail_data:{},room_details:{},likeMore:{},nextliveclass_details:{},ondemand_paging:[],show_more_cnt:4,enable_video:!1,expanded:!1,currentVideoTime:0,current_attendee:{}},(function(){this.getLiveClassDetail()}))}},{key:"closeResearchModel",value:function(){this.setState({openResearchModel:!1})}},{key:"beforeReview",value:function(){window.open(this.state.redirectUrl)}},{key:"viewPrepoll",value:function(e){var t=this;e.Attendees.forEach((function(e){e.UserId===t.props.logged_userData.id&&t.setState({redirectUrl:e.reference,current_attendee:e})})),this.setState({openResearchModel:!0,workoutId:e.WorkoutId})}},{key:"getLiveClassDetail",value:function(){var e=this;this.setState({Loading:!0});var t="undefined"!=localStorage.getItem("groupId")?localStorage.getItem("groupId"):null;this.props.liveclassDetail(this.props.match.params.id,this.props.match.params.condition,null,t&&"undefined"!==t?t:null).then((function(t){console.log("response",e.props.liveclass_detail_data),t&&(e.setState({Loading:!1,liveclass_detail_data:e.props.liveclass_detail_data.liveClasses.liveclass,room_details:e.props.liveclass_detail_data.liveClasses.liveclass&&e.props.liveclass_detail_data.liveClasses.liveclass.Rooms.length>0?e.props.liveclass_detail_data.liveClasses.liveclass.Rooms[0]:{},likeMore:e.props.liveclass_detail_data.liveClasses.likeMore,all_tags:t.list.tags?t.list.tags:[],all_levels:t.list.levelTags?t.list.levelTags:[]}),e.props.liveclass_detail_data.liveClasses.liveclass.description&&(e.setState({Tempdescription:e.props.liveclass_detail_data.liveClasses.liveclass.description.substring(0,500)}),console.log("length",e.props.liveclass_detail_data.liveClasses.liveclass.description.length)))}),(function(t){e.setState({Loading:!1,liveclass_detail_data:[],room_details:[]}),at.b.error(t)}))}},{key:"calculateTotalRating",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;if(e){for(var a=0;a<e.length;a++)e[a].rating&&e[a].rating>0&&(t+=parseInt(e[a].rating));t>0&&(t/=e.length)}return t}},{key:"startVideo",value:function(){var e=this;this.state.play_loader||(this.setState({play_loader:!0}),this.props.startVideo({workoutId:this.props.match.params.id}).then((function(t){t&&e.setState({play_loader:!1,openModel:!0,current_attendee:t.attendee?t.attendee:{}})}),(function(t){e.setState({play_loader:!1,openModel:!1,current_attendee:{}}),at.b.error(t)})))}},{key:"closeModel",value:function(){this.setState({openModel:!1,isConditionModalOpen:!1,isWarningModal:!1,isUpgradeModalOpen:!1})}},{key:"closeVideoModel",value:function(e,t){this.saveTimeSpent(e,t),this.setState({enable_video:!1})}},{key:"closeAfterModel",value:function(){this.props.updateAfterModelState({step:1}),this.setState({openAfterModel:!1})}},{key:"saveTimeSpent",value:function(e,t){var a=this;if(this.state.current_attendee.RoomId){var o={roomId:this.state.current_attendee.RoomId,time:e};e&&e>0&&this.props.saveTimeSpent(o).then((function(e){a.setState({openAfterModel:t})}),(function(e){at.b.error(e)}))}}},{key:"hasMembership",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.props.is_auth){var a=_o.checkUserHasMembership(this.authData,this.state.condition);if(console.log("hasMembership-detail",a),this.state.condition.toLowerCase().includes("research"))1!=a?this.setState({enable_video:!1,isWarningModal:!0}):this.setState({enable_video:!1,isWarningModal:!1,isGoToClass:t,currentClass:e},(function(){this.afterUpgrade()}));else{var o=this;console.log("healthcondition_list",this.props.healthcondition_list);var s=Eo.a.filter(this.props.healthcondition_list,(function(e){return e.tag===_o.replaceChar(o.state.condition,!0)})),n=_o.returnCurrentPlan(this.authData,this.state.condition);console.log("selectedHealth_condition",s);var r=s[0].id;if(this.props.registerFormvalues.health_condition=s,this.setState({hasMembership:a,health_conditionId:r,currentPlanId:n.length?n[0].id:0,currentClass:e,isGoToClass:t}),e.isFree)this.setState({isConditionModalOpen:!1,isWarningModal:!1},(function(){this.joinClassService()}));else switch(a){case 0:this.props.setConditionIndex(0),this.props.registerformUpdate(this.props.registerFormvalues),this.setState({enable_video:!1,isWarningModal:!0});break;case 1:this.setState({isConditionModalOpen:!1,isWarningModal:!1},(function(){this.joinClassService()}));break;case 2:this.props.setConditionIndex(0),this.props.registerformUpdate(this.props.registerFormvalues),this.setState({enable_video:!1,isWarningModal:!0})}}}else this.props.loginModelOpen(!0)}},{key:"updateSchedule",value:function(e){var t=this.state.room_details;t.scheduleData=e,this.setState({room_details:t})}},{key:"goback",value:function(){var e=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;if(Object.keys(e).length){var t=e.Members.length?e.Members[0].Community.community_name:"";if(localStorage.getItem("group")&&"undefined"!=localStorage.getItem("group")){var a={from:{pathname:"/group/liveclasses/list/"+localStorage.getItem("group")+"/"+_o.replaceChar("undefined"!=typeof Go.Cookies.get("condition")?Go.Cookies.get("condition"):this.props.match.params.condition,!1)}}.from;this.props.history.push(a),localStorage.removeItem("group"),localStorage.removeItem("groupId")}else if(this.state.liveclass_detail_data.CommunityId){var o="/group/liveclasses/list/"+this.state.liveclass_detail_data.Community.community_name+"/"+this.props.match.params.condition;this.state.liveclass_detail_data.isLive&&(o="/on-demand/"+this.props.match.params.condition);var s={from:{pathname:o}}.from;this.props.history.push(s)}else if(this.props.match.params.condition.toLowerCase().includes("research")&&t){var n={from:{pathname:"/group/liveclasses/list/"+t+"/"+this.props.match.params.condition}}.from;this.props.history.push(n)}else{o="/liveClasses/"+_o.replaceChar("undefined"!=typeof Go.Cookies.get("condition")?Go.Cookies.get("condition"):this.props.match.params.condition,!1);this.state.liveclass_detail_data.isLive&&(o="/on-demand/"+_o.replaceChar("undefined"!=typeof Go.Cookies.get("condition")?Go.Cookies.get("condition"):this.props.match.params.condition,!1));var r={from:{pathname:o}}.from;this.props.history.push(r)}}else if(localStorage.getItem("group")&&"undefined"!=localStorage.getItem("group")){var i={from:{pathname:"/group/liveclasses/list/"+localStorage.getItem("group")+"/"+_o.replaceChar("undefined"!=typeof Go.Cookies.get("condition")?Go.Cookies.get("condition"):this.props.match.params.condition,!1)}}.from;this.props.history.push(i),localStorage.removeItem("group"),localStorage.removeItem("groupId")}else if(this.state.liveclass_detail_data.CommunityId){var l={from:{pathname:"/group/liveclasses/list/"+this.state.liveclass_detail_data.Community.community_name+"/"+this.props.match.params.condition}}.from;this.props.history.push(l)}else{o="/liveClasses/"+_o.replaceChar("undefined"!=typeof Go.Cookies.get("condition")?Go.Cookies.get("condition"):this.props.match.params.condition,!1);this.state.liveclass_detail_data.isLive&&(o="/on-demand/"+_o.replaceChar("undefined"!=typeof Go.Cookies.get("condition")?Go.Cookies.get("condition"):this.props.match.params.condition,!1));var c={from:{pathname:o}}.from;this.props.history.push(c)}}},{key:"getMoreTextDiv",value:function(e){e?this.setState({expanded:e,Tempdescription:this.props.liveclass_detail_data.liveClasses.liveclass.description}):this.setState({expanded:e,Tempdescription:this.props.liveclass_detail_data.liveClasses.liveclass.description.substring(0,500)})}},{key:"videoSection",value:function(e,t){var a=this.state.liveclass_detail_data?this.state.liveclass_detail_data:{},o=Object.keys(a).length>0&&a.constructor===Object?a:{};return console.log("ondemand_view_detail",o),"desktop"==t?s.a.createElement("div",{className:e},o.id&&s.a.createElement(hn,{src:x+o.id+"-img.png",className:"img-fluid img-responsive",width:"100%"}),!o.id&&s.a.createElement("img",{src:D+"no-image.png",className:"img-fluid img-responsive",width:"100%"})):s.a.createElement("div",{className:e},o.id&&s.a.createElement(hn,{src:x+o.id+"-img.png",className:" img-responsive",width:"100%",height:"200px"}),!o.id&&s.a.createElement("img",{src:D+"no-image.png",className:" img-responsive",width:"100%",height:"200px"}))}},{key:"submitStartNow",value:function(e){this.props.is_auth?this.hasMembership(e):this.props.loginModelOpen(!0)}},{key:"cancelCalss",value:function(e,t){var a=this;if(console.log("item",e),!this.state.cancelLoading){this.setState({cancelLoading:!0});var o={roomId:e.id};this.props.cancelClass(o).then((function(e){e&&at.b.success(e.message);var t=Object.assign({},a.state.room_details);t.Signedup=!1,a.setState({room_details:t,cancelLoading:!1})}),(function(e){a.setState({cancelLoading:!1})}))}}},{key:"joinClassService",value:function(){var e=this,t=this.state.currentClass;t.Workout=this.state.liveclass_detail_data;var a=_o.replaceChar(this.props.match.params.condition,!0),o={roomId:t.id,condition:a};this.setState({signupLoader:!0}),this.props.joinClass(o).then((function(a){a&&(e.setState({signupLoader:!1,modelState:!0,modelData:t}),hs.a.event({category:"Live Class",action:"Signed Up - Detail Page",label:Go.Cookies.get("condition")+"-"+e.state.liveclass_detail_data.title+"-"+e.state.liveclass_detail_data.id}))}),(function(t){e.setState({signupLoader:!1,modelState:!1,modelData:{}}),at.b.error(t)}))}},{key:"modelClose",value:function(){this.setState({Loading:!1,offset:0,count:0,show_more_cnt:10,liveClassList:[],displayLayout:!0,modelState:!1,modelData:{}},(function(){this.getLiveClassDetail()}))}},{key:"renderButtons",value:function(e){var t=this;console.log("nextliveclass",e),console.log("nextliveclass-DATE",new Date);var a=new Date(e.scheduledFor).getTime(),o=(new Date).getTime(),n=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData,r="";Object.keys(n).length&&(r=n.Members.length?n.Members[0].Community:"");var i=new Date,l=!1;if(r&&r.endDate){var c=bo()(r.endDate).utc().format("YYYY-MM-DD");l=!(new Date(c).getTime()<i.getTime())}else l=!0;var m=!1;e.scheduledFor&&(m=i>new Date(bo()(e.scheduledFor).subtract(this.state.liveclass_detail_data.cutoffTime,"minutes").format("YYYY-MM-DD HH:mm:ss")));if(e&&!e.Signedup)return m?s.a.createElement("button",{disabled:!0,className:"btn btn-gray w-100 font-medium m-b-10 pad_list_btn"}," ","Registration ended"," "):s.a.createElement("div",{className:"w-100 m-b-20"},s.a.createElement("button",{disabled:this.state.signupLoader,onClick:function(){return t.submitStartNow(e)},className:"btn btn-purple-inverse pad_list_btn clearfix pointer"}," Sign up "));var d=_o.replaceChar(Go.Cookies.get("condition"),!0).toLowerCase();return s.a.createElement("div",{className:"w-100 m-b-20"},"Live"==e.type&&a>o&&this.props.logged_userData.isStudyParticipant&&Q.includes(d)&&!l&&s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.hasMembership(e,!0)}}," Go to class "),"Live"==e.type&&a>o&&this.props.logged_userData.isStudyParticipant&&Q.includes(d)&&l&&s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.viewPrepoll(e)}}," Go to class "),"Live"==e.type&&a>o&&this.props.logged_userData.isStudyParticipant&&!Q.includes(d)&&s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.hasMembership(e,!0)}}," Go to class "),"Live"==e.type&&a>o&&!this.props.logged_userData.isStudyParticipant&&s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",onClick:function(){return t.hasMembership(e,!0)}}," Go to class "),"Live"!=e.type&&a>o&&s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",href:"/detail/"+this.props.match.params.id+"/"+this.props.match.params.condition.replace(/ /g,"-"),target:"_blank"}," Start now "),"Live"!=e.type&&a<o&&s.a.createElement("a",{className:"btn btn-purple-inverse w-100 pad_list_btn font-medium m-b-10",href:"/detail/"+this.props.match.params.id+"/"+this.props.match.params.condition.replace(/ /g,"-"),target:"_blank"}," Do Again "),a>o&&s.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-purple w-100 pad_list_btn font-medium m-b-10 joinclass-blue-btn",onClick:function(){return t.cancelCalss(e)}}," Oops I can't make it"))}},{key:"render",value:function(){var e=this,t=this.state.liveclass_detail_data?this.state.liveclass_detail_data:{},a={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},o=Object.keys(t).length>0&&t.constructor===Object?t:{},n=window.location.href,r=o.title,i=(!(!this.state.room_details||!this.state.room_details.isSaved)&&this.state.room_details.isSaved,o.Instructor?o.Instructor.User.name+" "+o.Instructor.User.lastName:""),l=x+o.id+"-img.png",c=this.state.liveclass_detail_data&&this.state.liveclass_detail_data?this.state.liveclass_detail_data.length:0;o.description&&console.log("length",o.description.length),console.log("nextliveclass_details",this.state.liveclass_detail_data);var m=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData,d="";return Object.keys(m).length&&(d=m.Members.length?m.Members[0].Community.community_name:"",m.Members.length?m.Members[0].Community:""),s.a.createElement(s.a.Fragment,null,s.a.createElement(hi,{is_model_open:this.state.openResearchModel,closeResearchModel:this.closeResearchModel,classType:"Live",beforeReview:this.beforeReview,workoutId:this.state.workoutId,current_attendee:this.state.current_attendee}),s.a.createElement("section",{className:"demand-page m-t-100"},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,r||""," - on-demand class",ye),s.a.createElement("meta",{property:"og:title",content:r||" - on-demand class"+ye}),s.a.createElement("meta",{property:"og:description",content:o.description}),s.a.createElement("meta",{property:"og:image",content:l}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:r+" by "+i})),!this.state.Loading&&s.a.createElement("div",{className:"demand-section-mobile"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"demand-title"},s.a.createElement("div",{className:"row"},s.a.createElement("a",{href:"javascript:void(0)",onClick:(this.props.setGoback(!0),this.goback),className:"font-15 font-book m-b-10 font-normal black-txt p-l-10 p-r-0"}," ",s.a.createElement("i",{className:"fa fa-chevron-left"}),s.a.createElement("span",{className:"font-21 black-txt font-medium capitalize_text p-l-5 col-11"},t.isLive?"Back to On-demand Classes":"Back to live class schedule"))))),this.videoSection("row demand-img","mobile"),s.a.createElement("div",{className:"container-fluid video-detail-bg"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row p-10"},s.a.createElement("div",{className:"col-md-8 col-lg-8 col-sm-8 col-9 video-details-left pl-0 p-r-60"},s.a.createElement("div",{className:"w-100"},s.a.createElement("div",{className:"font-semibold font-15 black-txt w-100"},s.a.createElement("div",null,"Activity:",s.a.createElement("span",{className:"font-semibold font-15 black-txt m-l-5 capitalize_text"},_o.returnLabelData("discipline",o.WorkoutTags?o.WorkoutTags:[]))),s.a.createElement("div",null,"Ideal for:",s.a.createElement("span",{className:"font-semibold font-15 black-txt m-l-5 capitalize_text"},_o.returnLabelData("level",o.WorkoutTags?o.WorkoutTags:[])))))),s.a.createElement("div",{className:"col-md-4 col-lg-4 col-sm-4 col-3 pr-0 video-details-right"},s.a.createElement("div",{className:"bookmark-left m-l-20 float-right"},s.a.createElement("span",{className:"pointer",onClick:function(){return e.setState({share_enable:!e.state.share_enable})}},s.a.createElement("em",{className:"fa fa-share pointer"}),s.a.createElement("span",{className:"font-qmedium font-13 black-txt m-l-10"},"Share")),this.state.share_enable&&s.a.createElement("div",{className:"position-absolute zindex"},s.a.createElement("span",null,s.a.createElement(Zr.a,{url:n,subject:r,body:"body",className:"pointer"},s.a.createElement(Xr.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement($r.a,{url:n,quote:r,className:"pointer"},s.a.createElement(ei.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(ti.a,{url:n,title:r,separator:":: ",className:"pointer"},s.a.createElement(ai.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(oi.a,{url:n,title:r,className:"pointer"},s.a.createElement(si.a,{size:32,round:!0}))),s.a.createElement("span",null,s.a.createElement(ni.a,{url:n,windowWidth:750,windowHeight:600,className:"pointer"},s.a.createElement(ri.a,{size:32,round:!0}))))))))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"w-100 on-demand-filter-sm-value",id:"accordion"},0!=Object.keys(this.state.room_details).length&&s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-4"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-4","aria-expanded":"true","aria-controls":"collapse-4"},"Next Class"," ",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-4",className:"collapse show","data-parent":"#accordion","aria-labelledby":"heading-4"},s.a.createElement("div",{className:"w-100 m-t-15"},s.a.createElement("div",{className:"card border-0 flex-row flex-wrap"},s.a.createElement("div",{className:"card-header p-0 rounded-circle border-0"},s.a.createElement("h3",{className:"black-txt font-20 font-qregular"},bo()(this.state.room_details.scheduledFor).format("dddd Do MMMM YYYY")),s.a.createElement("h3",{className:"black-txt font-20 font-qregular"},bo()(this.state.room_details.scheduledFor).format("hh:mm a")+" - "+bo()(this.state.room_details.scheduledFor).add(c,"minutes").format("hh:mm a"))),s.a.createElement("div",{className:"card-block px-2 w-100"},s.a.createElement("div",{className:"card-text redtext text-underline"},s.a.createElement("div",{className:"col-md-3 col-lg-3 col-sm-12"},this.state.room_details.id&&this.renderButtons(this.state.room_details)))))))),0==Object.keys(this.state.room_details).length&&s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-4"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-4","aria-expanded":"true","aria-controls":"collapse-4"},"Next Class"," ",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-4",className:"collapse show","data-parent":"#accordion","aria-labelledby":"heading-4"},s.a.createElement("div",{className:"w-100 m-t-15"},s.a.createElement("div",{className:"card border-0 flex-row flex-wrap"},s.a.createElement("div",{className:"card-header p-0 rounded-circle border-0"},m&&!m.isStudyParticipant&&!m.isStudyLeader&&!m.isGroupLeader&&s.a.createElement("p",{className:" font-qregular font-14 black-txt m-0 instruct_details overflow-hidden text-left text-abbey font-21 font-regular no-nextclass"},"This Live Class is no longer on the schedule!  Please have a peek at the ",s.a.createElement(Qo.b,{to:"/liveClasses/"+this.props.match.params.condition,className:"flow-text"},"current live class schedule")," to find a class that suits you and get signed up.  If you would like to request that this class or another be added back to the rotation, please ",s.a.createElement(Qo.b,{to:"/contact-us",className:"flow-text"},"contact us")," to let us know."),m&&m.isStudyParticipant&&s.a.createElement("p",{className:" font-qregular font-14 black-txt m-0 instruct_details overflow-hidden text-left text-abbey font-21 font-regular no-nextclass"},"This Live Class is no longer on the schedule! Please have a peek at ",s.a.createElement(Qo.b,{to:"/group/ondemand/list/"+d+"/"+this.props.match.params.condition,className:"flow-text"},"classes that are available on demand.")),m&&(m.isStudyLeader||m.isGroupLeader)&&s.a.createElement("p",{className:" font-qregular font-14 black-txt m-0 instruct_details overflow-hidden text-left text-abbey font-21 font-regular no-nextclass"},"This Live Class is no longer on the schedule. Please have a peek at the ",s.a.createElement(Qo.b,{to:"/liveClasses/"+this.props.match.params.condition,className:"flow-text"},"current live class schedule")," to schedule more.")))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-1"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{role:"button","data-toggle":"collapse",href:"#collapse-1","aria-expanded":"false","aria-controls":"collapse-1",className:"collapsed"},"Description",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-1",className:"collapse","data-parent":"#accordion","aria-labelledby":"heading-1"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{id:"accordion-1"},s.a.createElement("div",{className:"w-100 m-t-20"},s.a.createElement("p",{className:"font-qregular font-14 black-txt m-0 instruct_details overflow-hidden text-left",dangerouslySetInnerHTML:{__html:o.description}})),_o.returnTagName("condition",k,o.WorkoutTags?o.WorkoutTags:[])&&_o.replaceChar(this.props.match.params.condition,!0)==k&&s.a.createElement("div",{className:"w-100 m-t-20 summary_div"},s.a.createElement("h3",{className:"heading_3 font-22 black-txt font-medium"},"Head's Up!"),s.a.createElement("p",{className:"font-qregular font-14 black-txt m-0 ",id:"instructor_details"},"We hope you enjoy this and all our sessions on Beam, but please remember that we are not able to offer you personalised exercise sessions programs and that participating in any live or on-demand Beam sessions is at your own risk. Changes to your airway clearance and exercise regime should be discussed with your clinical team.")),_o.returnTagName("condition",N,o.WorkoutTags?o.WorkoutTags:[])&&_o.replaceChar(this.props.match.params.condition,!0)==N&&s.a.createElement("div",{className:"w-100 m-t-20 summary_div"},s.a.createElement("h3",{className:"heading_3 font-22 black-txt font-medium"},"Head's Up!"),s.a.createElement("p",{className:"font-qregular font-14 black-txt m-0 ",id:"instructor_details"},"We hope you enjoy this and all our sessions on Beam, but please remember that we are not able to offer you personalised exercise programs and that participating in any live or on-demand Beam sessions is at your own risk. ")),s.a.createElement("div",{className:"w-100 m-t-20 summary_div"},s.a.createElement("p",{className:"font-qregular font-14 black-txt m-0",id:"instructor_details"},"Here is some ",s.a.createElement(Qo.b,{to:"/blogs/safety-info-"+this.props.match.params.condition.replace(/ /g,"-")},"important safety information")," to make sure you keep safe and feel your best before and after your class.")))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-7"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-7","aria-expanded":"false","aria-controls":"collapse-7"},"Instructor"," ",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-7",className:"collapse","data-parent":"#accordion","aria-labelledby":"heading-7"},s.a.createElement("div",{className:"w-100 m-t-15"},s.a.createElement("div",{className:"card border-0 flex-row flex-wrap"},s.a.createElement("div",{className:"card-header p-0 rounded-circle border-0"},s.a.createElement("img",{src:o.Instructor&&o.Instructor.img?S+o.Instructor.img:D+"no-image.png",alt:"NoImage",className:"img-fluid rounded-circle"})),s.a.createElement("div",{className:"card-block px-2"},o.Instructor&&o.Instructor.User&&o.Instructor.hasProfile&&s.a.createElement(Qo.b,{className:"orangefont font-14 font-book",to:"/instructor/"+o.InstructorId+"/"+this.props.match.params.condition},s.a.createElement("h4",{className:"card-title font-15 black-txt font-semibold m-t-10"},o.Instructor.User.name+" "+o.Instructor.User.lastName)),o.Instructor&&o.Instructor.User&&!o.Instructor.hasProfile&&s.a.createElement("span",{className:"orangefont font-14 font-book"},s.a.createElement("h4",{className:"card-title font-15 black-txt font-semibold m-t-10"},o.Instructor.User.name+" "+o.Instructor.User.lastName)),o.Instructor&&o.Instructor.title&&s.a.createElement("div",{className:"card-text font-qregular font-18"},o.Instructor.title),s.a.createElement("div",{className:"card-text redtext text-underline"},o.Instructor&&o.Instructor.hasProfile&&s.a.createElement(Qo.b,{className:"orangefont font-14 font-book",to:"/instructor/"+o.InstructorId+"/"+this.props.match.params.condition,onClick:function(){e.props.pushHistory(e.props.history.location.pathname)}},"More videos with this instructor"))))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-2"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-2","aria-expanded":"false","aria-controls":"collapse-2"},"Equipment required",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-2",className:"collapse","data-parent":"#accordion","aria-labelledby":"heading-2"},s.a.createElement("div",{className:"w-100 m-t-20"},s.a.createElement("p",{className:"font-qregular font-14 m-0"},_o.returnLabelData("equipment",o.WorkoutTags?o.WorkoutTags:[]))))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header",id:"heading-3"},s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{className:"collapsed",role:"button","data-toggle":"collapse",href:"#collapse-3","aria-expanded":"false","aria-controls":"collapse-3"},"Benefits",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})))),s.a.createElement("div",{id:"collapse-3",className:"collapse","data-parent":"#accordion","aria-labelledby":"heading-3"},s.a.createElement("div",{className:"w-100 m-t-20"},s.a.createElement("p",{className:"font-qregular font-14 m-0"},_o.returnLabelData("benefit",o.WorkoutTags?o.WorkoutTags:[])))))))),!this.state.Loading&&s.a.createElement("div",{className:"container offset-lg-2 col-lg-8 offset-md-3 col-md-6 col-xs-10 col-10 mx-auto "},s.a.createElement("div",{className:"demand-section-1 m-l-30 m-r-30"},s.a.createElement("div",{className:" demand-back video-detail-desktop"},s.a.createElement("a",{href:"javascript:void(0)",onClick:(this.props.setGoback(!0),this.goback),className:"font-15 font-book m-b-10 font-normal black-txt capitalize_text"}," ",s.a.createElement("i",{className:"fa fa-chevron-left"})," ",t.isLive?"Back to On-demand Classes":"Back to Live Classes")),this.videoSection("row demand-img video-detail-desktop","desktop"),s.a.createElement("div",{className:"row m-t-20 video-detail-desktop"},s.a.createElement("div",{className:"col-md-8 col-lg-7 col-sm-8 col-9 video-details-left pl-0 p-r-60"},s.a.createElement("h3",{className:"font-30 black-txt font-book font-normal flow-text capitalize_text "},t?t.title:""))),0!=Object.keys(this.state.room_details).length&&s.a.createElement("div",{className:"row p-b-30 p-t-30 desktop-ondemand-view next-class"},s.a.createElement("div",{className:"col-md-8 col-lg-8 col-sm-8 pl-0"},s.a.createElement("div",{className:"w-100 m-b-20"},s.a.createElement("h3",{className:"text-abbey font-21 font-semibold"},"Next Class"),s.a.createElement("h3",{className:"black-txt font-20 font-qregular"},bo()(this.state.room_details.scheduledFor).format("dddd Do MMMM YYYY")),s.a.createElement("h3",{className:"black-txt font-20 font-qregular"},bo()(this.state.room_details.scheduledFor).format("hh:mm a")+" - "+bo()(this.state.room_details.scheduledFor).add(c,"minutes").format("hh:mm a")),0!=o.cutoffTime&&s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-6 small-device float-left p-0 m-t-10"},s.a.createElement("span",{className:"font-16 float-left font-medium "},"Please note that registration to this class ends 30 minutes prior to the class beginning")))),s.a.createElement("div",{className:"col-md-4 col-lg-4 col-sm-4"},this.state.room_details.id&&this.renderButtons(this.state.room_details))),0==Object.keys(this.state.room_details).length&&s.a.createElement("div",{className:"row p-b-30 p-t-30 desktop-ondemand-view next-class"},s.a.createElement("div",{className:"w-100 m-b-20"},m&&!m.isStudyParticipant&&!m.isStudyLeader&&!m.isGroupLeader&&s.a.createElement("h3",{className:"text-abbey font-21 font-regular"},"This Live Class is no longer on the schedule!  Please have a peek at the ",s.a.createElement(Qo.b,{to:"/liveClasses/"+this.props.match.params.condition,className:"flow-text"},"current live class schedule")," to find a class that suits you and get signed up.  If you would like to request that this class or another be added back to the rotation, please ",s.a.createElement(Qo.b,{to:"/contact-us",className:"flow-text"},"contact us")," to let us know."),m&&m.isStudyParticipant&&s.a.createElement("h3",{className:"text-abbey font-21 font-regular"},"This Live Class is no longer on the schedule! Please have a peek at ",s.a.createElement(Qo.b,{to:"/group/ondemand/list/"+d+"/"+this.props.match.params.condition,className:"flow-text"},"classes that are available on demand.")),m&&(m.isStudyLeader||m.isGroupLeader)&&s.a.createElement("h3",{className:"text-abbey font-21 font-regular"},"This Live Class is no longer on the schedule. Please have a peek at the ",s.a.createElement(Qo.b,{to:"/liveClasses/"+this.props.match.params.condition,className:"flow-text"},"current live class schedule")," to schedule more."))),s.a.createElement("div",{className:"row m-t-30 desktop-ondemand-view"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},s.a.createElement("div",{className:"w-100 m-b-20"},s.a.createElement("h3",{className:"black-txt font-21 font-semibold"},"Instructor"),s.a.createElement("div",{className:"w-100 m-t-15 border-bottom pb-4"},s.a.createElement("div",{className:"card border-0 flex-row flex-wrap"},s.a.createElement("div",{className:"card-header p-0 rounded-circle border-0"},s.a.createElement("img",{src:o.Instructor&&o.Instructor.img?S+o.Instructor.img:D+"no-image.png",alt:"NoImage",className:"img-fluid rounded-circle"})),s.a.createElement("div",{className:"card-block px-2"},o.Instructor&&o.Instructor.User&&o.Instructor.hasProfile&&s.a.createElement(Qo.b,{className:"orangefont font-14 font-book",to:"/instructor/"+o.InstructorId+"/"+this.props.match.params.condition,onClick:function(){e.props.pushHistory(e.props.history.location.pathname)}},s.a.createElement("h4",{className:"card-title font-15 black-txt font-semibold m-t-10"},o.Instructor.User.name+" "+o.Instructor.User.lastName)),o.Instructor&&o.Instructor.User&&!o.Instructor.hasProfile&&s.a.createElement("span",{className:"orangefont font-14 font-book",onClick:function(){e.props.pushHistory(e.props.history.location.pathname)}},s.a.createElement("h4",{className:"card-title font-15 black-txt font-semibold m-t-10"},o.Instructor.User.name+" "+o.Instructor.User.lastName)),o.Instructor&&o.Instructor.title&&s.a.createElement("div",{className:"card-text font-qregular font-18"},o.Instructor.title)))))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},s.a.createElement("div",{className:"w-100"},s.a.createElement("div",{className:"w-100 "},s.a.createElement("h3",{className:" black-txt font-21 font-semibold"},"About this class")),s.a.createElement("div",{className:"font-medium font-15 black-txt"},"Activity: ",s.a.createElement("span",{className:"font-qregular font-15 black-txt m-l-5 capitalize_text"},_o.returnLabelData("discipline",o.WorkoutTags?o.WorkoutTags:[]))),s.a.createElement("div",{className:"font-medium font-15 black-txt"},s.a.createElement("div",null,"Ideal For:",s.a.createElement("span",{className:"font-qregular font-15 black-txt m-l-5 capitalize_text"},_o.returnLabelData("level",o.WorkoutTags?o.WorkoutTags:[]))),s.a.createElement("div",{className:"font-medium font-15 black-txt"},"Equipment required:",s.a.createElement("span",{className:"font-qregular font-15 black-txt m-l-5 capitalize_text"},_o.returnLabelData("equipment",o.WorkoutTags?o.WorkoutTags:[]))),s.a.createElement("div",{className:"font-medium font-15 black-txt"},"Benefits:",s.a.createElement("span",{className:"font-qregular font-15 black-txt m-l-5 capitalize_text"},_o.returnLabelData("benefit",o.WorkoutTags?o.WorkoutTags:[]))))),s.a.createElement("div",{className:"w-100 m-t-30 desktop-ondemand-view"},s.a.createElement("div",{className:"w-100 m-t-20 summary_div"},s.a.createElement("p",{className:"font-qregular font-14 black-txt m-0 ".concat(this.state.expanded?"":"overflow-hidden instruct_details"),id:"instructor_details",dangerouslySetInnerHTML:{__html:o.description}}))),_o.returnTagName("condition",k,o.WorkoutTags?o.WorkoutTags:[])&&_o.replaceChar(this.props.match.params.condition,!0)==k&&s.a.createElement("div",{className:"w-100 m-t-30 desktop-ondemand-view headsup-section"},s.a.createElement("div",{className:"w-100 m-t-20 summary_div"},s.a.createElement("h3",{className:"heading_3 font-21 black-txt font-medium"},"Head's Up!"),s.a.createElement("p",{className:"font-qregular font-14 black-txt m-0 ",id:"instructor_details"},"We hope you enjoy this and all our sessions on Beam, but please remember that we are not able to offer you personalised exercise sessions programs and that participating in any live or on-demand Beam sessions is at your own risk. Changes to your airway clearance and exercise regime should be discussed with your clinical team."))),_o.returnTagName("condition",N,o.WorkoutTags?o.WorkoutTags:[])&&_o.replaceChar(this.props.match.params.condition,!0)==N&&s.a.createElement("div",{className:"w-100 m-t-30 desktop-ondemand-view headsup-section"},s.a.createElement("div",{className:"w-100 m-t-20 summary_div"},s.a.createElement("h3",{className:"heading_3 font-21 black-txt font-medium"},"Head's Up!"),s.a.createElement("p",{className:"font-qregular font-14 black-txt m-0 ",id:"instructor_details"},"We hope you enjoy this and all our sessions on Beam, but please remember that we are not able to offer you personalised exercise programs and that participating in any live or on-demand Beam sessions is at your own risk. ")))))),s.a.createElement("div",{className:"demand-section--3 mobile-slider m-t-40 m-b-40 p-l-15 p-r-15"},this.state.likeMore.length>0&&s.a.createElement("div",{className:"row"},s.a.createElement("h3",{className:"clearfix float-left m-b-40 text-center font-semibold font-24 darkblue-text w-100"},"Previous class recordings"),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},s.a.createElement(li.a,a,this.state.likeMore.length>0&&this.state.likeMore.map((function(t){return s.a.createElement("div",{key:t.id,className:"col-lg-6 col-md-6 col-sm-12 float-left p-b-30 p-0"},s.a.createElement("div",{className:"card h-100"},s.a.createElement(Qo.b,{to:"/detail/"+t.id+"/"+e.props.match.params.condition,className:"position-relative"},s.a.createElement("img",{className:"card-img-top img-fluid",alt:"noImage",src:x+t.id+"-img.png"}),s.a.createElement("span",{className:"position-absolute vid_time"},s.a.createElement("span",null,t.length," minutes"))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"w-100 float-left m-b-10"},s.a.createElement("div",{className:"col-10 col-md-10 col-lg-10 col-sm-10 float-left pl-0"},s.a.createElement("h3",{className:"heading_3 black-txt font-12 font-semibold text-uppercase"},t.title)),s.a.createElement("div",{className:"col-2 col-md-2 col-lg-2 col-sm-12 float-left pl-0 pr-0"},s.a.createElement("div",{className:"bookmark-left float-left m-l-5"},s.a.createElement(En,{ondemand_data:t,location:e.props.location,history:e.props.history})),s.a.createElement("div",{className:"bookmark-left m-l-10 float-left"},s.a.createElement(Kr,{page:"ondemand_detail_sub",workoutData:t})))),s.a.createElement("div",{className:"w-100"},s.a.createElement("div",{className:"col-6 col-lg-6 col-sm-6 float-left m-b-10 p-0"},s.a.createElement("div",{className:"p-0 border-0 float-left"},s.a.createElement("img",{className:"demand-profimg img-fluid rounded-circle",src:t.Instructor&&t.Instructor.img?S+t.Instructor.img:D+"no-image.png",alt:""})),s.a.createElement("p",{className:"float-left m-t-5 font-10 black-txt font-qregular p-l-10"},t.Instructor&&t.Instructor.User?t.Instructor.User.name+" "+t.Instructor.User.lastName:"")),s.a.createElement("div",{className:"col-6 col-lg-6 col-sm-6 float-left pr-0"},s.a.createElement("div",{className:"font-medium w-100 font-light--weight"},s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"col-4 col-sm-4 float-left font-10 black-txt  font-qregular p-0"},"Discipline:"),s.a.createElement("span",{className:"redtext col-8 col-sm-8 p-0 float-left font-10  font-qregular capitalize_text"},_o.returnLabelData("discipline",t.WorkoutTags?t.WorkoutTags:[]))),s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"col-4 col-sm-4 p-0 float-left font-10 black-txt  font-qregular"},"Difficulty:"),s.a.createElement("span",{className:"redtext col-8 col-sm-8 p-0 float-left font-10  font-qregular capitalize_text"},_o.returnLabelData("level",t.WorkoutTags?t.WorkoutTags:[])))))))))})))))),s.a.createElement("div",{className:"demand-section--3 demand-section--desk m-t-80 m-l-30 m-r-30"},this.state.likeMore.length>0&&s.a.createElement("div",{className:"row"},s.a.createElement("h3",{className:"clearfix float-left m-b-40 text-left font-semibold font-21 black-txt w-100"},"Previous class recordings"),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 p-0"},s.a.createElement("div",{className:"row"},this.state.likeMore.length>0&&this.state.likeMore.map((function(t){return s.a.createElement("div",{key:t.id,className:"col-lg-4 col-md-4 col-sm-12 float-left p-b-30"},s.a.createElement("div",{className:"card h-100"},s.a.createElement(Qo.b,{to:"/detail/"+t.id+"/"+e.props.match.params.condition,className:"position-relative"},s.a.createElement("img",{className:"card-img-top img-fluid",alt:"noImage",src:x+t.id+"-img.png"}),s.a.createElement("span",{className:"position-absolute vid_time"},s.a.createElement("span",null,t.length," minutes"))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"w-100 float-left m-b-10"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("h3",{className:"black-txt font-16 font-semibold capitalize_text float-left w-75"},t.title),s.a.createElement("div",{className:"bookmark-left float-right text-right w-25"},s.a.createElement(En,{ondemand_data:t,location:e.props.location,history:e.props.history}),s.a.createElement("b",{className:"m-l-10"},s.a.createElement(Kr,{className:"m-l-10",page:"liveclass_detail_sub",workoutData:t}))))),s.a.createElement("div",{className:"w-100"},s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left m-b-10 p-0"},s.a.createElement("div",{className:"left-image leftwidth-set p-0 border-0 float-left"},s.a.createElement("img",{className:"demand-profimg img-fluid rounded-circle",src:t.Instructor&&t.Instructor.img?S+t.Instructor.img:D+"no-image.png",alt:""})),s.a.createElement("p",{className:"float-left m-t-5 font-14 black-txt font-qregular p-l-10"},t.Instructor&&t.Instructor.User?t.Instructor.User.name+" "+t.Instructor.User.lastName:"")),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 float-left p-0"},s.a.createElement("div",{className:"font-medium w-100 font-light--weight"},s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"w-45 float-left font-14 black-txt font-qbold"},"Discipline:"),s.a.createElement("span",{className:"redtext w-50 float-left font-14 p-l-5 font-qregular capitalize_text"},_o.returnLabelData("discipline",t.WorkoutTags?t.WorkoutTags:[]))),s.a.createElement("div",{className:"col-md-12 col-sm-12 float-left p-0"},s.a.createElement("span",{className:"w-45 float-left font-14 black-txt font-qbold"},"Difficulty:"),s.a.createElement("span",{className:"redtext w-50 float-left font-14 p-l-5 font-qregular capitalize_text"},_o.returnLabelData("level",t.WorkoutTags?t.WorkoutTags:[])))))))))}))),s.a.createElement("div",{className:"col-md-12 col-lg-12 col-sm-12 text-center float-left"},s.a.createElement(Qo.b,{to:"/on-demand/"+this.props.match.params.condition,className:"btn btn-orange joinclass-blue-btn m-t-40 m-b-40 font-medium font-14"},"View all on demand session")))))),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null))),s.a.createElement(hl,{is_model_open:this.state.modelState,modelData:this.state.modelData,modelClose:this.modelClose,condition:_o.replaceChar(this.props.match.params.condition,!0)}),s.a.createElement(xi,{isConditionModalOpen:this.state.isConditionModalOpen,conditionName:this.props.match.params.condition,isWarningModal:this.state.isWarningModal,closeModel:this.closeModel,hasMembership:this.state.hasMembership,health_conditionId:this.state.health_conditionId,afterUpgrade:this.afterUpgrade}))}}]),a}(s.a.Component),vp={start_loader:ht,stop_loader:gt,joinClass:ja,cancelClass:Ta,liveclassDetail:Fa,ondemandDetail:$t,scheduleModelOpen:ia,hasMembership:ea,loginModelOpen:pt,startVideo:ta,saveTimeSpent:oa,updateAfterModelState:ca,setGoback:ma,pushHistory:Qt,registerformUpdate:Ot,updateMyConditions:oo,setConditionIndex:Bt,updateUserdataRedex:Ba,changePlan:so,getPlanByCountry:Gt},Ep=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,condition:e.auth.condition,liveclass_detail_data:e.workout.liveclass_detail_data,logged_userData:e.header.logged_userData,prevPath:e.workout.prevPath,healthcondition_list:e.register.healthcondition_list,registerFormvalues:e.register.registerFormValues,workout_detail_data:e.workout.workout_detail_data}}),vp)(bp),yp=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={userData:{},is_postnatal:!1},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.start_loader(),this.props.fetchUserDetails().then((function(t){e.getConditions()}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"getConditions",value:function(){var e=this;this.props.start_loader(),this.props.healthCondition().then((function(t){(e.props.stop_loader(),e.props.logged_userData.conditionList&&e.props.logged_userData.conditionList.length>0)?e.props.logged_userData.conditionList.findIndex((function(e){return 199===parseInt(e)}))>-1?(console.log("xxx"),e.setState({is_postnatal:!1})):e.props.logged_userData.conditionList.findIndex((function(e){return 200===parseInt(e)}))>-1?(console.log("pppp"),e.setState({is_postnatal:!0})):e.setState({is_postnatal:!1}):e.setState({is_postnatal:!1});e.props.healthcondition_list.map((function(e,t){}))}),(function(t){e.props.stop_loader(),at.b.error(t)}))}},{key:"render",value:function(){var e=_o.replaceChar(this.props.condition,!1);return s.a.createElement("div",{className:"registerpage"},s.a.createElement("div",{id:"register"},s.a.createElement("div",{className:"fadeIn first text-center p-t-10 p-b-15 register_logo"},s.a.createElement(Qo.b,{to:"/home"},s.a.createElement("img",{src:D+"logo.png",id:"icon",alt:"App Icon"}))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{id:"register-row",className:"row justify-content-center align-items-center m-t-50"},s.a.createElement("div",{id:"register-column",className:"col-md-10"},s.a.createElement("div",{id:"register-box",className:"col-md-12"},s.a.createElement("div",{id:"register-form",className:"form"},s.a.createElement("div",{className:"step15"},s.a.createElement("h3",{className:"text-center"},"Nice one, ",_o.bindUsername(this.props.logged_userData),"! ",s.a.createElement(Qo.b,{to:"/home",className:"close-register orangefont"},"X")),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-8 m-t-10"},s.a.createElement("div",{className:"text-center font-20 font-qmedium"},s.a.createElement("p",null,"Hooray!  You have been gifted a FREE Beam membership"),s.a.createElement("p",null,"until the end of 2021 (12/31/2021) by the "),s.a.createElement("p",null,"Cystic Fibrosis Foundation!")),s.a.createElement("div",{class:"col-md-12 mt-4 mb-3"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"video-tag1 col-md-6"},s.a.createElement("img",{src:D+"beamlogo_blue.png",id:"icon",className:"thanks-img img-fluid",alt:"beam logo"})),s.a.createElement("div",{className:"video-tag2 col-md-6"},s.a.createElement("img",{src:D+"cff-logo.png",id:"icon",className:"thanks-img img-fluid",alt:"cff-logo"})))),s.a.createElement("div",{id:"register-link",className:" w-100 m-b-30 float-left"},s.a.createElement(Qo.b,{to:"/on-demand/"+e,className:"w-65 mx-auto d-table btn  dblog_btn font-14 button-lightblue position-relative"},"Whoo hoo! Let's get started"))))))))))),s.a.createElement(Dn,{location:this.props.location,history:this.props.history}))}}]),a}(s.a.Component),_p={fetchUserDetails:ao,start_loader:ht,stop_loader:gt,healthCondition:Mt},kp=Object(i.b)((function(e){return{logged_userData:e.header.logged_userData,healthcondition_list:e.register.healthcondition_list,condition:e.auth.condition}}),_p)(yp),Np=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={modelOpenFromMobile:!1,email:"",email_error:!1,loading:!1,submitted:!1,response_error:"",isMobile:!1},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.resetPasswordSubmit=o.resetPasswordSubmit.bind(Object(is.a)(o)),o.onCloseModal=o.onCloseModal.bind(Object(is.a)(o)),o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.cleatState=o.cleatState.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("window.location.pathname",window.location.pathname),"/forgotpassword"==this.props.location.pathname&&(console.log("true"),this.props.forgotModelOpen(!0),this.setState({isMobile:!0}))}},{key:"renderHome",value:function(){return this.state.isMobile&&"/forgotpassword"==this.props.location.pathname?(console.log("this.forgot",this.props.location.pathname),s.a.createElement(ns,null)):""}},{key:"handleChange",value:function(e){var t,a=e.target,o=a.name,s=a.value,n=this.mailPatternCheck(e.target.value);this.setState((t={email_error:!n},Object(rs.a)(t,o,s),Object(rs.a)(t,"response_error",""),t))}},{key:"cleatState",value:function(){"/forgotpassword"==this.props.location.pathname&&(console.log("false"),this.setState({isMobile:!1})),this.setState({modelOpenFromMobile:!1,email:"",email_error:!1,loading:!1,submitted:!1,response_error:""})}},{key:"onCloseModal",value:function(){}},{key:"closeModel",value:function(){this.cleatState(),this.props.forgotModelOpen(!1)}},{key:"mailPatternCheck",value:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.trim())}},{key:"resetPasswordSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.email_error,o=this.state.email.trim();this.setState({submitted:!0}),o&&!a&&(this.setState({loading:!0}),this.props.forgotPassword(o).then((function(e){t.closeModel(),at.b.success(e.message)}),(function(e){t.setState({response_error:e,loading:!1})})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.submitted,o=t.email_error,n=t.loading,r=t.response_error,i=this.state.email.trim();return s.a.createElement(s.a.Fragment,null,this.renderHome(),s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog  start-popup forgot-pass common_design modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-semibold white-txt",id:"exampleModalLabel font-medium"},"It happens to everyone!"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.closeModel()}},"\xd7"))),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("div",{className:"mx-auto w-80"},s.a.createElement("p",{className:"font-book black-txt text-center font-15 m-t-60 font-normal"},"Enter your email below and we\u2019ll send you a link where you\u2019ll be able to reset your password\u2026"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"font-14 black-txt font-qregular font-normal",htmlFor:"exampleInputEmail1"},"Email"),s.a.createElement("input",{type:"email",className:"form-control",id:"exampleInputEmail1",name:"email",value:i,onChange:this.handleChange,"aria-describedby":"emailHelp",placeholder:""}),s.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"}),a&&o&&i&&s.a.createElement("p",{className:"text-danger"},"Invalid Email"),a&&!i&&s.a.createElement("p",{className:"text-danger"},"Email Required"),a&&r&&s.a.createElement("p",{className:"text-danger"},r))),s.a.createElement("div",{className:"mx-auto w-80"},s.a.createElement("button",{className:"btn btn-login popup-btn mx-auto m-t-20 m-b-20",onClick:this.resetPasswordSubmit,disabled:n}," ","Reset my password"," ")))))))}}]),a}(s.a.Component),wp={loginModelOpen:pt,forgotModelOpen:ut,forgotPassword:function(e){return function(t,a){var o=et({email:e});return fetch(h+"/api/forgot",o).then((function(e){return go(e,t)})).then((function(e){return e}))}}},Cp=Object(i.b)((function(e){return{is_model_open:e.header.is_forgotModelOpen}}),wp)(Np),xp=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={},o.onCloseModal=o.onCloseModal.bind(Object(is.a)(o)),o.closeModel=o.closeModel.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("didmount",localStorage.getItem("beamchallenging"))}},{key:"componentWillReceiveProps",value:function(e){console.log("challengign-receiveprops",e)}},{key:"onCloseModal",value:function(){}},{key:"closeModel",value:function(){var e=JSON.parse(localStorage.getItem("user"));console.log("challuser",e),e.beamchallenging=!1,localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("beamchallenging","");var t={from:{pathname:"/on-demand/"+_o.replaceChar("undefined"!=typeof Go.Cookies.get("condition")?Go.Cookies.get("condition"):k,!1)}}.from;this.props.history.push(t)}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_auth&&(!this.props.challenge_tag||JSON.parse(localStorage.getItem("user"))&&JSON.parse(localStorage.getItem("user")).beamchallenging),onClose:function(){return e.onCloseModal()},center:!0},s.a.createElement("div",{className:"modal-dialog modal-width--custom m-t-50",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title text-center col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"}),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.closeModel()}},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value",onClick:function(){return e.closeModel()}},s.a.createElement("img",{src:D+"Keep-Beaming-Challenge.jpeg",className:"w-100 pointer"}))))))}}]),a}(s.a.Component),Sp=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,challenge_tag:e.auth.challenge_tag,init_condition:e.auth.initial_condition}}),{})(xp),Op=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).onCloseModal=function(){},o.submitClinic=function(){var e=o.props.logged_userData.Tags&&o.props.logged_userData.Tags.find((function(e){return e.tag==N}));if(e&&e.id){var t={other_clinic:o.state.other_clinic,clinic_status:o.state.clinic_status,userId:o.props.logged_userData.id,kdConditionId:e.id};o.props.updateUserClinic(t)}o.closeConfirmation(),o.props.updateClinicResponse(),o.props.fetchUserDetails()},o.closeConfirmation=function(){o.props.updateClinicResponse(),o.props.openClinic(!1)},o.state={clinic_status:"",other_clinic:""},o.updateClinicstatus=o.updateClinicstatus.bind(Object(is.a)(o)),o.handleChangeOtherClinic=o.handleChangeOtherClinic.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"updateClinicstatus",value:function(e){this.setState({clinic_status:e.target.value})}},{key:"handleChangeOtherClinic",value:function(e){this.setState({other_clinic:e.target.value})}},{key:"render",value:function(){var e=this;return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.is_model_open,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog common_design modal-width--custom live-classes--popup",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center white-txt col-md-12 p-0 font-book font-24",id:"exampleModalLabel "},this.props.title?this.props.title:"Heads Up!"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.closeConfirmation()}},"\xd7"))),s.a.createElement("div",{className:"row justify-content-center align-items-center"},s.a.createElement("div",{className:"input_section col-md-6 m-t-10"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("select",{name:"clinic_status",value:this.state.clinic_status,className:"form-control",onChange:this.updateClinicstatus},s.a.createElement("option",{className:"pointer"},"Select clinic"),this.props.clinic_list.map((function(e){return s.a.createElement("option",{className:"pointer",key:"clinic_"+e.id,value:e.id},e.clinicName)})),s.a.createElement("option",{className:"pointer"},"Other")))),"Other"==this.state.clinic_status&&s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"other_clinic",id:"other_clinic",placeholder:"Enter Clinic Name",className:"form-control input-control",maxLength:"160",value:this.state.other_clinic||"",required:!0,onChange:this.handleChangeOtherClinic})),s.a.createElement("div",{className:"buttons-read w-100 m-t-20 float-left text-center pointer"},s.a.createElement("a",{className:"btn btn-blue-inverse font-14 read-later m-l-20 pointer",onClick:this.submitClinic},"Submit")))))))}}]),a}(s.a.Component),Lp={updateUserClinic:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/account/updateUserClinic",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},openClinic:kt,updateClinicResponse:function(){return function(e,t){var a=tt();return fetch(h+"/api/updateClinicRespond",a).then((function(t){return go(t,e)})).then((function(t){return e({type:"set_clinic_popup_respond",payload:!0}),t}))}},fetchUserDetails:ao},Dp=Object(i.b)((function(e){return{logged_userData:e.header.logged_userData,clinic_list:e.register.clinic_list}}),Lp)(Op),Mp=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={isRead:!1},o.conditonClassList=Object(Lo.a)(R),o.returnClass=o.conditonClassList.reverse(),o}return Object(Wo.a)(a,[{key:"getColorClass",value:function(e){if(this.returnClass.length>0)return this.returnClass[e]}},{key:"onCloseModal",value:function(){}},{key:"render",value:function(){var e=this;Go.Cookies.get("condition");return s.a.createElement(ls.a,{className:"removebbg-popup",open:this.props.isModalOpen,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog schedule_block welcome-popup common_design modal-width--custom health-condition-popup m-t-80",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-semibold white-txt",id:"exampleModalLabel font-medium"},"Which health condition would you like to browse?"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.props.closeConditionModal()}},"\xd7"))),s.a.createElement("div",{className:"modal-body pb-0 pt-0"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 text-center"},this.props.healthcondition_list&&this.props.healthcondition_list.map((function(t,a){return s.a.createElement("button",{className:"text-capitalize btn btn-login w-100  mx-auto  font-14 m-r-20 font-weight-bold "+e.getColorClass(a),onClick:function(){return e.props.getConditionPopup(e.props.pageUrl,!0,t.tag)}},t.tag," ")})))))))))}}]),a}(s.a.Component),Ip=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData,healthcondition_list:e.register.healthcondition_list}}),{})(Mp),jp=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).conditionHasHomePage=function(){return _.includes(o.props.condition)},o.state={isRead:!1},o.conditonClassList=Object(Lo.a)(R),o.returnClass=o.conditonClassList.reverse(),o}return Object(Wo.a)(a,[{key:"getColorClass",value:function(e){if(this.returnClass.length>0)return this.returnClass[e]}},{key:"onCloseModal",value:function(){}},{key:"render",value:function(){var e=this,t=Go.Cookies.get("condition");return console.log("currentCondition",t),s.a.createElement(ls.a,{className:"removebbg-popup ",open:this.props.isModalOpen,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog welcome-popup-lg m-t-80",role:"document"},s.a.createElement("div",{className:"modal-content bg-transparent border-0"},s.a.createElement("div",{className:"modal-body pb-0 pt-0 bg-darkblue-with-border each_programs_height"},s.a.createElement("button",{type:"button",className:"big-white-close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.props.setNewUser(!1)}},"\xd7"),s.a.createElement("div",{className:"col-md-12 p-0"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"position-relative w-100"},s.a.createElement("h5",{className:"text-center col-md-12 p-0 font-semibold white-txt fontsize-36 letter-spacing003 mt-5 mb-4 mob_wid",id:"exampleModalLabel font-medium"},"Welcome to Beam!"),s.a.createElement("p",{className:"mb-4 text-center col-md-12 p-0 white-txt fontsize-24 letter-spacing001"},"We\u2019re so pleased to have you here!"),s.a.createElement("p",{className:"mb-4 text-center col-md-12 p-0 font-semibold white-txt fontsize-24 letter-spacing001 mob_wid"},"Can we help you find what you\u2019re looking for?"),s.a.createElement("span",{className:"dollimg_rightside"},s.a.createElement("img",{src:D+"Asset-4.png",className:"img-fluid",alt:""}))),s.a.createElement("div",{className:"row mx-auto justify-content-center"},this.props.module_data.program>0&&s.a.createElement("div",{className:"col-md-4 col-lg-4 col-12 pr-0 mb-3"},s.a.createElement("div",{className:"text-left card p-3 border-0 bg-yellow d-flex h-100 bg-transparent"},s.a.createElement("div",{className:"card-body p-0"},s.a.createElement("h4",{className:"font-semibold fontsz-24 ash-txt letter-spacing001 mb-3"},"Programs"),s.a.createElement("p",{className:"font-qregular fontsize-18 ash-txt letter-spacing001"},"Check out our different programs curated for specific health needs.")),s.a.createElement("div",{className:"card-footer bg-transparent p-0 border-0 text-center"},s.a.createElement(Qo.b,{to:"/programs/"+this.props.condition,onClick:function(){e.props.setNewUser(!1)},className:"btn btn-darkblue-inverse"},"Go to programs")))),this.props.module_data.liveclass>0&&s.a.createElement("div",{className:"col-md-4 col-lg-4 col-12 pr-0 mb-3"},s.a.createElement("div",{className:"text-left card p-3 bg-orange1 border-0 d-flex h-100 bg-transparent"},s.a.createElement("div",{className:"card-body p-0"},s.a.createElement("h4",{className:"font-semibold fontsz-24 white-txt letter-spacing001 mb-3"},"Live class schedule"),s.a.createElement("p",{className:"font-qregular fontsize-18 white-txt letter-spacing001"},"Take part in our interactive live classes where you can connect with our instructors and other Beam Members.")),s.a.createElement("div",{className:"card-footer bg-transparent p-0 border-0 text-center"},s.a.createElement(Qo.b,{to:"/liveClasses/"+this.props.condition,onClick:function(){e.props.setNewUser(!1)},className:"btn btn-darkblue-inverse"},"Go to live classes")))),this.props.module_data.ondemand>0&&s.a.createElement("div",{className:"col-md-4 col-lg-4 col-12 pr-0 mb-3"},s.a.createElement("div",{className:"text-left bg-purple card p-3 border-0 d-flex h-100 bg-transparent"},s.a.createElement("div",{className:"card-body p-0"},s.a.createElement("h4",{className:"font-semibold fontsz-24 white-txt letter-spacing001 mb-3"},"On-demand library"),s.a.createElement("p",{className:"font-qregular fontsize-18 white-txt letter-spacing001"},"Why not browse our selection of exercise, education and well-being sessions for you to do anytime, anywhere.")),s.a.createElement("div",{className:"card-footer bg-transparent p-0 border-0 text-center"},s.a.createElement(Qo.b,{to:"/on-demand/"+this.props.condition,onClick:function(){e.props.setNewUser(!1)},className:"btn btn-darkblue-inverse"},"Go to on-demand"))))),this.conditionHasHomePage()&&s.a.createElement("div",{className:"row m-0 w-100 my-5 text-center"},s.a.createElement(Qo.b,{to:"/"+this.props.condition,onClick:function(){e.props.setNewUser(!1)},className:"yellow-button mx-auto"},"Go to homepage"))))))))}}]),a}(s.a.Component),Tp={setNewUser:Jt},Fp=Object(i.b)((function(e){return{module_data:e.header.module_data}}),Tp)(jp),Pp=(N.replace(/ /g,"-"),function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).savePageUrl=function(e){if(console.log("savePageUrl",e),e){var t=e;Go.Cookies.set("current-page-url",t)}},o.getUserDetail=function(){o.props.fetchUserDetails().then((function(e){console.log("getuserdetails-header");var t=JSON.parse(localStorage.getItem("userDetails"))||o.props.logged_userData;o.props.setExploreConditions(t.UserConditions,o.props.healthcondition_list);var a=_o.returnTagName("condition",k,o.props.logged_userData.UserConditions);localStorage.getItem("beamchallenging")&&o.props.is_auth&&a&&o.props.updateUserChallengeTag(),o.fetchNotifications(),o.props.getFeatures(),t.terms||"terms"==o.state.currentPageName||o.props.openPolicy(!0),o.props.getCountOfData(_o.replaceChar(o.props.init_condition,!1))}),(function(e){console.log("fetchUserDetails-err",e),at.b.error(e)}))},o.saveUserPolicy=function(e){o.setState({submitted:!0}),e&&o.props.savePolicy(e).then((function(e){at.b.success(e.message),o.props.openPolicy(!1)}),(function(e){at.b.error(e)}))},o.handleCheckboxChange=function(e){o.setState({terms:!o.state.terms})},o.closeConditionModal=function(){o.setState({condition_model:!1})},o.state={aboutAriaExpand:!1,condition:"",is_menu_open:!1,header_open:!1,condition_dd_open:!1,maintance_model:!1,selected_notification:{},notification:[],userDetails:[],active_bell:!1,condition_model:!1,currentPageName:"",isAdmin:!1,isOwner:!1,view:!1,Filters:""},o.loginClick=o.loginClick.bind(Object(is.a)(o)),o.logoutClick=o.logoutClick.bind(Object(is.a)(o)),o.changeDrowndownArrow=o.changeDrowndownArrow.bind(Object(is.a)(o)),o.changeHeaderClass=o.changeHeaderClass.bind(Object(is.a)(o)),o.changeConditionClass=o.changeConditionClass.bind(Object(is.a)(o)),o.getConditionPopup=o.getConditionPopup.bind(Object(is.a)(o)),o.maintance_model_state=o.maintance_model_state.bind(Object(is.a)(o)),o.open=!1,o.aboutRef=s.a.createRef(),o}return Object(Wo.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.history.location.pathname;console.log("headerUrl",t);var a=t.split("/")[1];this.setState({currentPageName:a});JSON.parse(localStorage.getItem("isCreateMode"));""==this.props.init_condition&&this.props.init_condition!=e.init_condition&&(Go.Cookies.get("condition")?e.init_condition!=_o.replaceChar(Go.Cookies.get("condition"),!1)&&this.props.getCountOfData(_o.replaceChar(Go.Cookies.get("condition"),!1)):this.props.getCountOfData(_o.replaceChar(e.init_condition,!1)))}},{key:"componentDidMount",value:function(){var e=this;this.props.getURLCondition(),this.props.getFaqContent(),console.log("this.props.match.params",this.props),this.props.getCountriesList(),this.props.gotoStep(0),this.props.clearRegisterFormUpdate(),this.getConditions(),this.props.fetchConditionRelationships(),this.props.warningBanner(),this.props.isAuth(),this.is_auth=this.props.is_auth,console.log("this.props.is_auth",this.props.is_auth),this.props.is_auth&&this.getUserDetail();var t,a=JSON.parse(localStorage.getItem("userDetails")),o=Go.Cookies.get("condition")?Go.Cookies.get("condition"):this.props.menu_condition;if(t=a&&a.isStudyLeader?!(-1==a.SLCondition.indexOf(_o.replaceChar(o,!0))||!JSON.parse(localStorage.getItem("isCreateMode"))):!!JSON.parse(localStorage.getItem("isCreateMode")),JSON.parse(localStorage.getItem("user"))){var s=JSON.parse(localStorage.getItem("user"));setTimeout((function(){e.setState({isAdmin:s.adminDetails,isOwner:s.ownerdetails})}),300)}console.log("CrEATEviji",t),this.props.changeCMSMode(t),setInterval(Object(nt.a)(st.a.mark((function t(){return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.is_auth&&e.fetchNotifications();case 1:case"end":return t.stop()}}),t)}))),6e4),this.showForFirstTime();var n=this.props.history.location.pathname;if(this.setState({headerUrl:n}),this.props.history.location.search&&-1!==this.props.history.location.search.indexOf("token=")){var r=this.props.history.location.search.split("token=")[1],i={token:r?r.replace("%20"," "):""};localStorage.setItem("userAuthToken",JSON.stringify(i)),this.props.isAuth(),this.getUserDetail()}this.props.getFooter(_o.replaceChar(o,!0)),this.savePageUrl(n)}},{key:"showForFirstTime",value:function(){var e=localStorage.getItem("firstTimeUser");1!==parseInt(e)&&localStorage.setItem("firstTimeUser",1)}},{key:"maintance_model_state",value:function(e){this.setState({maintance_model:e,condition_model:e})}},{key:"onCloseModal",value:function(){}},{key:"changeDrowndownArrow",value:function(){!0===this.state.is_menu_open?this.setState({is_menu_open:!1}):this.setState({is_menu_open:!0})}},{key:"changeHeaderClass",value:function(e){this.setState({condition_dd_open:!1}),!0===this.state.header_open?this.setState({header_open:!1}):this.setState({header_open:!0}),e&&this.savePageUrl(e)}},{key:"changeConditionClass",value:function(){this.setState({header_open:!1}),!0===this.state.condition_dd_open?this.setState({condition_dd_open:!1}):this.setState({condition_dd_open:!0})}},{key:"getPathFromUrl",value:function(e){console.log("getPathFromUrl");var t=this.props.location.pathname;console.log("location.pathname",t);var a=t.lastIndexOf("/"),o=t.split("/"),s=t.substr(a+1),n="";return console.log("isSetcondition",e),console.log("splitPath.length",o.length),console.log("constand.CONDITION_LIST",U.includes(_o.replaceChar(s,!0))),e&&3==o.length&&U.includes(_o.replaceChar(s,!0))&&(n=t.substr(0,a)+"/"),n}},{key:"getConditionPopup",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=JSON.parse(localStorage.getItem("userDetails"))||this.props.logged_userData;console.log("authData-getConditionPopup",s),Object.keys(s).length&&!s.terms&&this.props.openPolicy(!0),console.log("url-actual",e);var n=this.getPathFromUrl(a,!0);e=a&&n||e,a?this.props.getCountOfData(_o.replaceChar(o,!1)).then((function(s){console.log("getCountOfDataresponse",s),console.log("module_data",t.props.module_data.liveclass),t.conditionalGoto(o,e,a)}),(function(s){t.conditionalGoto(o,e,a)})):Go.Cookies.get("condition")?this.conditionalGoto(Go.Cookies.get("condition"),e,a):this.props.is_auth&&this.props.init_condition?this.conditionalGoto(this.props.init_condition,e,a):this.setState({condition_model:!0,pageUrl:e})}},{key:"loginClick",value:function(){Go.Cookies.remove("condition"),this.props.loginModelOpen(!0)}},{key:"conditionalGoto",value:function(e,t){var a=t;console.log("conditionalGoto",e),console.log("conditionalGoto-current_url",a);var o=_o.replaceChar(e,!1);if(this.props.checkMenuData(o),this.props.setCondition(e),this.props.setMenuCondition(e),e==N||e==k||"prostate cancer"==e||"asthma kids"==e){console.log("yesmatchingcondition=",t),t?(a=t+o,t.toLowerCase().includes("liveclasses")&&0==this.props.module_data.liveclass&&(a="/on-demand/"+o)):a="/"+o,console.log("if-current_url=",a);var s={from:{pathname:a}},n=s.from;this.props.history.push(n)}else{console.log("nomatchingcondition=",t);var r=this.props.location.pathname;console.log("location.pathname",r);var i=r.split("/");if(i.length>3){console.log("ifsplitpath="),a="/on-demand/"+o,this.props.module_data.liveclass&&(a="/liveClasses/"+o);var l={from:{pathname:a}},c=l.from;this.props.history.push(c)}else{console.log("elsesplitpath="),a=t+o,console.log("includesof",t.toLowerCase().includes("liveclasses")),console.log("liveclasscount=",this.props.module_data.liveclass),t.toLowerCase().includes("liveclasses")&&0==this.props.module_data.liveclass&&(a="/on-demand/"+o),console.log("includesof-current_url=",a);var m={from:{pathname:a}},d=m.from;this.props.history.push(d)}}Go.Cookies.set("condition",o),this.savePageUrl(a),this.setState({condition_model:!1,condition:o,header_open:!1})}},{key:"logoutClick",value:function(){var e=Object(nt.a)(st.a.mark((function e(){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Go.Cookies.remove("condition"),this.props.updateNotification({notification:[],userDetails:[]}),e.next=4,this.props.logout();case 4:this.props.isAuth(),window.location.href="/home";case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getConditions",value:function(){this.props.healthCondition().then((function(e){}),(function(e){at.b.error(e)}))}},{key:"fetchNotifications",value:function(){var e=this;this.props.fetchNotifications().then((function(t){var a=t.notification?t.notification:[],o=t.count>0,s=t.userDetails?t.userDetails:[];e.setState({notification:a,userDetails:s,active_bell:o}),setTimeout((function(){e.setState({active_bell:!1})}),3e3)}),(function(e){at.b.error(e)}))}},{key:"readNotifications",value:function(e){var t=this,a={notifyId:e.id};this.props.readNotifications(a).then((function(a){t.spliceGroupContent(e.id)}),(function(e){at.b.error(e)}))}},{key:"confirmNotifications",value:function(e,t){var a=this,o={isAccept:e,notifyId:t};this.props.confirmNotifications(o).then((function(e){a.spliceGroupContent(t),at.b.success(e.message)}),(function(e){at.b.error(e)}))}},{key:"viewNotification",value:function(e){var t=Object(Lo.a)(this.props.notification);t[e].extented=!0!==t[e].extented;var a=t[e],o={notification:t,userDetails:this.props.userDetails};this.setState({selected_notification:a,notification:t}),this.props.updateNotification(o)}},{key:"gotoGroup",value:function(e){if(this.changeHeaderClass(),e.Community&&e.Community.community_name){var t={from:{pathname:"/group/feed/"+e.Community.community_name+"/"+_o.replaceChar(Go.Cookies.get("condition"),!1)}}.from;this.props.history.push(t)}else if(e.Workout&&e.Workout.title){var a={from:{pathname:"/detail/"+e.Workout.id+"/"+_o.replaceChar(Go.Cookies.get("condition"),!1)}}.from;this.props.history.push(a)}}},{key:"spliceGroupContent",value:function(e){var t=Object(Lo.a)(this.props.notification),a=Object(Lo.a)(this.props.userDetails),o=t.findIndex((function(t){return parseInt(t.id)===parseInt(e)}));o>-1&&(t.splice(o,1),a.splice(o,1));var s={notification:t,userDetails:a};this.setState({notification:t}),this.props.updateNotification(s)}},{key:"_renderNotification",value:function(){var e=this;return s.a.createElement("li",null,s.a.createElement("h5",{className:"col-md-12 font-14 black-txt font-qmedium p-t-5 p-b-5 m-b-0  border-bottom"},"Notifications"),s.a.createElement("ul",{className:"noti_list"},this.props.notification&&this.props.notification.map((function(t,a){var o=t.Room?t.Room.Attendees&&t.Room.Attendees.length>0?t.Room.Attendees[0].reference:"#":"",n=t.Room&&t.Room.Questionnaire?t.Room.Questionnaire.preQuestionnaire:"";return s.a.createElement("li",{key:a,className:"border-bottom"},s.a.createElement("div",{className:" col-md-12 p-t-10 p-b-10 "},s.a.createElement("div",{className:" row"},s.a.createElement("div",{className:"col-md-3 col-sm-3 col-xs-3"},s.a.createElement("div",{className:"notify-img text-center"},s.a.createElement(hn,{width:"36",className:"img-fluid rounded-circle",src:e.props.userDetails[a].profilePic?O+e.props.userDetails[a].profilePic:D+"no-profile-pic.png"}))),s.a.createElement("div",{className:"col-md-9 col-sm-9 col-xs-9 p-0 row"},s.a.createElement("span",{className:"pull-left ltext p-l-0 black-txt font-14 font-qregular"},("liveclassRemind"===t.type||"ondemandRemind"===t.type)&&t.bespokeMsg,("joinrequest"===t.type||"join"===t.type)&&e.processGroupMsg(t,"group"),("fileUploadSuccess"==t.type||"fileUploadFail"==t.type)&&e.processGroupMsg(t,"file"))," ",s.a.createElement("span",{className:"p-0 pull-right text-right"},s.a.createElement("i",{className:"fa fa-times pointer text-muted","aria-hidden":"true",onClick:function(){return e.readNotifications(t)}})),"joinrequest"===t.type&&t.reqUserId&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"btn  dblog_btn notifify_confirm_btn font-12 font-medium btn-purple m-r-5",onClick:function(){return e.confirmNotifications(1,t.id)}},"Accept"),s.a.createElement("button",{className:"btn deny_btn black-txt font-12 font-medium",onClick:function(){return e.confirmNotifications(0,t.id)}},"Reject")),"liveclassRemind"===t.type&&s.a.createElement(s.a.Fragment,null,""!=n&&s.a.createElement("a",{className:"btn preclass_btn notifify_confirm_btn font-12 font-medium btn-purple m-r-5",href:n,target:"_blank"}," pre-class survey "),s.a.createElement("a",{className:"btn deny_btn black-txt font-12 font-medium",href:o,target:"_blank"}," go to class ")),"ondemandRemind"===t.type&&s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{className:"btn deny_btn black-txt font-12 font-medium",href:"/detail/"+t.workoutId+"/"+_o.replaceChar(e.state.condition,!1)},"start class"))))))}))))}},{key:"processGroupMsg",value:function(e,t){var a,o=this,n=e.bespokeMsg?e.bespokeMsg:"";switch(t){case"group":var r=e.Community&&e.Community.community_name?e.Community.community_name:"";a=(i=n.split(r)).length>1?s.a.createElement(s.a.Fragment,null,i[0],s.a.createElement("u",{className:"pointer font-semibold purplefont",onClick:function(){return o.gotoGroup(e)}},r),i[1]):i[0];break;case"file":var i,l=e.Workout&&e.Workout.title?e.Workout.title:"";a=(i=n.split(l)).length>1?s.a.createElement(s.a.Fragment,null,i[0],s.a.createElement("u",{className:"pointer font-semibold purplefont",onClick:function(){return o.gotoGroup(e)}},l),i[1]):i[0]}return a}},{key:"_renderMobileNotification",value:function(){var e=this;return s.a.createElement("ul",{className:this.state.notifyAriaExpand?"dropdown-menu noti_list show":"dropdown-menu noti_list"},this.props.notification&&this.props.notification.map((function(t,a){return s.a.createElement("li",{key:a},s.a.createElement("div",{className:"notifi_list"},s.a.createElement("div",{className:" col-md-12 p-t-10 p-b-10 border-bottom"},s.a.createElement("div",{className:" row"},s.a.createElement("div",{className:"col-10"},s.a.createElement("span",{className:"font-14 font-book noti-text pull-left"},("liveclassRemind"===t.type||"ondemandRemind"===t.type)&&t.bespokeMsg,("joinrequest"===t.type||"join"===t.type)&&e.processGroupMsg(t,"group"),("fileUploadSuccess"==t.type||"fileUploadFail"==t.type)&&e.processGroupMsg(t,"file"))," "),s.a.createElement("div",{className:"col-2 p-0"},"joinrequest"===t.type&&t.reqUserId&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"text-right green-batch"},s.a.createElement("img",{src:D+"notitick.png",onClick:function(){return e.confirmNotifications(1,t.id)}})),s.a.createElement("span",{className:"text-right red-batch "},s.a.createElement("img",{src:D+"cancel.png",onClick:function(){return e.confirmNotifications(0,t.id)}}))))),s.a.createElement("i",{className:"fa fa-times pointer","aria-hidden":"true",onClick:function(){return e.readNotifications(t)}}))))})))}},{key:"handleClickRef",value:function(e){switch(console.log("handleClick-ref",e),e){case"aboutRef":var t=this.state.aboutAriaExpand;this.setState({aboutAriaExpand:!t});break;case"workRef":t=this.state.workAriaExpand;this.setState({workAriaExpand:!t});break;case"notificationRef":t=this.state.notifyAriaExpand;this.setState({notifyAriaExpand:!t});break;case"accountRef":t=this.state.accountAriaExpand;this.setState({accountAriaExpand:!t})}var a=this;setTimeout((function(){console.log("Hello, World!",e),a.refs[e].scrollIntoView({behavior:"smooth",block:"start"})}),500)}},{key:"render",value:function(){var e=this,t=this.props.logged_userData||JSON.parse(localStorage.getItem("userDetails")),a="/home",o=this.props.history.location.pathname,n=Go.Cookies.get("condition")?Go.Cookies.get("condition"):this.props.menu_condition,r=Go.Cookies.get("condition")?_o.replaceChar(Go.Cookies.get("condition"),!0):_o.replaceChar(this.props.init_condition,!0);if(t&&t.isStudyLeader)a="/on-demand/"+_o.replaceChar(r,!1);else if(t&&(t.isGroupLeader||t.isStudyInstructor))a="/groups/"+_o.replaceChar(r,!1);else if(t&&t.isStudyUser){a="/group/feed/"+(t.Members.length?t.Members[0].Community.community_name:"")+"/"+_o.replaceChar(r,!1)}console.log("header-this.props.history",this.props.history);var i=this.props.history?this.props.history.location.pathname:"/home";i=-1!=i.indexOf("/reset")?"/home":i;var l="logo.png";if(t&&t.isStudyUser){var c=_o.replaceChar(r,!0).toLowerCase().replace("research studies: ","");l=c.charAt(0).toUpperCase()+c.slice(1)+"-lock-up.png"}return s.a.createElement(s.a.Fragment,null,s.a.createElement(Zo.Helmet,null,s.a.createElement("script",{type:"text/javascript"},'\n        var beamer_config ={\n          product_id: "'.concat("TiiOkoLZ30751",'",\n          filter: "').concat(this.props.beamer_filter,'",\n        };\n    ')),s.a.createElement("script",{type:"text/javascript",src:"https://app.getbeamer.com/js/beamer-embed.js",defer:"defer"})),s.a.createElement("header",{className:"header header-custom"},s.a.createElement("div",{id:"content"}),s.a.createElement("nav",{className:(Object(qo.g)(this.props.location.pathname,"/instructor/:id")?"border-bottom":"")+" navbar navbar-expand-lg navbar-light bg-white fixed-top "+(this.props.warning_banner_text.length>0?"header-with-info":"")},this.props.warning_banner_text.length>0&&s.a.createElement("div",{class:"blue-info font-qmedium"},this.props.warning_banner_text.map((function(e,t){return s.a.createElement("p",null," ",e.text)}))),s.a.createElement("div",{className:"  container-fluid mx-auto pl-3 pr-3"},s.a.createElement(Qo.b,{className:"navbar-brand pointer "+(t&&t.isStudyUser?"w-25":""),to:a},s.a.createElement("img",{src:D+l,alt:"beam",className:t&&t.isStudyUser?"w-100":""})),(Go.Cookies.get("condition")||this.props.is_auth&&this.props.init_condition)&&s.a.createElement("div",{className:"left-cyber"},(!t||t&&!t.isStudyUser)&&s.a.createElement("ul",{className:"navbar-nav ml-auto align-items-start align-items-lg-center float-left cyber-txt navbar-collapse"},s.a.createElement("li",{className:"dropdown nav-item webmenu"},s.a.createElement("a",{className:"dropdown-toggle nav-link link-scroll font-semibold navalign cyber-link",role:"button","aria-expanded":"false","aria-haspopup":"true",href:"#","data-toggle":"dropdown"},Go.Cookies.get("condition")&&_o.replaceChar(Go.Cookies.get("condition"),!0)||this.props.is_auth&&this.props.init_condition&&_o.replaceChar(this.props.init_condition,!0),(!r.toLowerCase().includes("research")||r.toLowerCase().includes("research")&&t&&t.UserConditions&&t.UserConditions.length>1)&&s.a.createElement("span",{class:" caret"})),(!r.toLowerCase().includes("research")||r.toLowerCase().includes("research")&&t&&t.UserConditions&&t.UserConditions.length>1)&&s.a.createElement("ul",{className:"dropdown-menu cyber-menu"},this.props.is_auth&&t&&t.UserConditions&&t.UserConditions.length>0&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:"nav-link link-scroll font-medium navalign add_purple_bg top-section-condition"},"My conditions")),t&&t.UserConditions&&t.UserConditions.map((function(a,o){return s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link link-scroll font-medium navalign pointer",onClick:function(){var o=(t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("on-demand")?"/on-demand/":"/liveClasses/";e.getConditionPopup(o,!0,a.Tag.tag),e.props.getFooter(a.Tag.tag)}},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},a.Tag.tag)))}))||this.props.healthcondition_list.map((function(t,a){return s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link link-scroll font-medium navalign pointer",onClick:function(){e.getConditionPopup("/on-demand/",!0,t.tag),e.props.getFooter(t.tag)}},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},t.tag)))})),this.props.is_auth&&t&&t.UserConditions&&this.props.healthcondition_list.length!=t.UserConditions.length&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:"nav-link link-scroll font-medium navalign add_purple_bg"},"Explore conditions")),this.props.is_auth&&t&&t.UserConditions&&this.props.healthcondition_list.length!=t.UserConditions.length&&this.props.explore_conditions.length&&this.props.explore_conditions.map((function(t,a){return s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link link-scroll font-medium navalign pointer",onClick:function(){e.getConditionPopup("/on-demand/",!0,t.tag),e.props.getFooter(t.tag)}},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},t.tag)))})))))),s.a.createElement("button",{className:"navbar-toggler menu "+(!0===this.state.header_open?"clicked":" "),type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",onClick:this.changeHeaderClass},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"mobile-nav "+(!0===this.state.header_open?"clicked":" ")},s.a.createElement("ul",{className:"navbar-nav ml-auto align-items-start align-items-lg-center"},!this.props.is_auth&&s.a.createElement("li",{className:"nav-item cursor"},s.a.createElement("span",{className:"nav-link navalign font-book  pointer",onClick:function(){e.changeHeaderClass(),e.loginClick()}},"Sign In")),this.props.is_auth&&s.a.createElement("li",{className:"dropdown nav-item profile"},s.a.createElement(Qo.b,{className:"btn navbar-btn btn-shadow font-medium font-14 btn-gradient button-style w-100 my-beam",to:"/account/dashboard/schedule/"+_o.replaceChar(n,!1)},"My Beam")),this.props.is_auth&&t&&t.UserConditions&&t.UserConditions.length>0&&s.a.createElement("li",{className:"dropdown nav-item text-capitalize"},s.a.createElement("a",{className:"dropdown-toggle nav-link link-scroll font-book navalign",role:"button","aria-expanded":"false","aria-haspopup":"true",href:"#","data-toggle":"dropdown"},"My Conditions"," ",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})),s.a.createElement("ul",{className:"dropdown-menu"},t&&t.UserConditions&&t.UserConditions.map((function(a,o){return s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link link-scroll font-medium navalign pointer",onClick:function(){var o=(t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("on-demand")?"/on-demand/":"/liveClasses/";e.changeHeaderClass(),e.getConditionPopup(o,!0,a.Tag.tag)}},a.Tag.tag))})))),this.props.is_auth&&t&&t.UserConditions&&this.props.healthcondition_list.length!=t.UserConditions.length&&s.a.createElement("li",{className:"dropdown nav-item text-capitalize"},s.a.createElement("a",{className:"dropdown-toggle nav-link link-scroll font-book navalign",role:"button","aria-expanded":"false","aria-haspopup":"true",href:"#","data-toggle":"dropdown"},"Explore conditions"," ",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})),s.a.createElement("ul",{className:"dropdown-menu"},this.props.explore_conditions.length&&this.props.explore_conditions.map((function(t,a){return s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link link-scroll font-medium navalign pointer",onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/on-demand/",!0,t.tag)}},t.tag))})))),!this.props.is_auth&&s.a.createElement("li",{className:"dropdown nav-item text-capitalize"},s.a.createElement("a",{className:"dropdown-toggle nav-link link-scroll font-book navalign",role:"button","aria-expanded":"false","aria-haspopup":"true",href:"#","data-toggle":"dropdown"},"Conditions"," ",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})),s.a.createElement("ul",{className:"dropdown-menu"},this.props.healthcondition_list.length&&this.props.healthcondition_list.map((function(t,a){return s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link link-scroll font-medium navalign pointer",onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/on-demand/",!0,t.tag)}},t.tag))})))),(!this.props.is_auth||this.props.is_auth&&!t.isStudyUser&&((t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("on-demand")||A.includes("on-demand")))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/on-demand/")},className:"nav-link link-scroll font-book navalign"}," On-demand Classes")),(!this.props.is_auth||this.props.is_auth&&!t.isStudyUser&&((t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("programs")||A.includes("programs")&&this.props.is_menu_has_data))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/programs/")},className:"nav-link link-scroll font-book navalign"}," Programs")),(!this.props.is_auth&&"prostate cancer"!=_o.replaceChar(n,!0).toLowerCase()&&"postnatal"!=_o.replaceChar(n,!0).toLowerCase()&&"menopause"!=_o.replaceChar(n,!0).toLowerCase()||this.props.is_auth&&!t.isStudyUser&&(!t.isStudyLeader&&!t.isGroupLeader&&!t.isStudyInstructor&&"prostate cancer"!=_o.replaceChar(n,!0).toLowerCase()&&"postnatal"!=_o.replaceChar(n,!0).toLowerCase()&&"menopause"!=_o.replaceChar(n,!0).toLowerCase()||(t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("liveClasses")))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/liveClasses/")},className:"nav-link link-scroll font-book navalign"},"Live Classes")),(!this.props.is_auth&&"postnatal"!=_o.replaceChar(n,!0).toLowerCase()&&"menopause"!=_o.replaceChar(n,!0).toLowerCase()||this.props.is_auth&&!t.isStudyUser&&(!t.isStudyLeader&&!t.isGroupLeader&&!t.isStudyInstructor&&"postnatal"!=_o.replaceChar(n,!0).toLowerCase()&&"menopause"!=_o.replaceChar(n,!0).toLowerCase()||(t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("groups")))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/groups/")},className:"nav-link link-scroll font-book navalign"},"Groups")),(!this.props.is_auth||this.props.is_auth&&!t.isStudyUser&&(!t.isStudyLeader&&!t.isGroupLeader&&!t.isStudyInstructor&&A.includes("instructor")||(t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("instructor")))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/instructor/")},className:"nav-link link-scroll font-book navalign"},"Instructors")),(!this.props.is_auth||this.props.is_auth&&!t.isStudyUser&&(!t.isStudyLeader&&!t.isGroupLeader&&!t.isStudyInstructor||(t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("blog")))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/blog/")},className:"nav-link link-scroll font-book navalign"},"Blog")),(!this.props.is_auth||this.props.is_auth&&!t.isStudyUser&&(!t.isStudyLeader&&!t.isGroupLeader&&!t.isStudyInstructor||(t.isGroupLeader||t.isStudyLeader||!t.isStudyInstructor)&&W.includes("howitworks")))&&s.a.createElement("li",{className:this.state.aboutAriaExpand?"dropdown nav-item show":"dropdown nav-item",onClick:this.handleClickRef.bind(this,"aboutRef")},s.a.createElement("a",{className:"dropdown-toggle nav-link link-scroll font-book navalign",ref:"aboutRef"},"About"," ",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})),s.a.createElement("ul",{className:this.state.aboutAriaExpand?"dropdown-menu show":"dropdown-menu"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.changeHeaderClass("/howitworks")},className:"nav-link link-scroll font-book navalign",to:"/howitworks"},s.a.createElement("p",{className:"purplefont capitalize_text"},"How it works"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.changeHeaderClass("/howitworks/#pricing")},className:"nav-link link-scroll font-book navalign",to:"/howitworks/#pricing"},s.a.createElement("p",{className:"purplefont capitalize_text"},"Pricing"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.changeHeaderClass("/about-us")},className:"nav-link link-scroll font-book navalign",to:"/about-us"},s.a.createElement("p",{className:"purplefont capitalize_text"},"About us"))),_o.replaceChar(n,!0).toLowerCase()==U[0]&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/about/")},className:"nav-link link-scroll font-book navalign"},s.a.createElement("p",{className:"purplefont capitalize_text text_wrap"},"About exercise for cystic fibrosis"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.changeHeaderClass("/blog/Help")},className:"nav-link link-scroll font-book navalign",to:"/blog/Help"},s.a.createElement("p",{className:"purplefont capitalize_text"},"Help"))),s.a.createElement("li",{className:"nav-item",tabIndex:"-1"},s.a.createElement(Qo.b,{onClick:function(){return e.changeHeaderClass("/contact-us")},className:"nav-link link-scroll font-book navalign",to:"/contact-us"},s.a.createElement("p",{className:"purplefont capitalize_text"},"Contact"))),s.a.createElement("li",{className:"nav-item",tabIndex:"-1"},s.a.createElement(Qo.b,{onClick:function(){return e.changeHeaderClass("/faq")},className:"nav-link link-scroll font-book navalign",to:"/faq"},s.a.createElement("p",{className:"purplefont capitalize_text"},"FAQ"))))),(!this.props.is_auth||this.props.is_auth&&!t.isStudyUser&&(!t.isStudyLeader&&!t.isGroupLeader&&!t.isStudyInstructor||(t.isStudyLeader||t.isGroupLeader||t.isStudyInstructor)&&W.includes("partnerships")))&&"postnatal"!=n&&"menopause"!=n&&"asthma kids"!=_o.replaceChar(n,!0).toLowerCase()&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/partnerships/")},className:"nav-link link-scroll font-book navalign"},"For clinicians")),this.props.is_auth&&t.isTeensOnBeam&&E.includes("teensonbeam")&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){e.changeHeaderClass(),e.savePageUrl("/teens-on-beam")},className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/teens-on-beam")?"active":""),to:"/teens-on-beam"},"Teens on Beam")),!this.props.is_auth&&s.a.createElement("li",{className:"nav-item trail-btn-show"},s.a.createElement(Qo.b,{onClick:this.changeHeaderClass,className:"nav-link navalign font-book  pointer",to:"/register"},"Start trial")),this.props.is_auth&&s.a.createElement("li",{className:this.state.notifyAriaExpand?"dropdown nav-item show":"dropdown nav-item",onClick:this.handleClickRef.bind(this,"notificationRef")},s.a.createElement("a",{className:"dropdown-toggle nav-link link-scroll font-book navalign",ref:"notificationRef"},"Notifications"," ",s.a.createElement("span",{class:"label label-primary"},this.props.notification.length),this.props.notification.length>0&&s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})),this.props.notification.length>0&&this._renderMobileNotification()),this.props.is_auth&&s.a.createElement("li",{className:this.state.accountAriaExpand?"dropdown nav-item show":"dropdown nav-item",onClick:this.handleClickRef.bind(this,"accountRef")},s.a.createElement("a",{className:"dropdown-toggle nav-link link-scroll font-book navalign"},"My beam"," ",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-down"})),s.a.createElement("ul",{className:this.state.accountAriaExpand?"dropdown-menu show":"dropdown-menu",ref:"accountRef"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/account/dashboard/schedule/")},className:(Object(qo.g)(this.props.location.pathname,"/account/dashboard/")?"orangefont ":"")+"nav-link link-scroll font-book navalign"},s.a.createElement("div",{className:"purplefont"},"Dashboard"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.changeHeaderClass("/accounts/basicInformation")},className:(Object(qo.g)(this.props.location.pathname,"/accounts/basicInformation")?"orangefont ":"")+"nav-link link-scroll font-book navalign",to:"/accounts/basicInformation"},s.a.createElement("div",{className:"purplefont"},"Account Details"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){e.changeHeaderClass(),e.logoutClick()},className:"nav-link link-scroll font-book navalign"},s.a.createElement("div",{className:"purplefont"},"Logout"))))))),s.a.createElement("div",{className:"collapse navbar-collapse float-right",id:"navbarNavAltMarkup"},this.props.is_auth&&t&&s.a.createElement(s.a.Fragment,null,!t.isStudyUser&&s.a.createElement("ul",{className:"navbar-nav ml-auto align-items-start  align-items-lg-center"},((t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("on-demand")||!t.isStudyLeader&&!t.isGroupLeader&&!t.isStudyInstructor)&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/on-demand/")?"active":""),onClick:function(){e.getConditionPopup("/on-demand/")}},"On-demand Classes")),((t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("programs")||!t.isStudyLeader&&!t.isGroupLeader&&!t.isStudyInstructor&&A.includes("programs")&&this.props.is_menu_has_data)&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/programs/")?"active":""),onClick:function(){e.getConditionPopup("/programs/")}},"Programs")),(!t.isStudyLeader&&!t.isGroupLeader&&!t.isStudyInstructor&&"prostate cancer"!=_o.replaceChar(n,!0).toLowerCase()&&"postnatal"!=_o.replaceChar(n,!0).toLowerCase()&&"menopause"!=_o.replaceChar(n,!0).toLowerCase()||(t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("liveClasses"))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/liveClasses/")?"active":""),onClick:function(){e.getConditionPopup("/liveClasses/")}},"Live Classes")),(!t.isStudyLeader&&!t.isGroupLeader&&!t.isStudyInstructor&&"postnatal"!=_o.replaceChar(n,!0).toLowerCase()&&"menopause"!=_o.replaceChar(n,!0).toLowerCase()||(t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("groups"))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{onClick:function(){e.getConditionPopup("/groups/")},className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/groups/")?"active":"")},"Groups")),(!t.isStudyLeader&&!t.isGroupLeader&&!t.isStudyInstructor&&A.includes("instructor")||(t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("instructor"))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{onClick:function(){e.getConditionPopup("/instructor/")},className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/instructor/")?"active":"")},"Instructors")),(!t.isStudyLeader&&!t.isGroupLeader&&!t.isStudyInstructor||(t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("blog"))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/blog/")},className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/blog/")?"active":"")},"Blog")),(!t.isStudyLeader&&!t.isGroupLeader&&!t.isStudyInstructor||(t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("howitworks"))&&s.a.createElement("li",{className:"dropdown nav-item"},s.a.createElement("a",{className:"dropdown-toggle nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/howitworks")||-1!==o.indexOf("/about-us")||-1!==o.indexOf("/about/")||-1!==o.indexOf("/blog/Help")||-1!==o.indexOf("/contact-us")||-1!==o.indexOf("/faq")?"active":""),role:"button","aria-expanded":"false","aria-haspopup":"true",href:"#","data-toggle":"dropdown"},"About",s.a.createElement("span",{className:"arrow-std caret"})," ",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow "+(!0===this.state.is_menu_open?"fa-angle-down":"fa-angle-up"),onClick:this.changeDrowndownArrow})),s.a.createElement("ul",{className:"dropdown-menu long-length"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.savePageUrl("/howitworks")},className:"pointer nav-link link-scroll font-medium navalign",to:"/howitworks"},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},"How it works"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.savePageUrl("/howitworks/#pricing")},className:"pointer nav-link link-scroll font-medium navalign",to:"/howitworks/#pricing"},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},"Pricing"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.savePageUrl("/about-us")},className:"pointer nav-link link-scroll font-medium navalign",to:"/about-us"},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},"About us"))),_o.replaceChar(n,!0).toLowerCase()==U[0]&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/about/")},className:"pointer nav-link link-scroll font-medium navalign"},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},"About exercise for cystic fibrosis"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.savePageUrl("/blog/Help")},className:"pointer nav-link link-scroll font-medium navalign",to:"/blog/Help"},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},"Help"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.savePageUrl("/contact-us")},className:"pointer nav-link link-scroll font-medium navalign",to:"/contact-us"},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},"Contact"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.savePageUrl("/faq")},className:"pointer nav-link link-scroll font-medium navalign",to:"/faq"},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},"FAQ"))))),"postnatal"!=n&&"asthma kids"!=_o.replaceChar(n,!0).toLowerCase()&&"menopause"!=n&&(!t.isStudyLeader&&!t.isGroupLeader&&!t.isStudyInstructor||(t.isGroupLeader||t.isStudyLeader||t.isStudyInstructor)&&W.includes("partnerships"))&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/partnerships/")},className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/partnerships/")?"active":"")},"For clinicians")),this.props.is_auth&&t.isTeensOnBeam&&E.includes("teensonbeam")&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){e.changeHeaderClass(),e.savePageUrl("/teens-on-beam")},className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/teens-on-beam")?"active":""),to:"/teens-on-beam"},"Teens on Beam")),s.a.createElement("li",{className:"bell-sub dropdown nav-item"},s.a.createElement("a",{className:"dropdown-toggle icon-info  nav-link link-scroll font-book navalign",role:"button","aria-expanded":"false","aria-haspopup":"true",href:"#","data-toggle":"dropdown"},s.a.createElement("i",{className:this.state.active_bell?"bell fa fa-bell-o black-txt medium-text":"fa fa-bell-o black-txt medium-text","aria-hidden":"true"}),s.a.createElement("span",{className:"label label-primary"},this.props.notification.length),this.props.notification.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"arrow-std caret nocaret"})," ",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow fa-angle-up"}))),this.props.notification.length>0&&s.a.createElement("ul",{className:"dropdown-menu"},this._renderNotification())),this.props.is_auth&&!this.props.is_create_mode&&(t.isCreator||t.isStudyLeader&&-1!=t.SLCondition.indexOf(_o.replaceChar(n,!0)))&&E.includes(this.state.currentPageName)&&s.a.createElement("li",null,s.a.createElement("i",{class:"fa fa-pencil fa-2x orangefont p-r-15 pointer","aria-hidden":"true",onClick:function(){return e.props.changeCMSMode(!0)}})),this.props.is_auth&&this.props.is_create_mode&&(t.isCreator||t.isStudyLeader&&-1!=t.SLCondition.indexOf(_o.replaceChar(n,!0)))&&E.includes(this.state.currentPageName)&&s.a.createElement("li",null,s.a.createElement("i",{class:"fa fa-eye fa-2x orangefont p-r-15 pointer","aria-hidden":"true",onClick:function(){return e.props.changeCMSMode(!1)}})),(this.props.is_group_admin||this.props.is_group_leader)&&y.includes(this.state.currentPageName)&&!t.isCreator&&(!t.isStudyLeader||t.isStudyLeader&&-1==t.SLCondition.indexOf(_o.replaceChar(n,!0))&&t.isGroupLeader&&-1!=t.GLCondition.indexOf(_o.replaceChar(n,!0)))&&!this.props.is_group_mode&&this.props.is_auth&&s.a.createElement("li",null,s.a.createElement("i",{class:"fa fa-pencil fa-2x orangefont p-r-15 pointer","aria-hidden":"true",onClick:function(){return e.props.changeCMSGroupMode(!0)}})),(this.props.is_group_admin||this.props.is_group_leader)&&y.includes(this.state.currentPageName)&&!t.isCreator&&(!t.isStudyLeader||t.isStudyLeader&&-1==t.SLCondition.indexOf(_o.replaceChar(n,!0))&&t.isGroupLeader&&-1!=t.GLCondition.indexOf(_o.replaceChar(n,!0)))&&this.props.is_auth&&!t.isCreator&&this.props.is_group_mode&&s.a.createElement("li",null,s.a.createElement("i",{class:"fa fa-eye fa-2x orangefont p-r-15 pointer","aria-hidden":"true",onClick:function(){return e.props.changeCMSGroupMode(!1)}}))),s.a.createElement("ul",{className:" navbar-nav  profile-img-sec align-items-lg-center "},s.a.createElement("li",{className:"dropdown nav-item profile"},s.a.createElement(Qo.b,{className:"pointer btn navbar-btn btn-shadow font-medium font-14 btn-gradient button-style",to:"/account/dashboard/schedule/"+_o.replaceChar(n,!1)},"My Beam")),s.a.createElement("li",{className:"dropdown nav-item profile"},s.a.createElement("a",{href:"#","data-toggle":"dropdown",className:"toggle  nav-link ",role:"button","aria-expanded":"false","aria-haspopup":"true"},s.a.createElement("img",{src:this.props.logged_userData.profilePic?w+"/profile/"+this.props.logged_userData.profilePic:D+"no-image.png",className:"rounded-circle img-fluid"}),s.a.createElement("span",{className:"arrow-std caret nocaret"})," ",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow "+(!0===this.state.is_menu_open?"fa-angle-down":"fa-angle-up"),onClick:this.changeDrowndownArrow})),s.a.createElement("ul",{className:"dropdown-menu"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{to:"/account/dashboard/schedule/"+_o.replaceChar(n,!1),className:(Object(qo.g)(this.props.location.pathname,"/account/dashboard/")?"orangefont ":"")+"nav-link link-scroll font-book navalign"},s.a.createElement("div",{className:"purplefont"},"My Beam"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:(Object(qo.g)(this.props.location.pathname,"/accounts/basicInformation")?"orangefont ":"")+"nav-link link-scroll font-book navalign",to:"/accounts/basicInformation"},s.a.createElement("div",{className:"purplefont"},"Account Details"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{className:"nav-link link-scroll font-book navalign",to:"",onClick:this.logoutClick},s.a.createElement("div",{className:"purplefont"},"Logout"))))))),!this.props.is_auth&&s.a.createElement("ul",{className:"navbar-nav ml-auto align-items-start align-items-lg-center"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/on-demand/")?"active":""),onClick:function(){e.getConditionPopup("/on-demand/")}},"On-demand Classes")),A.includes("programs")&&this.props.is_menu_has_data&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/programs/")?"active":""),onClick:function(){e.getConditionPopup("/programs/")}},"Programs")),"prostate cancer"!=_o.replaceChar(n,!0).toLowerCase()&&"postnatal"!=_o.replaceChar(n,!0).toLowerCase()&&"menopause"!=_o.replaceChar(n,!0).toLowerCase()&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/liveClasses/")},className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/liveClasses")?"active":"")},"Live Classes")),"postnatal"!=_o.replaceChar(n,!0).toLowerCase()&&"menopause"!=_o.replaceChar(n,!0).toLowerCase()&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/groups/")},className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/groups")?"active":"")},"Groups")),A.includes("instructor")&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/instructor/")},className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/instructor/")?"active":"")},"Instructors")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/blog/")},className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/blog/")?"active":"")},"Blog")),s.a.createElement("li",{className:"dropdown nav-item"},s.a.createElement("a",{className:"dropdown-toggle nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/group/about/")||-1===o.indexOf("/howitworks")&&-1===o.indexOf("/about-us")&&-1===o.indexOf("/about/")&&-1===o.indexOf("/blog/Help")&&-1===o.indexOf("/contact-us")&&-1===o.indexOf("/faq")?"":"active"),role:"button","aria-expanded":"false","aria-haspopup":"true",href:"#","data-toggle":"dropdown"},"About",s.a.createElement("span",{className:"arrow-std caret"})," ",s.a.createElement("i",{className:"fa  fa-2x pull-right small-arrow "+(!0===this.state.is_menu_open?"fa-angle-down":"fa-angle-up"),onClick:this.changeDrowndownArrow})),s.a.createElement("ul",{className:"dropdown-menu long-length"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.savePageUrl("/howitworks")},className:"pointer nav-link link-scroll font-medium navalign",to:"/howitworks"},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},"How it works"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.savePageUrl("/howitworks/#pricing")},className:"pointer nav-link link-scroll font-medium navalign",to:"/howitworks/#pricing"},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},"Pricing"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.savePageUrl("/about-us")},className:"pointer nav-link link-scroll font-medium navalign",to:"/about-us"},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},"About us"))),_o.replaceChar(n,!0).toLowerCase()==U[0]&&s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){e.getConditionPopup("/about/")},className:"pointer nav-link link-scroll font-medium navalign"},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},"About exercise for cystic fibrosis"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.savePageUrl("/blog/Help")},className:"pointer nav-link link-scroll font-medium navalign",to:"/blog/Help"},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},"Help"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.savePageUrl("/contact-us")},className:"pointer nav-link link-scroll font-medium navalign",to:"/contact-us"},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},"Contact"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(Qo.b,{onClick:function(){return e.savePageUrl("/faq")},className:"pointer nav-link link-scroll font-medium navalign",to:"/faq"},s.a.createElement("p",{className:"purplefont capitalize_text m-0"},"FAQ"))))),"postnatal"!=n&&"menopause"!=n&&"asthma kids"!=_o.replaceChar(n,!0).toLowerCase()&&s.a.createElement("li",{className:"nav-item"},s.a.createElement("span",{onClick:function(){e.changeHeaderClass(),e.getConditionPopup("/partnerships/")},className:"pointer nav-link link-scroll font-book navalign "+(-1!==o.indexOf("/partnerships/")?"active":"")},"For clinicians")),s.a.createElement("li",{className:"nav-item cursor"},s.a.createElement("span",{onClick:this.loginClick,className:"nav-link navalign font-book  pointer"},"Sign In")),s.a.createElement("li",{className:"nav-item trail-btn-show"},s.a.createElement("span",{onClick:this.loginClick,className:"nav-link navalign font-book  pointer"},"Start trial"))),!this.props.is_auth&&s.a.createElement("div",{className:"navbar-text  trail-btn-hide"},s.a.createElement(Qo.b,{to:"/register",className:"btn navbar-btn btn-shadow font-medium font-14 btn-gradient button-style"},"Get Started"))))),s.a.createElement("div",{className:this.props.warning_banner_text.length>0?"m-t-120":"m-t-80"},"/home"!=i&&Go.Cookies.get("condition")&&(Go.Cookies.get("condition").includes("prostate cancer".split(" ")[0])||Go.Cookies.get("condition").includes(N.split(" ")[0])&&("IN"==this.props.IP_Details.countryCode||"GB"==this.props.IP_Details.countryCode)||("undefined"==typeof Go.Cookies.get("condition")||Go.Cookies.get("condition").includes(k.split(" ")[0]))&&("IN"==this.props.IP_Details.countryCode||"US"==this.props.IP_Details.countryCode))&&("undefined"==typeof Go.Cookies.get("closeBanner")||"false"==Go.Cookies.get("closeBanner")||"undefined"==typeof Go.Cookies.get("closeBannerKD")||"false"==Go.Cookies.get("closeBannerKD")||"undefined"==typeof Go.Cookies.get("closeBannerPC")||"false"==Go.Cookies.get("closeBannerPC"))&&(0==this.props.close_banner||0==this.props.close_banner_kd||0==this.props.close_banner_pc)&&("undefined"==typeof Go.Cookies.get("closeBannerPC")||"false"==Go.Cookies.get("closeBannerPC")||0==this.props.close_banner_pc)&&!this.props.location.pathname.includes("Royal Marsden")&&s.a.createElement(as,{type:"web",condition:Go.Cookies.get("condition")}),"/home"!=i&&Go.Cookies.get("condition")&&(Go.Cookies.get("condition").includes("prostate cancer".split(" ")[0])||Go.Cookies.get("condition").includes(N.split(" ")[0])&&("IN"==this.props.IP_Details.countryCode||"GB"==this.props.IP_Details.countryCode)||("undefined"==typeof Go.Cookies.get("condition")||Go.Cookies.get("condition").includes(k.split(" ")[0]))&&("IN"==this.props.IP_Details.countryCode||"US"==this.props.IP_Details.countryCode))&&("undefined"==typeof Go.Cookies.get("closeBanner")||"false"==Go.Cookies.get("closeBanner")||"undefined"==typeof Go.Cookies.get("closeBannerKD")||"false"==Go.Cookies.get("closeBannerKD")||"undefined"==typeof Go.Cookies.get("closeBannerPC")||"false"==Go.Cookies.get("closeBannerPC"))&&(0==this.props.close_banner||0==this.props.close_banner_kd||0==this.props.close_banner_pc)&&("undefined"==typeof Go.Cookies.get("closeBannerPC")||"false"==Go.Cookies.get("closeBannerPC")||0==this.props.close_banner_pc)&&!this.props.location.pathname.includes("Royal Marsden")&&s.a.createElement(as,{type:"mobile",condition:Go.Cookies.get("condition")}))),s.a.createElement(Sp,{open:this.open,location:this.props.location,history:this.props.history}),s.a.createElement(us,{open:this.open,location:this.props.location,history:this.props.history}),s.a.createElement(Cp,{open:this.open,location:this.props.location,history:this.props.history}),s.a.createElement(Dn,{location:this.props.location,history:this.props.history}),s.a.createElement(ls.a,{className:"removebbg-popup",open:this.state.maintance_model,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog schedule_block welcome-popup common_design modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title1 text-center col-md-12 p-0  font-semibold white-txt",id:"exampleModalLabel font-medium"},"Welcome to Beam!"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.maintance_model_state(!1)}},"\xd7"))),s.a.createElement("div",{className:"modal-body pb-0"},s.a.createElement("img",{className:"img-fluid wel-center-img",src:D+"welocome_image.png"}),s.a.createElement("p",{className:"font-book black-txt text-center mx-auto w-75 font-15 font-normal"},"We are super excited to have launched our new brand and platform."),s.a.createElement("p",{className:"font-book black-txt text-center mx-auto w-75 font-15 font-normal"},"If you who knew us before as Pactster get comfy. This is your new home."),s.a.createElement("p",{className:"font-book black-txt text-center mx-auto w-75 font-15 font-normal"},"If you're a completely new user, we're thrilled to have you join us at such an exiting time."),s.a.createElement("p",{className:"font-book black-txt text-center mx-auto w-75 font-15 font-normal"},"Beam Team, let's do this!!"),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("a",{className:"btn btn-login btn-blue-inverse w-100 mx-auto m-b-10 m-t-20 color-blue font-medium ",href:"https://beamfeelgood.com/blog/news"}," ","Read more about the rebrand"," "),s.a.createElement("button",{className:"btn btn-login w-100  mx-auto m-b-30 font-14",onClick:function(){return e.maintance_model_state(!1)}}," ","Continue on Beam"," ")))))))),s.a.createElement(Tl,{is_model_open:this.props.is_policy_open,type:"policy",isConfirmation:!1,isCloseRequired:!1,title:"Hold your horses - our policies have changed!",closeConfirmationPopup:function(t){return e.saveUserPolicy(t)},handleCheckboxChange:function(t){return e.handleCheckboxChange(t)},submitted:this.state.submitted,terms:this.state.terms}),s.a.createElement(Ip,{isModalOpen:this.state.condition_model,getConditionPopup:this.getConditionPopup,pageUrl:this.state.pageUrl,closeConditionModal:this.closeConditionModal}),s.a.createElement(Fp,{isModalOpen:this.props.is_new_user&&!this.props.init_condition.includes("research"),condition:this.props.init_condition}),s.a.createElement(Dp,{is_model_open:this.props.is_clinic_model_open,title:"To continue being able to offer Kidney Beam for free throughout the UK we need to know which renal unit you are associated with. Please choose from the list below..."}))}}]),a}(s.a.Component)),Up={loginModelOpen:pt,isAuth:rt,logout:it,fetchUserDetails:ao,start_loader:ht,stop_loader:gt,updateUserdataRedex:Ba,setCondition:lt,setMenuCondition:ct,healthCondition:Mt,fetchNotifications:ft,readNotifications:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/notification/read",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},confirmNotifications:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/notification/acceptReject",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},updateNotification:function(e){return function(t,a){t({type:"custom_notification_update",payload:e})}},warningBanner:function(){return function(e,t){var a=tt();return fetch(h+"/api/blog/banner",a).then((function(t){return go(t,e)})).then((function(t){return e({type:"update_warning_banner",payload:t.data?t.data.warning_text:[]}),t}))}},changeCMSMode:function(e){return function(t,a){t({type:"change_cms_mode",payload:e})}},updateUserChallengeTag:dt,changeCMSGroupMode:function(e){return function(t,a){t({type:"change_group_cms_mode",payload:e})}},getFooter:bt,getFeatures:vt,fetchConditionRelationships:Pt,setExploreConditions:no,gotoStep:St,clearRegisterFormUpdate:function(){return function(e,t){e({type:"reset_register"})}},checkMenuData:function(e){return console.log("checkMenuData-menu",e),function(t,a){var o=tt();return fetch(h+"/api/checkMenuData?conditionName="+e,o).then((function(e){return go(e,t)})).then((function(e){console.log("checkMenuData",e),t({type:"check_menu_has_data",payload:e.count})}))}},openPolicy:Et,savePolicy:function(e){return function(t,a){var o=et({policy:e});return fetch(h+"/api/saveUserPolicy",o).then((function(e){return go(e,t)})).then((function(e){return Et(!1),e}))}},getCountriesList:Lt,getCountOfData:function(e){console.log("getCountOfData=",e);var t=(new Date).getTimezoneOffset();return function(a,o){var s=tt();return fetch(h+"/api/getCountOf/"+e+"/"+t,s).then((function(e){return go(e,a)})).then((function(e){return a({type:"set_module_data_count",payload:e.data}),e}))}},getFaqContent:yt,getURLCondition:_t},Rp=Object(i.b)((function(e){return{is_auth:e.auth.is_auth,logged_userData:e.header.logged_userData,notification:e.header.notification_data.notification,userDetails:e.header.notification_data.userDetails,healthcondition_list:e.register.healthcondition_list,warning_banner_text:e.register.warning_banner_text,init_condition:e.auth.initial_condition,menu_condition:e.auth.menu_condition,IP_Details:e.accountinfo.ip_data,close_banner:e.header.close_banner,close_banner_kd:e.header.close_banner_kd,is_create_mode:e.header.is_create_mode,is_group_mode:e.header.is_group_mode,is_group_admin:e.group.is_group_admin,is_group_leader:e.group.is_group_leader,close_banner_pc:e.header.close_banner_pc,explore_conditions:e.accountinfo.explore_conditions,beamer_filter:e.header.beamer_filter,is_menu_has_data:e.header.is_menu_has_data,is_policy_open:e.header.is_policy_open,is_new_user:e.register.is_new_user,module_data:e.header.module_data,url_condition:e.header.url_condition,is_clinic_model_open:e.header.is_clinic_model_open}}),Up)(Pp),Wp=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(){var e;return Object(Ro.a)(this,a),(e=t.call(this)).state={intervalId:0,thePosition:!1},e}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("scroll",(function(){window.scrollY>170?e.setState({thePosition:!0}):e.setState({thePosition:!1})})),window.scrollTo(0,0)}},{key:"scrollStep",value:function(){0===window.pageYOffset&&clearInterval(this.state.intervalId),window.scroll(0,window.pageYOffset-this.props.scrollStepInPx)}},{key:"scrollToTop",value:function(){var e=setInterval(this.scrollStep.bind(this),"0");this.setState({intervalId:e})}},{key:"goTopBtn",value:function(){var e=this;return this.state.thePosition?s.a.createElement("button",{title:"Back to top",className:"scroll",onClick:function(){e.scrollToTop()}},s.a.createElement("span",{className:"arrow-up fa fa-chevron-up"})):""}},{key:"render",value:function(){return this.goTopBtn()}}]),a}(s.a.Component),Ap=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).showConditionUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=!0;s&&s.isConditionalUrl&&(o.setState({isActualUrl:!1}),n=!1),t?o.conditionalGoto(a,e,n):Go.Cookies.get("condition")?o.conditionalGoto(Go.Cookies.get("condition"),e,n):o.props.is_auth&&o.props.init_condition?o.conditionalGoto(o.props.init_condition,e,n):s&&s.isConditionalUrl?o.setState({condition_model:!0,pageUrl:e}):o.conditionalGoto(o.props.init_condition,e,n)},o.getConditionPopup=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t?o.conditionalGoto(a,e,o.state.isActualUrl):Go.Cookies.get("condition")?o.conditionalGoto(Go.Cookies.get("condition"),e,o.state.isActualUrl):o.props.is_auth&&o.props.init_condition?o.conditionalGoto(o.props.init_condition,e,o.state.isActualUrl):s&&s.isConditionalUrl?o.setState({condition_model:!0,pageUrl:e}):o.conditionalGoto(o.props.init_condition,e,o.state.isActualUrl)},o.conditionalGoto=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];console.log("footer-condition",e),console.log("footer-condition-isActualUrl",a);var s=t,n=_o.replaceChar(e,!1);if(o.props.setCondition(e),o.props.setMenuCondition(e),e==N||e==k||"prostate cancer"==e||"asthma kids"==e){if(console.log("yesmatchingcondition=",t),t){s=t+n,a&&(s=t);var r={from:{pathname:s}},i=r.from;o.props.history.push(i)}}else{console.log("nomatchingcondition=",t),s=t+n,a&&(s=t);var l={from:{pathname:s}},c=l.from;o.props.history.push(c)}Go.Cookies.set("condition",n),o.savePageUrl(s),o.setState({condition_model:!1,condition:n,header_open:!1})},o.savePageUrl=function(e){if(e){var t=e;Go.Cookies.set("current-page-url",t)}},o.closeConditionModal=function(){o.setState({condition_model:!1})},o.state={condition_model:!1,isActualUrl:!0},o}return Object(Wo.a)(a,[{key:"render",value:function(){var e=this;return console.log("footer_content",this.props.footer_content),s.a.createElement("footer",null,s.a.createElement("div",{className:"container-fluid mx-auto w-80"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 col-lg-2"},s.a.createElement("div",{className:"dk-footer-box-info"},this.props.footer_content.logo&&this.props.footer_content.logo.link&&s.a.createElement(Qo.b,{className:"footer-logo",to:this.props.footer_content.logo&&this.props.footer_content.logo.link||""},s.a.createElement("img",{className:"logo-size",alt:"footer_logo",src:f+(this.props.footer_content.logo&&this.props.footer_content.logo.image)})),this.props.footer_content.logo&&!this.props.footer_content.logo.link&&s.a.createElement("p",{className:"footer-logo"},s.a.createElement("img",{className:"logo-size",alt:"footer_logo",src:f+(this.props.footer_content.logo&&this.props.footer_content.logo.image)})),s.a.createElement("div",{className:"footer-social-link"},s.a.createElement("ul",null,this.props.footer_content.facebook&&s.a.createElement("li",null,s.a.createElement("a",{href:this.props.footer_content.facebook,target:"_blank"},s.a.createElement("i",{className:"fa fa-facebook"}))),this.props.footer_content.twitter&&s.a.createElement("li",null,s.a.createElement("a",{href:this.props.footer_content.twitter,target:"_blank"},s.a.createElement("i",{className:"fa fa-twitter"}))),this.props.footer_content.instagram&&s.a.createElement("li",null,s.a.createElement("a",{href:this.props.footer_content.instagram,target:"_blank"},s.a.createElement("i",{className:"fa fa-instagram"}))),this.props.footer_content.linkedin&&s.a.createElement("li",null,s.a.createElement("a",{href:this.props.footer_content.linkedin,target:"_blank"},s.a.createElement("i",{className:"fa fa-linkedin"}))))))),s.a.createElement("div",{className:"col-md-12 col-lg-8"},s.a.createElement("div",{className:"row m-b-20 footer-widget footer-left-widget col-md-10"},this.props.footer_content.navLinks&&this.props.footer_content.navLinks.map((function(t,a){return s.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-6 m-b-10"},s.a.createElement(Qo.b,{className:"font-medium",onClick:function(){e.showConditionUrl(t.link,!1,"",t)},to:t.isConditionalUrl?"#":t.link}," ",t.name))})),s.a.createElement("div",{className:"image-grid col-md-12 col-lg-5"},s.a.createElement("div",{className:"grid-container"})))),s.a.createElement("div",{className:"col-md-12 col-lg-2"},s.a.createElement("div",{className:"dk-footer-box-info orcha-img"},s.a.createElement("img",{className:"img-fluid",alt:"orcha_image",src:D+"orcha.png"}))))),s.a.createElement(Wp,{scrollStepInPx:"50",delayInMs:"16.66"}),s.a.createElement(Ip,{isModalOpen:this.state.condition_model,getConditionPopup:this.getConditionPopup,pageUrl:this.state.pageUrl,closeConditionModal:this.closeConditionModal}))}}]),a}(s.a.Component),Bp={setCondition:lt,setMenuCondition:ct},qp=Object(i.b)((function(e){return{footer_content:e.header.footer_content,init_condition:e.auth.initial_condition}}),Bp)(Ap),Yp=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={modelOpen:!0,loading:!1,password:"",confirm_password:"",submitted:!1,error_msg:null,userId:null},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.cleatState=o.cleatState.bind(Object(is.a)(o)),o.closeModel=o.closeModel.bind(Object(is.a)(o)),o.strongPasswordValidation=o.strongPasswordValidation.bind(Object(is.a)(o)),o.changePassword=o.changePassword.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.checkResetToken(this.props.match.params.token).then((function(t){t.data&&t.data.id&&e.setState({userId:t.data.id})}),(function(t){e.redirectHome(),at.b.error(t)}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(rs.a)({},a,o),(function(){this.strongPasswordValidation()}))}},{key:"cleatState",value:function(){this.setState({modelOpen:!0,loading:!1,password:"",confirm_password:"",submitted:!1,error_msg:null,userId:null})}},{key:"strongPasswordValidation",value:function(){var e=this.state.password;if(""!==e&&e===this.state.confirm_password){if(e&&e.length<8)return void this.setState({error_msg:"Password must contain at least eight characters",password_error:!0});if(!/[0-9]/.test(e))return void this.setState({error_msg:"Password must contain at least one number (0-9)",password_error:!0});if(!/[a-z]/.test(e))return void this.setState({error_msg:"password must contain at least one lowercase letter (a-z)",password_error:!0});return/[A-Z]/.test(e)?void this.setState({error_msg:null,password_error:!1}):void this.setState({error_msg:"password must contain at least one uppercase letter (A-Z)",password_error:!0})}e||this.state.confirm_password?this.setState({error_msg:"Please check that you've entered and confirmed your password",password_error:!0}):this.setState({error_msg:"Password cannot blank",password_error:!0})}},{key:"onCloseModal",value:function(){}},{key:"closeModel",value:function(){this.setState({modelOpen:!1},(function(){this.redirectHome()}))}},{key:"redirectHome",value:function(){var e={pathname:"/home"};this.props.history.push(e)}},{key:"changePassword",value:function(){var e=this;if(this.setState({submitted:!0}),this.strongPasswordValidation(),this.state.password&&this.state.confirm_password&&!this.state.password_error){var t={id:this.state.userId,password:this.state.password};this.props.resetPassword(t).then((function(t){e.redirectHome(),at.b.success(t.message)}),(function(t){e.redirectHome(),at.b.error(t)}))}}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ns,null),s.a.createElement(ls.a,{className:"removebbg-popup",open:this.state.modelOpen,onClose:this.onCloseModal,center:!0},s.a.createElement("div",{className:"modal-dialog modal-width--custom",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header header-styling  border-0"},s.a.createElement("h5",{className:"modal-title text-center col-md-11 p-0 font-semibold",id:"exampleModalLabel font-medium"},"Change Password"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true",onClick:this.closeModel},"\xd7"))),s.a.createElement("div",{className:"modal-body body-padding--value pb-0"},s.a.createElement("form",{name:"login"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password",className:"font-14 font-qregular black-txt"},"Password"),s.a.createElement("input",{type:"password",id:"password",className:"form-control","aria-describedby":"emailHelp",placeholder:"",name:"password",value:this.state.password,onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"confirm_password",className:"font-14 font-qregular black-txt"},"Confirm Password"),s.a.createElement("input",{type:"password",id:"confirm_password",className:"form-control","aria-describedby":"emailHelp",placeholder:"",name:"confirm_password",value:this.state.confirm_password,onChange:this.handleChange}),this.state.submitted&&this.state.error_msg&&s.a.createElement("p",{className:"text-danger"},this.state.error_msg)),s.a.createElement("div",{className:"text-center form-group"},this.state.error&&s.a.createElement("span",{className:"text-danger"},this.state.error)),s.a.createElement("div",{className:"col-md-12 text-center p-0 m-b-30"},s.a.createElement("span",{onClick:this.changePassword,className:"btn btn-block mybtn btn-login tx-tfm font-book font-14"+(this.state.loading?"":" pointer")},"Change Password"))))))))}}]),a}(s.a.Component),Gp={start_loader:ht,stop_loader:gt,resetPassword:function(e){return function(t,a){var o=et(e);return fetch(h+"/api/reset",o).then((function(e){return go(e,t)})).then((function(e){return e}))}},checkResetToken:function(e){return function(t,a){var o=tt();return fetch(h+"/api/reset/"+e,o).then((function(e){return go(e,t)})).then((function(e){return e}))}}},Vp=Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),Gp)(Yp),Hp=a(938),zp=a.n(Hp),Kp=a(556),Jp=a.n(Kp),Qp=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){return Object(Ro.a)(this,a),t.call(this,e)}return Object(Wo.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"work-with-us"},s.a.createElement("section",{className:"bg-contrast"},s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xl-9 col-lg-10 col-md-12 col-sm-12 col-12"},s.a.createElement("div",{class:"beam-for-clinicians"},"Beam For Clinicians, Partners and Collaborators in Cystic Fibrosis"),s.a.createElement("a",{href:"#clinicians",class:"nav-button thick-orange-btn"},"Health and exercise professionals"),s.a.createElement("a",{href:"#charities",class:"nav-button blue-btn"},"Charities"),s.a.createElement("a",{href:"#partners",class:"nav-button purple-btn"},"Sponsors and partners"),s.a.createElement("div",{class:"helping-physiotherap"},"We work with clinicians, exercise specialists, health organisations and charities to help people with cystic fibrosis get the benefits of specialist exercise.")),s.a.createElement("div",{class:"col-xl-3 col-lg-2 col-md-2 col-sm-2 d-none d-sm-block header-img"},s.a.createElement("img",{class:"img-fluid",src:D+"Sun.png"}))))),s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-purple"},"Our Partners and Friends"),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 offset-lg-0 col-md-12 offset-md-0 col-sm-8 offset-sm-2 col-12 offset-0"},s.a.createElement("div",{class:"outer-wrapper"},s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/CFF.png"})),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/CFT.png"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/CFA.png"})),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/CF_Ireland.jpg"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/CFNZ-logo.png"})),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/ACPCF.png"}))))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 offset-lg-0 col-md-12 offset-md-0 col-sm-8 offset-sm-2 col-12 offset-0"},s.a.createElement("div",{class:"outer-wrapper"},s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/Brompton.png"})),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/NHS-newcastle.png"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/UofE.png"})),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/Philips.png"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/Breas.png"}))))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 offset-lg-0 col-md-12 offset-md-0 col-sm-8 offset-sm-2 col-12 offset-0"},s.a.createElement("div",{class:"outer-wrapper"},s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/MassGen.svg"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/AUB.png"})),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",src:D+"logos/IU-logo.jpg"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame frame-low"},s.a.createElement("img",{width:"100%",className:"w-50",src:D+"logos/WoSACF.png"})),s.a.createElement("div",{class:"wrap"})))))))),s.a.createElement("section",{class:"bg-contrast"},s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-blue"},"What is Beam?"),s.a.createElement("div",{class:"section-content"},"Beam is an online exercise platform for people with cystic fibrosis that offers live and on-demand exercise classes as well as motivational and community support. Our varied exercise classes support people at all life stages are led by specialist instructors who either live with or work in cystic fibrosis.  ",s.a.createElement("br",null),s.a.createElement("br",null),"As well as supporting people with CF to stay active, we support CF clinicians to deliver remote care. Beam has been approved by health professionals and is an Orcha approved health app."))))),s.a.createElement("section",{id:"clinicians"},s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-orange"},"Beam for Health and Exercise Professionals"),s.a.createElement("div",{class:"section-content"},"Founded by a CF clinician and a tech entrepreneur, Beam started in 2016 and is proud to have collaborated with CF clinicians and professional bodies across the UK and US.  We have created content with The Royal Brompton Hospital, have defined our offering with the Association of Chartered Physiotherapists in Cystic Fibrosis, ",s.a.createElement("a",{target:"_blank",href:"/blogs/beam-launches-cf-foundation-pilot-program-usa"},"have piloted in 4 major US care centres")," and have had our service evaluated in independent research studies (e.g ",s.a.createElement("a",{target:"_blank",href:"https://drive.google.com/file/d/10cSWkjcXHd7gwFCBF6veBfkfk3h4BxDL/view?usp=sharing"},"this one"),"). Beam is backed with ",s.a.createElement("a",{target:"_blank",href:"/blogs/a-new-kind-of-exercise-app"},"research-led behaviour change interventions")," to help people become, and remain active.",s.a.createElement("br",null),s.a.createElement("br",null),"You may notice that Beam has a different feel to other health tech solutions (it's not so medicalised), this is because our platform has been developed to appeal to your patients (not you!). That being said, we have developed some free and premium features with you at the forefront...")),s.a.createElement("div",{class:"col-lg-8 offset-lg-2 bundle-price"},s.a.createElement("h2",null,"Introducing... Beam for Clinics")),s.a.createElement("div",{class:"col-lg-3"},s.a.createElement("div",{class:"icon-title"},"Host a private patient/client group"),s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"Happy_world.png"})),s.a.createElement("div",{class:"icon-desc"},"Communicate with patients/clients in a group or 1-2-1")),s.a.createElement("div",{class:"col-lg-3"},s.a.createElement("div",{class:"icon-title"},"Host live, group exercise classes"),s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"Live_class.png"})),s.a.createElement("div",{class:"icon-desc"},"Teach exercise classes online to engage and connect with patients/clients")),s.a.createElement("div",{class:"col-lg-3"},s.a.createElement("div",{class:"icon-title"},"Private, on-demand exercise video library"),s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"Beam_OnDemand.png"})),s.a.createElement("div",{class:"icon-desc"},"Record and upload your live classes or add your own videos to an on-demand video library")),s.a.createElement("div",{class:"col-lg-3"},s.a.createElement("div",{class:"icon-title"},"Patient/client activity tracking"),s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"data_dashboard.png"})),s.a.createElement("div",{class:"icon-desc"},"With their consent, track your patients/clients activity levels on Beam")),s.a.createElement("div",{class:"col-md-12 price-tag-new m-t-40 m-b-40"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-4"},s.a.createElement("div",{class:"card-price1"},s.a.createElement("h3",null,"UK"),s.a.createElement("div",{class:"up-sec d-table mx-auto mt-4"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"\xa3500"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per month ",s.a.createElement("p",{class:"xsmall-text m-0"}," (min 6 month contract)"))),s.a.createElement("div",{class:"login-or"},s.a.createElement("hr",{class:"hr-or"}),s.a.createElement("span",{class:"span-or"},"or")),s.a.createElement("div",{class:"up-sec d-table mx-auto"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"\xa34500"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per year ")))),s.a.createElement("div",{class:"col-md-4"},s.a.createElement("div",{class:"card-price2"},s.a.createElement("h3",null,"US"),s.a.createElement("div",{class:"up-sec d-table mx-auto mt-4"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"$700"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per month ",s.a.createElement("p",{class:"xsmall-text m-0"}," (min 6 month contract)"))),s.a.createElement("div",{class:"login-or"},s.a.createElement("hr",{class:"hr-or"}),s.a.createElement("span",{class:"span-or"},"or")),s.a.createElement("div",{class:"up-sec d-table mx-auto"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"$6000"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per year ")))),s.a.createElement("div",{class:"col-md-4"},s.a.createElement("div",{class:"card-price3"},s.a.createElement("h3",null,"Australia"),s.a.createElement("div",{class:"up-sec d-table mx-auto mt-4"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"$950"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per month ",s.a.createElement("p",{class:"xsmall-text m-0"}," (min 6 month contract)"))),s.a.createElement("div",{class:"login-or"},s.a.createElement("hr",{class:"hr-or"}),s.a.createElement("span",{class:"span-or"},"or")),s.a.createElement("div",{class:"up-sec d-table mx-auto"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"$8500"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per year "))))))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"col-lg-12 section-content font-18 font-italic m-b-20"},"*** Please note that these are early bird rates as we develop our clinic functionality to make it better for you and your patients"),s.a.createElement("div",{class:"section-content"},"We use Zoom to host our online live exercise classes.  The safety and security of the participants in our classes is of paramount importance to us.  ",s.a.createElement("a",{class:"inline-link",href:"https://drive.google.com/file/d/1Arr01A7TunbfnDJQxS4jjZGEp1iC7QbN/view?usp=sharing",target:"_blank"},"Read more here")," about the security measure we take to ensure our classes provide a safe environment for people to exercise in.")),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-6 offset-3 text-center"},s.a.createElement("a",{href:"#contact-form",class:"nav-button thick-orange-btn w-100 m-t-3"},"Get in touch")))))),s.a.createElement("section",{class:"bg-contrast",id:"charities"},s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-blue"},"Beam for Charities"),s.a.createElement("div",{class:"section-content"},"Having collaborated with The CF Foundation, The CF Trust, CF Australia and CF Ireland we understand the immensely important role charities play. We know that charities are often looking for ways to unite the community, improve access and equality in care, and improve physical and emotional welling. As such, we are always open to conversations and collaborations."))),s.a.createElement("div",{class:"row align-items-center two-col-info"},s.a.createElement("div",{class:"col-lg-8 col-md-8 col-sm-12 col-12 section-content text-lg-left text-center"},"Ways we have supported charities in the past include hosting virtual exercise events for their community, sponsorship of on-demand videos targeting specific CF needs and offering discounts on bulk purchase licenses."),s.a.createElement("div",{class:"col-lg-4 offset-lg-0 col-md-4 offset-md-0 col-sm-8 offset-sm-2 col-10 offset-1"},s.a.createElement("img",{src:D+"licenses-vertical.png",width:"100%"}))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-6 offset-3 text-center"},s.a.createElement("a",{href:"#contact-form",class:"nav-button blue-btn w-100 m-t-3"},"Get in touch")))))),s.a.createElement("section",{id:"partners"},s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-purple"},"Beam for Sponsors and Partners"),s.a.createElement("div",{class:"section-content"},"We are constantly looking for ways to better what we can offer the CF community and the top way to do this is through content. If you would like to sponsor the creation of content (it can feature your product if you have one) or would like to sponsor a live class then please get in touch. We have different packages available that we'd like to talk through with you. Examples of partners we've worked with are Philips, with whom we created exercise videos for people on more advanced disease using a portable oxygen concentrator, and Breas videos featuring their latest non-invasive ventilator.  ",s.a.createElement("br",null),s.a.createElement("br",null),"We're a dynamic company and always keen to find news ways to collaborate.  If you have an idea of how we could partner with you then please get in touch - we'd love to chat!")))))),s.a.createElement("section",{class:"bg-contrast"},s.a.createElement("div",{class:"container-fluid w-80",id:"contact-form"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-blue"},"Want to work with us?"),s.a.createElement("div",{class:"section-content text-left"},s.a.createElement("div",{className:"col-md-6 ml-auto mr-auto"},s.a.createElement("div",null,s.a.createElement("p",{className:"purplefont font-bold text-center"},"Fill in the form, it's easy!")),s.a.createElement(fs,{location:this.props.location,from:"work",page:"cystic"}))),s.a.createElement("div",{class:"p-t-3 section-content"},"Not a fan of forms? Feel that you need more guidance? Drop us a note at ",s.a.createElement("a",{href:"mailto:hello@beamfeelgood.com"},"hello@beamfeelgood.com"))))))))}}]),a}(s.a.Component),Zp={start_loader:ht},Xp=Object(i.b)((function(e){return{}}),Zp)(Qp),$p=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){return Object(Ro.a)(this,a),t.call(this,e)}return Object(Wo.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"work-with-us"},s.a.createElement("section",{className:"bg-contrast"},s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xl-9 col-lg-10 col-md-12 col-sm-12 col-12"},s.a.createElement("div",{class:"beam-for-clinicians"},"Beam For Clinicians, Partners and Collaborators in Cancer"),s.a.createElement("a",{href:"#clinicians",class:"nav-button thick-orange-btn"},"Health and exercise professionals"),s.a.createElement("a",{href:"#charities",class:"nav-button blue-btn"},"Charities"),s.a.createElement("a",{href:"#partners",class:"nav-button purple-btn"},"Sponsors and partners"),s.a.createElement("div",{class:"helping-physiotherap"},"We work with clinicians, exercise specialists, health organisations and charities to help people with cystic fibrosis get the benefits of specialist exercise.")),s.a.createElement("div",{class:"col-xl-3 col-lg-2 col-md-2 col-sm-2 d-none d-sm-block header-img"},s.a.createElement("img",{class:"img-fluid",src:D+"Sun.png"}))))),s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{className:"col-lg-10 mx-auto"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"w-30 col-lg-6 col-md-12 text-center"},s.a.createElement("p",{className:"font-medium proud-text purplefont"},"Proudly in partnership with\u2026")),s.a.createElement("div",{className:"col-lg-6 col-md-12"},s.a.createElement("img",{src:D+"logos/RM-logo.png"})))))),s.a.createElement("section",{class:"bg-contrast"},s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-blue"},"What is Beam?"),s.a.createElement("div",{class:"section-content"},"Beam is an online platform for people with cancer that offers live and on-demand exercise and educational classes as well as motivational and community support. Our varied classes support people at all life stages are led by specialist instructors who either live with or work in cancer. We currently have an offering for people with prostate cancer and breast cancer but will be expnding in 2021 to other tumour groups.  ",s.a.createElement("br",null),s.a.createElement("br",null),"As well as supporting people with cancer to stay well, we support cancer clinicians to deliver remote care. Beam has been approved by health professionals and is an Orcha approved health app."))))),s.a.createElement("section",{id:"clinicians"},s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-orange"},"Beam for Health and Exercise Professionals"),s.a.createElement("div",{class:"section-content"},"Founded by a clinician and a tech entrepreneur, Beam started in 2016 and is proud to be co-developed with the world leading cancer hospital, The Royal Marsden, and working closely with leading cancer clinicians and professional bodies across the UK. Beam is backed with research-led behaviour change interventions to help people become, and remain active.",s.a.createElement("br",null),s.a.createElement("br",null),"You may notice that Beam has a different feel to other health tech solutions (it\u2019s not so medicalised), this is because our platform has been developed to appeal to your patients (not you!). That being said, we have developed features with you at the forefront.",s.a.createElement("br",null),s.a.createElement("br",null),"Beam offers the opportunity for you to set up your own closed group on the platform, which you can invite your patients to join. In this group, you can host your own live, group classes; record and upload your classes to a private library; engage with your patients on a wall (they can use an alias to remain anonymous) and track activity levels and patient recorded outcome measures.",s.a.createElement("br",null),s.a.createElement("br",null),"The cost for this service is GBP399/month with a minimum of a 3 month contract or GBP 2800/year (that's more than a 40% discount!). These are early bird rates as our clinic functionality is in development which means we are making it better for you and your patients.")),s.a.createElement("div",{class:"col-lg-8 offset-lg-2 bundle-price"},s.a.createElement("h2",null,"Introducing... Beam for Clinics")),s.a.createElement("div",{class:"col-lg-3"},s.a.createElement("div",{class:"icon-title"},"Host a private patient/client group"),s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"Happy_world.png"})),s.a.createElement("div",{class:"icon-desc"},"Communicate with patients/clients in a group or 1-2-1")),s.a.createElement("div",{class:"col-lg-3"},s.a.createElement("div",{class:"icon-title"},"Host live, group exercise classes"),s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"Live_class.png"})),s.a.createElement("div",{class:"icon-desc"},"Teach exercise classes online to engage and connect with patients/clients")),s.a.createElement("div",{class:"col-lg-3"},s.a.createElement("div",{class:"icon-title"},"Private, on-demand exercise video library"),s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"Beam_OnDemand.png"})),s.a.createElement("div",{class:"icon-desc"},"Record and upload your live classes or add your own videos to an on-demand video library")),s.a.createElement("div",{class:"col-lg-3"},s.a.createElement("div",{class:"icon-title"},"Patient/client activity tracking"),s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"data_dashboard.png"})),s.a.createElement("div",{class:"icon-desc"},"With their consent, track your patients/clients activity levels on Beam")),s.a.createElement("div",{class:"col-lg-8 offset-lg-2 bundle-price"},s.a.createElement("h2",null,"Pricing")),s.a.createElement("div",{class:"col-md-12 price-tag-new m-t-40 m-b-40"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-4"},s.a.createElement("div",{class:"card-price1"},s.a.createElement("h3",null,"UK"),s.a.createElement("div",{class:"up-sec d-table mx-auto mt-4"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"\xa3500"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per month ",s.a.createElement("p",{class:"xsmall-text m-0"}," (min 6 month contract)"))),s.a.createElement("div",{class:"login-or"},s.a.createElement("hr",{class:"hr-or"}),s.a.createElement("span",{class:"span-or"},"or")),s.a.createElement("div",{class:"up-sec d-table mx-auto"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"\xa34500"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per year ")))),s.a.createElement("div",{class:"col-md-4"},s.a.createElement("div",{class:"card-price2"},s.a.createElement("h3",null,"US"),s.a.createElement("div",{class:"up-sec d-table mx-auto mt-4"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"$700"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per month ",s.a.createElement("p",{class:"xsmall-text m-0"}," (min 6 month contract)"))),s.a.createElement("div",{class:"login-or"},s.a.createElement("hr",{class:"hr-or"}),s.a.createElement("span",{class:"span-or"},"or")),s.a.createElement("div",{class:"up-sec d-table mx-auto"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"$6000"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per year ")))),s.a.createElement("div",{class:"col-md-4"},s.a.createElement("div",{class:"card-price3"},s.a.createElement("h3",null,"Australia"),s.a.createElement("div",{class:"up-sec d-table mx-auto mt-4"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"$950"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per month ",s.a.createElement("p",{class:"xsmall-text m-0"}," (min 6 month contract)"))),s.a.createElement("div",{class:"login-or"},s.a.createElement("hr",{class:"hr-or"}),s.a.createElement("span",{class:"span-or"},"or")),s.a.createElement("div",{class:"up-sec d-table mx-auto"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"$8500"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per year "))))))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"col-lg-12 section-content font-18 font-italic m-b-20"},"*** Please note that these are early bird rates as we develop our clinic functionality to make it better for you and your patients"),s.a.createElement("div",{class:"section-content"},"We use Zoom to host our online live exercise classes.  The safety and security of the participants in our classes is of paramount importance to us.  ",s.a.createElement("a",{class:"inline-link",href:"https://drive.google.com/file/d/1Arr01A7TunbfnDJQxS4jjZGEp1iC7QbN/view?usp=sharing",target:"_blank"},"Read more here")," about the security measure we take to ensure our classes provide a safe environment for people to exercise in.")),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-6 offset-3 text-center"},s.a.createElement("a",{href:"#contact-form",class:"nav-button thick-orange-btn w-100 m-t-3"},"Get in touch")))))),s.a.createElement("section",{class:"bg-contrast",id:"charities"},s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-blue"},"Beam for Charities"),s.a.createElement("div",{class:"section-content"},"Having collaborated with Cystic Fibrosisi Foundatoin and Kidney Research UK in their respective health condition we understand the immensely important role charities play and we would like to connect with cancer charities globally.",s.a.createElement("br",null),s.a.createElement("br",null),"We know that charities are often looking for ways to unite the community, improve access and equality in care, and improve physical and emotional welling. As such, we are always open to conversations and collaborations with other cancer charities.",s.a.createElement("br",null),s.a.createElement("br",null),"Ways we have supported charities in the past include building new content and sessions for their communities on Beam, hosting virtual exercise events for their community, and offering discounts on bulk purchase licenses."))),s.a.createElement("div",{class:"row align-items-center two-col-info"},s.a.createElement("div",{class:"col-lg-8 col-md-8 col-sm-12 col-12 section-content text-lg-left text-center"},"Normally a person with cancer would have to pay their own monthly subscription to Beam. Although the monthly fee is minimal considering the expert support they are receiving, cost can often be a barrier to patients. Should you wish to purchase licenses for all or some of your community, you can do so at a discounted rate."),s.a.createElement("div",{class:"col-lg-4 offset-lg-0 col-md-4 offset-md-0 col-sm-8 offset-sm-2 col-10 offset-1"},s.a.createElement("img",{src:D+"licenses-vertical.png",width:"100%"}))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-6 offset-3 text-center"},s.a.createElement("a",{href:"#contact-form",class:"nav-button blue-btn w-100 m-t-3"},"Get in touch")))))),s.a.createElement("section",{id:"partners"},s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-purple"},"Beam for Sponsors and Partners"),s.a.createElement("div",{class:"section-content"},"We are constantly looking for ways to better what we can offer the prostate cancer community and the top way to do this is through content. If you would like to sponsor the creation of content (it can feature your product if you have one) or would like to sponsor a live class then please get in touch. We have different packages available that we'd like to talk through with you. Examples of partners we've worked with are Philips, with whom we created ",s.a.createElement("a",{href:"/detail/256/cystic-fibrosis",target:"_blank"},"exercise videos for people on more advanced disease using a portable oxygen concentrator,")," and ",s.a.createElement("a",{href:"/detail/150/cystic-fibrosis",target:"_blank"},"Breas videos")," featuring their latest non-invasive ventilator.  ",s.a.createElement("br",null),s.a.createElement("br",null),"We're a dynamic company and always keen to find news ways to collaborate.  If you have an idea of how we could partner with you then please get in touch - we'd love to chat!")))))),s.a.createElement("section",{class:"bg-contrast"},s.a.createElement("div",{class:"container-fluid w-80",id:"contact-form"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-blue"},"Want to work with us?"),s.a.createElement("div",{class:"section-content text-left"},s.a.createElement("div",{className:"col-md-6 ml-auto mr-auto "},s.a.createElement("div",null,s.a.createElement("p",{className:"purplefont font-bold text-center"},"Fill in the form, it's easy!")),s.a.createElement(fs,{location:this.props.location,from:"work",page:"cancer"}))),s.a.createElement("div",{class:"p-t-3 section-content"},"Not a fan of forms? Feel that you need more guidance? Drop us a note at ",s.a.createElement("a",{href:"mailto:hello@beamfeelgood.com"},"hello@beamfeelgood.com"))))))))}}]),a}(s.a.Component),eu={start_loader:ht},tu=Object(i.b)((function(e){return{}}),eu)($p),au=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){return Object(Ro.a)(this,a),t.call(this,e)}return Object(Wo.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"work-with-us"},s.a.createElement("section",{className:"bg-contrast"},s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xl-9 col-lg-10 col-md-12 col-sm-12 col-12"},s.a.createElement("div",{class:"beam-for-clinicians"},"Beam For Clinicians, Partners and Collaborators in Kidney Disease"),s.a.createElement("a",{href:"#clinicians",class:"nav-button thick-orange-btn"},"Health and exercise professionals"),s.a.createElement("a",{href:"#charities",class:"nav-button blue-btn"},"Charities"),s.a.createElement("a",{href:"#partners",class:"nav-button purple-btn"},"Sponsors and partners"),s.a.createElement("div",{class:"helping-physiotherap"},"We work with clinicians, exercise specialists, health organisations and charities to help people with kidney disease get the benefits of specialist exercise.")),s.a.createElement("div",{class:"col-xl-3 col-lg-2 col-md-2 col-sm-2 d-none d-sm-block header-img"},s.a.createElement("img",{class:"img-fluid",src:D+"Sun.png"}))))),s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-purple"},"Our Friends and Partners"),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 offset-lg-0 col-md-12 offset-md-0 col-sm-8 offset-sm-2 col-12 offset-0"},s.a.createElement("div",{class:"outer-wrapper"},s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/KRUK.png"})),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"landing/NHS-right.png"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"landing/renal_logo_cmyk.png"})),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/BRS-Logo.jpg"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/Bangor_Logo.png"}))))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 offset-lg-0 col-md-12 offset-md-0 col-sm-8 offset-sm-2 col-12 offset-0"},s.a.createElement("div",{class:"outer-wrapper"},s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"landing/LU-logo.png"})),s.a.createElement("div",{class:"wrap"}),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"logos/UoL.png"})),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"landing/LKLT-logo.png"})),s.a.createElement("div",{class:"frame"},s.a.createElement("img",{width:"100%",src:D+"landing/University-Portsmouth.jpg"}))))))))),s.a.createElement("section",{class:"bg-contrast"},s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-blue"},"What is Beam?"),s.a.createElement("div",{class:"section-content"},"Beam is an online platform for people with kidney disease that offers live and on-demand exercise and educational classes as well as motivational and community support. Our varied classes support people at all life stages are led by specialist instructors who either live with or work in kidney disease.  ",s.a.createElement("br",null),s.a.createElement("br",null),"As well as supporting people with kidney disease to stay well, we support kidney clinicians to deliver remote care. Beam has been approved by health professionals and is an Orcha approved health app."))))),s.a.createElement("section",{id:"clinicians"},s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-orange"},"Beam for Health and Exercise Professionals"),s.a.createElement("div",{class:"section-content"},"Founded by a clinician and a tech entrepreneur, Beam started in 2016 and is proud to have collaborated with leading kidney clinicians and professional bodies across the UK. Co-developed with Dr Sharlene Greenwood, Consultant Physiotherapist, we have created content with Kings College Hospital and the UK Kidney Research Consortium (UKKRC) Exercise and Lifestyle Clinical Study Group; and are piloting with Kidney Research UK with centres across the country. Beam is backed with research-led behaviour change interventions to help people become, and remain active.",s.a.createElement("br",null),s.a.createElement("br",null),"You may notice that Beam has a different feel to other health tech solutions (it\u2019s not so medicalised), this is because our platform has been developed to appeal to your patients (not you!). That being said, we have developed features with you at the forefront. ",s.a.createElement("br",null),s.a.createElement("br",null),"Beam offers the opportunity for you to set up your own closed group on the platform, which you can invite your patients to join. In this group, you can host your own live, group classes; record and upload your classes to a private library; engage with your patients on a wall (they can use an alias to remain anonymous) and track activity levels and patient recorded outcome measures.",s.a.createElement("br",null)," ",s.a.createElement("br",null),"The cost for this service is GBP399/month with a minimum of a 3 month contract or GBP 2800/year (that's more than a 40% discount!). These are early bird rates as our clinic functionality is in development which means we are making it better for you and your patients.")),s.a.createElement("div",{class:"col-lg-8 offset-lg-2 bundle-price"},s.a.createElement("h2",null,"Introducing... Beam for Clinics")),s.a.createElement("div",{class:"col-lg-3"},s.a.createElement("div",{class:"icon-title"},"Host a private patient/client group"),s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"Happy_world.png"})),s.a.createElement("div",{class:"icon-desc"},"Communicate with patients/clients in a group or 1-2-1")),s.a.createElement("div",{class:"col-lg-3"},s.a.createElement("div",{class:"icon-title"},"Host live, group exercise classes"),s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"Live_class.png"})),s.a.createElement("div",{class:"icon-desc"},"Teach exercise classes online to engage and connect with patients/clients")),s.a.createElement("div",{class:"col-lg-3"},s.a.createElement("div",{class:"icon-title"},"Private, on-demand exercise video library"),s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"Beam_OnDemand.png"})),s.a.createElement("div",{class:"icon-desc"},"Record and upload your live classes or add your own videos to an on-demand video library")),s.a.createElement("div",{class:"col-lg-3"},s.a.createElement("div",{class:"icon-title"},"Patient/client activity tracking"),s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"data_dashboard.png"})),s.a.createElement("div",{class:"icon-desc"},"With their consent, track your patients/clients activity levels on Beam")),s.a.createElement("div",{class:"col-lg-8 offset-lg-2 bundle-price"},s.a.createElement("h2",null,"Pricing")),s.a.createElement("div",{class:"col-md-12 price-tag-new m-t-40 m-b-40"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-4"},s.a.createElement("div",{class:"card-price1"},s.a.createElement("h3",null,"UK"),s.a.createElement("div",{class:"up-sec d-table mx-auto mt-4"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"\xa3500"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per month ",s.a.createElement("p",{class:"xsmall-text m-0"}," (min 6 month contract)"))),s.a.createElement("div",{class:"login-or"},s.a.createElement("hr",{class:"hr-or"}),s.a.createElement("span",{class:"span-or"},"or")),s.a.createElement("div",{class:"up-sec d-table mx-auto"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"\xa34500"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per year ")))),s.a.createElement("div",{class:"col-md-4"},s.a.createElement("div",{class:"card-price2"},s.a.createElement("h3",null,"US"),s.a.createElement("div",{class:"up-sec d-table mx-auto mt-4"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"$700"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per month ",s.a.createElement("p",{class:"xsmall-text m-0"}," (min 6 month contract)"))),s.a.createElement("div",{class:"login-or"},s.a.createElement("hr",{class:"hr-or"}),s.a.createElement("span",{class:"span-or"},"or")),s.a.createElement("div",{class:"up-sec d-table mx-auto"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"$6000"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per year ")))),s.a.createElement("div",{class:"col-md-4"},s.a.createElement("div",{class:"card-price3"},s.a.createElement("h3",null,"Australia"),s.a.createElement("div",{class:"up-sec d-table mx-auto mt-4"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"$950"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per month ",s.a.createElement("p",{class:"xsmall-text m-0"}," (min 6 month contract)"))),s.a.createElement("div",{class:"login-or"},s.a.createElement("hr",{class:"hr-or"}),s.a.createElement("span",{class:"span-or"},"or")),s.a.createElement("div",{class:"up-sec d-table mx-auto"},s.a.createElement("span",{class:"d-inline-block big-text mr-2"},"$8500"),s.a.createElement("span",{class:"d-inline-block text-left small-text"},"per year "))))))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"col-lg-12 section-content font-18 font-italic m-b-20"},"*** Please note that these are early bird rates as we develop our clinic functionality to make it better for you and your patients"),s.a.createElement("div",{class:"section-content"},"We use Zoom to host our online live exercise classes.  The safety and security of the participants in our classes is of paramount importance to us.  ",s.a.createElement("a",{class:"inline-link",href:"https://drive.google.com/file/d/1Arr01A7TunbfnDJQxS4jjZGEp1iC7QbN/view?usp=sharing",target:"_blank"},"Read more here")," about the security measure we take to ensure our classes provide a safe environment for people to exercise in.")),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-6 offset-3 text-center"},s.a.createElement("a",{href:"#contact-form",class:"nav-button thick-orange-btn w-100 m-t-3"},"Get in touch")))))),s.a.createElement("section",{class:"bg-contrast",id:"charities"},s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-blue"},"Beam for Charities"),s.a.createElement("div",{class:"section-content"},"Having collaborated with Kidney Research UK we understand the immensely important role charities play and we would like to connect with kidney charities globally. ",s.a.createElement("br",null),s.a.createElement("br",null),"We know that charities are often looking for ways to unite the community, improve access and equality in care, and improve physical and emotional welling. As such, we are always open to conversations and collaborations with other kidney charities.",s.a.createElement("br",null),s.a.createElement("br",null),"Ways we have supported charities in the past include building new content and sessions for their communities on Beam, hosting virtual exercise events for their community, and offering discounts on bulk purchase licenses."))),s.a.createElement("div",{class:"row align-items-center two-col-info"},s.a.createElement("div",{class:"col-lg-8 col-md-8 col-sm-12 col-12 section-content text-lg-left text-center"},"Normally a person with kidney disease would have to pay their own monthly subscription to Beam. Although the monthly fee is minimal considering the expert support they are receiving, cost can often be a barrier to patients. Should you wish to purchase licenses for all or some of your community, you can do so at a discounted rate."),s.a.createElement("div",{class:"col-lg-4 offset-lg-0 col-md-4 offset-md-0 col-sm-8 offset-sm-2 col-10 offset-1"},s.a.createElement("img",{src:D+"licenses-vertical.png",width:"100%"}))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-6 offset-3 text-center"},s.a.createElement("a",{href:"#contact-form",class:"nav-button blue-btn w-100 m-t-3"},"Get in touch")))))),s.a.createElement("section",{id:"partners"},s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid w-80"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-purple"},"Beam for Sponsors and Partners"),s.a.createElement("div",{class:"section-content"},"We are constantly looking for ways to better what we can offer the kidney community and the top way to do this is through content. If you would like to sponsor the creation of content (it can feature your product if you have one) or would like to sponsor a live class then please get in touch. We have different packages available that we'd like to talk through with you. Examples of partners we've worked with are Philips, with whom we created ",s.a.createElement("a",{href:"/detail/256/cystic-fibrosis",target:"_blank"},"exercise videos for people on more advanced disease using a portable oxygen concentrator,")," and ",s.a.createElement("a",{href:"/detail/150/cystic-fibrosis",target:"_blank"},"Breas videos")," featuring their latest non-invasive ventilator.  ",s.a.createElement("br",null),s.a.createElement("br",null),"We're a dynamic company and always keen to find news ways to collaborate.  If you have an idea of how we could partner with you then please get in touch - we'd love to chat!")))))),s.a.createElement("section",{class:"bg-contrast"},s.a.createElement("div",{class:"container-fluid w-80",id:"contact-form"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-blue"},"Want to work with us?"),s.a.createElement("div",{class:"section-content text-left"},s.a.createElement("div",{className:"col-md-6 ml-auto mr-auto"},s.a.createElement("div",null,s.a.createElement("p",{className:"purplefont font-bold text-center"},"Fill in the form, it's easy!")),s.a.createElement(fs,{location:this.props.location,from:"work",page:"kidney"}))),s.a.createElement("div",{class:"p-t-3 section-content"},"Not a fan of forms? Feel that you need more guidance? Drop us a note at ",s.a.createElement("a",{href:"mailto:hello@beamfeelgood.com"},"hello@beamfeelgood.com"))))))))}}]),a}(s.a.Component),ou={start_loader:ht},su=Object(i.b)((function(e){return{}}),ou)(au),nu=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){return Object(Ro.a)(this,a),t.call(this,e)}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=_o.replaceChar(this.props.match.params.condition,!0).toLowerCase();if("postnatal"==e||"menopause"==e){var t="/on-demand/"+e;this.props.module_data.liveclass&&(t="/liveClasses/"+e);var a={from:{pathname:t}}.from;this.props.history.push(a)}}},{key:"componentDidUpdate",value:function(){var e=_o.replaceChar(this.props.match.params.condition,!0).toLowerCase();if("postnatal"==e||"menopause"==e||"asthma kids"==e){var t={pathname:"/home"};this.props.history.push(t)}}},{key:"render",value:function(){var e=_o.replaceChar(this.props.match.params.condition,!0);return console.log("workwithus-condition",e),s.a.createElement(s.a.Fragment,null,e==k&&s.a.createElement(Xp,{params:this.props.match.params,history:this.props.history,location:this.props}),"cystic fibrosis youth"==e&&s.a.createElement(Xp,{params:this.props.match.params,history:this.props.history,location:this.props}),e==N&&s.a.createElement(su,{params:this.props.match.params,history:this.props.history,location:this.props}),"prostate cancer"==e&&s.a.createElement(tu,{params:this.props.match.params,history:this.props.history,location:this.props}))}}]),a}(s.a.Component),ru={start_loader:ht},iu=Object(i.b)((function(e){return{module_data:e.header.module_data}}),ru)(nu),lu=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={firstname:"",lastname:"",email:"",message:"",phone:"",submitted:!1,Loading:!1,type:e.from},o.handleChange=o.handleChange.bind(Object(is.a)(o)),o.submitForm=o.submitForm.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,o=t.value;this.setState(Object(rs.a)({},a,o))}},{key:"submitForm",value:function(){var e=this;this.setState({submitted:!0}),this.state.firstname&&this.state.lastname&&this.state.email&&this.state.message&&(this.setState({Loading:!0}),_o.sendFeedback(this.state).then((function(t){e.setState({firstname:"",lastname:"",email:"",message:"",submitted:!1,Loading:!1}),at.b.success(t.message)}),(function(t){e.setState({Loading:!1}),at.b.error(t)})))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("div",{class:"row"},s.a.createElement("label",{class:"control-label font-book label-text col-md-3 col-4 pb-10 pl-0",for:"fname"},"First name*"),s.a.createElement("div",{class:"col-md-9 col-8"},s.a.createElement("input",Object(rs.a)({class:"form-control new-input-style",name:"firstname",type:"text",value:"",onChange:this.handleChange},"value",this.state.firstname))),this.state.submitted&&!this.state.firstname&&s.a.createElement("p",{className:"text-danger"},"Firstname required"))),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("div",{class:"row"},s.a.createElement("label",{class:"control-label font-book label-text col-md-3 col-4 pb-10 pl-0",for:"fname"},"Surname*"),s.a.createElement("div",{class:"col-md-9 col-8"},s.a.createElement("input",Object(rs.a)({class:"form-control new-input-style",name:"lastname",type:"text",value:"",onChange:this.handleChange},"value",this.state.lastname))),this.state.submitted&&!this.state.lastname&&s.a.createElement("p",{className:"text-danger"},"Surname required"))),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("div",{class:"row"},s.a.createElement("label",{class:"control-label font-book label-text col-md-3 col-4 pb-10 pl-0",for:"fname"},"Email address*"),s.a.createElement("div",{class:"col-md-9 col-8"},s.a.createElement("input",Object(rs.a)({class:"form-control new-input-style",name:"email",type:"text",value:"",onChange:this.handleChange},"value",this.state.email))),this.state.submitted&&!this.state.email&&s.a.createElement("p",{className:"text-danger"},"Email required"))),s.a.createElement("div",{class:"col-lg-12 col-md-12 col-sm-12 m-b-10"},s.a.createElement("div",{class:"row"},s.a.createElement("label",{class:"control-label font-book label-text col-md-3 col-4 pb-10 pl-0",for:"fname"},"Phone number"),s.a.createElement("div",{class:"col-md-9 col-8"},s.a.createElement("input",Object(rs.a)({class:"form-control new-input-style",name:"phone",type:"text",value:"",onChange:this.handleChange},"value",this.state.phone)))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 m-b-10 p-l-0"},s.a.createElement("label",{className:"control-label font-book label-text col-sm-12 pb-10 pl-0",htmlFor:"fname"},"What can we help you with?*"),s.a.createElement("textarea",{className:"form-control input-control textarea-message",placeholder:"",rows:"8",name:"message",onChange:this.handleChange,value:this.state.message}),this.state.submitted&&!this.state.message&&s.a.createElement("p",{className:"text-danger"},"Message required"))),s.a.createElement("div",{className:"row header-custom"},s.a.createElement("div",{className:"navbar-text ml-auto mr-auto m-t-10 col-md-4"},s.a.createElement("button",{disabled:this.state.Loading,onClick:this.submitForm,className:"btn btn-purple font-14 font-medium w-100 p-t-10 p-b-10"},"Submit"))))}}]),a}(s.a.Component),cu=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={videoUrl:"https://youtu.be/lRTu1RqiKQM"},o}return Object(Wo.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"kd_landing_page"},s.a.createElement("section",{className:"bg-contrast1"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xl-10 col-lg-10 col-md-10 col-sm-12 col-12 text-center welcome-container mx-auto"},s.a.createElement("div",{className:"welcome-kidney font-bold white-txt"},"Welcome to Kidney Beam"),s.a.createElement("div",{class:"helping-physiotherap white-txt font-qbold col-12 mx-auto"},"Helping people living with kidney disease to feel good through movement, education and wellbeing support."),s.a.createElement(Qo.b,{class:"btn bluebtn m-t-50 font-18 w-45 p-t-10 p-b-10",to:"/register"},"Register for a FREE membership")),s.a.createElement("div",{class:"col-xl-3 col-lg-2 col-md-3 col-sm-3 d-sm-block header-img"},s.a.createElement("img",{class:"img-fluid",src:D+"Sun-landing.png"}))))),s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid fullwidth"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"w-30 col-lg-4 col-md-12 text-center"},s.a.createElement("p",{className:"font-medium proud-text text-abbey"},"Proudly in partnership with\u2026")),s.a.createElement("div",{className:"col-lg-8 col-md-12"},s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3 col-md-3 col-6 pl-0 logo-section"},s.a.createElement("img",{src:D+"landing/KRUK.png"})),s.a.createElement("div",{className:"col-lg-2 col-md-3 col-6 pl-0 logo-section"},s.a.createElement("img",{src:D+"logos/Kidney-Care-UK.jpeg"})),s.a.createElement("div",{className:"col-lg-2 col-md-3 col-6 logo-section"},s.a.createElement("img",{src:D+"logos/NKF.jpeg"})),s.a.createElement("div",{className:"col-lg-2 col-md-3 col-6 logo-section"},s.a.createElement("img",{src:D+"logos/UKKA-Main-Logo.png"})),s.a.createElement("div",{className:"col-lg-3 col-md-3 col-6 pl-0 logo-section"},s.a.createElement("img",{src:D+"landing/NHS-right.png"})))),s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-2 col-md-3 col-6 logo-section align-self-center"},s.a.createElement("img",{src:D+"landing/Bangor_Logo.png"})),s.a.createElement("div",{className:"col-lg-2 col-md-3 col-6 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"landing/UoLlogo.png"})),s.a.createElement("div",{className:"col-lg-3 col-md-3 col-6 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"landing/LKLT-logo.png"})),s.a.createElement("div",{className:"col-lg-2 col-md-3 col-6 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"landing/LU-logo.png"})),s.a.createElement("div",{className:"col-lg-3 col-md-3 col-6 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"landing/University-Portsmouth.jpg"}))))))))),s.a.createElement("section",{className:"bg-contrast2"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"What we offer")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img w-50 mx-auto"},s.a.createElement("img",{src:D+"On-demand.png"})),s.a.createElement("div",{class:"icon-title"},s.a.createElement("span",null,"Progressive "),s.a.createElement("span",{id:"content2"},"Programs")),s.a.createElement(Qo.b,{class:"btn btn-purple m-t-30 p-t-10 p-b-10",to:"programs/kidney-disease"},"Explore"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Programs are curated for people with specific treatment needs, disease severity, or to help you explore different types of exercise for physical and emotional wellbeing.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img w-50 mx-auto"},s.a.createElement("img",{src:D+"Asset-60.png"})),s.a.createElement("div",{class:"icon-title"},"Live and On-demand classes"),s.a.createElement(Qo.b,{class:"btn btn-purple m-t-30 p-t-10 p-b-10",to:"liveClasses/kidney-disease"},"Explore"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Live group classes, or pre-recorded on demand sessions in exercise, education and wellbeing, led by specialists to improve physical and emotional health.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img w-55 mx-auto"},s.a.createElement("img",{src:D+"Character-pair.png"})),s.a.createElement("div",{class:"icon-title"},"Community and Motivational Support"),s.a.createElement(Qo.b,{class:"btn btn-purple m-t-30 p-t-10 p-b-10",to:this.props.is_auth?"account/dashboard/schedule/cystic%20fibrosis":"groups/cystic%20fibrosis"},"Explore"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Either in groups set up by Beam Team, instructors, or clinics, or in a live, interactive class, Beam provides an opportunity for you to meet others on the same journey, ask for advice, celebrate successes and encourage one another."))))),s.a.createElement("section",{class:""},s.a.createElement("div",{class:"container-fluid w-80 p-b-20 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"How do I get started?")),s.a.createElement("div",{class:"section-content font-qmedium"},"Kidney Beam is currently free for people living with kidney disease in the UK. You just need to click \u201csign up\u201d and answer some questions and you\u2019ll automatically be given a free membership.  But don't worry if you don't live in the UK, you can still access all the wonderful resources we offer on Kidney Beam via a monthly subscription.")),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-8 mx-auto text-center"},s.a.createElement(Qo.b,{class:"btn bluebtn w-100 m-t-30 p-t-10 p-b-10",to:"register"},"Sign up")),s.a.createElement("div",{class:"section-content font-qmedium m-t-30"},"We know it\u2019s not always easy to navigate new technology - so if you need some help getting started then we\u2019ve put together some handy guides depending on which device you are using.")),s.a.createElement("div",{className:"row align-items-center h-100"},s.a.createElement("div",{class:"col-lg-4 col-4 icon-img"},s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"phone.png"})),s.a.createElement("a",{class:"btn btn-darkblue btn-guide col-md-10 p-t-10 p-b-10",href:"https://drive.google.com/file/d/1DGmxJNsaIeVTToxYo7S8WsiVytttCObP/view?usp=sharing",target:"_blank"},"Phone guide")),s.a.createElement("div",{class:"col-lg-4 col-4 icon-img"},s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"video.png"})),s.a.createElement("a",{href:"https://drive.google.com/file/d/1aYSpa1I5n7yAcdEjT911-PDot-CRZC3D/view?usp=sharing",target:"_blank",class:"btn btn-orange btn-guide col-md-10 mt-4 p-t-10 p-b-10"},"Tablet guide")),s.a.createElement("div",{class:"col-lg-4 col-4 icon-img"},s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"computer.png"})),s.a.createElement("a",{href:"https://drive.google.com/file/d/1n6jox6UQfp13GeVc2fHNsFo3s_Z8QyGP/view?usp=sharing",target:"_blank",class:"btn btn-purple btn-guide col-md-10 p-t-10 p-b-10"},"Computer guide"))))),s.a.createElement("section",{className:"bg-contrast3 section-2 p-t-80"},s.a.createElement("div",{className:"container-fluid mx-auto w-75 fullwidth"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-4 col-lg-4 text-left p-b-30 video-player-order"},s.a.createElement($o.a,{url:this.state.videoUrl,controls:!1,width:"100%",height:"100%",style:{width:"100%",height:"100%"}})),s.a.createElement("div",{className:"col-12 col-md-8 col-lg-8 pl-5 align-section align-items-center"},s.a.createElement("div",{className:""},s.a.createElement("h4",{className:"m-b-20 text-abbey take-tour font-semibold card-block"},"Take a tour"),s.a.createElement("p",{className:"text-abbey before-start"},"Grab a cuppa and enjoy this full site demonstration as Natasha Wynn, Beam Kidney Studio Manager, talks you through the ins and outs of the Beam Kidney website and tells you all you need to know to get started in this 12 minute demo video...")))))),s.a.createElement("section",{className:"section-3 bg-white p-t-30 p-b-30"},s.a.createElement("div",{className:"container-fluid m-auto w-75 fullwidth"},s.a.createElement("div",{className:"row position-relative"},s.a.createElement("div",{className:"col-12 d-flex align-items-center  col-md-9 col-lg-8 text-left  p-b-30"},s.a.createElement("div",{className:"card cardnew border-0 align-section"},s.a.createElement("div",{className:"card-block"},s.a.createElement("h4",{className:"clearfix text-abbey take-tour font-medium float-left w-100"},"Important safety information")),s.a.createElement("div",{className:"m-t-30"},s.a.createElement("p",{className:"before-start text-abbey "},"Before you start exercising online we ask you to read these top recommendations from the Kidney Beam experts to ensure that you keep safe and feel your best during and after you get physically active.")),s.a.createElement("div",{className:"readnow"},s.a.createElement(Qo.b,{class:"btn btn-darkblue col-md-5 col-8 p-t-10 p-b-10",to:"blogs/safety-information-for-people-living-with-kidney-disease"},"Read Now")))),s.a.createElement("div",{className:"col-3 col-md-3 col-lg-4 text-center align-self-center glass-image"},s.a.createElement("figure",null,s.a.createElement("img",{src:D+"landing/Beam_Character_glass.png",className:"important-asset w-50",alt:""})))))),s.a.createElement("section",{class:"bg-contrast4"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth",id:"contact-form"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 text-center"},s.a.createElement("p",{class:"font-medium take-tour text-abbey"},"Get in touch"),s.a.createElement("p",{class:"font-qmedium text-abbey"},"If you need helping signing up to Beam then feel free to give us a call on"),s.a.createElement("p",{className:"text-abbey font-qbold font-24"},"0208 194 7470"),s.a.createElement("p",{className:"font-qbold text-abbey"},"(note that this number is strictly for help signing up to Beam)"),s.a.createElement("p",{class:"font-qmedium text-abbey m-t-40 section-content"},"If you need help with anything else or want to get in touch for any other reason then complete the form below and someone from the Beam Team will get in touch. Not a fan of forms? Drop us a note to hello@beamfeelgood.com"),s.a.createElement("div",{class:"section-content text-left"},s.a.createElement("div",{className:"col-lg-8 col-md-12 ml-auto mr-auto"},s.a.createElement(lu,{location:this.props.location,from:"kidney"})))))))))}}]),a}(s.a.Component),mu={start_loader:ht},du=Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),mu)(cu),pu=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={videoUrl:"https://youtu.be/fvc0D1ij2Rk"},o}return Object(Wo.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"kd_landing_page cancer_landing_page"},s.a.createElement("section",{className:"bg-contrast1"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xl-10 col-lg-10 col-md-10 col-sm-12 col-12 text-center welcome-container mx-auto"},s.a.createElement("div",{className:"welcome-kidney font-bold white-txt"},"Welcome to Beam Cystic Fibrosis"),s.a.createElement("div",{class:"helping-physiotherap white-txt font-qbold col-11 mx-auto"},"Helping people living with cystic fibrosis to feel good through movement, education and wellbeing support."),s.a.createElement(Qo.b,{class:"btn bluebtn m-t-50 font-18  w-45 p-t-10 p-b-10",to:"/register"},"Get Started")),s.a.createElement("div",{class:"col-xl-3 col-lg-2 col-md-3 col-sm-3 d-sm-block header-img"},s.a.createElement("img",{class:"img-fluid",src:D+"Sun-landing.png"}))))),s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid fullwidth"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"Friends and collaborators...")),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/CFF.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/CFT.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/ACPCF.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/CFA.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/CF_Ireland.jpg",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/CFNZ-logo.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/Brompton.png",className:"w-85"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/NHS-newcastle.png",className:"w-85"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/Philips.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/Breas.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/UofE.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/WoSACF.png",className:"w-65"})))))))),s.a.createElement("section",{className:"bg-contrast2"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"What we offer")),s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium offer-text"},"Here at Beam we aim to create a space that will support and inspire you. We develop sessions designed to improve your physical and emotional wellbeing. Our instructors are specialists working in or living with CF so you can be confident they'll understand your needs.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img w-50 mx-auto"},s.a.createElement("img",{src:D+"On-demand.png"})),s.a.createElement("div",{class:"icon-title"},s.a.createElement("span",null,"Progressive "),s.a.createElement("span",{id:"content2"},"Programs")),s.a.createElement(Qo.b,{class:"btn btn-purple m-t-30 p-t-10 p-b-10",to:"programs/cystic-fibrosis"},"Explore"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Programs are curated for people with specific treatment needs, disease severity, or to help you explore different types of exercise for physical and emotional wellbeing.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img w-50 mx-auto"},s.a.createElement("img",{src:D+"Asset-60.png"})),s.a.createElement("div",{class:"icon-title"},"Live and On-demand classes"),s.a.createElement(Qo.b,{class:"btn btn-purple m-t-30 p-t-10 p-b-10",to:"liveClasses/cystic-fibrosis"},"Explore"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Live group classes, or pre-recorded on demand sessions in exercise, education and wellbeing, led by specialists to improve physical and emotional health.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img w-55 mx-auto"},s.a.createElement("img",{src:D+"Character-pair.png"})),s.a.createElement("div",{class:"icon-title"},"Community and Motivational Support"),s.a.createElement(Qo.b,{class:"btn btn-purple m-t-30 p-t-10 p-b-10",to:this.props.is_auth?"account/dashboard/schedule/cystic%20fibrosis":"groups/cystic%20fibrosis"},"Explore"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Either in groups set up by Beam Team, instructors, or clinics, or in a live, interactive class, Beam provides an opportunity for you to meet others on the same journey, ask for advice, celebrate successes and encourage one another."))))),s.a.createElement("section",{class:""},s.a.createElement("div",{class:"container-fluid w-80 p-b-20 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"How do I get started?")),s.a.createElement("div",{class:"section-content font-qmedium"},"Beam CF has a monthly subscription fee, however we want you to be sure you'll love it before you sign up so we offer a ",s.a.createElement("span",{className:"font-bold"},"2 week free trial.")," Partnership with some CF charities and clinics also means that ",s.a.createElement("span",{className:"font-bold"},"Beam is free for some community members,")," to find out if you're eligible for free access ",s.a.createElement("a",{href:"/blogs/stay-well-with-beam-membership-support",className:"purplefont"},s.a.createElement("u",null,"please read this post"),"."))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-8 mx-auto text-center"},s.a.createElement(Qo.b,{class:"btn bluebtn w-100 m-t-30 p-t-10 p-b-10",to:"register"},"Sign up"))))),s.a.createElement("section",{className:"section-3 bg-white p-t-30 p-b-30"},s.a.createElement("div",{className:"container-fluid m-auto w-75 fullwidth"},s.a.createElement("div",{className:"row position-relative"},s.a.createElement("div",{className:"col-12 d-flex align-items-center  col-md-9 col-lg-8 text-left  p-b-30"},s.a.createElement("div",{className:"card cardnew border-0 align-section"},s.a.createElement("div",{className:"card-block"},s.a.createElement("h4",{className:"clearfix text-abbey take-tour font-medium float-left w-100"},"Important safety information")),s.a.createElement("div",{className:"m-t-30"},s.a.createElement("p",{className:"before-start text-abbey "},"Before you start exercising online we ask you to read these top recommendations to ensure that you keep safe and feel your best during and after you get physically active.")),s.a.createElement("div",{className:"readnow"},s.a.createElement(Qo.b,{class:"btn btn-darkblue col-md-5 col-10 p-t-10 p-b-10 w-80",to:"blogs/safety-info-cystic-fibrosis"},"Read Now")))),s.a.createElement("div",{className:"col-3 col-md-3 col-lg-4 text-center align-self-center glass-image"},s.a.createElement("figure",null,s.a.createElement("img",{src:D+"landing/Beam_Character_glass.png",className:"important-asset w-50",alt:""})))))),s.a.createElement("section",{className:"bg-contrast3 section-2 p-t-80"},s.a.createElement("div",{className:"container-fluid mx-auto w-75 fullwidth"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-4 col-lg-4 text-left p-b-30 video-player-order"},s.a.createElement($o.a,{url:this.state.videoUrl,controls:!1,width:"100%",height:"100%",style:{width:"100%",height:"100%"}})),s.a.createElement("div",{className:"col-12 col-md-8 col-lg-8 pl-5 align-section align-items-center"},s.a.createElement("div",{className:""},s.a.createElement("h4",{className:"m-b-20 text-abbey take-tour font-semibold card-block"},"Take a tour"),s.a.createElement("p",{className:"text-abbey before-start"},"Beam co-founder, Pamela Scarborough talks you through the ins and outs of the website and all you need to know to get started in this short video.")))))),s.a.createElement("section",{class:""},s.a.createElement("div",{class:"container-fluid w-80 p-b-20 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"For clinicians, exercise specialists, charities and partners")),s.a.createElement("div",{class:"section-content font-qmedium"},"Beam has been developed in collaboration with cystic fibrosis clinicians and charities. We strive to be a platform that you can trust and rely on and which will support you to care for your community. To understand more about Beam please head over to our ",s.a.createElement("a",{href:"/partnerships/cystic-fibrosis",className:"purplefont"},s.a.createElement("u",null,"partnerships page"))," - here you can also learn about opportunities to collaborate on research and content, and ways in which we can support you deliver remote care to your patients.")),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-8 mx-auto text-center"},s.a.createElement(Qo.b,{class:"btn bluebtn w-100 m-t-30 m-b-30 p-t-10 p-b-10",to:"partnerships/cystic-fibrosis"},"Partner with us"))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"section-content font-qmedium"},"If you are interested in becoming an instructor on Beam please ",s.a.createElement("a",{href:"https://forms.gle/Md6g5y7ufEetYvfM7",className:"purplefont"},s.a.createElement("u",null,"fill out this form"),".")," We look forward to hearing from you!")))),s.a.createElement("section",{class:"bg-contrast4"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth",id:"contact-form"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 text-center"},s.a.createElement("p",{class:"font-medium take-tour text-abbey"},"Get in touch"),s.a.createElement("p",{class:"font-qmedium text-abbey m-t-40 section-content"},"If you need help signing up, have any questions or want to get in touch for any other reason then please complete the form below. Not a fan of forms? Drop us a note to hello@beamfeelgood.com and someone from the Beam Team will get back to you."),s.a.createElement("div",{class:"section-content text-left"},s.a.createElement("div",{className:"col-lg-8 col-md-12 ml-auto mr-auto"},s.a.createElement(lu,{location:this.props.location,from:"cf"})))))))))}}]),a}(s.a.Component),uu={start_loader:ht},hu=Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),uu)(pu),gu=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={videoUrl:"https://youtu.be/fvc0D1ij2Rk"},o}return Object(Wo.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"kd_landing_page cancer_landing_page"},s.a.createElement("section",{className:"bg-contrast1"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xl-10 col-lg-10 col-md-10 col-sm-12 col-12 text-center welcome-container mx-auto"},s.a.createElement("div",{className:"welcome-kidney font-bold white-txt"},"Welcome to Beam Cystic Fibrosis Youth"),s.a.createElement("div",{class:"helping-physiotherap white-txt font-qbold col-11 mx-auto"},"Helping people living with cystic fibrosis to feel good through movement, education and wellbeing support."),s.a.createElement(Qo.b,{class:"btn bluebtn m-t-50 font-18  w-45 p-t-10 p-b-10",to:"/register"},"Get Started")),s.a.createElement("div",{class:"col-xl-3 col-lg-2 col-md-3 col-sm-3 d-sm-block header-img"},s.a.createElement("img",{class:"img-fluid",src:D+"Sun-landing.png"}))))),s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid fullwidth"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"Friends and collaborators...")),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/CFF.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/CFT.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/ACPCF.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/CFA.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/CF_Ireland.jpg",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/CFNZ-logo.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/Brompton.png",className:"w-85"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/NHS-newcastle.png",className:"w-85"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/Philips.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/Breas.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/UofE.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/WoSACF.png",className:"w-65"})))))))),s.a.createElement("section",{className:"bg-contrast2"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"What we offer")),s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium offer-text"},"Here at Beam we aim to create a space that will support and inspire you. We develop sessions designed to improve your physical and emotional wellbeing. Our instructors are specialists working in or living with CF so you can be confident they'll understand your needs.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img w-50 mx-auto"},s.a.createElement("img",{src:D+"On-demand.png"})),s.a.createElement("div",{class:"icon-title"},s.a.createElement("span",null,"Progressive "),s.a.createElement("span",{id:"content2"},"Programs")),s.a.createElement(Qo.b,{class:"btn btn-purple m-t-30 p-t-10 p-b-10",to:"programs/cystic-fibrosis"},"Explore"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Programs are curated for people with specific treatment needs, disease severity, or to help you explore different types of exercise for physical and emotional wellbeing.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img w-50 mx-auto"},s.a.createElement("img",{src:D+"Asset-60.png"})),s.a.createElement("div",{class:"icon-title"},"Live and On-demand classes"),s.a.createElement(Qo.b,{class:"btn btn-purple m-t-30 p-t-10 p-b-10",to:"liveClasses/cystic-fibrosis"},"Explore"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Live group classes, or pre-recorded on demand sessions in exercise, education and wellbeing, led by specialists to improve physical and emotional health.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img w-55 mx-auto"},s.a.createElement("img",{src:D+"Character-pair.png"})),s.a.createElement("div",{class:"icon-title"},"Community and Motivational Support"),s.a.createElement(Qo.b,{class:"btn btn-purple m-t-30 p-t-10 p-b-10",to:this.props.is_auth?"account/dashboard/schedule/cystic%20fibrosis":"groups/cystic%20fibrosis"},"Explore"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Either in groups set up by Beam Team, instructors, or clinics, or in a live, interactive class, Beam provides an opportunity for you to meet others on the same journey, ask for advice, celebrate successes and encourage one another."))))),s.a.createElement("section",{class:""},s.a.createElement("div",{class:"container-fluid w-80 p-b-20 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"How do I get started?")),s.a.createElement("div",{class:"section-content font-qmedium"},"Beam CF has a monthly subscription fee, however we want you to be sure you'll love it before you sign up so we offer a ",s.a.createElement("span",{className:"font-bold"},"2 week free trial.")," Partnership with some CF charities and clinics also means that ",s.a.createElement("span",{className:"font-bold"},"Beam is free for some community members,")," to find out if you're eligible for free access ",s.a.createElement("a",{href:"/blogs/stay-well-with-beam-membership-support",className:"purplefont"},s.a.createElement("u",null,"please read this post"),"."))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-8 mx-auto text-center"},s.a.createElement(Qo.b,{class:"btn bluebtn w-100 m-t-30 p-t-10 p-b-10",to:"register"},"Sign up"))))),s.a.createElement("section",{className:"section-3 bg-white p-t-30 p-b-30"},s.a.createElement("div",{className:"container-fluid m-auto w-75 fullwidth"},s.a.createElement("div",{className:"row position-relative"},s.a.createElement("div",{className:"col-12 d-flex align-items-center  col-md-9 col-lg-8 text-left  p-b-30"},s.a.createElement("div",{className:"card cardnew border-0 align-section"},s.a.createElement("div",{className:"card-block"},s.a.createElement("h4",{className:"clearfix text-abbey take-tour font-medium float-left w-100"},"Important safety information")),s.a.createElement("div",{className:"m-t-30"},s.a.createElement("p",{className:"before-start text-abbey "},"Before you start exercising online we ask you to read these top recommendations to ensure that you keep safe and feel your best during and after you get physically active.")),s.a.createElement("div",{className:"readnow"},s.a.createElement(Qo.b,{class:"btn btn-darkblue col-md-5 col-10 p-t-10 p-b-10 w-80",to:"blogs/safety-info-cystic-fibrosis"},"Read Now")))),s.a.createElement("div",{className:"col-3 col-md-3 col-lg-4 text-center align-self-center glass-image"},s.a.createElement("figure",null,s.a.createElement("img",{src:D+"landing/Beam_Character_glass.png",className:"important-asset w-50",alt:""})))))),s.a.createElement("section",{className:"bg-contrast3 section-2 p-t-80"},s.a.createElement("div",{className:"container-fluid mx-auto w-75 fullwidth"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-4 col-lg-4 text-left p-b-30 video-player-order"},s.a.createElement($o.a,{url:this.state.videoUrl,controls:!1,width:"100%",height:"100%",style:{width:"100%",height:"100%"}})),s.a.createElement("div",{className:"col-12 col-md-8 col-lg-8 pl-5 align-section align-items-center"},s.a.createElement("div",{className:""},s.a.createElement("h4",{className:"m-b-20 text-abbey take-tour font-semibold card-block"},"Take a tour"),s.a.createElement("p",{className:"text-abbey before-start"},"Beam co-founder, Pamela Scarborough talks you through the ins and outs of the website and all you need to know to get started in this short video.")))))),s.a.createElement("section",{class:""},s.a.createElement("div",{class:"container-fluid w-80 p-b-20 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"For clinicians, exercise specialists, charities and partners")),s.a.createElement("div",{class:"section-content font-qmedium"},"Beam has been developed in collaboration with cystic fibrosis clinicians and charities. We strive to be a platform that you can trust and rely on and which will support you to care for your community. To understand more about Beam please head over to our ",s.a.createElement("a",{href:"/partnerships/cystic-fibrosis",className:"purplefont"},s.a.createElement("u",null,"partnerships page"))," - here you can also learn about opportunities to collaborate on research and content, and ways in which we can support you deliver remote care to your patients.")),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-8 mx-auto text-center"},s.a.createElement(Qo.b,{class:"btn bluebtn w-100 m-t-30 m-b-30 p-t-10 p-b-10",to:"partnerships/cystic-fibrosis"},"Partner with us"))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"section-content font-qmedium"},"If you are interested in becoming an instructor on Beam please ",s.a.createElement("a",{href:"https://forms.gle/Md6g5y7ufEetYvfM7",className:"purplefont"},s.a.createElement("u",null,"fill out this form"),".")," We look forward to hearing from you!")))),s.a.createElement("section",{class:"bg-contrast4"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth",id:"contact-form"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 text-center"},s.a.createElement("p",{class:"font-medium take-tour text-abbey"},"Get in touch"),s.a.createElement("p",{class:"font-qmedium text-abbey m-t-40 section-content"},"If you need help signing up, have any questions or want to get in touch for any other reason then please complete the form below. Not a fan of forms? Drop us a note to hello@beamfeelgood.com and someone from the Beam Team will get back to you."),s.a.createElement("div",{class:"section-content text-left"},s.a.createElement("div",{className:"col-lg-8 col-md-12 ml-auto mr-auto"},s.a.createElement(lu,{location:this.props.location,from:"cf"})))))))))}}]),a}(s.a.Component),fu={start_loader:ht},bu=Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),fu)(gu),vu=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={videoUrl:"https://vimeo.com/427103500"},o}return Object(Wo.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"kd_landing_page cancer_landing_page"},s.a.createElement("section",{className:"bg-contrast1"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xl-10 col-lg-10 col-md-10 col-sm-12 col-12 text-center welcome-container mx-auto"},s.a.createElement("div",{className:"welcome-kidney font-bold white-txt"},"Welcome to Beam Prostate Cancer"),s.a.createElement("div",{class:"helping-physiotherap white-txt font-qbold col-12 mx-auto"},"Helping people living with prostate cancer to feel good through movement, education and wellbeing support."),s.a.createElement(Qo.b,{class:"btn bluebtn m-t-50 font-18  w-45 p-t-10 p-b-10",to:"/register"},"Get Started")),s.a.createElement("div",{class:"col-xl-3 col-lg-2 col-md-3 col-sm-3 d-sm-block header-img"},s.a.createElement("img",{class:"img-fluid",src:D+"Sun-landing.png"}))))),s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid fullwidth"},s.a.createElement("div",{className:"col-lg-8 mx-auto"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"w-30 col-lg-6 col-md-12 text-center"},s.a.createElement("p",{className:"font-medium proud-text text-abbey "},"Proudly in partnership with\u2026")),s.a.createElement("div",{className:"col-lg-6 col-md-12 align-self-center"},s.a.createElement("img",{src:D+"logos/RM-logo.png"})))))),s.a.createElement("section",{className:"bg-contrast2"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"What we offer")),s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium offer-text"},"Here at Beam we aim to create a space that will support and inspire you. We develop sessions designed to improve your physical and emotional wellbeing. Our instructors are specialists working in or living with prostate cancer so you can be confident they'll understand your needs.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"On-demand.png"})),s.a.createElement("div",{class:"icon-title"},s.a.createElement("span",null,"Progressive "),s.a.createElement("span",{id:"content2"},"Programs")),s.a.createElement(Qo.b,{class:"btn btn-purple m-t-30 p-t-10 p-b-10",to:"programs/prostate-cancer"},"Explore"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Programs are curated for people with specific treatment needs, disease severity, or to help you explore different types of exercise for physical and emotional wellbeing.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img w-50 mx-auto"},s.a.createElement("img",{src:D+"Asset-60.png"})),s.a.createElement("div",{class:"icon-title"},"Live and On-demand classes"),s.a.createElement(Qo.b,{class:"btn btn-purple m-t-30 p-t-10 p-b-10",to:"liveClasses/prostate-cancer"},"Explore"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Live group classes, or pre-recorded on demand sessions in exercise, education and wellbeing, led by specialists to improve physical and emotional health.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img w-60 mx-auto"},s.a.createElement("img",{src:D+"Character-pair.png"})),s.a.createElement("div",{class:"icon-title"},"Community and Motivational Support"),s.a.createElement(Qo.b,{class:"btn btn-purple m-t-30 p-t-10 p-b-10",to:this.props.is_auth?"account/dashboard/schedule/cystic%20fibrosis":"groups/cystic%20fibrosis"},"Explore"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Either in groups set up by Beam Team, instructors, or clinics, or in a live, interactive class, Beam provides an opportunity for you to meet others on the same journey, ask for advice, celebrate successes and encourage one another."))))),s.a.createElement("section",{class:""},s.a.createElement("div",{class:"container-fluid w-80 p-b-20 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"How do I get started?")),s.a.createElement("div",{class:"section-content font-qmedium"},"We are currently piloting Beam Prostate Cancer and is currently ",s.a.createElement("span",{className:"font-bold"},"completely free for people living with prostate cancer, their clinicians and carers."),"  This free offer is open until 30th April, 2021.")),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-8 mx-auto text-center"},s.a.createElement(Qo.b,{class:"btn bluebtn w-100 m-t-30 p-t-10 p-b-10",to:"register"},"Sign up"))))),s.a.createElement("section",{className:"section-3 bg-white p-t-30 p-b-30"},s.a.createElement("div",{className:"container-fluid m-auto w-75 fullwidth"},s.a.createElement("div",{className:"row position-relative"},s.a.createElement("div",{className:"col-12 d-flex align-items-center  col-md-9 col-lg-8 text-left  p-b-30"},s.a.createElement("div",{className:"card cardnew border-0 align-section"},s.a.createElement("div",{className:"card-block"},s.a.createElement("h4",{className:"clearfix text-abbey take-tour font-medium float-left w-100"},"Important safety information")),s.a.createElement("div",{className:"m-t-30"},s.a.createElement("p",{className:"before-start text-abbey "},"Before you start exercising online we ask you to read these top recommendations to ensure that you keep safe and feel your best during and after you get physically active.")),s.a.createElement("div",{className:"readnow"},s.a.createElement(Qo.b,{class:"btn btn-darkblue col-md-5 col-10 p-t-10 p-b-10 w-80",to:"blogs/safety-info-prostate-cancer"},"Read Now")))),s.a.createElement("div",{className:"col-3 col-md-3 col-lg-4 text-center align-self-center glass-image"},s.a.createElement("figure",null,s.a.createElement("img",{src:D+"landing/Beam_Character_glass.png",className:"important-asset w-50",alt:""})))))),s.a.createElement("section",{className:"bg-contrast3 section-2 p-t-80"},s.a.createElement("div",{className:"container-fluid mx-auto w-75 fullwidth"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-4 col-lg-4 text-left p-b-30 video-player-order"},s.a.createElement($o.a,{url:this.state.videoUrl,controls:!1,width:"100%",height:"100%",style:{width:"100%",height:"100%"}})),s.a.createElement("div",{className:"col-12 col-md-8 col-lg-8 pl-5 align-section align-items-center"},s.a.createElement("div",{className:""},s.a.createElement("h4",{className:"m-b-20 text-abbey take-tour font-semibold card-block"},"Take a tour"),s.a.createElement("p",{className:"text-abbey before-start"},"Beam co-founder, Pamela Scarborough talks you through the ins and outs of the website and all you need to know to get started in this short video.")))))),s.a.createElement("section",{class:""},s.a.createElement("div",{class:"container-fluid w-80 p-b-20 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"For clinicians, exercise specialists, charities and partners")),s.a.createElement("div",{class:"section-content font-qmedium"},"Beam has been developed in collaboration with prostate cancer clinicians and charities. We strive to be a platform that you can trust and rely on and which will support you to care for your community. To understand more about Beam please head over to our ",s.a.createElement("a",{href:"/partnerships/prostate-cancer",className:"purplefont"},s.a.createElement("u",null,"partnerships page"))," - here you can also learn about opportunities to collaborate on research and content, and ways in which we can support you deliver remote care to your patients.")),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-8 mx-auto text-center"},s.a.createElement(Qo.b,{class:"btn bluebtn w-100 m-t-30 m-b-30 p-t-10 p-b-10",to:"partnerships/prostate-cancer"},"Partner with us"))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"section-content font-qmedium"},"If you are interested in becoming an instructor on Beam please ",s.a.createElement("a",{href:"https://forms.gle/Md6g5y7ufEetYvfM7",className:"purplefont"},s.a.createElement("u",null,"fill out this form."))," We look forward to hearing from you!")))),s.a.createElement("section",{class:"bg-contrast4"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth",id:"contact-form"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 text-center"},s.a.createElement("p",{class:"font-medium take-tour text-abbey"},"Get in touch"),s.a.createElement("p",{class:"font-qmedium text-abbey m-t-40 section-content"},"If you need help signing up, have any questions or want to get in touch for any other reason then please complete the form below. Not a fan of forms? Drop us a note to hello@beamfeelgood.com and someone from the Beam Team will get back to you."),s.a.createElement("div",{class:"section-content text-left"},s.a.createElement("div",{className:"col-lg-8 col-md-12 ml-auto mr-auto"},s.a.createElement(lu,{location:this.props.location,from:"cancer"})))))))))}}]),a}(s.a.Component),Eu={start_loader:ht},yu=Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),Eu)(vu),_u=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={videoUrl:"https://vimeo.com/427103500"},o}return Object(Wo.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"kd_landing_page cancer_landing_page"},s.a.createElement("section",{className:"bg-contrast1"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xl-10 col-lg-10 col-md-10 col-sm-12 col-12 text-center welcome-container mx-auto"},s.a.createElement("div",{className:"welcome-kidney font-bold white-txt"},"Welcome to Beam Asthma Kids"),s.a.createElement("div",{class:"helping-physiotherap white-txt font-qbold col-12 mx-auto"},"Helping young people living with asthma to feel good through movement, education and wellbeing support."),s.a.createElement(Qo.b,{class:"btn bluebtn m-t-50 font-18  w-45 p-t-10 p-b-10",to:"/register"},"Get Started")),s.a.createElement("div",{class:"col-xl-3 col-lg-2 col-md-3 col-sm-3 d-sm-block header-img"},s.a.createElement("img",{class:"img-fluid",src:D+"Sun-landing.png"}))))),s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid fullwidth"},s.a.createElement("div",{className:"col-lg-8 mx-auto"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"w-30 col-lg-6 col-md-12 text-center"},s.a.createElement("p",{className:"font-medium proud-text text-abbey "},"Proudly in partnership with\u2026")),s.a.createElement("div",{className:"col-lg-6 col-md-12 align-self-center"},s.a.createElement("img",{src:D+"logos/RBHH-logo.jpg"})))))),s.a.createElement("section",{className:"bg-contrast2"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"What we offer")),s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium offer-text"},"Here at Beam we aim to create a space that will support and inspire you. We develop sessions designed to improve your physical and emotional wellbeing. Our instructors are specialists working with young people who have asthma so you can be confident they'll understand your needs.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img mx-auto"},s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"On-demand.png"})),s.a.createElement("div",{class:"icon-title"},s.a.createElement("span",null,"Progressive "),s.a.createElement("span",{id:"content2"},"Programs")),s.a.createElement(Qo.b,{class:"btn btn-purple m-t-30 p-t-10 p-b-10",to:"programs/asthma kids"},"Explore"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Programs are curated for people with specific treatment needs, disease severity, or to help you explore different types of exercise for physical and emotional wellbeing.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img mx-auto"},s.a.createElement("div",{class:"icon-img w-50 mx-auto"},s.a.createElement("img",{src:D+"Asset-60.png"})),s.a.createElement("div",{class:"icon-title"},"Live and On-demand classes"),s.a.createElement(Qo.b,{class:"btn btn-purple m-t-30 p-t-10 p-b-10",to:"liveClasses/asthama kids"},"Explore"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Live group classes, or pre-recorded on demand sessions in exercise, education and wellbeing, led by specialists to improve physical and emotional health."))))),s.a.createElement("section",{class:""},s.a.createElement("div",{class:"container-fluid w-80 p-b-20 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"How do I get started?")),s.a.createElement("div",{class:"section-content font-qmedium"},"We are currently piloting Beam Asthma Kids with a specific research group. If this is you and you have a research code please click below to sign up.")),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-8 mx-auto text-center"},s.a.createElement(Qo.b,{class:"btn bluebtn w-100 m-t-30 p-t-10 p-b-10",to:"register"},"Sign up"))))),s.a.createElement("section",{className:"section-3 bg-white p-t-30 p-b-30"},s.a.createElement("div",{className:"container-fluid m-auto w-75 fullwidth"},s.a.createElement("div",{className:"row position-relative"},s.a.createElement("div",{className:"col-12 d-flex align-items-center  col-md-9 col-lg-8 text-left  p-b-30"},s.a.createElement("div",{className:"card cardnew border-0 align-section"},s.a.createElement("div",{className:"card-block"},s.a.createElement("h4",{className:"clearfix text-abbey take-tour font-medium float-left w-100"},"Important safety information")),s.a.createElement("div",{className:"m-t-30"},s.a.createElement("p",{className:"before-start text-abbey "},"Before you start exercising online we ask you to read these top recommendations to ensure that you keep safe and feel your best during and after you get physically active.")),s.a.createElement("div",{className:"readnow"},s.a.createElement(Qo.b,{class:"btn btn-darkblue col-md-5 col-10 p-t-10 p-b-10 w-80",to:"blogs/safety-information-for-kids-with-asthma-on-beam"},"Read Now")))),s.a.createElement("div",{className:"col-3 col-md-3 col-lg-4 text-center align-self-center glass-image"},s.a.createElement("figure",null,s.a.createElement("img",{src:D+"landing/Beam_Character_glass.png",className:"important-asset w-50",alt:""})))))),s.a.createElement("section",{className:"bg-contrast3 section-2 p-t-80"},s.a.createElement("div",{className:"container-fluid mx-auto w-75 fullwidth"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-4 col-lg-4 text-left p-b-30 video-player-order"},s.a.createElement($o.a,{url:this.state.videoUrl,controls:!1,width:"100%",height:"100%",style:{width:"100%",height:"100%"}})),s.a.createElement("div",{className:"col-12 col-md-8 col-lg-8 pl-5 align-section align-items-center"},s.a.createElement("div",{className:""},s.a.createElement("h4",{className:"m-b-20 text-abbey take-tour font-semibold card-block"},"Take a tour"),s.a.createElement("p",{className:"text-abbey before-start"},"Beam co-founder, Pamela Scarborough talks you through the ins and outs of the website and all you need to know to get started in this short video.")))))),s.a.createElement("section",{class:""},s.a.createElement("div",{class:"container-fluid w-80 p-b-20 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"For clinicians, exercise specialists, charities and partners")),s.a.createElement("div",{class:"section-content font-qmedium"},"Beam has been developed in collaboration with asthma clinicians and charities. We strive to be a platform that you can trust and rely on and which will support you to care for your community. To understand more about Beam or to express an interest in working with us in future please click the button below and complete our contact form.")),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-4 offset-lg-4 col-8 mx-auto text-center"},s.a.createElement(Qo.b,{class:"btn bluebtn w-100 m-t-30 m-b-30 p-t-10 p-b-10",to:"#contact-form"},"Contact us"))),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"section-content font-qmedium"},"If you are interested in becoming an instructor on Beam please  ",s.a.createElement("a",{href:"https://forms.gle/Md6g5y7ufEetYvfM7",className:"purplefont"},s.a.createElement("u",null,"fill out this form."))," We look forward to hearing from you!")))),s.a.createElement("section",{class:"bg-contrast4"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth",id:"contact-form"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 text-center"},s.a.createElement("p",{class:"font-medium take-tour text-abbey"},"Get in touch"),s.a.createElement("p",{class:"font-qmedium text-abbey m-t-40 section-content"},"If you need help signing up, have any questions or want to get in touch for any other reason then please complete the form below. Not a fan of forms? Drop us a note to hello@beamfeelgood.com and someone from the Beam Team will get back to you."),s.a.createElement("div",{class:"section-content text-left"},s.a.createElement("div",{className:"col-lg-8 col-md-12 ml-auto mr-auto"},s.a.createElement(lu,{location:this.props.location,from:"asthma"})))))))))}}]),a}(s.a.Component),ku={start_loader:ht},Nu=Object(i.b)((function(e){return{}}),ku)(_u),wu=(a(15),function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={dynamicPageDetails:{},Loading:!1,horizontal_section:[]},o.getDynamicPage=o.getDynamicPage.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.getDynamicPage(),window.scrollTo(0,0)}},{key:"getDynamicPage",value:function(){var e=this;this.setState({Loading:!0});var t=this.props.params.condition;this.props.getDynamicPage(t).then((function(t){if(e.setState({dynamicPageDetails:{}}),t){var a=t.data,o=a[0].data&&a[0].data.horizontal_section;o=o&&o.sort((function(e,t){return parseFloat(e.order_on_page)-parseFloat(t.order_on_page)})),e.setState({dynamicPageDetails:a[0].data,horizontal_section:o,Loading:!1})}}),(function(e){console.log(e)}))}},{key:"imageSection",value:function(e,t){var a=e&&e.horizontal_section_image?e.horizontal_section_image.url:"";return s.a.createElement("figure",{className:"position-relative image-text-blog m-t-20 text-center"},s.a.createElement(hn,{className:"img-fluid",src:a}))}},{key:"bodyTextSection",value:function(e){var t=e.items&&e.items.length>0?e.items[0].general_page_text:"";if(t&&t.length>0)return s.a.createElement("p",{class:"w-80 mx-auto p-t-20 font-21 black-txt p-b-10 font-medium"},Cm.RichText.asText(t))}},{key:"titleSection",value:function(e){var t=e&&e.horizontal_section_title.length>0?e.horizontal_section_title:"";return s.a.createElement(s.a.Fragment,null,Cm.RichText.asText(t))}},{key:"textSection",value:function(e){var t=e&&e.horizontal_section_text.length>0?e.horizontal_section_text:"";return s.a.createElement(s.a.Fragment,null,Cm.RichText.asText(t))}},{key:"colourSelection",value:function(e){return e&&e.horizontal_section_colour.length>0?e.horizontal_section_colour:""}},{key:"colourText",value:function(e){return e&&e.horizontal_section_text_colour?e.horizontal_section_text_colour:""}},{key:"sectionAlignment",value:function(e){return e&&e.horizontal_section_alignment.length>0?e.horizontal_section_alignment:""}},{key:"videoSection",value:function(e){var t=e&&e.horizontal_section_video?e.horizontal_section_video.html:"";return s.a.createElement("div",{class:"text-center justify-content-center p-t-60 ",dangerouslySetInnerHTML:{__html:t}})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"homecontent h-auto "},s.a.createElement("div",{className:"section1-bg teenonbeams_sec"},s.a.createElement("div",{class:"container-fluid mx-auto w-75"},s.a.createElement("div",{class:"section-header text-center p-t-30 p-b-30"},s.a.createElement("h3",{class:"darkblue-text font-37 font-medium"},s.a.createElement(Cm.RichText,{className:"black-txt font-qregular m-b-10",render:this.state.dynamicPageDetails.title})),this.state.dynamicPageDetails.body&&this.state.dynamicPageDetails.body.map((function(t,a){return s.a.createElement(s.a.Fragment,{key:a},t.items.length>0&&"textsection"===t.slice_type&&e.bodyTextSection(t))})))))),s.a.createElement("section",{className:"section1-bg teenonbeams_sec"},s.a.createElement("div",null,this.state.horizontal_section&&this.state.horizontal_section.map((function(t,a){return s.a.createElement(s.a.Fragment,{key:a},s.a.createElement("div",{className:"row p-t-30 p-b-60",style:{backgroundColor:t.horizontal_section_colour&&e.colourSelection(t)}},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"row"},0!==Object.keys(t.horizontal_section_image).length&&s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 p-t-30 text-center float"+t.image_align},t.horizontal_section_image&&e.imageSection(t,a)),0!==Object.keys(t.horizontal_section_video).length&&s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 p-t-30 text-center float"+t.image_align},"video"==t.horizontal_section_video.type&&e.videoSection(t)),0!==Object.keys(t.horizontal_section_video).length&&s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-left m-t-60 float"+t.text_align},s.a.createElement("h4",{style:{color:e.colourText(t,a)},className:"m-b-20 font-24 font-normal font-semibold font-medium"},t.horizontal_section_title&&e.titleSection(t)),s.a.createElement("p",{className:"black-txt font-qregular m-b-10",style:{color:t.horizontal_section_text_colour&&e.colourText(t)}},t.horizontal_section_text&&e.textSection(t))),0!==Object.keys(t.horizontal_section_image).length&&s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-left m-t-60 float"+t.text_align},s.a.createElement("h4",{style:{color:e.colourText(t,a)},className:"m-b-20 font-24 font-normal font-semibold font-medium"},t.horizontal_section_title&&e.titleSection(t)),s.a.createElement("p",{className:"black-txt font-qregular m-b-10",style:{color:t.horizontal_section_text_colour&&e.colourText(t)}},t.horizontal_section_text&&e.textSection(t))),0===Object.keys(t.horizontal_section_image).length&&0===Object.keys(t.horizontal_section_video).length&&s.a.createElement("div",{className:"w-75 mx-auto p-t-30 w-56  mx-auto p-t-80 p-b-80"},s.a.createElement("h4",{style:{textAlign:"center",color:e.colourText(t,a)},className:"m-b-20 font-24 font-normal font-semibold font-medium"},t.horizontal_section_title&&e.titleSection(t)),s.a.createElement("p",{className:"black-txt font-qregular m-b-10 p-t-30",style:{color:t.horizontal_section_text_colour&&e.colourText(t),textAlign:"center"}},t.horizontal_section_text&&e.textSection(t)))))))}))),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null))))}}]),a}(s.a.Component)),Cu={getDynamicPage:It},xu=Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),Cu)(wu),Su=(a(15),function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={mapPageDetails:{},Loading:!1},o.getDynamicPage=o.getDynamicPage.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.getDynamicPage(),window.scrollTo(0,0)}},{key:"getDynamicPage",value:function(){var e=this;this.setState({Loading:!0});var t=this.props.params.condition;this.props.getDynamicPage(t).then((function(t){if(e.setState({mapPageDetails:{}}),t){var a=t.data;e.setState({mapPageDetails:a[0].data,Loading:!1})}}),(function(e){console.log(e)}))}},{key:"bodyTextSection",value:function(e){var t=e.items&&e.items.length>0?e.items[0].general_page_text:"";if(t&&t.length>0)return s.a.createElement("p",{class:"w-80 mx-auto p-t-20 font-21 black-txt p-b-10 font-medium"},Cm.RichText.asText(t))}},{key:"htmlSection",value:function(e){var t=e.items&&e.items.length>0?e.items[0].header_html_code:[],a=e.items&&e.items.length>0?e.items[0].content_html_code:[];return s.a.createElement("div",null,s.a.createElement("div",{dangerouslySetInnerHTML:{__html:Cm.RichText.asText(t)}}),s.a.createElement("div",{dangerouslySetInnerHTML:{__html:Cm.RichText.asText(a)}}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"homecontent h-auto "},s.a.createElement("div",{className:"section1-bg teenonbeams_sec"},s.a.createElement("div",{class:"container-fluid mx-auto w-75"},s.a.createElement("div",{class:"section-header text-center p-t-30 p-b-30"},s.a.createElement("h3",{class:"darkblue-text font-37 font-medium"},s.a.createElement(Cm.RichText,{className:"black-txt font-qregular m-b-10",render:this.state.mapPageDetails.title})),this.state.mapPageDetails.body&&this.state.mapPageDetails.body.map((function(t,a){return s.a.createElement(s.a.Fragment,{key:a},t.items.length>0&&"textsection"===t.slice_type&&e.bodyTextSection(t),t.items.length>0&&"htmlsection"===t.slice_type&&e.htmlSection(t))})))),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null)))))}}]),a}(s.a.Component)),Ou={getDynamicPage:It},Lu=Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),Ou)(Su),Du=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).aliasUrlCondition=function(){var e=JSON.parse(localStorage.getItem("url_alias_condition")),t=o.props.match.params.condition;e&&(up=Eo.a.filter(e,(function(e){if(t in e.value)return e.value[t]})))&&up.length>0&&(up=up[0].value[t]),up&&0==up.length?(o.setState({Loading:!0}),o.getDynamicPage(t)):o.redirectHome()},o.redirectHome=function(){var e=_o.replaceChar(o.props.match.params.condition,!0);if(e!=N&&e!=k&&"prostate cancer"!=e&&"asthma kids"!=e&&"cystic fibrosis youth"!=e){var t={from:{pathname:up}}.from;o.props.history.push(t)}},o.getDynamicPage=function(e){o.props.getDynamicPage(e).then((function(e){e?(o.setState({Loading:!1}),o.setState({dynamicPageDetails:e.data}),!o.state.dynamicPageDetails.length>0&&(up="/home",o.redirectHome())):o.redirectHome()}),(function(e){o.redirectHome(),console.log(e)}))},o.state={dynamicPageDetails:{},Loading:!1},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.aliasUrlCondition()}},{key:"render",value:function(){var e=_o.replaceChar(this.props.match.params.condition,!0);return s.a.createElement(s.a.Fragment,null,e==N&&s.a.createElement(du,{params:this.props.match.params,history:this.props.history,location:this.props}),e==k&&s.a.createElement(hu,{params:this.props.match.params,history:this.props.history,location:this.props}),"cystic fibrosis youth"==e&&s.a.createElement(bu,{params:this.props.match.params,history:this.props.history,location:this.props}),"prostate cancer"==e&&s.a.createElement(yu,{params:this.props.match.params,history:this.props.history,location:this.props}),"asthma kids"==e&&s.a.createElement(Nu,{params:this.props.match.params,history:this.props.history,location:this.props}),this.state.dynamicPageDetails&&this.state.dynamicPageDetails.length>0&&"map-page"!=this.props.match.params.condition&&s.a.createElement(xu,{params:this.props.match.params,history:this.props.history,location:this.props}),this.state.dynamicPageDetails&&this.state.dynamicPageDetails.length>0&&"map-page"==this.props.match.params.condition&&s.a.createElement(Lu,{params:this.props.match.params,history:this.props.history,location:this.props}),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null)))}}]),a}(s.a.Component),Mu={start_loader:ht,getDynamicPage:It},Iu=Object(i.b)((function(e){return{}}),Mu)(Du),ju=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={videoUrl:"https://vimeo.com/427103500"},o}return Object(Wo.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"kd_landing_page cancer_landing_page"},s.a.createElement("section",{className:"bg-contrast1"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xl-10 col-lg-10 col-md-10 col-sm-12 col-12 text-center welcome-container mx-auto"},s.a.createElement("div",{className:"welcome-kidney font-bold white-txt"},"Beam Research Studies"),s.a.createElement("div",{class:"helping-physiotherap white-txt font-qbold col-11 mx-auto"},"Helping researchers deliver online clinical trials and pilots focused on physical movement and wellbeing, for less.")),s.a.createElement("div",{class:"col-xl-3 col-lg-2 col-md-3 col-sm-3 d-sm-block header-img"},s.a.createElement("img",{class:"img-fluid",src:D+"Sun-landing.png"}))))),s.a.createElement("section",null,s.a.createElement("div",{class:"container-fluid fullwidth"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"Our research customers include...")),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 col-6 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/university-of-warwick.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 col-6 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/cff-tomorrow.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 col-6 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/RM-logo.png",className:"w-100"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 col-6 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/UofE.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 col-6 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/cf-john-hopkins.png",className:"w-65"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 col-6 pl-0 logo-section align-self-center"},s.a.createElement("img",{src:D+"landing/NHS-right.png",className:"w-100"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 col-6 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/Brompton.png",className:"w-100"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 col-6 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/KRUK.png",className:"w-100"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 col-6 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/mgh-logo.png",className:"w-100"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 col-6 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/Indiana_University_Health.svg.png",className:"w-100"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 col-6 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/NHS-newcastle.png",className:"w-100"})),s.a.createElement("div",{className:"col-lg-2 col-md-4 col-sm-3 col-6 logo-section align-self-center"},s.a.createElement("img",{src:D+"logos/UAB.png",className:"w-100"})))))))),s.a.createElement("section",{className:"bg-contrast2"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"What Is Beam Research Studies?")),s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium offer-text"},"Beam Research Studies is a digital platform that enables researchers and clinician to deliver end-to-end remote research projects and clinical trials that centre around exercise, health education, and improving wellbeing. It allows researchers to manage participants, upload content, and track data, all in one handy online hub.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"invite-manage.png"})),s.a.createElement("div",{class:"icon-title"},s.a.createElement("span",null,"Invite & manage "),s.a.createElement("span",{id:"content2"},"participants")),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Invite, collect background information on, and communicate with participants, online all in the virtual platform.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"On-demand.png"})),s.a.createElement("div",{class:"icon-title"},"Host live & on-demand classes"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Create your own live and on-demand video exercise or education classes, plus upload supplementary media like PDFs.")),s.a.createElement("div",{class:"col-lg-4 col-md-4 icon-img"},s.a.createElement("div",{class:"icon-img"},s.a.createElement("img",{src:D+"track-outcome.png",className:"m-b-10"})),s.a.createElement("div",{class:"icon-title m-0"},"Track outcome measures & data"),s.a.createElement("div",{class:"icon-desc m-t-20 font-qmedium"},"Collect data via questionnaires, plus track a range of metrics such as class attendance, movement minutes, and outcome measures.")),s.a.createElement("div",{className:"col-lg-12 text-center"},s.a.createElement("a",{class:"btn btn-darkblue m-t-50 font-18  w-45 p-t-10 p-b-10 col-md-4 ",href:"#contact-form"},"Find Out More"))))),s.a.createElement("section",{className:"bg-contrast4 section-2 p-t-80"},s.a.createElement("div",{className:"container-fluid mx-auto w-75 fullwidth"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-8 col-lg-7 pl-5 align-section align-items-center"},s.a.createElement("div",{className:""},s.a.createElement("h4",{className:"m-b-20 text-abbey take-tour font-semibold card-block"},"Widen participation and lower costs"),s.a.createElement("p",{className:"text-abbey before-start"},"Our virtual solution makes it easy to widen participation, as participants can join from anywhere. It also cuts down on travel and facilities expenses, making studies more cost-efficient to run. We can even assist with recruitment from the Beam database in certain scenarios.")),s.a.createElement("a",{class:"btn btn-darkblue font-18 p-t-10 p-b-10 w-45 ",href:"#contact-form"},"Find out more")),s.a.createElement("div",{className:"col-12 col-md-4 col-lg-5 text-left p-b-30 video-player-order align-self-center"},s.a.createElement("figure",{className:"text-left"},s.a.createElement("img",{src:D+"widen-participation.png",className:"img-fluid",alt:""})))))),s.a.createElement("section",{className:"bg-contrast3 section-2 p-t-80"},s.a.createElement("div",{className:"container-fluid mx-auto w-75 fullwidth"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-4 col-lg-5 text-left p-b-30 video-player-order"},s.a.createElement("figure",{className:"text-left"},s.a.createElement("img",{src:D+"Hospital_Chair_Room.png",className:"img-fluid",alt:""}))),s.a.createElement("div",{className:"col-12 col-md-8 col-lg-7 pl-5 align-section align-items-center text-right"},s.a.createElement("div",{className:""},s.a.createElement("h4",{className:"m-b-20 text-abbey take-tour font-semibold card-block"},"Free training and support from our expert team"),s.a.createElement("p",{className:"text-abbey before-start"},"Receive free training and ongoing support on hosting classes, using the platform and tracking data from our highly experienced team of physiotherapists and health specialists.")),s.a.createElement("a",{class:"btn btn-darkblue font-18 p-t-10 p-b-10 w-45 ",href:"#contact-form"},"Find out more"))))),s.a.createElement("section",{class:""},s.a.createElement("div",{class:"container-fluid w-80 p-b-20 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"What our partners say")),s.a.createElement("div",{class:"section-content font-qmedium"},'"Clinical trials testing health and well-being interventions are facing unique challenges during the Covid-19 pandemic. Beam Research has allowed us to deliver existing trials, and begin new trials, that otherwise would not have been possible. The platform is intuitive for both participants and practitioners, offering a great user experience and all the functionality needed to conduct robust clinical research. This has opened our eyes to new ways of working. I have no doubt that online delivery of clinical trials will continue way beyond the end of the pandemic."'),s.a.createElement("p",{className:"font-qbold col-md-6 text-center mx-auto"},"Dr Gordon McGregor, Clinical Exercise Physiologist University Hospitals Coventry & Warwickshire NHS Trust")))),s.a.createElement("section",{class:"bg-contrast2"},s.a.createElement("div",{class:"container-fluid w-80 p-b-20 fullwidth"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12"},s.a.createElement("div",{class:"partner-title-black",id:"clinicians"},"How much does it cost?")),s.a.createElement("div",{class:"section-content font-qmedium"},"Access to Beam Research Studies starts from just ",s.a.createElement("span",{class:"font-bold"},"\xa3399 per month"),", or ",s.a.createElement("span",{class:"font-bold"},"\xa32800 per year")," (minimum 3 month contract). We are more than happy to discuss your requirements - simply ",s.a.createElement("a",{href:"#contact-form",style:{color:"inherit"}},s.a.createElement("u",null,"get in touch"))," to tell us more about your study, and we can put a free quote together for you.")))),s.a.createElement("section",{class:"bg-contrast4"},s.a.createElement("div",{class:"container-fluid w-80 fullwidth",id:"contact-form"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-lg-12 text-center"},s.a.createElement("p",{class:"font-medium take-tour text-abbey"},"Get in touch for a free chat"),s.a.createElement("p",{class:"font-qmedium text-abbey m-t-40 section-content"},"If you'd like a ",s.a.createElement("span",{class:"font-bold"},"free, no-obligation chat")," about how we could help deliver your research study or clinical trial, simply fill in the form below. If you're not a fan of forms, drop us a note to hello@beamfeelgood.com and someone from the Beam Team will get back to you."),s.a.createElement("div",{class:"section-content text-left"},s.a.createElement("div",{className:"col-lg-8 col-md-12 ml-auto mr-auto"},s.a.createElement(lu,{location:this.props.location,from:"rs"})))))))))}}]),a}(s.a.Component),Tu={start_loader:ht},Fu=Object(i.b)((function(e){return{}}),Tu)(ju),Pu=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={faqPosts:"",activeMenu:"general"},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){this.setState({faqPosts:this.props.faq_data[Object.keys(this.props.faq_data)[0]]})}},{key:"render",value:function(){var e=this;console.log("render-faq_data",this.props.faq_data),console.log("state-faq_data",this.state.faqPosts);var t=this,a=Object.keys(this.props.faq_data).sort().reduce((function(e,a){return e[a]=t.props.faq_data[a],e}),{});return console.log("Modified_Object",a),s.a.createElement("section",{class:"container-fluid p-0 faq-page"},s.a.createElement(Zo.Helmet,null,s.a.createElement("title",null,"FAQ",ye),s.a.createElement("meta",{property:"og:title",content:"FAQ"+ye}),s.a.createElement("meta",{property:"og:description",content:qe}),s.a.createElement("meta",{property:"og:image",content:Ye}),s.a.createElement("meta",{property:"og:url",content:window.location.href}),s.a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),s.a.createElement("meta",{property:"og:site_name",content:"Beam"}),s.a.createElement("meta",{name:"twitter:image:alt",content:"Clouds"})),s.a.createElement("div",{class:"bgcolor_blue"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"faq_banner"},s.a.createElement("div",{class:"d-flex faqbg_img "},s.a.createElement("h4",{class:"faq_title"},"FAQ"))))),s.a.createElement("div",{class:"row container mx-auto paddding_10"},s.a.createElement("div",{class:"col-lg-3 d-none d-sm-none d-md-block d-lg-block"},s.a.createElement("ul",{class:"nav nav-pills flex-column faq_tabs mt-3",id:"myTab",role:"tablist"},Object.keys(a).map((function(t,a){var o=_o.toUpperEachWord(t.replace("-"," "));return s.a.createElement("li",{class:"nav-item w-75 ",onClick:function(){e.setState({activeMenu:t})}},s.a.createElement("a",{className:(e.state.activeMenu==t?"active":"")+" nav-link font-medium font-21 m-b-10 pointer"},o))})))),s.a.createElement("div",{className:"col-12 mb-3 d-block d-sm-block d-md-none d-lg-none"},s.a.createElement("div",{className:"dropdown tab-btn w-100"},s.a.createElement("button",{type:"button",className:"btn btn-default font-medium font-14 tab-select dropdown-toggle","data-toggle":"dropdown","data-placement":"bottom"},_o.toUpperEachWord(this.state.activeMenu.replace("-"," ")),s.a.createElement("span",{className:"slt"})),s.a.createElement("div",{className:"dropdown-menu"},Object.keys(a).map((function(t,a){var o=_o.toUpperEachWord(t.replace("-"," "));return s.a.createElement("p",{class:"nav-item w-75 ",className:(e.state.activeMenu==t?"active":"")+" nav-link font-medium font-21 m-b-10 pointer",onClick:function(){e.setState({activeMenu:t})}},o)}))))),s.a.createElement("div",{class:"col-lg-9",id:"accordion"},this.props.faq_data&&this.props.faq_data[this.state.activeMenu]&&this.props.faq_data[this.state.activeMenu].map((function(e,t){return console.log("itemData",e),s.a.createElement("div",{class:"accordion",id:"accordionExample"+t},s.a.createElement("div",{class:"card"},s.a.createElement("div",{class:"card-header",id:"heading"+t},s.a.createElement("h2",{class:"mb-0"},s.a.createElement("button",{class:"btn btnaccor_arrow collapsed",type:"button","data-parent":"#accordion","data-toggle":"collapse","data-target":"#collapseOne"+t,"aria-expanded":"false","aria-controls":"collapseOne"+t},e.page_title[0].text))),s.a.createElement("div",{id:"collapseOne"+t,class:"collapse ","aria-labelledby":"headingOne"+t,"data-parent":"#accordionExample"+t},s.a.createElement("div",{class:"card-body p-0 pt-2"},s.a.createElement($o.a,{url:e.faqs[0].embedded_video&&e.faqs[0].embedded_video.embed_url,controls:!1,width:"100%",height:"250px",style:{width:"100%",height:"100%"}})),s.a.createElement("div",{class:"card-body p-0 pt-2"},s.a.createElement("p",null,e.faqs[0].video_description)))))}))),s.a.createElement("div",{className:"col-12 text-center"},!Object.keys(this.props.faq_data).length&&s.a.createElement(qs,null))))}}]),a}(s.a.Component),Uu={getFaqContent:yt},Ru=Object(i.b)((function(e){return{faq_data:e.header.faq_data}}),Uu)(Pu),Wu=(a(15),function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={teensOnBeamDetails:{},Loading:!1,horizontal_section:[]},o.getTeenOnBeam=o.getTeenOnBeam.bind(Object(is.a)(o)),o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){console.log("myProps",this.props),this.getTeenOnBeam(),window.scrollTo(0,0)}},{key:"getTeenOnBeam",value:function(){var e=this;this.setState({Loading:!0}),this.props.teensOnBeam().then((function(t){if(e.setState({teensOnBeamDetails:{}}),t){var a=t.data,o=a[0].data&&a[0].data.horizontal_section;o=o&&o.sort((function(e,t){return parseFloat(e.order_on_page)-parseFloat(t.order_on_page)})),e.setState({teensOnBeamDetails:a[0].data,horizontal_section:o,Loading:!1}),console.log("teensOnBeamDetails",e.state.teensOnBeamDetails)}}),(function(e){console.log(e)}))}},{key:"imageSection",value:function(e,t){var a=e&&e.horizontal_section_image?e.horizontal_section_image.url:"";return s.a.createElement("figure",{className:"position-relative image-text-blog m-t-20 text-center"},s.a.createElement(hn,{className:"img-fluid",src:a}))}},{key:"bodyTextSection",value:function(e){var t=e.items&&e.items.length>0?e.items[0].general_page_text:"";if(t&&t.length>0)return s.a.createElement("p",{class:"w-80 mx-auto p-t-20 font-21 black-txt p-b-10 font-medium"},Cm.RichText.asText(t))}},{key:"titleSection",value:function(e){var t=e&&e.horizontal_section_title.length>0?e.horizontal_section_title:"";return s.a.createElement(s.a.Fragment,null,Cm.RichText.asText(t))}},{key:"textSection",value:function(e){var t=e&&e.horizontal_section_text.length>0?e.horizontal_section_text:"";return s.a.createElement(s.a.Fragment,null,Cm.RichText.asText(t))}},{key:"colourSelection",value:function(e){return e&&e.horizontal_section_colour.length>0?e.horizontal_section_colour:""}},{key:"colourText",value:function(e){return e&&e.horizontal_section_text_colour?e.horizontal_section_text_colour:""}},{key:"sectionAlignment",value:function(e){return e&&e.horizontal_section_alignment.length>0?e.horizontal_section_alignment:""}},{key:"videoSection",value:function(e){var t=e&&e.horizontal_section_video?e.horizontal_section_video.html:"";return s.a.createElement("div",{class:"text-center justify-content-center iframevideo p-t-40 ",dangerouslySetInnerHTML:{__html:t}})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"homecontent h-auto "},s.a.createElement("div",{className:"section1-bg teenonbeams_sec"},s.a.createElement("div",{class:"container-fluid mx-auto w-75"},s.a.createElement("div",{class:"section-header text-center p-t-30 p-b-30"},s.a.createElement("h3",{class:"darkblue-text font-37 font-medium"},s.a.createElement(Cm.RichText,{className:"black-txt font-qregular m-b-10",render:this.state.teensOnBeamDetails.title})),this.state.teensOnBeamDetails.body&&this.state.teensOnBeamDetails.body.map((function(t,a){return s.a.createElement(s.a.Fragment,{key:a},t.items.length>0&&"textsection"===t.slice_type&&e.bodyTextSection(t))})))))),s.a.createElement("section",{className:"section1-bg teenonbeams_sec"},s.a.createElement("div",null,this.state.horizontal_section&&this.state.horizontal_section.map((function(t,a){return s.a.createElement(s.a.Fragment,{key:a},s.a.createElement("div",{className:"row p-t-30 p-b-60",style:{backgroundColor:t.horizontal_section_colour&&e.colourSelection(t)}},s.a.createElement("div",{className:"container-fluid mx-auto w-75"},s.a.createElement("div",{className:"row"},0!==Object.keys(t.horizontal_section_image).length&&s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 p-t-30 text-center float"+t.image_align},t.horizontal_section_image&&e.imageSection(t,a)),0!==Object.keys(t.horizontal_section_video).length&&s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 p-t-30 text-center float"+t.image_align},"video"==t.horizontal_section_video.type&&e.videoSection(t)),0!==Object.keys(t.horizontal_section_video).length&&s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-left m-t-60 float"+t.text_align},s.a.createElement("h4",{style:{color:e.colourText(t,a)},className:"m-b-20 font-24 font-normal font-semibold font-medium"},t.horizontal_section_title&&e.titleSection(t)),s.a.createElement("p",{className:"black-txt font-qregular m-b-10",style:{color:t.horizontal_section_text_colour&&e.colourText(t)}},t.horizontal_section_text&&e.textSection(t))),0!==Object.keys(t.horizontal_section_image).length&&s.a.createElement("div",{className:"col-12 col-md-6 col-lg-6 text-left m-t-60 float"+t.text_align},s.a.createElement("h4",{style:{color:e.colourText(t,a)},className:"m-b-20 font-24 font-normal font-semibold font-medium"},t.horizontal_section_title&&e.titleSection(t)),s.a.createElement("p",{className:"black-txt font-qregular m-b-10",style:{color:t.horizontal_section_text_colour&&e.colourText(t)}},t.horizontal_section_text&&e.textSection(t))),0===Object.keys(t.horizontal_section_image).length&&0===Object.keys(t.horizontal_section_video).length&&s.a.createElement("div",{className:"w-75 mx-auto p-t-30 w-56  mx-auto p-t-80 p-b-80"},s.a.createElement("h4",{style:{textAlign:"center",color:e.colourText(t,a)},className:"m-b-20 font-24 font-normal font-semibold font-medium"},t.horizontal_section_title&&e.titleSection(t)),s.a.createElement("p",{className:"black-txt font-qregular m-b-10 p-t-30",style:{color:t.horizontal_section_text_colour&&e.colourText(t),textAlign:"center"}},t.horizontal_section_text&&e.textSection(t)))))))}))),s.a.createElement("div",{className:"text-center w-100"},this.state.Loading&&s.a.createElement(qs,null))))}}]),a}(s.a.Component)),Au={teensOnBeam:function(){return function(e,t){var a=tt();return fetch(h+"/api/blog/teensOnBeam",a).then((function(t){return go(t,e)})).then((function(e){return e}))}}},Bu=Object(i.b)((function(e){return{is_auth:e.auth.is_auth}}),Au)(Wu),qu=function(e){Object(Ao.a)(a,e);var t=Object(Bo.a)(a);function a(e){var o;return Object(Ro.a)(this,a),(o=t.call(this,e)).state={splittedToken:"",urlCondition:[]},o}return Object(Wo.a)(a,[{key:"componentDidMount",value:function(){var e=Object(nt.a)(st.a.mark((function e(){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hs.a.pageview(window.location.pathname+window.location.search),this.getIPv4(),e.next=4,this.props.getURLCondition();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=this,t=window.location.search;if(t&&-1!==t.indexOf("token=")){var a=t.split("token=")[1],o={token:a?a.replace("%20"," "):""};localStorage.setItem("userAuthToken",JSON.stringify(o)),this.props.isAuth(),this.setState({splittedToken:a})}this.initializeReactGA(window.location.pathname),this.unlisten=this.props.history.listen((function(t,a){e.initializeReactGA(t.pathname)}))}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"initializeReactGA",value:function(e){hs.a.pageview(e)}},{key:"getIPv4",value:function(){var e=this;Object(nt.a)(st.a.mark((function t(){return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jp.a.v4().then((function(t){e.getIPdetails(t)})).catch((function(t){e.getIPv6()}));case 2:case"end":return t.stop()}}),t)})))()}},{key:"getIPv6",value:function(){var e=this;Object(nt.a)(st.a.mark((function t(){return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jp.a.v6().then((function(t){e.getIPdetails(t)})).catch((function(e){at.b.error("Cannot get your IP address")}));case 2:case"end":return t.stop()}}),t)})))()}},{key:"getIPdetails",value:function(e){var t=this;e&&zp()(e).then((function(e){console.log("CountryCodeFromIP",e.countryCode),t.props.putIPdata(e),t.props.fetchMembershipPlans(e.countryCode)})).catch((function(e){}))}},{key:"RenderHome",value:function(){var e="/home";return this.props.is_auth&&(e="/on-demand/"+this.props.init_condition),this.props.location.pathname.includes("/onDemand")?(e=this.props.location.pathname.replace("/onDemand",""),this.props.location.pathname.includes("/onDemand/list")&&(e=this.props.location.pathname.replace("/onDemand/list","/on-demand"))):this.props.location.pathname.includes("/ondemand")?(e=this.props.location.pathname.replace("/ondemand",""),this.props.location.pathname.includes("/ondemand/list")&&(e=this.props.location.pathname.replace("/ondemand/list","/on-demand"))):this.props.location.pathname.includes("/howitswork")&&(e="/howitworks"),s.a.createElement(qo.b,{to:{pathname:e}})}},{key:"render",value:function(){var e=this;return console.log("window.location.pathname",window.location.pathname),s.a.createElement("div",null,s.a.createElement(at.a,null),["/register","/register/all_done","/register/nice_one"].includes(window.location.pathname)||-1!=window.location.pathname.indexOf("register")?null:s.a.createElement(Rp,{location:this.props.location,history:this.props.history,match:this.props.match}),s.a.createElement("div",{className:("undefined"==typeof Go.Cookies.get("closeBanner")||"false"==Go.Cookies.get("closeBanner"))&&0==this.props.close_banner||("undefined"==typeof Go.Cookies.get("closeBannerKD")||"false"==Go.Cookies.get("closeBannerKD"))&&0==this.props.close_banner_kd?"homepage":"homepage m-t-80"},s.a.createElement("div",null,s.a.createElement(qo.e,null,s.a.createElement(qo.c,{path:"/keepbeaming",component:function(){return window.location="https://mc.beamfeelgood.com/keepbeaming",null}}),s.a.createElement(zo,{exact:!0,path:"/register/all_done",component:jn,splittedToken:this.state.splittedToken}),s.a.createElement(zo,{exact:!0,path:"/register/nice_one",component:kp,splittedToken:this.state.splittedToken}),s.a.createElement(Ko,{exact:!0,path:"/register/:invitationCode?",component:Nr}),s.a.createElement(qo.c,{exact:!0,path:"/home",component:ns}),s.a.createElement(qo.c,{path:"/:beamchallenging(keepbeaming-signup)",component:ns}),s.a.createElement(qo.c,{exact:!0,path:"/about-us",component:vs}),s.a.createElement(qo.c,{exact:!0,path:"/contact-us",component:ys}),s.a.createElement(qo.c,{exact:!0,path:"/liveClass",component:wr}),s.a.createElement(qo.c,{exact:!0,path:"/teens-on-beam",component:Bu}),s.a.createElement(Jo,{exact:!0,path:"/liveClass/:condition/:id",component:Ep}),s.a.createElement(qo.c,{exact:!0,path:"/health",component:Cr}),s.a.createElement(qo.c,{exact:!0,path:"/howitworks",component:Lr}),s.a.createElement(qo.c,{exact:!0,path:"/reset/:token",component:Vp}),s.a.createElement(qo.c,{exact:!0,path:"/forgotpassword",component:Cp}),s.a.createElement(Jo,{exact:!0,path:"/instructor/:id/:condition",component:Xc}),s.a.createElement(qo.c,{path:"/workouts/workout/:id",component:Ti}),s.a.createElement(Jo,{path:"/group/about/:group/:condition",component:Gc}),s.a.createElement(Jo,{path:"/group/wall/:group/:condition",component:Gc}),s.a.createElement(Jo,{path:"/group/feed/:group/:condition",component:Gc}),s.a.createElement(Jo,{path:"/group/members/:group/:condition",component:Gc}),s.a.createElement(Jo,{path:"/group/liveclasses/list/:group/:condition",component:Gc}),s.a.createElement(Jo,{path:"/group/ondemand/list/:group/:condition",component:Gc}),s.a.createElement(Jo,{path:"/detail/:id/:condition/:programid?",component:Ti}),s.a.createElement(Jo,{path:"/on-demand/:condition",component:Qd}),s.a.createElement(Jo,{path:"/liveClasses/:condition",component:Qd}),s.a.createElement(Jo,{path:"/about/:condition",component:Qd}),s.a.createElement(Jo,{path:"/groups/:condition",component:Qd}),s.a.createElement(Jo,{path:"/instructor/:condition",component:Qd}),s.a.createElement(Jo,{path:"/programs/:condition",component:Qd}),s.a.createElement(zo,{exact:!0,path:"/accounts/basicInformation",component:Nm,splittedToken:this.state.splittedToken}),s.a.createElement(zo,{exact:!0,path:"/accounts/myConditions",component:Nm,splittedToken:this.state.splittedToken}),s.a.createElement(zo,{exact:!0,path:"/accounts/membership",component:Nm,splittedToken:this.state.splittedToken}),s.a.createElement(zo,{exact:!0,path:"/accounts/membership/:member",component:Nm,splittedToken:this.state.splittedToken}),s.a.createElement(zo,{exact:!0,path:"/accounts/communicationPreferences",component:Nm,splittedToken:this.state.splittedToken}),s.a.createElement(zo,{exact:!0,path:"/accounts/emergencyInfo",component:Nm,splittedToken:this.state.splittedToken}),s.a.createElement(zo,{exact:!0,path:"/accounts/movementprefs",component:Nm,splittedToken:this.state.splittedToken}),s.a.createElement(qo.c,{exact:!0,path:"/terms",component:wm}),s.a.createElement(qo.c,{exact:!0,path:"/privacy",component:Om}),s.a.createElement(qo.c,{exact:!0,path:"/faq",component:Ru}),s.a.createElement(Jo,{exact:!0,path:"/blog/:type",component:$d}),s.a.createElement(qo.c,{exact:!0,path:"/blogs/:blogName",component:ap}),s.a.createElement(Jo,{exact:!0,path:"/programmes/detail/:condition/:programId",component:fp}),s.a.createElement(Jo,{exact:!0,path:"/help/:type",component:np}),s.a.createElement(zo,{path:"/account/dashboard/schedule/:condition",component:pd,splittedToken:this.state.splittedToken}),s.a.createElement(zo,{path:"/account/dashboard/history/:condition",component:pd,splittedToken:this.state.splittedToken}),s.a.createElement(zo,{path:"/account/dashboard/activity/:condition",component:pd,splittedToken:this.state.splittedToken}),s.a.createElement(zo,{path:"/account/dashboard/programs/:condition",component:pd,splittedToken:this.state.splittedToken}),s.a.createElement(zo,{path:"/account/dashboard/saved/:condition",component:pd,splittedToken:this.state.splittedToken,history:this.props.history}),s.a.createElement(zo,{path:"/account/dashboard/groups/:condition",component:pd,splittedToken:this.state.splittedToken}),s.a.createElement(Jo,{exact:!0,path:"/partnerships/:condition",component:iu}),s.a.createElement(qo.c,{exact:!0,path:"/:research-studies",component:Fu}),s.a.createElement(qo.c,{exact:!0,path:"/:condition",component:Iu}),s.a.createElement(qo.c,{path:"*",render:function(){return e.RenderHome()}})))),["/register","/register/all_done","/register/nice_one"].includes(window.location.pathname)||-1!=window.location.pathname.indexOf("register")&&-1==window.location.pathname.indexOf("/register/nice_one")?null:s.a.createElement(qp,{location:this.props.location,history:this.props.history}))}}]),a}(s.a.Component),Yu={isAuth:rt,putIPdata:function(e){return function(t,a){t({type:d,payload:e})}},fetchMembershipPlans:Rt,getURLCondition:_t},Gu=Object(qo.h)(Object(i.b)((function(e){return{is_auth:e.auth.is_auth,init_condition:e.auth.initial_condition,IP_Details:e.accountinfo.ip_data,close_banner:e.header.close_banner,close_banner_kd:e.header.close_banner_kd,url_condition:e.header.url_condition}}),Yu)(qu));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(901),a(2319),a(2320),a(2321),a(2322),a(2323),a(2324),a(2325),a(2326),a(2327),a(2328),a(2329),a(2330),a(2331),a(2332),a(902);var Vu=Object(l.createStore)(Uo,Object(l.applyMiddleware)(c.a));r.a.render(s.a.createElement(i.a,{store:Vu},s.a.createElement(Qo.a,null,s.a.createElement(Gu,null))),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},479:function(e,t){},942:function(e,t,a){e.exports=a(2333)}},[[942,1,2]]]);
//# sourceMappingURL=main.82787a32.chunk.js.map